[
  {
    "filePath": "D:\\_projts\\frontend\\eslint.config.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\postcss.config.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\scripts\\extract-i18n-strings.js",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'baseName' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 109,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 109,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "baseName"
            },
            "fix": {
              "range": [
                3061,
                3145
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'baseName'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'index' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 112,
        "column": 25,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 112,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "index"
            },
            "fix": {
              "range": [
                3199,
                3206
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'index'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "#!/usr/bin/env node\r\n\r\n/**\r\n * Script to extract hardcoded strings from React components and suggest i18n keys\r\n * Usage: node scripts/extract-i18n-strings.js\r\n */\r\n\r\nimport fs from 'fs';\r\nimport path from 'path';\r\nimport { fileURLToPath } from 'url';\r\n\r\nconst __filename = fileURLToPath(import.meta.url);\r\nconst __dirname = path.dirname(__filename);\r\n\r\n// Pages used in dashboard tabs\r\nconst DASHBOARD_PAGES = [\r\n  'JobSearchPage.jsx',\r\n  'ResumeBuilderPage.jsx',\r\n  'InterviewPage.jsx',\r\n  'NotificationSettingsPage.jsx',\r\n  'AllVideosPage.jsx',\r\n  'SavedVideosPage.jsx',\r\n  'LikedVideosPage.jsx',\r\n  'JobSeekerProfile.jsx',\r\n  'Settings.jsx',\r\n  'JobSeekerDashboard.jsx',\r\n  'Chat.jsx',\r\n  'NotificationsPage.jsx',\r\n  'VideoUpload.jsx',\r\n  'VideoEditPage.jsx',\r\n  'VideosPage.jsx',\r\n  'CareerAdvicePage.jsx',\r\n  'PersonalityTestPage.jsx',\r\n  'SkillGapAnalysisPage.jsx',\r\n  'CandidateSearchPage.jsx',\r\n  'JobPostingForm.jsx',\r\n  'CompanyVideos.jsx',\r\n  'JobsListingPage.jsx',\r\n  'EmployerProfilePage.jsx',\r\n  'EmployerDashboard.jsx',\r\n  'HelpPageLinks.jsx',\r\n  'AdminTabs.jsx',\r\n  'admin/UserManagementPage.jsx',\r\n  'admin/ContentModerationPage.jsx',\r\n  'admin/BlogListPage.jsx',\r\n  'admin/BlogEditorPage.jsx',\r\n  'admin/AdminAnalyticsPage.jsx',\r\n  'admin/SystemSettingsPage.jsx',\r\n  'admin/AdminJobsPage.jsx',\r\n  'admin/AdminVideosPage.jsx',\r\n  'adminDashboard.jsx'\r\n];\r\n\r\nconst PAGES_DIR = path.join(__dirname, '..', 'src', 'pages');\r\n\r\n// Regex patterns to find hardcoded strings\r\nconst STRING_PATTERNS = [\r\n  // JSX text content\r\n  /<[^>]+>([^<>{]+)</g,\r\n  // String literals in JSX attributes\r\n  /(?:placeholder|title|label|alt|aria-label)=[\"']([^\"']+)[\"']/g,\r\n  // Template literals with simple text\r\n  /`([^`${}]+)`/g,\r\n  // Simple string literals (cautious)\r\n  /[\"']([A-Z][a-zA-Z\\s]{3,})[\"']/g\r\n];\r\n\r\nfunction extractStringsFromFile(filePath) {\r\n  try {\r\n    const content = fs.readFileSync(filePath, 'utf-8');\r\n    const fileName = path.basename(filePath, '.jsx');\r\n    const strings = new Set();\r\n\r\n    // Check if file already uses i18n\r\n    const usesI18n = content.includes('useTranslation') || content.includes('t(');\r\n\r\n    STRING_PATTERNS.forEach(pattern => {\r\n      let match;\r\n      while ((match = pattern.exec(content)) !== null) {\r\n        const str = match[1]?.trim();\r\n        if (str && str.length > 2 && !str.includes('className') && !str.includes('style')) {\r\n          // Filter out likely variable names and code\r\n          if (/^[A-Z]/.test(str) || /\\s/.test(str)) {\r\n            strings.add(str);\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    return {\r\n      fileName,\r\n      filePath,\r\n      usesI18n,\r\n      strings: Array.from(strings).filter(s => \r\n        s.length > 3 && \r\n        !/^\\d+$/.test(s) && \r\n        !s.includes('()') &&\r\n        !s.includes('className') &&\r\n        !/^[a-z]+$/.test(s) // ignore single lowercase words\r\n      )\r\n    };\r\n  } catch (error) {\r\n    console.error(`Error reading ${filePath}:`, error.message);\r\n    return null;\r\n  }\r\n}\r\n\r\nfunction generateTranslationKeys(fileName, strings) {\r\n  const baseName = fileName.replace(/Page|Dashboard|Profile|Form/g, '').toLowerCase();\r\n  const translations = {};\r\n\r\n  strings.forEach((str, index) => {\r\n    const key = str\r\n      .toLowerCase()\r\n      .replace(/[^a-z0-9\\s]/g, '')\r\n      .trim()\r\n      .split(/\\s+/)\r\n      .slice(0, 3)\r\n      .join('_');\r\n    \r\n    translations[key] = str;\r\n  });\r\n\r\n  return translations;\r\n}\r\n\r\nfunction main() {\r\n  console.log('ðŸ” Scanning dashboard pages for hardcoded strings...\\n');\r\n\r\n  const results = [];\r\n\r\n  DASHBOARD_PAGES.forEach(pageName => {\r\n    const filePath = path.join(PAGES_DIR, pageName);\r\n    \r\n    if (!fs.existsSync(filePath)) {\r\n      console.log(`âš ï¸  ${pageName} - Not found`);\r\n      return;\r\n    }\r\n\r\n    const result = extractStringsFromFile(filePath);\r\n    if (result && result.strings.length > 0) {\r\n      results.push(result);\r\n    }\r\n  });\r\n\r\n  // Generate report\r\n  console.log('\\nðŸ“Š Internationalization Status Report\\n');\r\n  console.log('='.repeat(80));\r\n\r\n  results.forEach(({ fileName, usesI18n, strings }) => {\r\n    const status = usesI18n ? 'âœ… Uses i18n' : 'âŒ Needs i18n';\r\n    console.log(`\\n${status} - ${fileName}`);\r\n    \r\n    if (!usesI18n && strings.length > 0) {\r\n      console.log(`  Found ${strings.length} potential strings to translate:`);\r\n      strings.slice(0, 5).forEach(str => {\r\n        console.log(`    - \"${str}\"`);\r\n      });\r\n      if (strings.length > 5) {\r\n        console.log(`    ... and ${strings.length - 5} more`);\r\n      }\r\n    }\r\n  });\r\n\r\n  // Generate translation file suggestions\r\n  console.log('\\n\\nðŸ“ Suggested Translation Keys\\n');\r\n  console.log('='.repeat(80));\r\n\r\n  const allTranslations = {};\r\n\r\n  results.forEach(({ fileName, strings, usesI18n }) => {\r\n    if (!usesI18n && strings.length > 0) {\r\n      const translations = generateTranslationKeys(fileName, strings);\r\n      const namespace = fileName.toLowerCase().replace('.jsx', '');\r\n      allTranslations[namespace] = translations;\r\n    }\r\n  });\r\n\r\n  // Save to file\r\n  const outputPath = path.join(__dirname, 'i18n-extraction-results.json');\r\n  fs.writeFileSync(outputPath, JSON.stringify(allTranslations, null, 2));\r\n  \r\n  console.log(`\\nâœ… Results saved to: ${outputPath}`);\r\n  console.log('\\nNext steps:');\r\n  console.log('1. Review the extracted strings');\r\n  console.log('2. Add them to your locale files');\r\n  console.log('3. Update components to use t() function');\r\n}\r\n\r\nmain();\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\scripts\\merge_i18n_batch.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\App.js",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from \"react\";\r\nimport { ThemeProvider } from \"./hooks/ThemeContext\";\r\nimport Header from \"./components/Header\";\r\nimport HomePage from \"./pages/MorePage\";\r\n\r\nfunction App() {\r\n  return (\r\n    <ThemeProvider>\r\n      <Header />\r\n      <HomePage />\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\App.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'motion' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 54,
        "column": 27,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 54,
        "endColumn": 33,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "motion"
            },
            "fix": {
              "range": [
                2238,
                2246
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'motion'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'cld' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 130,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 130,
        "endColumn": 10,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "cld"
            },
            "fix": {
              "range": [
                5831,
                5931
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'cld'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'user' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 137,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 137,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "user"
            },
            "fix": {
              "range": [
                5963,
                5968
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'user'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React from \"react\";\r\nimport { Routes, Route, Navigate } from \"react-router-dom\";\r\nimport { Box, CircularProgress } from \"@mui/material\";\r\nimport { Help } from \"@mui/icons-material\";\r\n\r\n// Pages\r\nimport ExploreJobs from \"./pages/ExploreJobs\";\r\nimport MyApplications from \"./pages/MyApplications\";\r\n\r\n\r\nimport DashboardJobSeeker from \"./pages/DashboardJobSeeker.jsx\";\r\nimport JobSearchPage from \"./pages/JobSearchPage\";\r\nimport CandidateSearchPage from \"./pages/CandidateSearchPage\";\r\nimport ResumeBuilderPage from \"./pages/ResumeBuilderPage\";\r\nimport VideoEditPage from \"./pages/VideoEditPage\";\r\nimport VideoGridPage from \"./pages/VideoGridPage\";\r\nimport VideoPlayerPage from \"./pages/VideoPlayerPage\";\r\n\r\n// AI Pages\r\nimport AIAnalysisPage from \"./pages/AIAnalysisPage\";\r\nimport AIInterviewPage from \"./pages/AIInterviewPage\";\r\nimport AIMatchingPage from \"./pages/AIMatchingPage\";\r\n\r\n// Template Pages\r\nimport TemplateManagementPage from \"./pages/TemplateManagementPage\";\r\nimport TemplateInterviewPage from \"./pages/TemplateInterviewPage\";\r\nimport TemplateAnalysisPage from \"./pages/TemplateAnalysisPage\";\r\n\r\nimport JobPostingForm from \"./pages/JobPostingForm\";\r\nimport VideoUpload from \"./pages/VideoUpload\";\r\n\r\nimport JobDetailsPage from \"./pages/JobDetailsPage\";\r\n\r\nimport AdminDashboard from \"./pages/adminDashboard\";\r\nimport FeedPage from \"./pages/FeedPage\";\r\nimport TalentExplore from \"./pages/TalentExplore\";\r\n\r\nimport EmployerViedoExamples from \"./pages/EmployerViedoExamples\";\r\nimport JobseekerVideoExamples from \"./pages/JobseekerVideoExamples\";\r\nimport About from \"./pages/About/About\";\r\nimport FAQs from \"./pages/FAQ/FAQs\";\r\nimport VideoFeed from \"./pages/VideoFeed\";\r\nimport JobseekerVideoFeed from \"./pages/JobseekerVideoFeed\";\r\nimport Chat from \"./pages/Chat\";\r\n\r\nimport JobVideos from \"./pages/JobVideos\";\r\nimport CompanyVideos from \"./pages/CompanyVideos\";\r\nimport Settings from \"./pages/Settings\";\r\nimport JobSeekerDashboard from \"./pages/JobSeekerDashboard\";\r\nimport EmployerDashboard from \"./pages/EmployerDashboard\";\r\nimport TranslationTest from \"./pages/TranslationTest\";\r\nimport UnauthorizedPage from \"./pages/Unauthorized\";\r\nimport Linkedincallback from \"./pages/Linkedincallback\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport ProtectedRoute from \"./components/ProtectedRoute\";\r\nimport { LinearProgress } from \"@mui/material\";\r\nimport { Suspense } from \"react\";\r\n\r\n// Legal pages\r\nimport PrivacyPolicy from \"./pages/legal/PrivacyPolicy\";\r\nimport TermsOfService from \"./pages/legal/TermsOfService\";\r\nimport CookiePolicy from \"./pages/legal/CookiePolicy\";\r\nimport CommunityGuidelines from \"./pages/legal/CommunityGuidelines\";\r\nimport CopyrightAndIPTerms from \"./pages/legal/CopyrightAndIPTerms\";\r\nimport EULA from \"./pages/legal/EULA\";\r\n\r\n// Components\r\nimport CookieConsentBanner from \"./components/CookieConsentBanner\";\r\n\r\nimport NotificationsPage from \"./pages/NotificationsPage\";\r\nimport { useAuth } from \"./contexts/AuthContext\";\r\nimport { Cloudinary } from \"@cloudinary/url-gen\";\r\n\r\nimport JobSeekerProfile from \"./pages/JobSeekerProfile\";\r\nimport EditJobSeekerProfile from \"./pages/EditJobSeekerProfile\";\r\nimport EmployerProfilePage from \"./pages/EmployerProfilePage\";\r\nimport JobsListingPage from \"./pages/JobsListingPage\";\r\nimport PostJobPage from \"./pages/PostJobPage\";\r\nimport { VideoProvider } from \"./contexts/VideoContext\";\r\nimport { SocketProvider } from \"./contexts/SocketContext\";\r\nimport { NotificationProvider } from \"./contexts/NotificationContext\";\r\nimport VideosPage from \"./pages/VideosPage\";\r\nimport VideoFeedViewer from \"./pages/VideoFeedViewer\";\r\nimport EditEmployerProfilePage from \"./pages/EditEmployerProfilePage\";\r\nimport EditVideoPage from \"./pages/EditeVideoPage\";\r\nimport ForgotPasswordPage from \"./pages/ForgotPasswordPage\";\r\nimport ResetPasswordPage from \"./pages/ResetPasswordPage\";\r\nimport JobseekerProfileView from \"./pages/JobseekerProfileView\";\r\nimport EmployerProfileView from \"./pages/EmployerProfileView\";\r\nimport ProfileViewPage from \"./pages/ProfileViewPage\";\r\nimport AllVideosPage from \"./pages/AllVideosPage\";\r\nimport Home from \"./pages/home/home.jsx\";\r\nimport Videos from \"./pages/Videos\";\r\nimport HowItWorksPage from \"./pages/HowItWorks\";\r\nimport AuthPage from \"./pages/AuthPage\";\r\n\r\nimport Pricing from \"./pages/PricingPage\";\r\nimport HelpPageLinks from \"./pages/HelpPageLinks\";\r\nimport CustomerSupportPage from \"./pages/CustomerSupportPage\";\r\nimport ContactPage from \"./pages/ContactPage\";\r\nimport CreditsPage from \"./pages/CreditsPage\";\r\nimport EmployerTabs from \"./pages/EmployerTabs\";\r\nimport JobseekerTabs from \"./pages/JobseekerTabs\";\r\nimport AdminTabs from \"./pages/AdminTabs\";\r\nimport JobseekerPointsPage from \"./pages/JobseekerPointsPage\";\r\nimport PointsSettingsPage from \"./pages/admin/PointsSettingsPage\";\r\nimport UsersPointsPage from \"./pages/admin/UsersPointsPage\";\r\n\r\n// New enhanced pages\r\nimport InterviewPage from \"./pages/InterviewPage\";\r\nimport SavedVideosPage from \"./pages/SavedVideosPage\";\r\nimport LikedVideosPage from \"./pages/LikedVideosPage\";\r\nimport NotificationSettingsPage from \"./pages/NotificationSettingsPage\";\r\nimport AnalyticsJobseeker from \"./pages/AnalyticsJobseeker\";\r\nimport AnalyticsEmployer from \"./pages/AnalyticsEmployer\";\r\nimport AnalyticsAdmin from \"./pages/AnalyticsAdmin\";\r\nimport \"./i18n/index.js\"; // Import i18n configuration\r\nimport SharePage from \"./pages/SharePage\"; // Import the new SharePage component\r\nimport SavedBlogsPage from \"./pages/SavedBlogsPage\";\r\nimport VideosFeed from \"./pages/VideosFeed\"; // Import the new SharePage component\r\n\r\n// Blog Pages\r\nimport PublicBlogPage from \"./pages/PublicBlogPage\";\r\nimport BlogDetailPage from \"./pages/BlogDetailPage\";\r\n\r\n\r\n\r\n// Initialize once (put this in a separate config file)\r\nconst cld = new Cloudinary({\r\n  cloud: {\r\n    cloudName: \"djfvfxrsh\" // Replace with yours\r\n  }\r\n});\r\n\r\nfunction App() {\r\n  const { user, role, loading } = useAuth();\r\n  const location = useLocation();\r\n\r\n  // Handle RTL direction and language attributes\r\n  React.useEffect(() => {\r\n    const currentLang = localStorage.getItem('i18nextLng') || 'en';\r\n    const html = document.documentElement;\r\n    \r\n    // Set language attribute\r\n    html.setAttribute('lang', currentLang);\r\n    \r\n    // Set direction for Arabic with proper font shaping\r\n    if (currentLang === 'ar') {\r\n      html.setAttribute('dir', 'rtl');\r\n      document.body.classList.add('font-arabic', 'text-arabic', 'arabic-shaped');\r\n      // Force browser to apply Arabic shaping\r\n      document.body.style.fontFeatureSettings = '\"ccmp\", \"locl\", \"calt\", \"liga\", \"clig\"';\r\n      document.body.style.fontFamily = \"'Cairo', 'Almarai', 'Tajawal', 'Tahoma', sans-serif\";\r\n    } else {\r\n      html.setAttribute('dir', 'ltr');\r\n      document.body.classList.remove('font-arabic', 'text-arabic', 'arabic-shaped');\r\n      document.body.style.fontFeatureSettings = '';\r\n      document.body.style.fontFamily = '';\r\n    }\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          height: \"100vh\"\r\n        }}\r\n      >\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <AnimatePresence mode=\"wait\">\r\n      <Suspense fallback={<LinearProgress />}>\r\n  <SocketProvider>\r\n  <NotificationProvider>\r\n  <VideoProvider>\r\n          <Routes location={location} key={location.pathname}>\r\n            {/* Public Routes */}\r\n         \r\n            <Route path=\"/\" element={<Home />} />\r\n            <Route path=\"/share\" element={<SharePage />} /> {/* Add route for SharePage */}\r\n            <Route path=\"/saved\" element={<SavedBlogsPage />} />\r\n            <Route path=\"/login\" element={<AuthPage initialTab={0} />} />\r\n            <Route path=\"/register\" element={<AuthPage initialTab={1} />} />\r\n            <Route path=\"/translation-test\" element={<TranslationTest />} />\r\n\r\n            <Route path=\"/about\" element={<About />} />\r\n            <Route path=\"/FAQs\" element={<FAQs />} />\r\n            <Route path=\"/contact\" element={<ContactPage />} />\r\n            <Route path=\"/credits\" element={<CreditsPage />} />\r\n            <Route path=\"/customer-support\" element={<CustomerSupportPage />} />\r\n            \r\n            {/* Blog Routes */}\r\n            <Route path=\"/blog\" element={<PublicBlogPage />} />\r\n            <Route path=\"/blog/:id\" element={<BlogDetailPage />} />\r\n            \r\n            \r\n            <Route path=\"/how-it-works\" element={<HowItWorksPage />} />\r\n            <Route path=\"/unauthorized\" element={<UnauthorizedPage />} />\r\n            <Route path=\"/auth/linkedin/callback\" element={<Linkedincallback />} />\r\n     \r\n            <Route path=\"/pricing\" element={<Pricing />} />\r\n            <Route path=\"/resume-builder\" element={<ResumeBuilderPage />} />\r\n            <Route path=\"/video-edit/:id?\" element={<VideoEditPage />} />\r\n            <Route path=\"/videos-Feed\" element={<VideosFeed />} />\r\n            \r\n            <Route path=\"/forgot-password\" element={<ForgotPasswordPage />} />\r\n            <Route path=\"/reset-password/:oobCode\" element={<ResetPasswordPage />} />\r\n            <Route path=\"/jobseeker-profile/:userId\" element={<JobseekerProfileView />} />\r\n            <Route path=\"/employer-profile/:userId\" element={<EmployerProfileView />} />\r\n            <Route path=\"/profile/:userId\" element={<ProfileViewPage />} />\r\n            <Route path=\"/video-feed/:vid?\" element={<VideoFeed />} />\r\n            <Route path=\"/jobseeker-video-feed/:vid?\" element={<JobseekerVideoFeed />} />\r\n            <Route path=\"/videos/:id\" element={<Videos />} />\r\n            <Route path=\"/videos/:pagetype\" element={<AllVideosPage />} />\r\n            <Route path=\"/videos\" element={<Videos />} />\r\n            <Route path=\"/video-player/:id\" element={<VideoFeedViewer />} />\r\n            <Route path=\"/video-player\" element={<VideoPlayerPage />} />\r\n\r\n            {/* Legal Routes */}\r\n            <Route path=\"/privacy-policy\" element={<PrivacyPolicy />} />\r\n            <Route path=\"/terms-of-service\" element={<TermsOfService />} />\r\n            <Route path=\"/cookie-policy\" element={<CookiePolicy />} />\r\n            <Route path=\"/community-guidelines\" element={<CommunityGuidelines />} />\r\n            <Route path=\"/copyright-ip-terms\" element={<CopyrightAndIPTerms />} />\r\n            <Route path=\"/eula\" element={<EULA />} />\r\n\r\n            {/* Enhanced Tab Routes - Main entry points after login */}\r\n            <Route path=\"/employer-tabs\" element={<EmployerTabs />} />\r\n            <Route path=\"/jobseeker-tabs\" element={<JobseekerTabs />} />\r\n            <Route path=\"/admin-tabs\" element={<AdminTabs />} />\r\n\r\n            {/* Private Routes */}\r\n            <Route element={<ProtectedRoute />}>\r\n              \r\n              <Route path=\"/chat\" element={<Chat />} />\r\n              <Route path=\"/chat/:conversationId\" element={<Chat />} />\r\n              <Route path=\"/settings\" element={<Settings />} />\r\n              <Route path=\"/notifications\" element={<NotificationsPage />} />\r\n              <Route path=\"/notification-settings\" element={<NotificationSettingsPage />} />\r\n              \r\n              {/* Interview and Video Call Routes */}\r\n              <Route path=\"/interviews\" element={<InterviewPage />} />\r\n              <Route path=\"/interviews/:id\" element={<InterviewPage />} />\r\n              \r\n              {/* Video Management Routes */}\r\n              <Route path=\"/saved-videos\" element={<SavedVideosPage />} />\r\n              <Route path=\"/liked-videos\" element={<LikedVideosPage />} />\r\n\r\n              {/* AI Features Routes */}\r\n              <Route path=\"/ai-analysis\" element={<AIAnalysisPage />} />\r\n              <Route path=\"/ai-interview\" element={<AIInterviewPage />} />\r\n              <Route path=\"/ai-matching\" element={<AIMatchingPage />} />\r\n\r\n              {/* Template Management Routes */}\r\n              <Route path=\"/template-management\" element={<TemplateManagementPage />} />\r\n              <Route path=\"/template-interview\" element={<TemplateInterviewPage />} />\r\n              <Route path=\"/template-analysis\" element={<TemplateAnalysisPage />} />\r\n              <Route path=\"/templates\" element={<TemplateManagementPage />} />\r\n              <Route path=\"/templates/:templateId/interview\" element={<TemplateInterviewPage />} />\r\n              <Route path=\"/template-responses/:responseId/analysis\" element={<TemplateAnalysisPage />} />\r\n\r\n              {/* Job Seeker Routes */}\r\n              <Route path=\"/jobseeker-dashboard\" element={<JobSeekerDashboard />} />\r\n              <Route path=\"/analytics/jobseeker\" element={<AnalyticsJobseeker />} />\r\n              <Route path=\"/dashboard\" element={\r\n                role === 'job_seeker' ? <Navigate to=\"/jobseeker-tabs?tab=job-search\" replace /> :\r\n                role === 'employer' ? <Navigate to=\"/employer-tabs?tab=candidate-search\" replace /> :\r\n                role === 'admin' ? <Navigate to=\"/admin-dashboard\" replace /> :\r\n                <Navigate to=\"/\" replace />\r\n              } />\r\n              <Route path=\"/job-videos\" element={<JobVideos />} />\r\n              \r\n              {/* Employer Routes */}\r\n              <Route path=\"/employer-dashboard\" element={<EmployerDashboard />} />\r\n              <Route path=\"/analytics/employer\" element={<AnalyticsEmployer />} />\r\n              <Route path=\"/company-videos\" element={<CompanyVideos />} />\r\n              \r\n              <Route path=\"/candidate-search\" element={<CandidateSearchPage />} />\r\n              <Route path=\"/Telent-explore\" element={<TalentExplore />} />\r\n              <Route path=\"/job-search\" element={<JobSearchPage />} />\r\n              <Route path=\"/CompanyVideos-page\" element={<CompanyVideos />} />\r\n              \r\n              <Route path=\"/job-posting\" element={<JobPostingForm />} />\r\n              <Route path=\"/video-upload\" element={<VideoUpload />} />\r\n              \r\n              <Route path=\"/job/:id\" element={<JobDetailsPage />} />\r\n              <Route path=\"/admin-dashboard\" element={<AdminDashboard />} />\r\n              <Route path=\"/analytics/admin\" element={<AnalyticsAdmin />} />\r\n              <Route path=\"/feed-page\" element={<FeedPage />} />\r\n              <Route path=\"/employer-video-examples\" element={<EmployerViedoExamples />} />\r\n              <Route path=\"/Explore-jobs\" element={<ExploreJobs />} />\r\n              <Route path=\"/jobseeker-video-examples\" element={<JobseekerVideoExamples />} />\r\n          \r\n              <Route path=\"/MyApplications-page\" element={<MyApplications />} />\r\n\r\n              <Route path=\"/Job-seeker-profile\" element={<JobSeekerProfile />} />\r\n              <Route path=\"/edit-jobseeker-profile\" element={<EditJobSeekerProfile />} />\r\n              <Route path=\"/employer-profile\" element={<EmployerProfilePage />} />\r\n              <Route path=\"/edit-employer-profile\" element={<EditEmployerProfilePage />} />\r\n              <Route path=\"/jobs-listing\" element={<JobsListingPage />} />\r\n              <Route path=\"/post-job\" element={<PostJobPage />} />\r\n              <Route path=\"/my-videos\" element={<VideosPage />} />\r\n              <Route path=\"/edit-video/:id\" element={<EditVideoPage />} />\r\n              <Route path=\"/help\" element={<HelpPageLinks />} />\r\n\r\n              {/* Points */}\r\n              <Route path=\"/points\" element={<JobseekerPointsPage />} />\r\n              <Route path=\"/admin/points-settings\" element={<PointsSettingsPage />} />\r\n              <Route path=\"/admin/users-points\" element={<UsersPointsPage />} />\r\n\r\n            </Route>\r\n\r\n            {/* Catch all route */}\r\n            <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\r\n          </Routes>\r\n          <CookieConsentBanner />\r\n        </VideoProvider>\r\n        </NotificationProvider>\r\n        </SocketProvider>\r\n      </Suspense>\r\n    </AnimatePresence>\r\n  );\r\n}\r\n\r\nexport default App;\r\n// No code changes required in this frontend file for CORS fix.\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\admin\\TagSelector.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\AppHeader.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\auth\\Login.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\auth\\Register.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\CandidateCard\\CandidateCard.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from 'react';\r\nimport { Card, Box, Typography, Avatar, Chip } from '@mui/material';\r\nimport { useStyles } from './CandidateCard.styles';\r\n\r\nconst CandidateCard = ({ candidate }) => {\r\n  const classes = useStyles();\r\n\r\n  const getStatusChip = (status) => {\r\n    const statusConfig = {\r\n      interview: { label: 'Interview Scheduled', color: 'status.interview' },\r\n      hired: { label: 'Hired', color: 'status.hired' },\r\n    };\r\n\r\n    const config = statusConfig[status] || { label: 'Applied', color: 'status.open' };\r\n    \r\n    return (\r\n      <Chip\r\n        label={config.label}\r\n        size=\"small\"\r\n        sx={{\r\n          backgroundColor: (theme) => theme.palette[config.color].background,\r\n          color: (theme) => theme.palette[config.color].text,\r\n          mt: 1,\r\n        }}\r\n      />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <Box display=\"flex\" alignItems=\"center\">\r\n        <Avatar className={classes.avatar}>{candidate.initials}</Avatar>\r\n        <Box ml={2}>\r\n          <Typography variant=\"subtitle1\" fontWeight=\"medium\">\r\n            {candidate.name}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\">\r\n            {candidate.position}\r\n          </Typography>\r\n          {getStatusChip(candidate.status)}\r\n        </Box>\r\n      </Box>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default CandidateCard;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\CandidateCard\\CandidateCard.styles.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\common\\OnboardingStepsModal.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\CookieConsentBanner.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState, useEffect  } from 'react';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Typography,\r\n  Snackbar,\r\n  Alert,\r\n  IconButton,\r\n  Slide,\r\n  useTheme,\r\n  useMediaQuery\r\n} from '@mui/material';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst CookieConsentBanner = () => {\r\n  const [open, setOpen] = useState(false);\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n\r\n  useEffect(() => {\r\n    const consent = localStorage.getItem(\"cookieConsent\");\r\n    if (!consent) {\r\n      setOpen(true);\r\n    }\r\n  }, []);\r\n\r\n  const handleAccept = () => {\r\n    localStorage.setItem(\"cookieConsent\", \"accepted\");\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Snackbar\r\n      open={open}\r\n      onClose={handleClose}\r\n      TransitionComponent={Slide}\r\n      anchorOrigin={{\r\n        vertical: 'bottom',\r\n        horizontal: 'center',\r\n      }}\r\n      sx={{\r\n        width: '100%',\r\n        maxWidth: isMobile ? '95%' : '80%',\r\n        bottom: isMobile ? 16 : 24,\r\n        left: '50%',\r\n        transform: 'translateX(-50%)',\r\n        zIndex: theme.zIndex.snackbar + 100, // Ensure it's above other elements\r\n      }}\r\n    >\r\n      <Alert\r\n        onClose={handleClose}\r\n        severity=\"info\"\r\n        sx={{\r\n          width: '100%',\r\n          backgroundColor: theme.palette.background.paper,\r\n          color: theme.palette.text.primary,\r\n          boxShadow: theme.shadows[6],\r\n          borderRadius: theme.shape.borderRadius,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          padding: theme.spacing(1.5, 2),\r\n        }}\r\n        action={\r\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n            <Button\r\n              color=\"primary\"\r\n              size=\"small\"\r\n              onClick={handleAccept}\r\n              variant=\"contained\"\r\n              sx={{ textTransform: 'none' }}\r\n            >\r\n              Accept\r\n            </Button>\r\n            <Button\r\n              color=\"primary\"\r\n              size=\"small\"\r\n              component={Link}\r\n              to=\"/cookie-policy\"\r\n              onClick={handleClose}\r\n              sx={{ textTransform: 'none' }}\r\n            >\r\n              Learn More\r\n            </Button>\r\n            <IconButton\r\n              size=\"small\"\r\n              aria-label=\"close\"\r\n              color=\"inherit\"\r\n              onClick={handleClose}\r\n            >\r\n              <CloseIcon fontSize=\"small\" />\r\n            </IconButton>\r\n          </Box>\r\n        }\r\n      >\r\n        <Typography variant=\"body2\">\r\n          SwipeScout uses cookies to improve your experience and analyze traffic. By continuing, you agree to our <Link to=\"/cookie-policy\" style={{ color: theme.palette.primary.main, textDecoration: 'underline' }}>Cookie Policy</Link>.\r\n        </Typography>\r\n      </Alert>\r\n    </Snackbar>\r\n  );\r\n};\r\n\r\nexport default CookieConsentBanner;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\dashboard\\BreadcrumbNav.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\dashboard\\CollapsibleSidebar.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useState' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useState"
            },
            "fix": {
              "range": [
                12,
                26
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useState'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState } from 'react';\r\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { cn } from '@/lib/utils';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { ScrollArea } from '@/components/UI/scroll-area.jsx';\r\nimport { Separator } from '@/components/UI/separator.jsx';\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipProvider,\r\n  TooltipTrigger,\r\n} from '@/components/UI/tooltip.jsx';\r\n\r\nconst CollapsibleSidebar = ({ navigationItems = [], isCollapsed, setIsCollapsed, logo }) => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  const isActive = (path) => {\r\n    // Defensive guards: path must be a non-empty string and location must be available\r\n    if (!path || typeof path !== 'string' || !location || typeof location.pathname !== 'string') return false;\r\n\r\n    // Handle query params in path\r\n    const pathWithoutQuery = path.split('?')[0];\r\n    const currentPathWithoutQuery = location.pathname;\r\n\r\n    // Check if the current path matches exactly\r\n    if (currentPathWithoutQuery === pathWithoutQuery) return true;\r\n\r\n    // Check if query params match (only when a query is present in the configured path)\r\n    if (path.includes('?') && typeof location.search === 'string' && location.search.length > 0) {\r\n      const parts = path.split('?');\r\n      if (parts.length > 1) {\r\n        const params = new URLSearchParams(parts[1]);\r\n        const currentParams = new URLSearchParams(location.search);\r\n        const tab = params.get('tab');\r\n        const currentTab = currentParams.get('tab');\r\n        if (tab && currentTab === tab) return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  const handleNavigation = (path) => {\r\n    navigate(path);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'relative flex flex-col h-screen bg-slate-50 dark:bg-slate-950 border-r border-slate-200 dark:border-slate-800 transition-all duration-300',\r\n        isCollapsed ? 'w-16' : 'w-64'\r\n      )}\r\n    >\r\n      {/* Logo Section */}\r\n      <div className=\"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-800\">\r\n        {!isCollapsed && (\r\n          <div className=\"flex items-center gap-2\">\r\n            {logo || (\r\n              <span className=\"text-xl font-bold bg-gradient-to-r from-purple-600 to-cyan-600 bg-clip-text text-transparent\">\r\n                SwipeScout\r\n              </span>\r\n            )}\r\n          </div>\r\n        )}\r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"icon\"\r\n          onClick={() => setIsCollapsed(!isCollapsed)}\r\n          className=\"ml-auto hover:bg-slate-200 dark:hover:bg-slate-800\"\r\n        >\r\n          {isCollapsed ? (\r\n            <ChevronRight className=\"h-4 w-4\" />\r\n          ) : (\r\n            <ChevronLeft className=\"h-4 w-4\" />\r\n          )}\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Navigation Items */}\r\n      <ScrollArea className=\"flex-1 py-4\">\r\n        <TooltipProvider delayDuration={0}>\r\n          <nav className=\"space-y-1 px-2\">\r\n            {navigationItems.map((item, index) => {\r\n              const active = isActive(item.path);\r\n              \r\n              if (item.type === 'separator') {\r\n                return (\r\n                  <div key={index} className=\"py-2\">\r\n                    {!isCollapsed && item.label && (\r\n                      <p className=\"px-3 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2\">\r\n                        {item.label}\r\n                      </p>\r\n                    )}\r\n                    <Separator className=\"my-2\" />\r\n                  </div>\r\n                );\r\n              }\r\n\r\n              const navButton = (\r\n                <Button\r\n                  variant={active ? 'secondary' : 'ghost'}\r\n                  className={cn(\r\n                    'w-full justify-start transition-all',\r\n                    isCollapsed ? 'px-2' : 'px-3',\r\n                    active\r\n                      ? 'bg-gradient-to-r from-purple-100 to-cyan-100 dark:from-purple-950/30 dark:to-cyan-950/30 text-purple-700 dark:text-purple-400 font-semibold'\r\n                      : 'hover:bg-slate-100 dark:hover:bg-slate-800/50 text-slate-700 dark:text-slate-300'\r\n                  )}\r\n                  onClick={() => handleNavigation(item.path)}\r\n                >\r\n                  <item.icon className={cn('h-5 w-5 flex-shrink-0', !isCollapsed && 'mr-3')} />\r\n                  {!isCollapsed && <span className=\"truncate\">{item.label}</span>}\r\n                  {!isCollapsed && item.badge && (\r\n                    <span className=\"ml-auto text-xs bg-purple-600 text-white rounded-full px-2 py-0.5\">\r\n                      {item.badge}\r\n                    </span>\r\n                  )}\r\n                </Button>\r\n              );\r\n\r\n              if (isCollapsed) {\r\n                return (\r\n                  <Tooltip key={index}>\r\n                    <TooltipTrigger asChild>{navButton}</TooltipTrigger>\r\n                    <TooltipContent side=\"right\" className=\"flex items-center gap-2\">\r\n                      {item.label}\r\n                      {item.badge && (\r\n                        <span className=\"text-xs bg-purple-600 text-white rounded-full px-2 py-0.5\">\r\n                          {item.badge}\r\n                        </span>\r\n                      )}\r\n                    </TooltipContent>\r\n                  </Tooltip>\r\n                );\r\n              }\r\n\r\n              return <div key={index}>{navButton}</div>;\r\n            })}\r\n          </nav>\r\n        </TooltipProvider>\r\n      </ScrollArea>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CollapsibleSidebar;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\dashboard\\DashboardLayout.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\ErrorBoundary.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 9,
        "column": 35,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 9,
        "endColumn": 40,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "error"
            },
            "fix": {
              "range": [
                230,
                235
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'error'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React from 'react';\r\n\r\nclass ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { hasError: false, error: null, errorInfo: null };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    console.error('Error caught by boundary:', error, errorInfo);\r\n    this.state = { hasError: true, error, errorInfo };\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <div className=\"min-h-screen bg-gray-50 p-8\">\r\n          <div className=\"max-w-2xl mx-auto bg-white rounded-lg shadow-md p-6\">\r\n            <h1 className=\"text-2xl font-bold text-red-600 mb-4\">Something went wrong</h1>\r\n            <p className=\"text-gray-700 mb-4\">\r\n              An error occurred while rendering this page. Please refresh and try again.\r\n            </p>\r\n            {this.state.error && (\r\n              <details className=\"bg-gray-100 p-4 rounded\">\r\n                <summary className=\"cursor-pointer font-semibold\">Error Details</summary>\r\n                <pre className=\"mt-2 text-sm text-red-600 overflow-auto\">\r\n                  {this.state.error.toString()}\r\n                  {this.state.errorInfo && this.state.errorInfo.componentStack}\r\n                </pre>\r\n              </details>\r\n            )}\r\n            <button\r\n              onClick={() => window.location.reload()}\r\n              className=\"mt-4 bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700\"\r\n            >\r\n              Reload Page\r\n            </button>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\FAQAccordion\\FAQAccordion.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 38,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 38,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                1063,
                1074
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿// import React, { useContext, useState  } from 'react';\r\n// import { IoIosAdd, IoIosRemove } from \"react-icons/io\";\r\n// import \"./FAQAccordion.css\";\r\n\r\n// const FAQAccordion = ({ faqs }) => {\r\n//   const [openIndex, setOpenIndex] = useState(null);\r\n\r\n//   const toggleFAQ = (index) => {\r\n//     setOpenIndex(openIndex === index ? null : index);\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"accordion-container\">\r\n//       {faqs.map((faq, index) => (\r\n//         <div\r\n//           key={index}\r\n//           className=\"accordion-item\"\r\n//           onClick={() => toggleFAQ(index)}\r\n//         >\r\n//           <div className=\"question\">\r\n//             {faq.question}\r\n//             {openIndex === index ? (\r\n//               <IoIosRemove size={20} />\r\n//             ) : (\r\n//               <IoIosAdd size={20} />\r\n//             )}\r\n//           </div>\r\n//           {openIndex === index && <div className=\"answer\">{faq.answer}</div>}\r\n//         </div>\r\n//       ))}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default FAQAccordion;\r\n\r\n\r\nimport React, { useContext, useState  } from 'react';\r\nimport { Box, Typography, Collapse } from \"@mui/material\";\r\nimport { IoIosAdd, IoIosRemove } from \"react-icons/io\";\r\n\r\nconst FAQAccordion = ({ faqs }) => {\r\n  const [openIndex, setOpenIndex] = useState(null);\r\n\r\n  const toggleFAQ = (index) => {\r\n    setOpenIndex(openIndex === index ? null : index);\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ width: '100%', maxWidth: '600px', margin: '20px auto' }}>\r\n      {faqs.map((faq, index) => (\r\n        <Box\r\n          key={index}\r\n          sx={{\r\n            background: '#5D9BCF',\r\n            color: '#021024',\r\n            borderRadius: '10px',\r\n            marginBottom: '10px',\r\n            boxShadow: '0px 4px 10px rgba(0, 0, 0, 0.2)',\r\n            padding: '15px',\r\n            cursor: 'pointer',\r\n            transition: 'all 0.3s ease-in-out',\r\n            '&:hover': {\r\n              background: '#003366',\r\n            },\r\n          }}\r\n          onClick={() => toggleFAQ(index)}\r\n        >\r\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n            <Typography variant=\"h6\" sx={{ fontWeight: 'bold' }}>\r\n              {faq.question}\r\n            </Typography>\r\n            {openIndex === index ? (\r\n              <IoIosRemove size={20} />\r\n            ) : (\r\n              <IoIosAdd size={20} />\r\n            )}\r\n          </Box>\r\n          <Collapse in={openIndex === index}>\r\n            <Typography variant=\"body2\" sx={{ marginTop: '10px', color: '#f3e8ff' }}>\r\n              {faq.answer}\r\n            </Typography>\r\n          </Collapse>\r\n        </Box>\r\n      ))}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default FAQAccordion;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\Feature\\Feature.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from \"react\";\r\n\r\nconst Feature = ({ title, description, style }) => {\r\n  return (\r\n    <div className=\"feature\" style={style}>\r\n      <p className=\"advantage\" style={{ fontSize: \"8px\" }} />\r\n      <p className=\"title\" style={{ fontSize: \"18px\" }}>\r\n        {title}\r\n      </p>\r\n      <p className=\"stuff\"> </p>\r\n      <p>\r\n        {description}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Feature;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\FeatureCard.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from \"react\";\r\n\r\nconst FeatureCard = ({ icon, title, subtitle, description }) => {\r\n  return (\r\n    <div className=\"feature-card\">\r\n      <div\r\n        className=\"icon\"\r\n        style={{\r\n          width: \"50px\",\r\n          height: \"50px\",\r\n          borderRadius: \"50%\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          background: \"linear-gradient(52.09deg, #5D9BCF 18%, #A9C4F3 98.44%)\"\r\n        }}\r\n      >\r\n        {icon}\r\n      </div>\r\n      <h3>\r\n        {title}\r\n      </h3>\r\n      <p style={{ color: \"black\" }}>\r\n        {subtitle}\r\n        <br /> {description}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FeatureCard;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\FloatingNavigationPanel.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useEffect' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 27,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 36,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useEffect"
            },
            "fix": {
              "range": [
                24,
                35
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useEffect'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 48,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 48,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                755,
                790
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setNotifications' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 55,
        "column": 25,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 55,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setNotifications"
            },
            "fix": {
              "range": [
                1123,
                1141
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setNotifications'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setMessages' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 56,
        "column": 20,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 56,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setMessages"
            },
            "fix": {
              "range": [
                1203,
                1216
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setMessages'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'i18n' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 60,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 60,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "i18n"
            },
            "fix": {
              "range": [
                1400,
                1406
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'i18n'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Fab,\r\n  Drawer,\r\n  List,\r\n  ListItem,\r\n  ListItemButton,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Typography,\r\n  Divider,\r\n  IconButton,\r\n  Badge,\r\n  Tooltip,\r\n  useTheme,\r\n  useMediaQuery,\r\n  Avatar,\r\n  Chip,\r\n  Paper\r\n} from '@mui/material';\r\nimport {\r\n  Menu as MenuIcon,\r\n  Close as CloseIcon,\r\n  Home,\r\n  Search,\r\n  VideoLibrary,\r\n  Work,\r\n  Person,\r\n  Chat,\r\n  Notifications,\r\n  Settings,\r\n  Help,\r\n  ExitToApp,\r\n  Business,\r\n  Analytics,\r\n  PostAdd,\r\n  CalendarToday,\r\n  Bookmark,\r\n  Favorite,\r\n  Edit,\r\n  Dashboard,\r\n  Psychology,\r\n  CloudUpload\r\n} from '@mui/icons-material';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getEmployerTabCategories } from '../config/employerTabsConfig';\r\nimport { jobseekerTabCategories } from '../config/jobseekerTabsConfig';\r\n\r\nconst FloatingNavigationPanel = ({ role, onPageChange }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [notifications, setNotifications] = useState(3); // Mock notification count\r\n  const [messages, setMessages] = useState(2); // Mock message count\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\r\n  const { user, logout } = useAuth();\r\n  const { t, i18n } = useTranslation();\r\n  const navigate = useNavigate();\r\n\r\n  // Normalize role to support both string and array shapes\r\n  const _roleArray = Array.isArray(role) ? role : (role ? [role] : []);\r\n  const isJobSeeker = _roleArray.includes('job_seeker') || _roleArray.includes('employee');\r\n  const isEmployer = _roleArray.includes('employer') || _roleArray.includes('recruiter');\r\n  const roleLabel = (_roleArray[0] || (typeof role === 'string' ? role : 'USER'))\r\n    .toString()\r\n    .replace('_', ' ')\r\n    .toUpperCase();\r\n\r\n  // Common items used by admin (and as a fallback)\r\n  const commonItems = [\r\n    {\r\n      text: t('nav.help', 'Help'),\r\n      icon: <Help />,\r\n      path: '/help',\r\n      color: 'secondary',\r\n      description: 'Help and support'\r\n    },\r\n    {\r\n      text: t('nav.about', 'About'),\r\n      icon: <Help />,\r\n      path: '/about',\r\n      color: 'primary',\r\n      description: 'About SwipeScout'\r\n    },\r\n    {\r\n      text: t('nav.contact', 'Contact'),\r\n      icon: <Help />,\r\n      path: '/contact',\r\n      color: 'default',\r\n      description: 'Contact us'\r\n    }\r\n  ];\r\n  \r\n  const toggleDrawer = () => {\r\n    setIsOpen(!isOpen);\r\n  };\r\n\r\n  // Helper to find tab group for a tab path\r\n  const findTabGroupForPath = (categories, tabPath) => {\r\n    for (const cat of categories) {\r\n      if (cat.tabs.some(t => t.path === tabPath)) {\r\n        return cat.key;\r\n      }\r\n    }\r\n    return null;\r\n  };\r\n\r\n  // Fix: For employer and job_seeker, set both tab group and tab in URL for tab navigation\r\n  const handleNavigation = (path) => {\r\n    if (role === 'employer' && path.startsWith('/employer-tabs') && path.includes('?tab=')) {\r\n      const tabMatch = path.match(/[?&]tab=([^&]+)/);\r\n      const tabValue = tabMatch ? tabMatch[1] : null;\r\n      let group = null;\r\n      if (tabValue) {\r\n        group = findTabGroupForPath(getEmployerTabCategories(t), tabValue);\r\n      }\r\n      if (group && tabValue) {\r\n        onPageChange(`/employer-tabs?group=${group}&tab=${tabValue}`);\r\n      } else {\r\n        onPageChange(path);\r\n      }\r\n    } else if (role === 'job_seeker' && path.startsWith('/jobseeker-tabs') && path.includes('?tab=')) {\r\n      const tabMatch = path.match(/[?&]tab=([^&]+)/);\r\n      const tabValue = tabMatch ? tabMatch[1] : null;\r\n      let group = null;\r\n      if (tabValue) {\r\n        group = findTabGroupForPath(jobseekerTabCategories(), tabValue);\r\n      }\r\n      if (group && tabValue) {\r\n        onPageChange(`/jobseeker-tabs?group=${group}&tab=${tabValue}`);\r\n      } else {\r\n        onPageChange(path);\r\n      }\r\n    } else {\r\n      onPageChange(path);\r\n    }\r\n    setIsOpen(false);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    navigate('/');\r\n    setIsOpen(false);\r\n  };\r\n\r\n  // Define navigation items based on user role\r\n  const getNavigationItems = () => {\r\n    if (isJobSeeker) {\r\n      return [\r\n        {\r\n          text: t('nav.home', 'Home'),\r\n          icon: <Home />,\r\n          path: '/',\r\n          color: 'primary',\r\n          description: 'Go to homepage'\r\n        },\r\n        {\r\n          text: t('nav.dashboard', 'Dashboard'),\r\n          icon: <Dashboard />,\r\n          path: `/jobseeker-tabs?group=dashboard&tab=overview`,\r\n          color: 'primary',\r\n          description: 'Your job seeker dashboard'\r\n        },\r\n        {\r\n          text: t('nav.analytics', 'Analytics'),\r\n          icon: <Analytics />,\r\n          path: `/jobseeker-tabs?group=dashboard&tab=analytics`,\r\n          color: 'warning',\r\n          description: 'View analytics and insights'\r\n        },\r\n        {\r\n          text: t('nav.uploadvideo', 'Upload Video'),\r\n          icon: <CloudUpload />, // Corrected to use the CloudUpload icon\r\n          path: `/jobseeker-tabs?group=profileContent&tab=video-upload`,\r\n          color: 'success',\r\n          description: 'Upload new video'\r\n        },\r\n        {\r\n          text: t('nav.findJobs', 'Find Jobs'),\r\n          icon: <Search />,\r\n          path: `/jobseeker-tabs?group=jobSearch&tab=find-jobs`,\r\n          color: 'success',\r\n          description: 'Search for job opportunities'\r\n        },\r\n        {\r\n          text: t('nav.videoFeed', 'Video Feed'),\r\n          icon: <VideoLibrary />,\r\n          path: `/jobseeker-tabs?group=jobSearch&tab=video-feed`,\r\n          color: 'info',\r\n          description: 'Browse job-related videos'\r\n        },\r\n        {\r\n          text: t('nav.myProfile', 'My Profile'),\r\n          icon: <Person />,\r\n          path: `/jobseeker-tabs?group=profileContent&tab=my-profile`,\r\n          color: 'default',\r\n          description: 'Manage your profile'\r\n        },\r\n        {\r\n          text: t('nav.resumeBuilder', 'Resume Builder'),\r\n          icon: <Work />,\r\n          path: `/jobseeker-tabs?group=profileContent&tab=resume-builder`,\r\n          color: 'primary',\r\n          description: 'Build your resume'\r\n        },\r\n        {\r\n          text: t('nav.myVideos', 'My Videos'),\r\n          icon: <VideoLibrary />,\r\n          path: `/jobseeker-tabs?group=profileContent&tab=my-videos`,\r\n          color: 'info',\r\n          description: 'Your uploaded videos'\r\n        },\r\n        {\r\n          text: t('nav.aiAnalysis', 'AI Analysis'),\r\n          icon: <Psychology />,\r\n          path: '/ai-analysis',\r\n          color: 'primary',\r\n          description: 'AI-powered profile analysis'\r\n        },\r\n        {\r\n          text: t('nav.aiInterview', 'AI Interview'),\r\n          icon: <Psychology />,\r\n          path: '/ai-interview',\r\n          color: 'secondary',\r\n          description: 'AI interview practice'\r\n        },\r\n        {\r\n          text: t('nav.templateInterview', 'Template Interview'),\r\n          icon: <Psychology />,\r\n          path: '/template-interview',\r\n          color: 'info',\r\n          description: 'Answer template-based interview questions'\r\n        },\r\n        {\r\n          text: t('nav.aiMatching', 'AI Matching'),\r\n          icon: <Psychology />,\r\n          path: '/ai-matching',\r\n          color: 'success',\r\n          description: 'AI-powered job matching'\r\n        },\r\n        {\r\n          text: t('nav.savedVideos', 'Saved Videos'),\r\n          icon: <Bookmark />,\r\n          path: `/jobseeker-tabs?group=savedLiked&tab=saved-videos`,\r\n          color: 'warning',\r\n          description: 'Your saved videos'\r\n        },\r\n        {\r\n          text: t('nav.likedVideos', 'Liked Videos'),\r\n          icon: <Favorite />,\r\n          path: `/jobseeker-tabs?group=savedLiked&tab=liked-videos`,\r\n          color: 'secondary',\r\n          description: 'Videos you liked'\r\n        },\r\n        {\r\n          text: t('nav.settings', 'Settings'),\r\n          icon: <Settings />,\r\n          path: `/jobseeker-tabs?group=activities&tab=settings`,\r\n          color: 'default',\r\n          description: 'Account settings'\r\n        },\r\n        {\r\n          text: t('nav.notificationSettings', 'Notification Settings'),\r\n          icon: <Notifications />,\r\n          path: `/jobseeker-tabs?group=activities&tab=notification-settings`,\r\n          color: 'warning',\r\n          description: 'Manage notification settings'\r\n        },\r\n        {\r\n          text: t('nav.interviews', 'Interviews'),\r\n          icon: <CalendarToday />,\r\n          path: `/jobseeker-tabs?group=communication&tab=interviews`,\r\n          color: 'secondary',\r\n          description: 'Manage interviews'\r\n        },\r\n        {\r\n          text: t('nav.notifications', 'Notifications'),\r\n          icon: <Notifications />,\r\n          path: `/jobseeker-tabs?group=communication&tab=notifications`,\r\n          color: 'warning',\r\n          description: 'Check notifications'\r\n        },\r\n        {\r\n          text: t('nav.chat', 'Chat'),\r\n          icon: <Chat />,\r\n          path: `/jobseeker-tabs?group=communication&tab=chat`,\r\n          color: 'info',\r\n          description: 'Chat with employers and support'\r\n        }\r\n      ];\r\n    } else if (isEmployer) {\r\n      return [\r\n        {\r\n          text: t('nav.home', 'Home'),\r\n          icon: <Home />,\r\n          path: '/',\r\n          color: 'primary',\r\n          description: 'Go to homepage'\r\n        },\r\n        {\r\n          text: t('nav.dashboard', 'Dashboard'),\r\n          icon: <Dashboard />,\r\n          path: `/employer-tabs?group=dashboard&tab=overview`,\r\n          color: 'primary',\r\n          description: 'Your employer dashboard'\r\n        },\r\n        {\r\n          text: t('nav.analytics', 'Analytics'),\r\n          icon: <Analytics />,\r\n          path: `/employer-tabs?group=dashboard&tab=analytics`,\r\n          color: 'warning',\r\n          description: 'View analytics and reports'\r\n        },\r\n        {\r\n          text: t('nav.findCandidates', 'Find Candidates'),\r\n          icon: <Search />,\r\n          path: `/employer-tabs?group=talentAcquisition&tab=find-candidates`,\r\n          color: 'success',\r\n          description: 'Search for talented candidates'\r\n        },\r\n        {\r\n          text: t('nav.candidateVideos', 'Candidate Videos'),\r\n          icon: <VideoLibrary />,\r\n          path: `/employer-tabs?group=talentAcquisition&tab=candidate-videos`,\r\n          color: 'info',\r\n          description: 'Browse candidate video profiles'\r\n        },\r\n        {\r\n          text: t('nav.postJob', 'Post Job'),\r\n          icon: <PostAdd />,\r\n          path: `/employer-tabs?group=jobManagement&tab=post-job`,\r\n          color: 'info',\r\n          description: 'Create new job posting'\r\n        },\r\n        {\r\n          text: t('nav.myJobs', 'My Jobs'),\r\n          icon: <Work />,\r\n          path: `/employer-tabs?group=jobManagement&tab=my-jobs`,\r\n          color: 'default',\r\n          description: 'Manage job listings'\r\n        },\r\n        {\r\n          text: t('nav.companyProfile', 'Company Profile'),\r\n          icon: <Business />,\r\n          path: `/employer-tabs?group=companyContent&tab=company-profile`,\r\n          color: 'default',\r\n          description: 'Edit and view your company profile'\r\n        },\r\n        {\r\n          text: t('nav.companyVideos', 'Company Videos'),\r\n          icon: <VideoLibrary />,\r\n          path: `/employer-tabs?group=companyContent&tab=company-videos`,\r\n          color: 'primary',\r\n          description: 'Manage company videos'\r\n        },\r\n        {\r\n          text: t('nav.aiAnalysis', 'AI Analysis'),\r\n          icon: <Psychology />,\r\n          path: '/ai-analysis',\r\n          color: 'primary',\r\n          description: 'AI-powered candidate analysis'\r\n        },\r\n        {\r\n          text: t('nav.templateManagement', 'Template Management'),\r\n          icon: <Psychology />,\r\n          path: '/template-management',\r\n          color: 'warning',\r\n          description: 'Create and manage interview templates'\r\n        },\r\n        {\r\n          text: t('nav.templateAnalysis', 'Template Analysis'),\r\n          icon: <Psychology />,\r\n          path: '/template-analysis',\r\n          color: 'error',\r\n          description: 'Analyze template-based interview responses'\r\n        },\r\n        {\r\n          text: t('nav.aiMatching', 'AI Matching'),\r\n          icon: <Psychology />,\r\n          path: '/ai-matching',\r\n          color: 'success',\r\n          description: 'AI-powered candidate matching'\r\n        },\r\n        {\r\n          text: t('nav.videoUpload', 'Video Upload'),\r\n          icon: <VideoLibrary />,\r\n          path: role === 'employer' \r\n            ? `/employer-tabs?group=videoManagement&tab=video-upload`\r\n            : `/jobseeker-tabs?group=videoManagement&tab=video-upload`,\r\n          color: 'info',\r\n          description: 'Upload new videos',\r\n        },\r\n        {\r\n          text: t('nav.videoEditor', 'Video Editor'),\r\n          icon: <Edit />,\r\n          path: role === 'employer' \r\n            ? `/employer-tabs?group=videoManagement&tab=video-editor`\r\n            : `/jobseeker-tabs?group=videoManagement&tab=video-editor`,\r\n          color: 'secondary',\r\n          description: 'Edit your videos',\r\n        },\r\n        {\r\n          text: t('nav.messages', 'Messages'),\r\n          icon: <Badge badgeContent={messages} color=\"error\"><Chat /></Badge>,\r\n          path: `/employer-tabs?group=communication&tab=chat`,\r\n          color: 'info',\r\n          description: 'View your messages'\r\n        },\r\n        {\r\n          text: t('nav.notifications', 'Notifications'),\r\n          icon: <Badge badgeContent={notifications} color=\"error\"><Notifications /></Badge>,\r\n          path: `/employer-tabs?group=managementSettings&tab=notifications`,\r\n          color: 'warning',\r\n          description: 'Check notifications'\r\n        },\r\n        {\r\n          text: t('nav.settings', 'Settings'),\r\n          icon: <Settings />,\r\n          path: `/employer-tabs?group=managementSettings&tab=settings`,\r\n          color: 'default',\r\n          description: 'Account settings'\r\n        },\r\n        {\r\n          text: t('nav.helpAndSupport', 'Help & Support'),\r\n          icon: <Help />,\r\n          path: `/employer-tabs?group=communication&tab=help`,\r\n          color: 'secondary',\r\n          description: 'Get help and support'\r\n        }\r\n      ];\r\n    } else {\r\n      return [\r\n        { \r\n          text: t('nav.adminDashboard', 'Admin Dashboard'), \r\n          icon: <Dashboard />, \r\n          path: '/admin-dashboard', \r\n          color: 'primary',\r\n          description: 'Admin control panel'\r\n        },\r\n        { \r\n          text: 'User Management', \r\n          icon: <Person />, \r\n          path: '/admin-dashboard?tab=users', \r\n          color: 'info',\r\n          description: 'Manage users'\r\n        },\r\n        { \r\n          text: 'Video Management', \r\n          icon: <VideoLibrary />, \r\n          path: '/admin-dashboard?tab=videos', \r\n          color: 'warning',\r\n          description: 'Manage videos'\r\n        },\r\n        { \r\n          text: 'Job Management', \r\n          icon: <Work />, \r\n          path: '/admin-dashboard?tab=jobs', \r\n          color: 'success',\r\n          description: 'Manage job postings'\r\n        },\r\n        { \r\n          text: 'Reports & Moderation', \r\n          icon: <Analytics />, \r\n          path: '/admin-dashboard?tab=reports', \r\n          color: 'error',\r\n          description: 'Handle reports and moderation'\r\n        },\r\n        { \r\n          text: t('nav.aiAnalysis', 'AI Analysis'),\r\n          icon: <Psychology />, \r\n          path: '/admin-dashboard?tab=analytics', \r\n          color: 'secondary',\r\n          description: 'AI system analytics'\r\n        },\r\n        { \r\n          text: 'System Settings', \r\n          icon: <Settings />, \r\n          path: '/admin-dashboard?tab=settings', \r\n          color: 'default',\r\n          description: 'System configuration'\r\n        },\r\n        ...commonItems\r\n      ];\r\n    }\r\n  };\r\n\r\n  const navigationItems = getNavigationItems();\r\n\r\n  return (\r\n    <>\r\n      {/* Floating Action Button */}\r\n      <Fab\r\n        color=\"primary\"\r\n        aria-label=\"navigation menu\"\r\n        onClick={toggleDrawer}\r\n        sx={{\r\n          position: 'fixed',\r\n          bottom: isMobile ? 16 : 24,\r\n          right: isMobile ? 16 : 24,\r\n          zIndex: theme.zIndex.speedDial,\r\n          background: `linear-gradient(45deg, ${theme.palette.primary.main}, ${theme.palette.secondary.main})`,\r\n          '&:hover': {\r\n            background: `linear-gradient(45deg, ${theme.palette.primary.dark}, ${theme.palette.secondary.dark})`,\r\n            transform: 'scale(1.1)',\r\n          },\r\n          transition: 'all 0.3s ease-in-out',\r\n          boxShadow: theme.shadows[8],\r\n        }}\r\n      >\r\n        {isOpen ? <CloseIcon /> : <MenuIcon />}\r\n      </Fab>\r\n\r\n      {/* Navigation Drawer */}\r\n      <Drawer\r\n        anchor=\"right\"\r\n        open={isOpen}\r\n        onClose={toggleDrawer}\r\n        PaperProps={{\r\n          sx: {\r\n            width: isMobile ? '85vw' : 320,\r\n            maxWidth: 400,\r\n            background: `linear-gradient(135deg, ${theme.palette.background.paper} 0%, ${theme.palette.background.default} 100%)`,\r\n            backdropFilter: 'blur(10px)',\r\n            borderLeft: `1px solid ${theme.palette.divider}`,\r\n          }\r\n        }}\r\n      >\r\n        <Box sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n          {/* Header */}\r\n          <Box sx={{ p: 3, borderBottom: `1px solid ${theme.palette.divider}` }}>\r\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, mb: 2 }}>\r\n              <Avatar\r\n                src={user?.profilePicture}\r\n                sx={{ \r\n                  width: 48, \r\n                  height: 48,\r\n                  background: `linear-gradient(45deg, ${theme.palette.primary.main}, ${theme.palette.secondary.main})`\r\n                }}\r\n              >\r\n                {user?.firstName?.[0] || user?.companyName?.[0] || 'U'}\r\n              </Avatar>\r\n              <Box sx={{ flexGrow: 1 }}>\r\n                <Typography variant=\"h6\" noWrap>\r\n                  {user?.firstName ? `${user.firstName} ${user.lastName}` : user?.companyName || 'User'}\r\n                </Typography>\r\n                <Chip \r\n                  label={roleLabel || 'USER'} \r\n                  size=\"small\" \r\n                  color=\"primary\"\r\n                  variant=\"outlined\"\r\n                />\r\n              </Box>\r\n              <IconButton onClick={toggleDrawer} size=\"small\">\r\n                <CloseIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              Quick access to all your tools and features\r\n            </Typography>\r\n          </Box>\r\n\r\n          {/* Navigation Items */}\r\n          <Box sx={{ flexGrow: 1, overflow: 'auto' }}>\r\n            <List sx={{ p: 1 }}>\r\n              {navigationItems.map((item, index) => (\r\n                <Tooltip key={index} title={item.description} placement=\"left\">\r\n                  <ListItem disablePadding sx={{ mb: 0.5 }}>\r\n                    <ListItemButton\r\n                      onClick={() => handleNavigation(item.path)}\r\n                      sx={{\r\n                        borderRadius: 2,\r\n                        mx: 1,\r\n                        '&:hover': {\r\n                          backgroundColor: theme.palette.action.hover,\r\n                          transform: 'translateX(-4px)',\r\n                        },\r\n                        transition: 'all 0.2s ease-in-out',\r\n                      }}\r\n                    >\r\n                      <ListItemIcon sx={{ color: `${item.color}.main` }}>\r\n                        {item.icon}\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary={item.text}\r\n                        primaryTypographyProps={{\r\n                          fontWeight: 500,\r\n                          fontSize: '0.9rem'\r\n                        }}\r\n                      />\r\n                    </ListItemButton>\r\n                  </ListItem>\r\n                </Tooltip>\r\n              ))}\r\n            </List>\r\n          </Box>\r\n\r\n          {/* Footer */}\r\n          <Box sx={{ p: 2, borderTop: `1px solid ${theme.palette.divider}` }}>\r\n            <Paper \r\n              elevation={1} \r\n              sx={{ \r\n                p: 2, \r\n                textAlign: 'center',\r\n                background: `linear-gradient(45deg, ${theme.palette.error.main}20, ${theme.palette.error.main}10)`,\r\n                border: `1px solid ${theme.palette.error.main}30`\r\n              }}\r\n            >\r\n              <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n                Ready to sign out?\r\n              </Typography>\r\n              <IconButton\r\n                onClick={handleLogout}\r\n                color=\"error\"\r\n                sx={{\r\n                  '&:hover': {\r\n                    backgroundColor: theme.palette.error.main,\r\n                    color: theme.palette.error.contrastText,\r\n                    transform: 'scale(1.1)',\r\n                  },\r\n                  transition: 'all 0.2s ease-in-out',\r\n                }}\r\n              >\r\n                <ExitToApp />\r\n              </IconButton>\r\n            </Paper>\r\n          </Box>\r\n        </Box>\r\n      </Drawer>\r\n    </>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default FloatingNavigationPanel;\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\Header.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from 'react';\r\nimport { useTheme } from '../hooks/ThemeContext';\r\n\r\nconst Header = () => {\r\n  const { theme, toggleTheme } = useTheme();\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header-container\">\r\n        <div className=\"logo\">\r\n          <h1>SwipeScout</h1>\r\n        </div>\r\n        <nav className=\"navigation\">\r\n          <ul>\r\n            <li><a href=\"/\">Home</a></li>\r\n            <li><a href=\"/jobs\">Jobs</a></li>\r\n            <li><a href=\"/candidates\">Candidates</a></li>\r\n            <li><a href=\"/about\">About</a></li>\r\n          </ul>\r\n        </nav>\r\n        <div className=\"header-actions\">\r\n          <button onClick={toggleTheme} className=\"theme-toggle\">\r\n            {theme === 'light' ? 'Ù‹ÚºÅ’â„¢' : 'Ã¢Ú©â‚¬Ã¯Â¸Úˆ'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\Headers\\admin\\Footer.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'Icon' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 103,
        "column": 39,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 103,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "Icon"
            },
            "fix": {
              "range": [
                3158,
                3169
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'Icon'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Link,\r\n  IconButton,\r\n  Container,\r\n  useTheme\r\n} from \"@mui/material\";\r\nimport {\r\n  Facebook,\r\n  Twitter,\r\n  LinkedIn,\r\n  Instagram,\r\n  GitHub\r\n} from \"@mui/icons-material\";\r\n\r\nconst Footer = () => {\r\n  const theme = useTheme();\r\n  const bottomLinks = [\r\n    { text: \"Privacy Policy\", href: \"/privacy-policy\" },\r\n    { text: \"Terms of Service\", href: \"/terms\" },\r\n    { text: \"Help Center\", href: \"/help\" },\r\n  ];\r\n\r\n  const socialIcons = [\r\n    { icon: Facebook, url: \"https://facebook.com\" },\r\n    { icon: Twitter, url: \"https://twitter.com\" },\r\n    { icon: LinkedIn, url: \"https://linkedin.com\" },\r\n    { icon: Instagram, url: \"https://instagram.com\" },\r\n    { icon: GitHub, url: \"https://github.com\" },\r\n  ];\r\n  \r\n  // Safely access theme properties with a fallback\r\n  const borderColor = theme.palette.border?.primary || theme.palette.divider || '#e5e7eb';\r\n  const iconColor = theme.palette.icon?.primary || \r\n                   (theme.palette.mode === 'light' ? '#4f46e5' : '#a78bfa');\r\n  const footerBg = theme.palette.background?.footer || \r\n                  (theme.palette.mode === 'light' ? '#f9fafb' : '#1d202e');\r\n  const primaryTextColor = theme.palette.text?.primary || \r\n                          (theme.palette.mode === 'light' ? '#2a3e50' : '#e9e9f4');\r\n  const secondaryTextColor = theme.palette.text?.secondary || \r\n                            (theme.palette.mode === 'light' ? '#6b7280' : '#d1d5db');\r\n  \r\n  return (\r\n    <Box\r\n      component=\"footer\"\r\n      sx={{\r\n        backgroundColor: footerBg,\r\n        color: primaryTextColor,\r\n        py: 4,\r\n        borderTop: `1px solid ${borderColor}`,\r\n      }}\r\n    >\r\n      <Container maxWidth=\"xl\">\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            flexDirection: { xs: 'column', md: 'row' },\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n            gap: 3,\r\n          }}\r\n        >\r\n          {/* Brand and description */}\r\n          <Box sx={{ \r\n            display: 'flex', \r\n            flexDirection: 'column',\r\n            alignItems: { xs: 'center', md: 'flex-start' },\r\n            gap: 1\r\n          }}>\r\n            <Typography\r\n              variant=\"h6\"\r\n              sx={{ \r\n                fontWeight: 700,\r\n                display: 'flex',\r\n                alignItems: 'center'\r\n              }}\r\n            >\r\n              Swip<span style={{ \r\n                color: iconColor,\r\n                marginLeft: '2px'\r\n              }}>scout</span>\r\n            </Typography>\r\n            <Typography \r\n              variant=\"body2\" \r\n              sx={{ \r\n                color: secondaryTextColor,\r\n                textAlign: { xs: 'center', md: 'left' },\r\n                maxWidth: 300\r\n              }}\r\n            >\r\n              Revolutionizing recruitment through video connections.\r\n            </Typography>\r\n          </Box>\r\n\r\n          {/* Social icons */}\r\n          <Box sx={{ \r\n            display: 'flex', \r\n            gap: 1,\r\n            order: { xs: 2, md: 1 }\r\n          }}>\r\n            {socialIcons.map(({ icon: Icon, url }, index) => (\r\n              <IconButton\r\n                key={index}\r\n                href={url}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                sx={{\r\n                  color: iconColor,\r\n                  backgroundColor: theme.palette.mode === 'light' \r\n                    ? 'rgba(0,0,0,0.05)' \r\n                    : 'rgba(255,255,255,0.05)',\r\n                  '&:hover': {\r\n                    backgroundColor: theme.palette.mode === 'light'\r\n                      ? 'rgba(79, 70, 229, 0.1)'\r\n                      : 'rgba(167, 139, 250, 0.1)',\r\n                  },\r\n                  transition: 'all 0.2s ease',\r\n                }}\r\n              >\r\n                <Icon fontSize=\"small\" />\r\n              </IconButton>\r\n            ))}\r\n          </Box>\r\n\r\n          {/* Copyright and links */}\r\n          <Box sx={{ \r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: { xs: 'center', md: 'flex-end' },\r\n            gap: 1,\r\n            order: { xs: 1, md: 2 }\r\n          }}>\r\n            <Typography \r\n              variant=\"body2\" \r\n              sx={{ \r\n                color: secondaryTextColor,\r\n                textAlign: { xs: 'center', md: 'right' }\r\n              }}\r\n            >\r\n              Ø¢Â© {new Date().getFullYear()} Swipscout. All rights reserved.\r\n            </Typography>\r\n            <Box sx={{ \r\n              display: 'flex', \r\n              gap: 2,\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'center'\r\n            }}>\r\n              {bottomLinks.map((link) => (\r\n                <Link\r\n                  key={link.text}\r\n                  href={link.href}\r\n                  underline=\"none\"\r\n                  sx={{\r\n                    color: secondaryTextColor,\r\n                    '&:hover': {\r\n                      color: iconColor,\r\n                    },\r\n                    transition: 'color 0.2s ease',\r\n                  }}\r\n                >\r\n                  {link.text}\r\n                </Link>\r\n              ))}\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n      </Container>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\Headers\\admin\\Header.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState  } from 'react';\r\nimport {\r\n  AppBar,\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  IconButton,\r\n  Toolbar,\r\n  Avatar,\r\n  useTheme,\r\n  useMediaQuery,\r\n  Badge,\r\n  Menu,\r\n  MenuItem,\r\n  ListItemIcon,\r\n  ListItemText\r\n} from \"@mui/material\";\r\nimport {\r\n  Brightness4 as DarkModeIcon,\r\n  Brightness7 as LightModeIcon,\r\n  Home,\r\n  Chat,\r\n  ExitToApp,\r\n  Notifications as NotificationsIcon,\r\n  VideoCall as VideoCallIcon,\r\n  Language as LanguageIcon,\r\n  CloudUpload\r\n} from \"@mui/icons-material\";\r\nimport { useAuth } from '../../../contexts/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst Header = ({ darkMode, setDarkMode }) => {\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"md\"));\r\n  const { user, logout, role } = useAuth();\r\n  const navigate = useNavigate();\r\n  const { i18n } = useTranslation();\r\n  const [languageAnchorEl, setLanguageAnchorEl] = useState(null);\r\n\r\n  const languages = [\r\n    { code: 'en', name: 'English', flag: 'Ù‹Úºâ€¡Ø›Ù‹Úºâ€¡Â¸' },\r\n    { code: 'ar', name: 'Ø·Â§Ø¸â€žØ·Â¹Ø·Â±Ø·Â¨Ø¸Ù¹Ø·Â©', flag: 'Ù‹Úºâ€¡Â¸Ù‹Úºâ€¡Â¦' },\r\n    { code: 'zh', name: 'Ù†Â¸Â­Ùˆâ€“â€¡', flag: 'Ù‹Úºâ€¡Â¨Ù‹Úºâ€¡Â³' }\r\n  ];\r\n\r\n  const handleLanguageMenuOpen = (event) => {\r\n    setLanguageAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleLanguageMenuClose = () => {\r\n    setLanguageAnchorEl(null);\r\n  };\r\n\r\n  const handleLanguageChange = (languageCode) => {\r\n    i18n.changeLanguage(languageCode);\r\n    handleLanguageMenuClose();\r\n  };\r\n\r\n  // Safe access to theme properties with fallbacks\r\n  const borderColor = theme.palette.border?.primary || theme.palette.divider || '#e5e7eb';\r\n  const iconColor = theme.palette.icon?.primary ||\r\n                   (theme.palette.mode === 'light' ? '#4f46e5' : '#a78bfa');\r\n  const headerBg = theme.palette.background?.header ||\r\n                  (theme.palette.mode === 'light' ? '#ffffff' : '#1d202e');\r\n  const textColor = theme.palette.text?.primary ||\r\n                   (theme.palette.mode === 'light' ? '#2a3e50' : '#e9e9f4');\r\n  const hoverBg = theme.palette.action?.hover ||\r\n                 (theme.palette.mode === 'light' ? 'rgba(25, 118, 210, 0.04)' : 'rgba(167, 139, 250, 0.04)');\r\n\r\n  const handleProfileClick = () => {\r\n    const path = role === 'job_seeker' ? '/jobseeker-tabs?page=jobseekerprofile' :\r\n                 role === 'employer' ? '/employer-tabs?page=employerprofile' :\r\n                 role === 'admin' ? '/admin-tabs?page=adminprofile' : '/';\r\n    navigate(path);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    navigate(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <AppBar\r\n      position=\"static\"\r\n      elevation={0}\r\n      sx={{\r\n        backgroundColor: headerBg,\r\n        borderBottom: `1px solid ${borderColor}`,\r\n        color: textColor,\r\n        py: 1\r\n      }}\r\n    >\r\n      <Container maxWidth=\"xl\">\r\n        <Toolbar\r\n          disableGutters\r\n          sx={{\r\n            display: \"flex\",\r\n            justifyContent: \"space-between\",\r\n            alignItems: \"center\",\r\n            minHeight: '64px !important'\r\n          }}\r\n        >\r\n          {/* Left section: App title */}\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              gap: 2,\r\n              cursor: 'pointer',\r\n              '&:hover': {\r\n                opacity: 0.8\r\n              }\r\n            }}\r\n            onClick={() => navigate('/')}\r\n          >\r\n            <Typography\r\n              variant=\"h6\"\r\n              component=\"div\"\r\n              sx={{\r\n                fontWeight: 700,\r\n                color: textColor,\r\n                display: 'flex',\r\n                alignItems: 'center'\r\n              }}\r\n            >\r\n              Swipe<span style={{\r\n                color: iconColor,\r\n                marginLeft: '2px'\r\n              }}>scout</span>\r\n            </Typography>\r\n          </Box>\r\n\r\n          {/* Right section: Navigation icons and User Avatar */}\r\n          <Box sx={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            gap: isMobile ? 0.5 : 2\r\n          }}>\r\n            {/* Dark/Light Mode Toggle Icon */}\r\n            <IconButton\r\n              color=\"inherit\"\r\n              onClick={() => setDarkMode(!darkMode) }\r\n              sx={{\r\n                color: iconColor,\r\n                '&:hover': {\r\n                  backgroundColor: hoverBg\r\n                }\r\n              }}\r\n            >\r\n              {darkMode ? <LightModeIcon /> : <DarkModeIcon />}\r\n            </IconButton>\r\n\r\n            {/* Language Toggle Icon */}\r\n            <IconButton\r\n              color=\"inherit\"\r\n              onClick={handleLanguageMenuOpen}\r\n              sx={{\r\n                color: iconColor,\r\n                '&:hover': {\r\n                  backgroundColor: hoverBg\r\n                }\r\n              }}\r\n            >\r\n              <LanguageIcon />\r\n            </IconButton>\r\n\r\n            <IconButton\r\n              color=\"inherit\"\r\n              onClick={() => navigate(\"/\")}\r\n              sx={{\r\n                color: iconColor,\r\n                '&:hover': {\r\n                  backgroundColor: hoverBg\r\n                }\r\n              }}\r\n            >\r\n              <Home />\r\n            </IconButton>\r\n\r\n            <IconButton\r\n              color=\"inherit\"\r\n              onClick={() => {\r\n                //navigate('/jobseeker-tabs?page=messeges')\r\n                    const path = role === 'job_seeker' ? '/jobseeker-tabs?page=messeges' :\r\n                 role === 'employer' ? '/employer-tabs?page=messeges' :\r\n                 role === 'admin' ? '/admin-tabs?page=messeges' : '/';\r\n    navigate(path);\r\n              }}\r\n              sx={{\r\n                color: iconColor,\r\n                '&:hover': {\r\n                  backgroundColor: hoverBg\r\n                }\r\n              }}\r\n            >\r\n              <Badge badgeContent={4} color=\"secondary\">\r\n                <Chat />\r\n              </Badge>\r\n            </IconButton>\r\n\r\n            {/* <IconButton\r\n              color=\"inherit\"\r\n              onClick={() => navigate(\"/notifications\")}\r\n              sx={{\r\n                color: iconColor,\r\n                '&:hover': {\r\n                  backgroundColor: hoverBg\r\n                }\r\n              }}\r\n            >\r\n              <Badge badgeContent={3} color=\"secondary\">\r\n                <NotificationsIcon />\r\n              </Badge>\r\n            </IconButton> */}\r\n     \r\n            <IconButton\r\n              color=\"inherit\"\r\n              onClick={() =>\r\n                {\r\n                 //navigate('/jobseeker-tabs?page=videos&tab=upload-video')}\r\n                 const path = role === 'job_seeker' ? '/jobseeker-tabs?group=profileContent&tab=video-upload' :\r\n                 role === 'employer' ? '/employer-tabs?group=profileContent&tab=upload-video' :\r\n                 role === 'admin' ? '/admin-tabs?group=profileContent&tab=upload-video' : '/';\r\n                 navigate(path);\r\n                }\r\n              }\r\n              sx={{\r\n                color: iconColor,\r\n                '&:hover': {\r\n                  backgroundColor: hoverBg\r\n                }\r\n              }}\r\n            >\r\n              <VideoCallIcon />\r\n            </IconButton>\r\n\r\n            {/* New Video Upload Button */}\r\n            <IconButton\r\n              color=\"inherit\"\r\n              onClick={() => navigate('/video-upload')}\r\n              sx={{ ml: 1 }}\r\n            >\r\n              <CloudUpload />\r\n            </IconButton>\r\n\r\n            <IconButton\r\n              onClick={handleProfileClick}\r\n              sx={{\r\n                p: 0,\r\n                ml: 1,\r\n                '&:hover': {\r\n                  opacity: 0.8\r\n                }\r\n              }}\r\n            >\r\n              <Avatar\r\n                src={user?.photoUrl ? `${import.meta.env.VITE_API_BASE_URL}${user.photoUrl}` : user?.photoUrl || ''}\r\n                alt={user?.displayName?.[0] || user?.name?.[0] || 'U'}\r\n                sx={{\r\n                  width: 40,\r\n                  height: 40,\r\n                  border: `2px solid ${iconColor}`,\r\n                }}\r\n              >\r\n                {user?.displayName?.[0] || user?.name?.[0] || 'U'}\r\n              </Avatar>\r\n            </IconButton>\r\n\r\n            <IconButton\r\n              color=\"inherit\"\r\n              onClick={handleLogout}\r\n              sx={{\r\n                color: iconColor,\r\n                '&:hover': {\r\n                  backgroundColor: hoverBg\r\n                }\r\n              }}\r\n            >\r\n              <ExitToApp />\r\n            </IconButton>\r\n          </Box>\r\n        </Toolbar>\r\n      </Container>\r\n\r\n      {/* Language Selection Menu */}\r\n      <Menu\r\n        anchorEl={languageAnchorEl}\r\n        open={Boolean(languageAnchorEl)}\r\n        onClose={handleLanguageMenuClose}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'right',\r\n        }}\r\n        transformOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'right',\r\n        }}\r\n      >\r\n        {languages.map((language) => (\r\n          <MenuItem\r\n            key={language.code}\r\n            onClick={() => handleLanguageChange(language.code)}\r\n            selected={i18n.language === language.code}\r\n          >\r\n            <ListItemIcon>\r\n              <span style={{ fontSize: '1.2em' }}>{language.flag}</span>\r\n            </ListItemIcon>\r\n            <ListItemText primary={language.name} />\r\n          </MenuItem>\r\n        ))}\r\n      </Menu>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default Header;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\Headers\\Footer.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\Headers\\Header.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\hero\\hero.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useTheme' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 13,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 13,
        "endColumn": 11,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useTheme"
            },
            "fix": {
              "range": [
                184,
                197
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useTheme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 67,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 67,
        "endColumn": 17
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 84,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 84,
        "endColumn": 17
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 101,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 101,
        "endColumn": 17
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState } from \"react\";\r\nimport {\r\n  Box,\r\n  Container,\r\n  Grid,\r\n  Typography,\r\n  Button,\r\n  Chip,\r\n  IconButton,\r\n  CircularProgress,\r\n  TextField,\r\n  InputAdornment,\r\n  useTheme\r\n} from \"@mui/material\";\r\nimport {\r\n  Visibility,\r\n  VisibilityOff,\r\n  Google as GoogleIcon,\r\n  LinkedIn as LinkedInIcon,\r\n} from \"@mui/icons-material\";\r\nimport { AlertCircle as AlertCircleIcon } from \"lucide-react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useAuth } from \"../../hooks/useAuth\";\r\nimport \"./hero.css\";\r\n\r\nconst VITE_BASE_URL = import.meta.env.VITE_BASE_URL || 'http://localhost:5173';\r\n\r\n\r\nconst Hero = () => {\r\n  // const theme = useTheme(); // Removed: unused variable\n  const { loginByEmailAndPassword, authenticateWithGoogle, authenticateWithLinkedIn } = useAuth();\r\n  \r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  \r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [loading, setLoading] = useState({\r\n    email: false,\r\n    google: false,\r\n    linkedin: false,\r\n  });\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleEmailSignIn = async (e) => {\r\n    e.preventDefault();\r\n    setLoading({ ...loading, email: true });\r\n    setError(\"\");\r\n\r\n    try {\r\n      const result = await loginByEmailAndPassword(formData.email, formData.password);\r\n      \r\n      if (result.error) {\r\n        setError(result.message);\r\n      } else {\r\n        // Success - user will be redirected by the auth system\r\n        console.log(\"Login successful\");\r\n      }\r\n    } catch (err) {\r\n      setError(\"An unexpected error occurred. Please try again.\");\r\n    } finally {\r\n      setLoading({ ...loading, email: false });\r\n    }\r\n  };\r\n\r\n  const handleGoogleSignIn = async () => {\r\n    setLoading({ ...loading, google: true });\r\n    setError(\"\");\r\n\r\n    try {\r\n      const result = await authenticateWithGoogle();\r\n      \r\n      if (result.error) {\r\n        setError(result.message);\r\n      }\r\n    } catch (err) {\r\n      setError(\"Google sign-in failed. Please try again.\");\r\n    } finally {\r\n      setLoading({ ...loading, google: false });\r\n    }\r\n  };\r\n\r\n  const handleLinkedInLogin = async () => {\r\n    setLoading({ ...loading, linkedin: true });\r\n    setError(\"\");\r\n\r\n    try {\r\n      const result = await authenticateWithLinkedIn();\r\n      \r\n      if (result.error) {\r\n        setError(result.message);\r\n      }\r\n    } catch (err) {\r\n      setError(\"LinkedIn sign-in failed. Please try again.\");\r\n    } finally {\r\n      setLoading({ ...loading, linkedin: false });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box className=\"hero-section\">\r\n      <Container maxWidth=\"lg\" className=\"hero-container\">\r\n        <Grid container spacing={0} className=\"hero-grid\">\r\n          <Grid item xs={12} md={6} className=\"hero-content-left\">\r\n            <Chip \r\n              className=\"hero-chip\"\r\n              label=\"Ù‹ÚºÚ‘â‚¬ AI-Powered Recruitment Platform\"\r\n            />\r\n            <Typography\r\n              variant=\"h1\"\r\n              className=\"hero-title\"\r\n            >\r\n              The Future of\r\n              <Box component=\"span\" className=\"hero-title-gradient\">\r\n                Video Recruitment\r\n              </Box>\r\n            </Typography>\r\n            <Typography\r\n              variant=\"h5\"\r\n              className=\"hero-subtitle\"\r\n            >\r\n              Connect talent with opportunities through AI-powered video matching. \r\n              Experience recruitment that's personal, efficient, and revolutionary.\r\n            </Typography>\r\n            <Box className=\"hero-buttons-container\">\r\n              <Link\r\n                to=\"/register-form\"\r\n                className=\"hero-button-primary\"\r\n              >\r\n                Get Started\r\n              </Link>\r\n              <Link\r\n                to=\"/videos/all\"\r\n                className=\"hero-button-secondary\"\r\n              >\r\n                Explore\r\n              </Link>\r\n            </Box>\r\n          </Grid>\r\n          <Grid item xs={12} md={6} className=\"hero-content-right\">\r\n            {/* Login Form */}\r\n            <Box className=\"hero-login-form\">\r\n              <Typography\r\n                variant=\"h5\"\r\n                component=\"h4\"\r\n                className=\"hero-login-title\"\r\n              >\r\n                Log in to your account\r\n              </Typography>\r\n              <Box component=\"form\" onSubmit={handleEmailSignIn} className=\"hero-login-form-container\">\r\n                <TextField\r\n                  label=\"Enter your email address\"\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  value={formData.email}\r\n                  onChange={handleChange}\r\n                  required\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  className=\"hero-input-field\"\r\n                />\r\n                <TextField\r\n                  label=\"Enter your password\"\r\n                  type={showPassword ? \"text\" : \"password\"}\r\n                  name=\"password\"\r\n                  value={formData.password}\r\n                  onChange={handleChange}\r\n                  required\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  className=\"hero-input-field\"\r\n                  InputProps={{\r\n                    endAdornment: (\r\n                      <InputAdornment position=\"end\">\r\n                        <IconButton\r\n                          onClick={() => setShowPassword(!showPassword)}\r\n                          edge=\"end\"\r\n                          size=\"small\"\r\n                        >\r\n                          {showPassword ? (\r\n                            <VisibilityOff className=\"hero-visibility-icon\" />\r\n                          ) : (\r\n                            <Visibility className=\"hero-visibility-icon\" />\r\n                          )}\r\n                        </IconButton>\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n                <Link\r\n                  to=\"/forgot-password\"\r\n                  className=\"hero-forgot-password\"\r\n                >\r\n                  Forgot Password?\r\n                </Link>\r\n                <Button \r\n                  type=\"submit\" \r\n                  disabled={loading.email}\r\n                  className=\"hero-login-button\"\r\n                >\r\n                  {loading.email ? (\r\n                    <CircularProgress size={24} color=\"inherit\" />\r\n                  ) : (\r\n                    \"Log In\"\r\n                  )}\r\n                </Button>\r\n              </Box>\r\n              <Box className=\"hero-social-divider\">\r\n                <Typography variant=\"body2\" className=\"hero-social-divider-text\">\r\n                  Or log in with\r\n                </Typography>\r\n              </Box>\r\n              <Box className=\"hero-social-buttons\">\r\n                <Button\r\n                  variant=\"contained\"\r\n                  onClick={handleGoogleSignIn}\r\n                  disabled={loading.google}\r\n                  startIcon={<GoogleIcon />}\r\n                  className=\"hero-google-button\"\r\n                >\r\n                  {loading.google ? (\r\n                    <CircularProgress size={24} color=\"inherit\" />\r\n                  ) : (\r\n                    \"Google\"\r\n                  )}\r\n                </Button>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  onClick={handleLinkedInLogin}\r\n                  disabled={loading.linkedin}\r\n                  startIcon={<LinkedInIcon />}\r\n                  className=\"hero-linkedin-button\"\r\n                >\r\n                  {loading.linkedin ? (\r\n                    <CircularProgress size={24} />\r\n                  ) : (\r\n                    \"LinkedIn\"\r\n                  )}\r\n                </Button>\r\n              </Box>\r\n              {error && (\r\n                <Box className=\"hero-error-alert\">\r\n                  <AlertCircleIcon className=\"hero-error-icon\" />\r\n                  {error}\r\n                </Box>\r\n              )}\r\n              <Typography\r\n                variant=\"body2\"\r\n                className=\"hero-signup-text\"\r\n              >\r\n                Don't have an account?{\" \"}\r\n                <Link\r\n                  to=\"/register-form\"\r\n                  className=\"hero-signup-link\"\r\n                >\r\n                  Sign Up\r\n                </Link>\r\n              </Typography>\r\n            </Box>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Hero;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\HeroSection\\HeroSection.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from \"react\";\r\nimport { Box, Typography, Button, useMediaQuery, useTheme } from \"@mui/material\";\r\nimport phoneImage from \"../../assets/phone.png\";\r\n\r\nconst HeroSection = () => {\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\r\n\r\n  return ( \r\n    <Box\r\n      sx={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'flex-start',\r\n        flexDirection: { xs: 'column', md: 'row' },\r\n        pt: { xs: 8, md: 10 },\r\n        px: { xs: 4, md: 6 },\r\n        pb: { xs: 4, md: 0 },\r\n        background: 'linear-gradient(to right, #1a032a, #003366)',\r\n        color: '#5D9BCF',\r\n        minHeight: { xs: 'auto', md: '50vh' },\r\n        textAlign: { xs: 'center', md: 'left' }\r\n      }}\r\n    >\r\n      <Box\r\n        sx={{\r\n          maxWidth: { xs: '100%', md: '50%' },\r\n          mb: { xs: 4, md: 0 },\r\n          pr: { xs: 0, md: 4 }\r\n        }}\r\n      > \r\n        <Typography\r\n          variant={isMobile ? \"h4\" : \"h3\"}\r\n          align=\"center\"\r\n          component=\"h2\"\r\n          sx={{\r\n            fontWeight: 'bold',\r\n            mb: 2,\r\n            color: 'inherit'\r\n          }}\r\n        >\r\n          Swipe Scout\r\n        </Typography>\r\n        \r\n        <Typography\r\n          variant={isMobile ? \"h5\" : \"h4\"}\r\n          component=\"h2\"\r\n          sx={{\r\n            fontWeight: 'bold',\r\n            mb: 3,\r\n            color: '#5D9BCF',\r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          Introducing Smart Video Recruitment\r\n        </Typography>\r\n        \r\n        <Typography\r\n          variant=\"body1\"\r\n          sx={{\r\n            fontSize: { xs: '1rem', md: '1.1rem' },\r\n            mb: 4,\r\n            lineHeight: 1.6,\r\n            color: '#5D9BCF'\r\n          }}\r\n        >\r\n          SwipeScout replaces boring resumes with 15Ã¢â‚¬â€œ45 second video pitches\r\n          that let job seekers show off their personality, skills, and\r\n          confidence. Employers swipe through talent fast, make smarter\r\n          decisions, and connect instantlyÃ¢â‚¬â€all in a format today's generation\r\n          actually enjoys.\r\n        </Typography>\r\n        \r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            justifyContent: { xs: 'center', md: 'flex-start' },\r\n            gap: 2,\r\n            mt: 3\r\n          }}\r\n        >\r\n\r\n          \r\n    \r\n        </Box>\r\n      </Box>\r\n      \r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          width: { xs: '100%', md: 'auto' },\r\n          mt: { xs: 4, md: 0 }\r\n        }}\r\n      >\r\n        <Box\r\n          component=\"img\"\r\n          src={phoneImage}\r\n          alt=\"App Preview\"\r\n          sx={{\r\n            maxWidth: { xs: '250px', md: '300px' },\r\n            height: 'auto'\r\n          }}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default HeroSection;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\icons\\GoogleIcon.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from 'react';\r\n\r\nconst GoogleIcon = () => {\r\n  return (\r\n    <svg \r\n      xmlns=\"http://www.w3.org/2000/svg\" \r\n      viewBox=\"0 0 48 48\"\r\n      className=\"h-6 w-6\"\r\n    >\r\n      <path fill=\"#FFC107\" d=\"M43.611,20.083H42V20H24v8h11.303c-1.635,4.789-6.66,8.423-11.303,8.423c-6.626,0-12-5.374-12-12c0-6.626,5.374-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.676,43.868,21.341,43.611,20.083z\" />\r\n      <path fill=\"#FF3D00\" d=\"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z\" />\r\n      <path fill=\"#4CAF50\" d=\"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.269,0-9.623-2.924-11.948-7.192l-6.571,4.819C9.656,39.663,16.318,44,24,44z\" />\r\n      <path fill=\"#1976D2\" d=\"M43.611,20.083H42V20H24v8h11.303c-1.635,4.789-6.66,8.423-11.303,8.423c-4.708,0-8.775-2.735-10.707-6.643l-6.19,5.238C9.656,39.663,16.318,44,24,44c11.045,0,20-8.955,20-20C44,22.676,43.868,21.341,43.611,20.083z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default GoogleIcon;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\icons\\heroicons.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\icons\\LinkedInIcon.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from 'react';\r\n\r\nconst LinkedInIcon = () => {\r\n  return (\r\n    <svg \r\n      xmlns=\"http://www.w3.org/2000/svg\" \r\n      viewBox=\"0 0 24 24\" \r\n      fill=\"currentColor\"\r\n      className=\"h-6 w-6\"\r\n    >\r\n      <path d=\"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.765s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.765-1.75 1.765zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.784 7 2.404v6.831z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default LinkedInIcon;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\icons copy\\GoogleIcon.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from 'react';\r\n\r\nconst GoogleIcon = () => {\r\n  return (\r\n    <svg \r\n      xmlns=\"http://www.w3.org/2000/svg\" \r\n      viewBox=\"0 0 48 48\"\r\n      className=\"h-6 w-6\"\r\n    >\r\n      <path fill=\"#FFC107\" d=\"M43.611,20.083H42V20H24v8h11.303c-1.635,4.789-6.66,8.423-11.303,8.423c-6.626,0-12-5.374-12-12c0-6.626,5.374-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.676,43.868,21.341,43.611,20.083z\" />\r\n      <path fill=\"#FF3D00\" d=\"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z\" />\r\n      <path fill=\"#4CAF50\" d=\"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.269,0-9.623-2.924-11.948-7.192l-6.571,4.819C9.656,39.663,16.318,44,24,44z\" />\r\n      <path fill=\"#1976D2\" d=\"M43.611,20.083H42V20H24v8h11.303c-1.635,4.789-6.66,8.423-11.303,8.423c-4.708,0-8.775-2.735-10.707-6.643l-6.19,5.238C9.656,39.663,16.318,44,24,44c11.045,0,20-8.955,20-20C44,22.676,43.868,21.341,43.611,20.083z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default GoogleIcon;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\icons copy\\LinkedInIcon.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from 'react';\r\n\r\nconst LinkedInIcon = () => {\r\n  return (\r\n    <svg \r\n      xmlns=\"http://www.w3.org/2000/svg\" \r\n      viewBox=\"0 0 24 24\" \r\n      fill=\"currentColor\"\r\n      className=\"h-6 w-6\"\r\n    >\r\n      <path d=\"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.765s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.765-1.75 1.765zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.784 7 2.404v6.831z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default LinkedInIcon;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\JobCard\\JobCard.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from 'react';\r\nimport { Card, Typography, Box, Chip } from '@mui/material';\r\nimport { People, LocationOn } from '@mui/icons-material';\r\nimport { useStyles } from './JobCard.styles';\r\n\r\nconst JobCard = ({ job }) => {\r\n  const classes = useStyles();\r\n\r\n  const getStatusChip = (status) => {\r\n    const statusConfig = {\r\n      open: { label: 'Open', color: 'status.open' },\r\n      closed: { label: 'Closed', color: 'status.closed' },\r\n      filled: { label: 'Filled', color: 'status.filled' },\r\n    };\r\n\r\n    const config = statusConfig[status] || statusConfig.open;\r\n    \r\n    return (\r\n      <Chip\r\n        label={config.label}\r\n        size=\"small\"\r\n        sx={{\r\n          backgroundColor: (theme) => theme.palette[config.color].background,\r\n          color: (theme) => theme.palette[config.color].text,\r\n          mt: 1,\r\n        }}\r\n      />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        {job.title}\r\n      </Typography>\r\n      \r\n      <Box display=\"flex\" alignItems=\"center\" mb={1}>\r\n        <People fontSize=\"small\" color=\"action\" sx={{ mr: 1 }} />\r\n        <Typography variant=\"body2\" color=\"textSecondary\">\r\n          {job.applications} Applications\r\n        </Typography>\r\n      </Box>\r\n      \r\n      <Box display=\"flex\" alignItems=\"center\" mb={2}>\r\n        <LocationOn fontSize=\"small\" color=\"action\" sx={{ mr: 1 }} />\r\n        <Typography variant=\"body2\" color=\"textSecondary\">\r\n          {job.location}\r\n        </Typography>\r\n      </Box>\r\n      \r\n      {getStatusChip(job.status)}\r\n      \r\n      <Typography\r\n        component=\"a\"\r\n        href=\"#\"\r\n        className={classes.viewLink}\r\n      >\r\n        View Details Ã¢â€ â€™\r\n      </Typography>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default JobCard;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\JobCard\\JobCard.styles.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\JobCard.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from \"react\";\r\n\r\nconst JobCard = ({ job }) => {\r\n  return (\r\n    <div className=\"job-card\">\r\n      <h3>\r\n        {job.title}\r\n      </h3>\r\n      <p>\r\n        {job.company} - {job.location}\r\n      </p>\r\n      <p>\r\n        {job.salary} Ã¢â‚¬Â¢ Posted {job.posted}\r\n      </p>\r\n      <button>Apply Now</button>\r\n      <button>Save</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JobCard;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\LanguageSelector.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useTheme' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 8,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 8,
        "endColumn": 11,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useTheme"
            },
            "fix": {
              "range": [
                125,
                138
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useTheme'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState  } from 'react';\r\nimport {\r\n  FormControl,\r\n  Select,\r\n  MenuItem,\r\n  Box,\r\n  Typography,\r\n  useTheme,\r\n  IconButton,\r\n  Menu,\r\n  ListItemIcon,\r\n  ListItemText\r\n} from '@mui/material';\r\nimport { Language, ExpandMore } from '@mui/icons-material';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { languages } from './LanguageSelector.utils';\r\n\r\n\r\n\r\nexport default function LanguageSelector({ variant = 'menu', showLabel = true }) {\r\n  const { i18n, t } = useTranslation();\r\n  // const theme = useTheme(); // Removed: unused variable\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const currentLanguage = languages.find(lang => lang.code === i18n.language) || languages[0];\r\n\r\n  const handleLanguageChange = async (languageCode) => {\r\n    try {\r\n      await i18n.changeLanguage(languageCode);\r\n      \r\n      // Update document direction for RTL languages\r\n      const selectedLang = languages.find(lang => lang.code === languageCode);\r\n      if (selectedLang) {\r\n        document.documentElement.dir = selectedLang.dir;\r\n        document.documentElement.lang = languageCode;\r\n        \r\n        // Store language preference\r\n        localStorage.setItem('preferred-language', languageCode);\r\n      }\r\n      \r\n      setAnchorEl(null);\r\n    } catch (error) {\r\n      console.error('Failed to change language:', error);\r\n    }\r\n  };\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  if (variant === 'select') {\r\n    return (\r\n      <FormControl size=\"small\" sx={{ minWidth: 120 }}>\r\n        <Select\r\n          value={i18n.language}\r\n          onChange={(e) => handleLanguageChange(e.target.value)}\r\n          displayEmpty\r\n          sx={{\r\n            '& .MuiSelect-select': {\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: 1\r\n            }\r\n          }}\r\n        >\r\n          {languages.map((language) => (\r\n            <MenuItem key={language.code} value={language.code}>\r\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                <span style={{ fontSize: '1.2em' }}>{language.flag}</span>\r\n                <Typography variant=\"body2\">\r\n                  {showLabel ? language.nativeName : language.code.toUpperCase()}\r\n                </Typography>\r\n              </Box>\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <IconButton\r\n        onClick={handleClick}\r\n        size=\"small\"\r\n        sx={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          gap: 0.5,\r\n          color: 'inherit',\r\n          '&:hover': {\r\n            backgroundColor: 'rgba(255, 255, 255, 0.1)'\r\n          }\r\n        }}\r\n        aria-label={t('header.languageSelector')}\r\n      >\r\n        {/* Flag */}\r\n        <span style={{ fontSize: '1.2em', lineHeight: 1 }}>{currentLanguage.flag}</span>\r\n\r\n        {/* Small letters badge next to the flag */}\r\n        {showLabel && (\r\n          <span\r\n            style={{\r\n              display: 'inline-flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              minWidth: 28,\r\n              height: 20,\r\n              padding: '0 6px',\r\n              marginLeft: 6,\r\n              borderRadius: 9999,\r\n              background: 'rgba(0,0,0,0.06)',\r\n              fontSize: 12,\r\n              fontWeight: 600,\r\n            }}\r\n            aria-hidden\r\n          >\r\n            {currentLanguage.code.toUpperCase()}\r\n          </span>\r\n        )}\r\n\r\n        <ExpandMore sx={{ fontSize: '1rem' }} />\r\n      </IconButton>\r\n\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        open={open}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'right',\r\n        }}\r\n        transformOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'right',\r\n        }}\r\n        PaperProps={{\r\n          sx: {\r\n            mt: 1,\r\n            minWidth: 180,\r\n            '& .MuiMenuItem-root': {\r\n              px: 2,\r\n              py: 1\r\n            }\r\n          }\r\n        }}\r\n      >\r\n        {languages.map((language) => (\r\n          <MenuItem\r\n            key={language.code}\r\n            onClick={() => handleLanguageChange(language.code)}\r\n            selected={language.code === i18n.language}\r\n            sx={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: 1.5\r\n            }}\r\n          >\r\n            <ListItemIcon sx={{ minWidth: 'auto', display: 'flex', alignItems: 'center', gap: 1 }}>\r\n              <span style={{ fontSize: '1.25em', lineHeight: 1 }}>{language.flag}</span>\r\n              <span\r\n                style={{\r\n                  display: 'inline-flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  minWidth: 28,\r\n                  height: 20,\r\n                  padding: '0 6px',\r\n                  borderRadius: 9999,\r\n                  background: language.code === i18n.language ? 'rgba(0,0,0,0.12)' : 'transparent',\r\n                  fontSize: 12,\r\n                  fontWeight: language.code === i18n.language ? 700 : 500,\r\n                }}\r\n                aria-hidden\r\n              >\r\n                {language.code.toUpperCase()}\r\n              </span>\r\n            </ListItemIcon>\r\n            <ListItemText\r\n              primary={language.nativeName}\r\n              secondary={language.name !== language.nativeName ? language.name : null}\r\n              primaryTypographyProps={{\r\n                variant: 'body2',\r\n                fontWeight: language.code === i18n.language ? 600 : 400\r\n              }}\r\n              secondaryTypographyProps={{\r\n                variant: 'caption',\r\n                color: 'text.secondary'\r\n              }}\r\n            />\r\n          </MenuItem>\r\n        ))}\r\n      </Menu>\r\n    </>\r\n  );\r\n}\r\n\r\n// NOTE: useLanguageSetup moved to `LanguageSelector.utils.js` to avoid exporting helpers alongside components\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\LanguageSelector.utils.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\LanguageSwitcher.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\Layout\\DashboardLayout.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useMediaQuery' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 16,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 16,
        "endColumn": 16,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useMediaQuery"
            },
            "fix": {
              "range": [
                198,
                216
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useMediaQuery'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 42,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 42,
        "endColumn": 14,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                796,
                821
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'notificationAnchor' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 48,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 48,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "notificationAnchor"
            },
            "fix": {
              "range": [
                1080,
                1098
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'notificationAnchor'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleNotificationOpen' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 62,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 62,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleNotificationOpen"
            },
            "fix": {
              "range": [
                1392,
                1490
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleNotificationOpen'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleNotificationClose' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 66,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 66,
        "endColumn": 32,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleNotificationClose"
            },
            "fix": {
              "range": [
                1496,
                1575
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleNotificationClose'."
          }
        ]
      },
      {
        "ruleId": "no-dupe-keys",
        "severity": 2,
        "message": "Duplicate key 'ml'.",
        "line": 123,
        "column": 11,
        "nodeType": "ObjectExpression",
        "messageId": "unexpected",
        "endLine": 123,
        "endColumn": 13
      }
    ],
    "suppressedMessages": [],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState } from 'react';\r\nimport {\r\n  Box,\r\n  Drawer,\r\n  AppBar,\r\n  Toolbar,\r\n  List,\r\n  Typography,\r\n  Divider,\r\n  IconButton,\r\n  Avatar,\r\n  Menu,\r\n  MenuItem,\r\n  Badge,\r\n  useTheme,\r\n  useMediaQuery,\r\n  Paper,\r\n  Tooltip\r\n} from '@mui/material';\r\nimport {\r\n  Menu as MenuIcon,\r\n  AccountCircle,\r\n  Settings as SettingsIcon,\r\n  Logout as LogoutIcon,\r\n  DarkMode,\r\n  LightMode\r\n} from '@mui/icons-material';\r\nimport { useTranslation } from '../../hooks/useTranslation';\r\nimport LanguageSwitcher from '../LanguageSwitcher';\r\nimport NotificationCenter from '@/components/NotificationCenter';\r\n\r\nconst drawerWidth = 280;\r\n\r\nconst DashboardLayout = ({ \r\n  children, \r\n  sidebarItems = [], \r\n  title = 'Dashboard',\r\n  userInfo = {},\r\n  onThemeToggle,\r\n  isDarkMode = false\r\n}) => {\r\n  const theme = useTheme();\r\n  // const isMobile = useMediaQuery(theme.breakpoints.down('md')); // Removed: unused variable\n  const { t, isRTL } = useTranslation();\r\n  \r\n  const [mobileOpen, setMobileOpen] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [notificationAnchor, setNotificationAnchor] = useState(null);\r\n\r\n  const handleDrawerToggle = () => {\r\n    setMobileOpen(!mobileOpen);\r\n  };\r\n\r\n  const handleProfileMenuOpen = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleProfileMenuClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleNotificationOpen = (event) => {\r\n    setNotificationAnchor(event.currentTarget);\r\n  };\r\n\r\n  const handleNotificationClose = () => {\r\n    setNotificationAnchor(null);\r\n  };\r\n\r\n  const drawer = (\r\n    <Box sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n      {/* Logo/Brand */}\r\n      <Box sx={{ p: 2, textAlign: 'center' }}>\r\n        <Typography variant=\"h5\" component=\"div\" sx={{ fontWeight: 'bold', color: 'primary.main' }}>\r\n          SwipeScout\r\n        </Typography>\r\n        <Typography variant=\"caption\" color=\"text.secondary\">\r\n          {t('common.dashboard')}\r\n        </Typography>\r\n      </Box>\r\n      \r\n      <Divider />\r\n      \r\n      {/* Navigation Items */}\r\n      <Box sx={{ flex: 1, overflow: 'auto' }}>\r\n        <List sx={{ px: 1, py: 2 }}>\r\n          {sidebarItems}\r\n        </List>\r\n      </Box>\r\n      \r\n      {/* User Info at Bottom */}\r\n      <Box sx={{ p: 2, borderTop: 1, borderColor: 'divider' }}>\r\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n          <Avatar \r\n            src={userInfo.avatar} \r\n            alt={userInfo.name}\r\n            sx={{ width: 40, height: 40 }}\r\n          >\r\n            {userInfo.name?.charAt(0)}\r\n          </Avatar>\r\n          <Box sx={{ flex: 1, minWidth: 0 }}>\r\n            <Typography variant=\"subtitle2\" noWrap>\r\n              {userInfo.name || t('common.welcome')}\r\n            </Typography>\r\n            <Typography variant=\"caption\" color=\"text.secondary\" noWrap>\r\n              {userInfo.role || userInfo.email}\r\n            </Typography>\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n\r\n  return (\r\n    <Box sx={{ display: 'flex', minHeight: '100vh', direction: isRTL ? 'rtl' : 'ltr' }}>\r\n      {/* App Bar */}\r\n      <AppBar\r\n        position=\"fixed\"\r\n        sx={{\r\n          width: { md: `calc(100% - ${drawerWidth}px)` },\r\n          ml: { md: `${drawerWidth}px` },\r\n          mr: { md: isRTL ? `${drawerWidth}px` : 0 },\r\n          ml: { md: isRTL ? 0 : `${drawerWidth}px` }\r\n        }}\r\n      >\r\n        <Toolbar>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            edge=\"start\"\r\n            onClick={handleDrawerToggle}\r\n            sx={{ mr: 2, display: { md: 'none' } }}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          \r\n          <Typography variant=\"h6\" noWrap component=\"div\" sx={{ flexGrow: 1 }}>\r\n            {title}\r\n          </Typography>\r\n\r\n          {/* Theme Toggle */}\r\n          <Tooltip title={isDarkMode ? t('common.lightMode') : t('common.darkMode')}>\r\n            <IconButton color=\"inherit\" onClick={onThemeToggle}>\r\n              {isDarkMode ? <LightMode /> : <DarkMode />}\r\n            </IconButton>\r\n          </Tooltip>\r\n\r\n          {/* Language Switcher */}\r\n          <Box sx={{ mx: 1 }}>\r\n            <LanguageSwitcher variant=\"standard\" />\r\n          </Box>\r\n\r\n          {/* Notifications */}\r\n          <NotificationCenter />\r\n\r\n          {/* Profile Menu */}\r\n          <Tooltip title={t('common.profile')}>\r\n            <IconButton\r\n              size=\"large\"\r\n              edge=\"end\"\r\n              aria-label=\"account of current user\"\r\n              aria-haspopup=\"true\"\r\n              onClick={handleProfileMenuOpen}\r\n              color=\"inherit\"\r\n            >\r\n              <Avatar \r\n                src={userInfo.avatar} \r\n                alt={userInfo.name}\r\n                sx={{ width: 32, height: 32 }}\r\n              >\r\n                {userInfo.name?.charAt(0) || <AccountCircle />}\r\n              </Avatar>\r\n            </IconButton>\r\n          </Tooltip>\r\n        </Toolbar>\r\n      </AppBar>\r\n\r\n      {/* Navigation Drawer */}\r\n      <Box\r\n        component=\"nav\"\r\n        sx={{ width: { md: drawerWidth }, flexShrink: { md: 0 } }}\r\n      >\r\n        <Drawer\r\n          variant=\"temporary\"\r\n          open={mobileOpen}\r\n          onClose={handleDrawerToggle}\r\n          ModalProps={{ keepMounted: true }}\r\n          sx={{\r\n            display: { xs: 'block', md: 'none' },\r\n            '& .MuiDrawer-paper': { \r\n              boxSizing: 'border-box', \r\n              width: drawerWidth,\r\n              direction: isRTL ? 'rtl' : 'ltr'\r\n            },\r\n          }}\r\n        >\r\n          {drawer}\r\n        </Drawer>\r\n        <Drawer\r\n          variant=\"permanent\"\r\n          sx={{\r\n            display: { xs: 'none', md: 'block' },\r\n            '& .MuiDrawer-paper': { \r\n              boxSizing: 'border-box', \r\n              width: drawerWidth,\r\n              direction: isRTL ? 'rtl' : 'ltr'\r\n            },\r\n          }}\r\n          open\r\n        >\r\n          {drawer}\r\n        </Drawer>\r\n      </Box>\r\n\r\n      {/* Main Content */}\r\n      <Box\r\n        component=\"main\"\r\n        sx={{\r\n          flexGrow: 1,\r\n          p: 3,\r\n          width: { md: `calc(100% - ${drawerWidth}px)` },\r\n          mt: '64px',\r\n          minHeight: 'calc(100vh - 64px)',\r\n          backgroundColor: 'background.default'\r\n        }}\r\n      >\r\n        {children}\r\n      </Box>\r\n\r\n      {/* Profile Menu */}\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleProfileMenuClose}\r\n        onClick={handleProfileMenuClose}\r\n        PaperProps={{\r\n          elevation: 0,\r\n          sx: {\r\n            overflow: 'visible',\r\n            filter: 'drop-shadow(0px 2px 8px rgba(0,0,0,0.32))',\r\n            mt: 1.5,\r\n            '& .MuiAvatar-root': {\r\n              width: 32,\r\n              height: 32,\r\n              ml: -0.5,\r\n              mr: 1,\r\n            },\r\n          },\r\n        }}\r\n        transformOrigin={{ horizontal: 'right', vertical: 'top' }}\r\n        anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}\r\n      >\r\n        <MenuItem onClick={handleProfileMenuClose}>\r\n          <Avatar /> {t('common.profile')}\r\n        </MenuItem>\r\n        <MenuItem onClick={handleProfileMenuClose}>\r\n          <SettingsIcon sx={{ mr: 2 }} /> {t('common.settings')}\r\n        </MenuItem>\r\n        <Divider />\r\n        <MenuItem onClick={handleProfileMenuClose}>\r\n          <LogoutIcon sx={{ mr: 2 }} /> {t('common.logout')}\r\n        </MenuItem>\r\n      </Menu>\r\n\r\n      {/* Notifications popover handled by NotificationCenter */}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default DashboardLayout;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\Layout\\SidebarItem.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'divider' is assigned a value but never used. Allowed unused args must match /^_/u.",
        "line": 25,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 25,
        "endColumn": 10,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "divider"
            },
            "fix": {
              "range": [
                423,
                443
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'divider'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React from 'react';\r\nimport {\r\n  ListItem,\r\n  ListItemButton,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Badge,\r\n  Chip,\r\n  Box,\r\n  Collapse,\r\n  List\r\n} from '@mui/material';\r\nimport { ExpandLess, ExpandMore } from '@mui/icons-material';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\n\r\nconst SidebarItem = ({\r\n  icon: Icon,\r\n  text,\r\n  path,\r\n  badge,\r\n  chip,\r\n  children,\r\n  onClick,\r\n  disabled = false,\r\n  divider = false\r\n}) => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [open, setOpen] = React.useState(false);\r\n  \r\n  const isActive = location.pathname === path || \r\n    (children && children.some(child => location.pathname === child.path));\r\n  \r\n  const hasChildren = children && children.length > 0;\r\n\r\n  const handleClick = () => {\r\n    if (disabled) return;\r\n    \r\n    if (hasChildren) {\r\n      setOpen(!open);\r\n    } else if (path) {\r\n      navigate(path);\r\n    } else if (onClick) {\r\n      onClick();\r\n    }\r\n  };\r\n\r\n  const renderIcon = () => {\r\n    if (!Icon) return null;\r\n    \r\n    const iconElement = <Icon sx={{ color: isActive ? 'primary.main' : 'inherit' }} />;\r\n    \r\n    if (badge) {\r\n      return (\r\n        <Badge badgeContent={badge} color=\"error\">\r\n          {iconElement}\r\n        </Badge>\r\n      );\r\n    }\r\n    \r\n    return iconElement;\r\n  };\r\n\r\n  const renderText = () => (\r\n    <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', width: '100%' }}>\r\n      <ListItemText \r\n        primary={text}\r\n        sx={{\r\n          '& .MuiListItemText-primary': {\r\n            fontWeight: isActive ? 600 : 400,\r\n            color: isActive ? 'primary.main' : 'inherit'\r\n          }\r\n        }}\r\n      />\r\n      {chip && (\r\n        <Chip \r\n          label={chip} \r\n          size=\"small\" \r\n          color=\"primary\" \r\n          variant=\"outlined\"\r\n          sx={{ ml: 1 }}\r\n        />\r\n      )}\r\n      {hasChildren && (open ? <ExpandLess /> : <ExpandMore />)}\r\n    </Box>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <ListItem disablePadding sx={{ display: 'block' }}>\r\n        <ListItemButton\r\n          onClick={handleClick}\r\n          disabled={disabled}\r\n          sx={{\r\n            minHeight: 48,\r\n            px: 2.5,\r\n            borderRadius: 2,\r\n            mx: 1,\r\n            mb: 0.5,\r\n            backgroundColor: isActive ? 'primary.light' : 'transparent',\r\n            '&:hover': {\r\n              backgroundColor: isActive ? 'primary.light' : 'action.hover',\r\n            },\r\n            '&.Mui-disabled': {\r\n              opacity: 0.5\r\n            }\r\n          }}\r\n        >\r\n          {Icon && (\r\n            <ListItemIcon sx={{ minWidth: 40 }}>\r\n              {renderIcon()}\r\n            </ListItemIcon>\r\n          )}\r\n          {renderText()}\r\n        </ListItemButton>\r\n      </ListItem>\r\n      \r\n      {hasChildren && (\r\n        <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n          <List component=\"div\" disablePadding sx={{ pl: 2 }}>\r\n            {children.map((child, index) => (\r\n              <SidebarItem\r\n                key={index}\r\n                icon={child.icon}\r\n                text={child.text}\r\n                path={child.path}\r\n                badge={child.badge}\r\n                chip={child.chip}\r\n                onClick={child.onClick}\r\n                disabled={child.disabled}\r\n              />\r\n            ))}\r\n          </List>\r\n        </Collapse>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SidebarItem;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\LazyComponents.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 2,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                153,
                164
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "react-refresh/only-export-components",
        "severity": 1,
        "message": "Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.",
        "line": 75,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "namedExport",
        "endLine": 75,
        "endColumn": 29,
        "suppressions": [
          {
            "kind": "directive",
            "justification": "TODO: move helpers/lazy-exports to a separate file to support fast refresh"
          }
        ]
      }
    ],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿/* eslint-disable react-refresh/only-export-components -- TODO: move helpers/lazy-exports to a separate file to support fast refresh */\r\nimport React, { useContext, lazy, Suspense  } from 'react';\r\nimport { Box, CircularProgress, Skeleton, Typography } from '@mui/material';\r\n\r\n// Lazy load heavy components\r\nexport const LazyAllVideosPage = lazy(() => import('../pages/AllVideosPage'));\r\nexport const LazyJobSearchPage = lazy(() => import('../pages/JobSearchPage'));\r\nexport const LazyCandidateSearchPage = lazy(() => import('../pages/CandidateSearchPage'));\r\nexport const LazyVideoEditPage = lazy(() => import('../pages/VideoEditPage'));\r\nexport const LazyResumeBuilderPage = lazy(() => import('../pages/ResumeBuilderPage'));\r\nexport const LazyPricingPage = lazy(() => import('../pages/PricingPage'));\r\nexport const LazyInterviewPage = lazy(() => import('../pages/InterviewPage'));\r\nexport const LazyCompanyVideos = lazy(() => import('../pages/CompanyVideos'));\r\nexport const LazySavedVideosPage = lazy(() => import('../pages/SavedVideosPage'));\r\nexport const LazyLikedVideosPage = lazy(() => import('../pages/LikedVideosPage'));\r\nexport const LazyNotificationSettingsPage = lazy(() => import('../pages/NotificationSettingsPage'));\r\n\r\n// Loading fallback components\r\nexport const PageLoadingFallback = ({ height = '400px' }) => (\r\n  <Box\r\n    sx={{\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      height,\r\n      gap: 2,\r\n    }}\r\n  >\r\n    <CircularProgress size={40} />\r\n    <Typography variant=\"body2\" color=\"text.secondary\">\r\n      Loading...\r\n    </Typography>\r\n  </Box>\r\n);\r\n\r\nexport const VideoGridSkeleton = ({ count = 6 }) => (\r\n  <Box sx={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))', gap: 2, p: 2 }}>\r\n    {Array.from({ length: count }).map((_, index) => (\r\n      <Box key={index}>\r\n        <Skeleton variant=\"rectangular\" height={200} sx={{ borderRadius: 2, mb: 1 }} />\r\n        <Skeleton variant=\"text\" width=\"80%\" />\r\n        <Skeleton variant=\"text\" width=\"60%\" />\r\n      </Box>\r\n    ))}\r\n  </Box>\r\n);\r\n\r\nexport const VideoPlayerSkeleton = () => (\r\n  <Box sx={{ width: '100%', height: '100vh', bgcolor: 'black', position: 'relative' }}>\r\n    <Skeleton variant=\"rectangular\" width=\"100%\" height=\"100%\" />\r\n    <Box sx={{ position: 'absolute', bottom: 20, left: 20, right: 20 }}>\r\n      <Skeleton variant=\"text\" width=\"70%\" sx={{ mb: 1 }} />\r\n      <Skeleton variant=\"text\" width=\"50%\" />\r\n    </Box>\r\n  </Box>\r\n);\r\n\r\nexport const TabContentSkeleton = () => (\r\n  <Box sx={{ p: 3 }}>\r\n    <Skeleton variant=\"text\" width=\"30%\" height={40} sx={{ mb: 2 }} />\r\n    <Box sx={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(250px, 1fr))', gap: 2 }}>\r\n      {Array.from({ length: 4 }).map((_, index) => (\r\n        <Box key={index}>\r\n          <Skeleton variant=\"rectangular\" height={150} sx={{ borderRadius: 1, mb: 1 }} />\r\n          <Skeleton variant=\"text\" width=\"90%\" />\r\n          <Skeleton variant=\"text\" width=\"70%\" />\r\n        </Box>\r\n      ))}\r\n    </Box>\r\n  </Box>\r\n);\r\n\r\n// Higher-order component for lazy loading with error boundary\r\nexport const withLazyLoading = (LazyComponent, fallback = <PageLoadingFallback />) => {\r\n  return React.forwardRef((props, ref) => (\r\n    <Suspense fallback={fallback}>\r\n      <LazyComponent {...props} ref={ref} />\r\n    </Suspense>\r\n  ));\r\n};\r\n\r\n// Error boundary for lazy components\r\nexport class LazyLoadErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { hasError: false, error: null };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    return { hasError: true, error };\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    console.error('Lazy loading error:', error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            height: '400px',\r\n            gap: 2,\r\n            p: 3,\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" color=\"error\">\r\n            Failed to load component\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"text.secondary\">\r\n            Please refresh the page or try again later.\r\n          </Typography>\r\n          <button\r\n            onClick={() => this.setState({ hasError: false, error: null })}\r\n            style={{\r\n              padding: '8px 16px',\r\n              borderRadius: '4px',\r\n              border: '1px solid #ccc',\r\n              background: '#f5f5f5',\r\n              cursor: 'pointer',\r\n            }}\r\n          >\r\n            Retry\r\n          </button>\r\n        </Box>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\LazyImage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState  } from 'react';\r\nimport { Box, Skeleton } from '@mui/material';\r\nimport { useLazyImage } from '../hooks/useIntersectionObserver';\r\n\r\nconst LazyImage = ({\r\n  src,\r\n  alt,\r\n  width,\r\n  height,\r\n  sx = {},\r\n  skeletonProps = {},\r\n  onLoad,\r\n  onError,\r\n  ...props\r\n}) => {\r\n  const [ref, imageSrc, isLoaded] = useLazyImage(src);\r\n  const [hasError, setHasError] = useState(false);\r\n\r\n  const handleLoad = (event) => {\r\n    if (onLoad) onLoad(event);\r\n  };\r\n\r\n  const handleError = (event) => {\r\n    setHasError(true);\r\n    if (onError) onError(event);\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      ref={ref}\r\n      sx={{\r\n        width,\r\n        height,\r\n        position: 'relative',\r\n        overflow: 'hidden',\r\n        ...sx,\r\n      }}\r\n      {...props}\r\n    >\r\n      {!isLoaded && !hasError && (\r\n        <Skeleton\r\n          variant=\"rectangular\"\r\n          width=\"100%\"\r\n          height=\"100%\"\r\n          {...skeletonProps}\r\n        />\r\n      )}\r\n      \r\n      {imageSrc && !hasError && (\r\n        <img\r\n          src={imageSrc}\r\n          alt={alt}\r\n          onLoad={handleLoad}\r\n          onError={handleError}\r\n          style={{\r\n            width: '100%',\r\n            height: '100%',\r\n            objectFit: 'cover',\r\n            display: isLoaded ? 'block' : 'none',\r\n          }}\r\n        />\r\n      )}\r\n      \r\n      {hasError && (\r\n        <Box\r\n          sx={{\r\n            width: '100%',\r\n            height: '100%',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            bgcolor: 'grey.200',\r\n            color: 'grey.500',\r\n            fontSize: '0.875rem',\r\n          }}\r\n        >\r\n          Failed to load image\r\n        </Box>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default LazyImage;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\LazyVideo.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState, useRef, useEffect  } from 'react';\r\nimport { Box, IconButton, CircularProgress } from '@mui/material';\r\nimport { PlayArrow, Pause, VolumeOff, VolumeUp } from '@mui/icons-material';\r\nimport { useLazyVideo } from '../hooks/useIntersectionObserver';\r\n\r\nconst LazyVideo = ({\r\n  src,\r\n  poster,\r\n  width = '100%',\r\n  height = '100%',\r\n  autoPlay = false,\r\n  muted = true,\r\n  loop = false,\r\n  controls = false,\r\n  preload = 'metadata',\r\n  sx = {},\r\n  onPlay,\r\n  onPause,\r\n  onLoadStart,\r\n  onLoadedData,\r\n  onError,\r\n  showPlayButton = true,\r\n  showVolumeButton = true,\r\n  ...props\r\n}) => {\r\n  const videoRef = useRef(null);\r\n  const [ref, shouldLoad, isVisible] = useLazyVideo(src);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [isMuted, setIsMuted] = useState(muted);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [hasError, setHasError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const video = videoRef.current;\r\n    if (!video) return;\r\n\r\n    // Auto play when visible and autoPlay is enabled\r\n    if (isVisible && autoPlay && shouldLoad) {\r\n      video.play().catch(() => {\r\n        // Auto play failed, which is normal in many browsers\r\n      });\r\n    } else if (!isVisible && isPlaying) {\r\n      video.pause();\r\n    }\r\n  }, [isVisible, autoPlay, shouldLoad, isPlaying]);\r\n\r\n  const handlePlay = () => {\r\n    const video = videoRef.current;\r\n    if (video) {\r\n      if (isPlaying) {\r\n        video.pause();\r\n      } else {\r\n        video.play();\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleVolumeToggle = () => {\r\n    const video = videoRef.current;\r\n    if (video) {\r\n      video.muted = !isMuted;\r\n      setIsMuted(!isMuted);\r\n    }\r\n  };\r\n\r\n  const handleVideoPlay = (event) => {\r\n    setIsPlaying(true);\r\n    if (onPlay) onPlay(event);\r\n  };\r\n\r\n  const handleVideoPause = (event) => {\r\n    setIsPlaying(false);\r\n    if (onPause) onPause(event);\r\n  };\r\n\r\n  const handleLoadStart = (event) => {\r\n    setIsLoading(true);\r\n    if (onLoadStart) onLoadStart(event);\r\n  };\r\n\r\n  const handleLoadedData = (event) => {\r\n    setIsLoading(false);\r\n    if (onLoadedData) onLoadedData(event);\r\n  };\r\n\r\n  const handleError = (event) => {\r\n    setHasError(true);\r\n    setIsLoading(false);\r\n    if (onError) onError(event);\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      ref={ref}\r\n      sx={{\r\n        width,\r\n        height,\r\n        position: 'relative',\r\n        overflow: 'hidden',\r\n        bgcolor: 'black',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        ...sx,\r\n      }}\r\n      {...props}\r\n    >\r\n      {shouldLoad && !hasError ? (\r\n        <>\r\n          <video\r\n            ref={videoRef}\r\n            src={src}\r\n            poster={poster}\r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            muted={isMuted}\r\n            loop={loop}\r\n            controls={controls}\r\n            preload={preload}\r\n            onPlay={handleVideoPlay}\r\n            onPause={handleVideoPause}\r\n            onLoadStart={handleLoadStart}\r\n            onLoadedData={handleLoadedData}\r\n            onError={handleError}\r\n            style={{\r\n              width: '100%',\r\n              height: '100%',\r\n              objectFit: 'cover',\r\n            }}\r\n          />\r\n          \r\n          {/* Loading indicator */}\r\n          {isLoading && (\r\n            <Box\r\n              sx={{\r\n                position: 'absolute',\r\n                top: '50%',\r\n                left: '50%',\r\n                transform: 'translate(-50%, -50%)',\r\n                zIndex: 2,\r\n              }}\r\n            >\r\n              <CircularProgress size={40} sx={{ color: 'white' }} />\r\n            </Box>\r\n          )}\r\n          \r\n          {/* Custom controls overlay */}\r\n          {!controls && (\r\n            <Box\r\n              sx={{\r\n                position: 'absolute',\r\n                bottom: 16,\r\n                left: 16,\r\n                right: 16,\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                alignItems: 'center',\r\n                zIndex: 3,\r\n              }}\r\n            >\r\n              {showPlayButton && (\r\n                <IconButton\r\n                  onClick={handlePlay}\r\n                  sx={{\r\n                    color: 'white',\r\n                    bgcolor: 'rgba(0, 0, 0, 0.5)',\r\n                    '&:hover': {\r\n                      bgcolor: 'rgba(0, 0, 0, 0.7)',\r\n                    },\r\n                  }}\r\n                >\r\n                  {isPlaying ? <Pause /> : <PlayArrow />}\r\n                </IconButton>\r\n              )}\r\n              \r\n              {showVolumeButton && (\r\n                <IconButton\r\n                  onClick={handleVolumeToggle}\r\n                  sx={{\r\n                    color: 'white',\r\n                    bgcolor: 'rgba(0, 0, 0, 0.5)',\r\n                    '&:hover': {\r\n                      bgcolor: 'rgba(0, 0, 0, 0.7)',\r\n                    },\r\n                  }}\r\n                >\r\n                  {isMuted ? <VolumeOff /> : <VolumeUp />}\r\n                </IconButton>\r\n              )}\r\n            </Box>\r\n          )}\r\n        </>\r\n      ) : hasError ? (\r\n        <Box\r\n          sx={{\r\n            color: 'white',\r\n            textAlign: 'center',\r\n            p: 2,\r\n          }}\r\n        >\r\n          Failed to load video\r\n        </Box>\r\n      ) : (\r\n        <Box\r\n          sx={{\r\n            width: '100%',\r\n            height: '100%',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            bgcolor: 'grey.900',\r\n          }}\r\n        >\r\n          {poster ? (\r\n            <img\r\n              src={poster}\r\n              alt=\"Video poster\"\r\n              style={{\r\n                width: '100%',\r\n                height: '100%',\r\n                objectFit: 'cover',\r\n              }}\r\n            />\r\n          ) : (\r\n            <Box sx={{ color: 'grey.500' }}>\r\n              Video will load when visible\r\n            </Box>\r\n          )}\r\n        </Box>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default LazyVideo;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\LinkedInCallback.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 22,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 32,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                19,
                31
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import { useEffect , useContext } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nexport default function LinkedInCallback() {\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    const params = new URLSearchParams(location.search);\r\n    const idToken = params.get('id_token');\r\n    \r\n    if (idToken && window.opener) {\r\n      window.opener.postMessage({\r\n        type: 'LINKEDIN_AUTH_RESPONSE',\r\n        id_token: idToken\r\n      }, window.location.origin);\r\n    }\r\n    window.close();\r\n  }, [location]);\r\n\r\n  return <div>Completing LinkedIn login...</div>;\r\n}",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\LoginForm.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\MobileNavigation.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'user' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 15,
        "column": 13,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 15,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "user"
            },
            "fix": {
              "range": [
                448,
                453
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'user'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { BottomNavigation, BottomNavigationAction, Paper, useTheme } from '@mui/material';\r\nimport {\r\n  Home as HomeIcon,\r\n  Search as SearchIcon,\r\n  Chat as ChatIcon,\r\n  Person as PersonIcon,\r\n  Notifications as NotificationsIcon\r\n} from '@mui/icons-material';\r\n\r\nimport { useAuth } from '../hooks/useAuth';\r\n\r\nconst MobileNavigation = () => {\r\n    const { user, role } = useAuth();\r\n    \r\n  const theme = useTheme();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  React.useEffect(() => {\r\n    // Set the active tab based on current route\r\n    const path = location.pathname;\r\n    if (path.startsWith('/home')) setValue(0);\r\n    else if (path.startsWith('/search')) setValue(1);\r\n    else if (path.startsWith('/chat')) setValue(2);\r\n    else if (path.startsWith('/notifications')) setValue(3);\r\n    else if (path.startsWith('/profile')) setValue(4);\r\n  }, [location]);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n    switch (newValue) {\r\n      case 0:\r\n        navigate(role === 'employer' ? '/employer-dashboard' : '/dashboard');\r\n        break;\r\n      case 1:\r\n        navigate('/search');\r\n        break;\r\n      case 2:\r\n        navigate('/chat');\r\n        break;\r\n      case 3:\r\n        navigate('/notifications');\r\n        break;\r\n      case 4:\r\n        navigate(role=='employer'?'/employer-profile':'Job-seeker-profile');\r\n        break;\r\n      default:\r\n        navigate('#');\r\n    }\r\n  };\r\n \r\n//   const MobileNavigation = ({ items = defaultItems }) => {\r\n//     // ...render items dynamically\r\n//   }\r\n\r\n  return (\r\n    <Paper \r\n      sx={{ \r\n        position: 'fixed', \r\n        bottom: 0, \r\n        left: 0, \r\n        right: 0, \r\n        zIndex: theme.zIndex.appBar,\r\n        display: { xs: 'block', md: 'none' }\r\n      }} \r\n      elevation={3}\r\n    >\r\n      <BottomNavigation\r\n        value={value}\r\n        onChange={handleChange}\r\n        showLabels\r\n        sx={{\r\n          backgroundColor: theme.palette.background.paper,\r\n          '& .Mui-selected': {\r\n            color: theme.palette.primary.main,\r\n          }\r\n        }}\r\n      >\r\n        <BottomNavigationAction label=\"Home\" icon={<HomeIcon />} />\r\n        <BottomNavigationAction label=\"Search\" icon={<SearchIcon />} />\r\n        <BottomNavigationAction label=\"Chat\" icon={<ChatIcon />} />\r\n        <BottomNavigationAction label=\"Notifications\" icon={<NotificationsIcon />} />\r\n        <BottomNavigationAction label=\"Profile\" icon={<PersonIcon />} />\r\n        {/* <BottomNavigationAction \r\n  label=\"Chat\" \r\n  icon={\r\n    <Badge badgeContent={unreadCount} color=\"error\">\r\n      <ChatIcon />\r\n    </Badge>\r\n  } \r\n/> */}\r\n      </BottomNavigation>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default MobileNavigation;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\NotificationCenter.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getNotifications' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 40,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 40,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "getNotifications"
            },
            "fix": {
              "range": [
                594,
                611
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'getNotifications'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getUnreadNotificationCount' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 41,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 41,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "getUnreadNotificationCount"
            },
            "fix": {
              "range": [
                610,
                642
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'getUnreadNotificationCount'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'markNotificationAsRead' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 42,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 42,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "markNotificationAsRead"
            },
            "fix": {
              "range": [
                642,
                670
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'markNotificationAsRead'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'markAllNotificationsAsRead' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 43,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 43,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "markAllNotificationsAsRead"
            },
            "fix": {
              "range": [
                670,
                702
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'markAllNotificationsAsRead'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'deleteNotification' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 44,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 44,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "deleteNotification"
            },
            "fix": {
              "range": [
                702,
                725
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'deleteNotification'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'refresh'. Either include it or remove the dependency array.",
        "line": 68,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 68,
        "endColumn": 12,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [refresh, user]",
            "fix": {
              "range": [
                1640,
                1646
              ],
              "text": "[refresh, user]"
            }
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'refresh'. Either include it or remove the dependency array.",
        "line": 74,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 74,
        "endColumn": 12,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [open, refresh]",
            "fix": {
              "range": [
                1720,
                1726
              ],
              "text": "[open, refresh]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  IconButton,\r\n  Badge,\r\n  Popover,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemAvatar,\r\n  Avatar,\r\n  Typography,\r\n  Button,\r\n  Divider,\r\n  CircularProgress,\r\n  Alert,\r\n  Chip,\r\n  Menu,\r\n  MenuItem\r\n} from '@mui/material';\r\nimport {\r\n  Notifications,\r\n  NotificationsNone,\r\n  MarkEmailRead,\r\n  Delete,\r\n  Settings,\r\n  MoreVert,\r\n  Work,\r\n  Message,\r\n  Person,\r\n  Star,\r\n  Info,\r\n  ThumbUp,\r\n  ChatBubbleOutline,\r\n  Bookmark,\r\n  Share as ShareIcon,\r\n  Update as UpdateIcon\r\n} from '@mui/icons-material';\r\nimport { \r\n  getNotifications, \r\n  getUnreadNotificationCount, \r\n  markNotificationAsRead, \r\n  markAllNotificationsAsRead,\r\n  deleteNotification \r\n} from '@/services/api';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useNotifications } from '@/contexts/NotificationContext';\r\n\r\nexport default function NotificationCenter() {\r\n  const { user } = useAuth();\r\n  const { notifications, unreadCount, loading, refresh, markRead, markAllRead, remove } = useNotifications();\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [page, setPage] = useState(1);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [menuAnchor, setMenuAnchor] = useState(null);\r\n  const [selectedNotification, setSelectedNotification] = useState(null);\r\n\r\n  const open = Boolean(anchorEl);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      // Best-effort refresh on mount\r\n      refresh();\r\n      // Optional periodic refresh as a fallback to sockets\r\n      const interval = setInterval(refresh, 30000);\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      refresh();\r\n    }\r\n  }, [open]);\r\n\r\n  const loadNotifications = async (pageNum = 1) => {\r\n    // Context refresh pulls first page; simple hasMore heuristic\r\n    await refresh();\r\n    setHasMore(false);\r\n    setPage(pageNum);\r\n  };\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n    setMenuAnchor(null);\r\n    setSelectedNotification(null);\r\n  };\r\n\r\n  const handleNotificationClick = async (notification) => {\r\n    if (!notification.read_at) {\r\n      try {\r\n        await markRead(notification.id);\r\n      } catch (error) {\r\n        console.error('Error marking notification as read:', error);\r\n      }\r\n    }\r\n\r\n    // Navigate to notification link if available (link or data.link)\r\n    const navLink = notification.link || notification?.data?.link;\r\n    if (navLink) {\r\n      window.open(navLink, '_blank');\r\n    }\r\n  };\r\n\r\n  const handleMarkAllAsRead = async () => {\r\n    try {\r\n      await markAllRead();\r\n    } catch (error) {\r\n      console.error('Error marking all as read:', error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteNotification = async (notificationId) => {\r\n    try {\r\n      await remove(notificationId);\r\n      setMenuAnchor(null);\r\n      setSelectedNotification(null);\r\n    } catch (error) {\r\n      console.error('Error deleting notification:', error);\r\n    }\r\n  };\r\n\r\n  const handleLoadMore = () => {\r\n    if (!loading && hasMore) {\r\n      loadNotifications(page + 1);\r\n    }\r\n  };\r\n\r\n  const getNotificationIcon = (type) => {\r\n    switch (type) {\r\n      case 'video_like':\r\n        return <ThumbUp />;\r\n      case 'video_comment':\r\n        return <ChatBubbleOutline />;\r\n      case 'video_save':\r\n        return <Bookmark />;\r\n      case 'video_share':\r\n        return <ShareIcon />;\r\n      case 'job_match':\r\n      case 'job_application':\r\n        return <Work />;\r\n      case 'application_update':\r\n        return <UpdateIcon />;\r\n      case 'message':\r\n        return <Message />;\r\n      case 'profile_view':\r\n        return <Person />;\r\n      case 'interview':\r\n        return <Star />;\r\n      default:\r\n        return <Info />;\r\n    }\r\n  };\r\n\r\n  const getNotificationColor = (type) => {\r\n    switch (type) {\r\n      case 'video_like':\r\n        return '#1976d2';\r\n      case 'video_comment':\r\n        return '#00796b';\r\n      case 'video_save':\r\n        return '#5d4037';\r\n      case 'video_share':\r\n        return '#6a1b9a';\r\n      case 'job_match':\r\n        return '#4caf50';\r\n      case 'job_application':\r\n        return '#2196f3';\r\n      case 'application_update':\r\n        return '#009688';\r\n      case 'message':\r\n        return '#ff9800';\r\n      case 'profile_view':\r\n        return '#9c27b0';\r\n      case 'interview':\r\n        return '#f44336';\r\n      default:\r\n        return '#757575';\r\n    }\r\n  };\r\n\r\n  const formatTimeAgo = (dateString) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffInMinutes = Math.floor((now - date) / (1000 * 60));\r\n    \r\n    if (diffInMinutes < 1) return 'Just now';\r\n    if (diffInMinutes < 60) return `${diffInMinutes}m ago`;\r\n    \r\n    const diffInHours = Math.floor(diffInMinutes / 60);\r\n    if (diffInHours < 24) return `${diffInHours}h ago`;\r\n    \r\n    const diffInDays = Math.floor(diffInHours / 24);\r\n    if (diffInDays < 7) return `${diffInDays}d ago`;\r\n    \r\n    return date.toLocaleDateString();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <IconButton\r\n        onClick={handleClick}\r\n        color=\"inherit\"\r\n        sx={{ mr: 1 }}\r\n      >\r\n        <Badge badgeContent={unreadCount} color=\"error\">\r\n          {unreadCount > 0 ? <Notifications /> : <NotificationsNone />}\r\n        </Badge>\r\n      </IconButton>\r\n\r\n      <Popover\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'right',\r\n        }}\r\n        transformOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'right',\r\n        }}\r\n        PaperProps={{\r\n          sx: { width: 400, maxHeight: 600 }\r\n        }}\r\n      >\r\n        <Box p={2}>\r\n          <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\r\n            <Typography variant=\"h6\">\r\n              Notifications\r\n            </Typography>\r\n            <Box>\r\n              {unreadCount > 0 && (\r\n                <Button\r\n                  size=\"small\"\r\n                  startIcon={<MarkEmailRead />}\r\n                  onClick={handleMarkAllAsRead}\r\n                  sx={{ mr: 1 }}\r\n                >\r\n                  Mark all read\r\n                </Button>\r\n              )}\r\n              <IconButton size=\"small\">\r\n                <Settings />\r\n              </IconButton>\r\n            </Box>\r\n          </Box>\r\n\r\n      {notifications.length === 0 && !loading ? (\r\n            <Box textAlign=\"center\" py={4}>\r\n              <NotificationsNone sx={{ fontSize: 48, color: 'text.secondary', mb: 2 }} />\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                No notifications yet\r\n              </Typography>\r\n            </Box>\r\n          ) : (\r\n            <List sx={{ p: 0 }}>\r\n              {notifications.map((notification, index) => (\r\n                <React.Fragment key={notification.id}>\r\n                  <ListItem\r\n                    button\r\n                    onClick={() => handleNotificationClick(notification)}\r\n                    sx={{\r\n                      bgcolor: notification.read_at ? 'transparent' : 'action.hover',\r\n                      borderRadius: 1,\r\n                      mb: 0.5,\r\n                      position: 'relative'\r\n                    }}\r\n                  >\r\n                    <ListItemAvatar>\r\n                      <Avatar\r\n                        sx={{\r\n                          bgcolor: getNotificationColor(notification.type),\r\n                          width: 40,\r\n                          height: 40\r\n                        }}\r\n                      >\r\n                        {getNotificationIcon(notification.type)}\r\n                      </Avatar>\r\n                    </ListItemAvatar>\r\n                    \r\n                    <ListItemText\r\n                      primary={\r\n                        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"flex-start\">\r\n                          <Typography\r\n                            variant=\"body2\"\r\n                            fontWeight={notification.read_at ? 'normal' : 'bold'}\r\n                            sx={{ flex: 1, mr: 1 }}\r\n                          >\r\n                            {notification.title || notification.body}\r\n                          </Typography>\r\n                          <IconButton\r\n                            size=\"small\"\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              setMenuAnchor(e.currentTarget);\r\n                              setSelectedNotification(notification);\r\n                            }}\r\n                          >\r\n                            <MoreVert fontSize=\"small\" />\r\n                          </IconButton>\r\n                        </Box>\r\n                      }\r\n                      secondary={\r\n                        <Box>\r\n                          {notification.body && (\r\n                            <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n                              {notification.body}\r\n                            </Typography>\r\n                          )}\r\n                          <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                            <Typography variant=\"caption\" color=\"text.secondary\">\r\n                              {formatTimeAgo(notification.created_at)}\r\n                            </Typography>\r\n                            {!notification.read_at && (\r\n                              <Chip\r\n                                label=\"New\"\r\n                                size=\"small\"\r\n                                color=\"primary\"\r\n                                sx={{ height: 20, fontSize: '0.7rem' }}\r\n                              />\r\n                            )}\r\n                          </Box>\r\n                        </Box>\r\n                      }\r\n                    />\r\n                  </ListItem>\r\n                  {index < notifications.length - 1 && <Divider />}\r\n                </React.Fragment>\r\n              ))}\r\n            </List>\r\n          )}\r\n\r\n          {loading && (\r\n            <Box display=\"flex\" justifyContent=\"center\" p={2}>\r\n              <CircularProgress size={24} />\r\n            </Box>\r\n          )}\r\n\r\n          {hasMore && !loading && notifications.length > 0 && (\r\n            <Box textAlign=\"center\" mt={2}>\r\n              <Button onClick={handleLoadMore} size=\"small\">\r\n                Load More\r\n              </Button>\r\n            </Box>\r\n          )}\r\n        </Box>\r\n      </Popover>\r\n\r\n      {/* Notification Menu */}\r\n      <Menu\r\n        anchorEl={menuAnchor}\r\n        open={Boolean(menuAnchor)}\r\n        onClose={() => {\r\n          setMenuAnchor(null);\r\n          setSelectedNotification(null);\r\n        }}\r\n      >\r\n        {selectedNotification && !selectedNotification.read_at && (\r\n          <MenuItem onClick={() => handleNotificationClick(selectedNotification)}>\r\n            <MarkEmailRead sx={{ mr: 1 }} />\r\n            Mark as read\r\n          </MenuItem>\r\n        )}\r\n        <MenuItem \r\n          onClick={() => handleDeleteNotification(selectedNotification?.id)}\r\n          sx={{ color: 'error.main' }}\r\n        >\r\n          <Delete sx={{ mr: 1 }} />\r\n          Delete\r\n        </MenuItem>\r\n      </Menu>\r\n    </>\r\n  );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\NotificationItem\\NotificationItem.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from 'react';\r\nimport { Box, Typography, Divider } from '@mui/material';\r\nimport { useStyles } from './NotificationItem.styles';\r\n\r\nconst NotificationItem = ({ notification, lastItem }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      <Box className={classes.notificationItem}>\r\n        <Typography variant=\"body2\">{notification.message}</Typography>\r\n        <Typography variant=\"caption\" color=\"textSecondary\" className={classes.notificationTime}>\r\n          {notification.time}\r\n        </Typography>\r\n      </Box>\r\n      {!lastItem && <Divider />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NotificationItem;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\NotificationItem\\NotificationItem.styles.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\NotificationItem copy\\NotificationItem.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from 'react';\r\nimport { Box, Typography, Divider } from '@mui/material';\r\nimport { useStyles } from './NotificationItem.styles';\r\n\r\nconst NotificationItem = ({ notification, lastItem }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      <Box className={classes.notificationItem}>\r\n        <Typography variant=\"body2\">{notification.message}</Typography>\r\n        <Typography variant=\"caption\" color=\"textSecondary\" className={classes.notificationTime}>\r\n          {notification.time}\r\n        </Typography>\r\n      </Box>\r\n      {!lastItem && <Divider />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NotificationItem;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\NotificationItem copy\\NotificationItem.styles.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\notifications\\TopNotificationBanner.jsx",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'TopNotificationBanner' is not defined.",
        "line": 1,
        "column": 1,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 22
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿TopNotificationBanner",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\notifications copy\\TopNotificationBanner.jsx",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'TopNotificationBanner' is not defined.",
        "line": 1,
        "column": 1,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1,
        "endColumn": 22
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿TopNotificationBanner",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\PerformanceOptimizedVideoGrid.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useMemo' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 52,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 59,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useMemo"
            },
            "fix": {
              "range": [
                49,
                58
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useMemo'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'totalHeight' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 255,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 255,
        "endColumn": 16,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "totalHeight"
            },
            "fix": {
              "range": [
                7190,
                7208
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'totalHeight'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState, useCallback, useMemo  } from 'react';\r\nimport {\r\n  Box,\r\n  Card,\r\n  CardMedia,\r\n  CardContent,\r\n  Typography,\r\n  IconButton,\r\n  Avatar,\r\n  Chip,\r\n  Skeleton,\r\n} from '@mui/material';\r\nimport {\r\n  PlayArrow,\r\n  Favorite,\r\n  FavoriteBorder,\r\n  Bookmark,\r\n  BookmarkBorder,\r\n  Share,\r\n  MoreVert,\r\n} from '@mui/icons-material';\r\nimport { useGridVirtualization } from '../hooks/useVirtualization';\r\nimport { useIntersectionObserver } from '../hooks/useIntersectionObserver';\r\nimport LazyImage from './LazyImage';\r\nimport LazyVideo from './LazyVideo';\r\n\r\nconst VideoCard = React.memo(({ video, onPlay, onLike, onSave, onShare, style }) => {\r\n  const [isLiked, setIsLiked] = useState(video.isLiked || false);\r\n  const [isSaved, setIsSaved] = useState(video.isSaved || false);\r\n  const [ref, isVisible] = useIntersectionObserver({\r\n    threshold: 0.1,\r\n    triggerOnce: true,\r\n  });\r\n\r\n  const handleLike = useCallback(() => {\r\n    setIsLiked(prev => !prev);\r\n    onLike?.(video.id, !isLiked);\r\n  }, [video.id, isLiked, onLike]);\r\n\r\n  const handleSave = useCallback(() => {\r\n    setIsSaved(prev => !prev);\r\n    onSave?.(video.id, !isSaved);\r\n  }, [video.id, isSaved, onSave]);\r\n\r\n  const handlePlay = useCallback(() => {\r\n    onPlay?.(video);\r\n  }, [video, onPlay]);\r\n\r\n  const handleShare = useCallback(() => {\r\n    onShare?.(video);\r\n  }, [video, onShare]);\r\n\r\n  return (\r\n    <Card\r\n      ref={ref}\r\n      sx={{\r\n        position: 'absolute',\r\n        width: 280,\r\n        height: 360,\r\n        borderRadius: 2,\r\n        overflow: 'hidden',\r\n        cursor: 'pointer',\r\n        transition: 'all 0.3s ease',\r\n        '&:hover': {\r\n          transform: 'translateY(-4px)',\r\n          boxShadow: 3,\r\n        },\r\n        ...style,\r\n      }}\r\n      onClick={handlePlay}\r\n    >\r\n      {/* Video Thumbnail */}\r\n      <Box sx={{ position: 'relative', height: 200 }}>\r\n        {isVisible ? (\r\n          <LazyImage\r\n            src={video.thumbnail || video.poster}\r\n            alt={video.title}\r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            sx={{ bgcolor: 'grey.900' }}\r\n          />\r\n        ) : (\r\n          <Skeleton variant=\"rectangular\" width=\"100%\" height=\"100%\" />\r\n        )}\r\n        \r\n        {/* Play Button Overlay */}\r\n        <Box\r\n          sx={{\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            bgcolor: 'rgba(0, 0, 0, 0.3)',\r\n            opacity: 0,\r\n            transition: 'opacity 0.3s ease',\r\n            '&:hover': {\r\n              opacity: 1,\r\n            },\r\n          }}\r\n        >\r\n          <IconButton\r\n            sx={{\r\n              bgcolor: 'rgba(255, 255, 255, 0.9)',\r\n              '&:hover': {\r\n                bgcolor: 'white',\r\n              },\r\n            }}\r\n          >\r\n            <PlayArrow sx={{ fontSize: 32 }} />\r\n          </IconButton>\r\n        </Box>\r\n\r\n        {/* Duration Badge */}\r\n        {video.duration && (\r\n          <Chip\r\n            label={formatDuration(video.duration)}\r\n            size=\"small\"\r\n            sx={{\r\n              position: 'absolute',\r\n              bottom: 8,\r\n              right: 8,\r\n              bgcolor: 'rgba(0, 0, 0, 0.7)',\r\n              color: 'white',\r\n              fontSize: '0.75rem',\r\n            }}\r\n          />\r\n        )}\r\n\r\n        {/* Video Type Badge */}\r\n        {video.type && (\r\n          <Chip\r\n            label={video.type}\r\n            size=\"small\"\r\n            color={video.type === 'Job Seeker' ? 'primary' : 'secondary'}\r\n            sx={{\r\n              position: 'absolute',\r\n              top: 8,\r\n              left: 8,\r\n              fontSize: '0.75rem',\r\n            }}\r\n          />\r\n        )}\r\n      </Box>\r\n\r\n      {/* Content */}\r\n      <CardContent sx={{ p: 2, height: 160 }}>\r\n        {/* User Info */}\r\n        <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n          <Avatar\r\n            src={video.user?.avatar}\r\n            sx={{ width: 32, height: 32, mr: 1 }}\r\n          >\r\n            {video.user?.name?.[0] || 'U'}\r\n          </Avatar>\r\n          <Box sx={{ flex: 1, minWidth: 0 }}>\r\n            <Typography variant=\"body2\" fontWeight=\"bold\" noWrap>\r\n              {video.user?.name || 'Anonymous'}\r\n            </Typography>\r\n            <Typography variant=\"caption\" color=\"text.secondary\" noWrap>\r\n              {video.user?.title || video.user?.company || 'User'}\r\n            </Typography>\r\n          </Box>\r\n        </Box>\r\n\r\n        {/* Video Title */}\r\n        <Typography\r\n          variant=\"body2\"\r\n          fontWeight=\"medium\"\r\n          sx={{\r\n            mb: 1,\r\n            display: '-webkit-box',\r\n            WebkitLineClamp: 2,\r\n            WebkitBoxOrient: 'vertical',\r\n            overflow: 'hidden',\r\n            lineHeight: 1.3,\r\n          }}\r\n        >\r\n          {video.title}\r\n        </Typography>\r\n\r\n        {/* Stats and Actions */}\r\n        <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mt: 'auto' }}>\r\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n            <Typography variant=\"caption\" color=\"text.secondary\">\r\n              {video.views || 0} views\r\n            </Typography>\r\n            <Typography variant=\"caption\" color=\"text.secondary\">\r\n              Ã¢â‚¬Â¢\r\n            </Typography>\r\n            <Typography variant=\"caption\" color=\"text.secondary\">\r\n              {formatTimeAgo(video.createdAt)}\r\n            </Typography>\r\n          </Box>\r\n\r\n          <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n            <IconButton\r\n              size=\"small\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                handleLike();\r\n              }}\r\n              sx={{ color: isLiked ? 'error.main' : 'text.secondary' }}\r\n            >\r\n              {isLiked ? <Favorite fontSize=\"small\" /> : <FavoriteBorder fontSize=\"small\" />}\r\n            </IconButton>\r\n            \r\n            <IconButton\r\n              size=\"small\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                handleSave();\r\n              }}\r\n              sx={{ color: isSaved ? 'primary.main' : 'text.secondary' }}\r\n            >\r\n              {isSaved ? <Bookmark fontSize=\"small\" /> : <BookmarkBorder fontSize=\"small\" />}\r\n            </IconButton>\r\n            \r\n            <IconButton\r\n              size=\"small\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                handleShare();\r\n              }}\r\n              sx={{ color: 'text.secondary' }}\r\n            >\r\n              <Share fontSize=\"small\" />\r\n            </IconButton>\r\n          </Box>\r\n        </Box>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n});\r\n\r\nconst PerformanceOptimizedVideoGrid = ({\r\n  videos = [],\r\n  onVideoPlay,\r\n  onVideoLike,\r\n  onVideoSave,\r\n  onVideoShare,\r\n  containerWidth = 1200,\r\n  containerHeight = 600,\r\n  loading = false,\r\n}) => {\r\n  const itemWidth = 280;\r\n  const itemHeight = 360;\r\n  const gap = 16;\r\n\r\n  const {\r\n    visibleItems,\r\n    totalHeight,\r\n    containerProps,\r\n    innerProps,\r\n  } = useGridVirtualization({\r\n    items: videos,\r\n    itemWidth,\r\n    itemHeight,\r\n    containerWidth,\r\n    containerHeight,\r\n    gap,\r\n  });\r\n\r\n  const handleVideoPlay = useCallback((video) => {\r\n    onVideoPlay?.(video);\r\n  }, [onVideoPlay]);\r\n\r\n  const handleVideoLike = useCallback((videoId, isLiked) => {\r\n    onVideoLike?.(videoId, isLiked);\r\n  }, [onVideoLike]);\r\n\r\n  const handleVideoSave = useCallback((videoId, isSaved) => {\r\n    onVideoSave?.(videoId, isSaved);\r\n  }, [onVideoSave]);\r\n\r\n  const handleVideoShare = useCallback((video) => {\r\n    onVideoShare?.(video);\r\n  }, [onVideoShare]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box sx={{ p: 2 }}>\r\n        <Box\r\n          sx={{\r\n            display: 'grid',\r\n            gridTemplateColumns: `repeat(auto-fill, minmax(${itemWidth}px, 1fr))`,\r\n            gap: `${gap}px`,\r\n          }}\r\n        >\r\n          {Array.from({ length: 12 }).map((_, index) => (\r\n            <Card key={index} sx={{ height: itemHeight }}>\r\n              <Skeleton variant=\"rectangular\" height={200} />\r\n              <CardContent>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                  <Skeleton variant=\"circular\" width={32} height={32} sx={{ mr: 1 }} />\r\n                  <Box sx={{ flex: 1 }}>\r\n                    <Skeleton variant=\"text\" width=\"70%\" />\r\n                    <Skeleton variant=\"text\" width=\"50%\" />\r\n                  </Box>\r\n                </Box>\r\n                <Skeleton variant=\"text\" width=\"90%\" />\r\n                <Skeleton variant=\"text\" width=\"60%\" />\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </Box>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box {...containerProps}>\r\n      <Box {...innerProps}>\r\n        {visibleItems.map((video) => (\r\n          <VideoCard\r\n            key={video.id}\r\n            video={video}\r\n            onPlay={handleVideoPlay}\r\n            onLike={handleVideoLike}\r\n            onSave={handleVideoSave}\r\n            onShare={handleVideoShare}\r\n            style={{\r\n              left: video.left,\r\n              top: video.top,\r\n            }}\r\n          />\r\n        ))}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\n// Utility functions\r\nconst formatDuration = (seconds) => {\r\n  const mins = Math.floor(seconds / 60);\r\n  const secs = seconds % 60;\r\n  return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n};\r\n\r\nconst formatTimeAgo = (date) => {\r\n  if (!date) return '';\r\n  const now = new Date();\r\n  const diff = now - new Date(date);\r\n  const days = Math.floor(diff / (1000 * 60 * 60 * 24));\r\n  \r\n  if (days === 0) return 'Today';\r\n  if (days === 1) return 'Yesterday';\r\n  if (days < 7) return `${days} days ago`;\r\n  if (days < 30) return `${Math.floor(days / 7)} weeks ago`;\r\n  return `${Math.floor(days / 30)} months ago`;\r\n};\r\n\r\nexport default PerformanceOptimizedVideoGrid;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\ReportButton.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\RoleCard.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from \"react\";\r\n\r\nconst RoleCard = ({ icon, title, description }) => {\r\n  return (\r\n    <div className=\"role-card\">\r\n      <i className={icon} />\r\n      <h3>\r\n        {title}\r\n      </h3>\r\n      <p>\r\n        {description}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoleCard;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\SearchBar.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from \"react\";\r\n\r\nconst SearchBar = () => {\r\n  return (\r\n    <div className=\"search-container\">\r\n      <input type=\"text\" placeholder=\"Search for job titles, skills\" />\r\n      <input type=\"text\" placeholder=\"Location\" />\r\n      <select>\r\n        <option>Job Type</option>\r\n        <option>Full-time</option>\r\n        <option>Part-time</option>\r\n      </select>\r\n      <select>\r\n        <option>Experience Level</option>\r\n        <option>Entry Level</option>\r\n        <option>Mid Level</option>\r\n        <option>Senior Level</option>\r\n      </select>\r\n      <button>Search Jobs</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\TabPanel.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 4,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                109,
                125
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿// components/TabPanel.jsx\r\n// A reusable component to handle the content rendering for tabs.\r\n\r\nimport React, { useContext } from 'react';\r\nimport { Box } from \"@mui/material\";\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>\r\n          {children}\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TabPanel;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\TestimonialCard.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 2,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                14,
                30
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿\r\nimport React, { useContext } from \"react\";\r\nimport { Box, Typography, Avatar } from \"@mui/material\";\r\n\r\n\r\nconst TestimonialCard = ({ image, name, role, testimonial }) => {\r\n  return (\r\n    <Box\r\n      className=\"testimonial-card\"\r\n      sx={{\r\n        width: '300px',\r\n        padding: '20px',\r\n        borderRadius: '10px',\r\n        boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',\r\n        textAlign: 'center',\r\n        background: '#ffffff',\r\n        color: 'black',\r\n      }}\r\n    >\r\n      {image && (\r\n        <Avatar\r\n          src={image}\r\n          alt={name}\r\n          sx={{\r\n            width: '100%',\r\n            height: 'auto',\r\n            maxHeight: '200px',\r\n            objectFit: 'cover',\r\n            borderRadius: '10px',\r\n            marginBottom: '15px',\r\n          }}\r\n        />\r\n      )}\r\n      <Typography variant=\"h6\" sx={{ fontWeight: 'bold' }}>\r\n        {name}\r\n      </Typography>\r\n      <Typography variant=\"body2\" sx={{ color: 'gray', marginBottom: '10px' }}>\r\n        {role}\r\n      </Typography>\r\n      <Typography variant=\"body1\">{testimonial}</Typography>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default TestimonialCard;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\accordion.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\alert-dialog.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\alert.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\avatar.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\badge.jsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-refresh/only-export-components",
        "severity": 1,
        "message": "Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.",
        "line": 33,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "namedExport",
        "endLine": 33,
        "endColumn": 30,
        "suppressions": [
          {
            "kind": "directive",
            "justification": "TODO: move badgeVariants to a separate helper file"
          }
        ]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\breadcrumb.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'asChild' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 36,
        "column": 55,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 36,
        "endColumn": 62,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "asChild"
            },
            "fix": {
              "range": [
                951,
                960
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'asChild'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import * as React from \"react\"\r\nimport { ChevronRight } from \"lucide-react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Breadcrumb = React.forwardRef(({ className, ...props }, ref) => (\r\n  <nav\r\n    ref={ref}\r\n    aria-label=\"breadcrumb\"\r\n    className={cn(\"\", className)}\r\n    {...props}\r\n  />\r\n))\r\nBreadcrumb.displayName = \"Breadcrumb\"\r\n\r\nconst BreadcrumbList = React.forwardRef(({ className, ...props }, ref) => (\r\n  <ol\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nBreadcrumbList.displayName = \"BreadcrumbList\"\r\n\r\nconst BreadcrumbItem = React.forwardRef(({ className, ...props }, ref) => (\r\n  <li\r\n    ref={ref}\r\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\r\n    {...props}\r\n  />\r\n))\r\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\r\n\r\nconst BreadcrumbLink = React.forwardRef(({ className, asChild, ...props }, ref) => {\r\n  return (\r\n    <a\r\n      ref={ref}\r\n      className={cn(\"transition-colors hover:text-foreground\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\r\n\r\nconst BreadcrumbPage = React.forwardRef(({ className, ...props }, ref) => (\r\n  <span\r\n    ref={ref}\r\n    role=\"link\"\r\n    aria-disabled=\"true\"\r\n    aria-current=\"page\"\r\n    className={cn(\"font-normal text-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\r\n\r\nconst BreadcrumbSeparator = ({ children, className, ...props }) => (\r\n  <li\r\n    role=\"presentation\"\r\n    aria-hidden=\"true\"\r\n    className={cn(\"[&>svg]:size-3.5\", className)}\r\n    {...props}\r\n  >\r\n    {children ?? <ChevronRight />}\r\n  </li>\r\n)\r\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\r\n\r\nconst BreadcrumbEllipsis = ({ className, ...props }) => (\r\n  <span\r\n    role=\"presentation\"\r\n    aria-hidden=\"true\"\r\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\r\n    {...props}\r\n  >\r\n    <span className=\"sr-only\">More</span>\r\n    ...\r\n  </span>\r\n)\r\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\r\n\r\nexport {\r\n  Breadcrumb,\r\n  BreadcrumbList,\r\n  BreadcrumbItem,\r\n  BreadcrumbLink,\r\n  BreadcrumbPage,\r\n  BreadcrumbSeparator,\r\n  BreadcrumbEllipsis,\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\button.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'asChild' is assigned a value but never used. Allowed unused args must match /^_/u.",
        "line": 32,
        "column": 62,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 32,
        "endColumn": 69,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "asChild"
            },
            "fix": {
              "range": [
                1303,
                1320
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'asChild'."
          }
        ]
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "react-refresh/only-export-components",
        "severity": 1,
        "message": "Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.",
        "line": 43,
        "column": 18,
        "nodeType": "Identifier",
        "messageId": "namedExport",
        "endLine": 43,
        "endColumn": 32,
        "suppressions": [
          {
            "kind": "directive",
            "justification": "TODO: move buttonVariants to a separate helper file"
          }
        ]
      }
    ],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿/* eslint-disable react-refresh/only-export-components -- TODO: move buttonVariants to a separate helper file */\r\nimport * as React from \"react\"\r\nimport { cva } from \"class-variance-authority\"\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-purple-500 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-purple-600 text-white hover:bg-purple-700\",\r\n        destructive: \"bg-red-600 text-white hover:bg-red-700\",\r\n        outline: \"border border-slate-300 bg-white hover:bg-slate-100 hover:text-slate-900\",\r\n        secondary: \"bg-slate-100 text-slate-900 hover:bg-slate-200\",\r\n        ghost: \"hover:bg-slate-100 hover:text-slate-900\",\r\n        link: \"underline-offset-4 hover:underline text-purple-600\",\r\n      },\r\n      size: {\r\n        default: \"h-10 py-2 px-4\",\r\n        sm: \"h-9 px-3 rounded-md\",\r\n        lg: \"h-11 px-8 rounded-md\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nconst Button = React.forwardRef(({ className, variant, size, asChild = false, ...props }, ref) => {\r\n  return (\r\n    <button\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      ref={ref}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\card.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\checkbox.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\dialog.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\dropdown-menu.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\EmptyState.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\input.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\label.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\LoadingSpinner.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\NotificationSnackbar.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\progress.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\scroll-area.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\SearchInput.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'showSuggestions' is assigned a value but never used. Allowed unused args must match /^_/u.",
        "line": 29,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 29,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "showSuggestions"
            },
            "fix": {
              "range": [
                533,
                560
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'showSuggestions'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setLoading' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 42,
        "column": 19,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 42,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setLoading"
            },
            "fix": {
              "range": [
                892,
                904
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setLoading'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleSuggestionClick' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 77,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 77,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleSuggestionClick"
            },
            "fix": {
              "range": [
                1631,
                1804
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleSuggestionClick'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n  TextField,\r\n  InputAdornment,\r\n  IconButton,\r\n  Autocomplete,\r\n  Box,\r\n  Typography,\r\n  Chip,\r\n  Paper,\r\n  Popper,\r\n  useTheme\r\n} from '@mui/material';\r\nimport {\r\n  Search as SearchIcon,\r\n  Clear as ClearIcon,\r\n  History as HistoryIcon,\r\n  TrendingUp as TrendingIcon\r\n} from '@mui/icons-material';\r\n\r\nconst SearchInput = ({\r\n  value = '',\r\n  onChange,\r\n  onSearch,\r\n  placeholder = 'Ø·Â§Ø¸â€žØ·Â¨Ø·Â­Ø·Â«...',\r\n  suggestions = [],\r\n  recentSearches = [],\r\n  trendingSearches = [],\r\n  showSuggestions = true,\r\n  showHistory = true,\r\n  variant = 'outlined',\r\n  size = 'medium',\r\n  fullWidth = true,\r\n  debounceMs = 300,\r\n  maxSuggestions = 5,\r\n  onSuggestionClick,\r\n  disabled = false\r\n}) => {\r\n  const theme = useTheme();\r\n  const [inputValue, setInputValue] = useState(value);\r\n  const [open, setOpen] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Debounce search\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      if (inputValue !== value) {\r\n        onChange?.(inputValue);\r\n      }\r\n    }, debounceMs);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [inputValue, debounceMs, onChange, value]);\r\n\r\n  const handleInputChange = (event, newValue) => {\r\n    setInputValue(newValue || '');\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    if (inputValue.trim()) {\r\n      onSearch?.(inputValue.trim());\r\n      setOpen(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (event) => {\r\n    if (event.key === 'Enter') {\r\n      handleSearch();\r\n    }\r\n  };\r\n\r\n  const handleClear = () => {\r\n    setInputValue('');\r\n    onChange?.('');\r\n  };\r\n\r\n  const handleSuggestionClick = (suggestion) => {\r\n    setInputValue(suggestion);\r\n    onChange?.(suggestion);\r\n    onSuggestionClick?.(suggestion);\r\n    setOpen(false);\r\n  };\r\n\r\n  const combinedOptions = [\r\n    ...recentSearches.slice(0, 3).map(item => ({ type: 'recent', value: item })),\r\n    ...trendingSearches.slice(0, 3).map(item => ({ type: 'trending', value: item })),\r\n    ...suggestions.slice(0, maxSuggestions).map(item => ({ type: 'suggestion', value: item }))\r\n  ];\r\n\r\n  const CustomPopper = (props) => (\r\n    <Popper\r\n      {...props}\r\n      style={{ width: props.anchorEl?.clientWidth }}\r\n      placement=\"bottom-start\"\r\n    />\r\n  );\r\n\r\n  const renderOption = (props, option) => (\r\n    <Box\r\n      component=\"li\"\r\n      {...props}\r\n      sx={{\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: 1,\r\n        py: 1,\r\n        px: 2,\r\n        '&:hover': {\r\n          backgroundColor: theme.palette.action.hover\r\n        }\r\n      }}\r\n    >\r\n      {option.type === 'recent' && (\r\n        <HistoryIcon sx={{ fontSize: 16, color: 'text.secondary' }} />\r\n      )}\r\n      {option.type === 'trending' && (\r\n        <TrendingIcon sx={{ fontSize: 16, color: 'warning.main' }} />\r\n      )}\r\n      {option.type === 'suggestion' && (\r\n        <SearchIcon sx={{ fontSize: 16, color: 'text.secondary' }} />\r\n      )}\r\n      \r\n      <Typography variant=\"body2\" sx={{ flex: 1 }}>\r\n        {option.value}\r\n      </Typography>\r\n      \r\n      {option.type === 'trending' && (\r\n        <Chip label=\"Ø·Â±Ø·Â§Ø·Â¦Ø·Â¬\" size=\"small\" color=\"warning\" variant=\"outlined\" />\r\n      )}\r\n    </Box>\r\n  );\r\n\r\n  return (\r\n    <Autocomplete\r\n      freeSolo\r\n      open={open && combinedOptions.length > 0}\r\n      onOpen={() => setOpen(true)}\r\n      onClose={() => setOpen(false)}\r\n      inputValue={inputValue}\r\n      onInputChange={handleInputChange}\r\n      options={combinedOptions}\r\n      getOptionLabel={(option) => typeof option === 'string' ? option : option.value}\r\n      filterOptions={(options) => options} // Don't filter, show all\r\n      PopperComponent={CustomPopper}\r\n      renderOption={renderOption}\r\n      disabled={disabled}\r\n      loading={loading}\r\n      PaperComponent={({ children, ...props }) => (\r\n        <Paper\r\n          {...props}\r\n          sx={{\r\n            mt: 1,\r\n            boxShadow: 3,\r\n            border: `1px solid ${theme.palette.divider}`,\r\n            borderRadius: 2\r\n          }}\r\n        >\r\n          {showHistory && (recentSearches.length > 0 || trendingSearches.length > 0) && (\r\n            <Box sx={{ p: 2, borderBottom: `1px solid ${theme.palette.divider}` }}>\r\n              <Typography variant=\"caption\" color=\"text.secondary\" sx={{ fontWeight: 600 }}>\r\n                Ø·Â§Ø¸â€žØ·Â¨Ø·Â­Ø·Â« Ø·Â§Ø¸â€žØ·Â£Ø·Â®Ø¸Ù¹Ø·Â± Ø¸Ë†Ø·Â§Ø¸â€žØ·Â±Ø·Â§Ø·Â¦Ø·Â¬\r\n              </Typography>\r\n            </Box>\r\n          )}\r\n          {children}\r\n        </Paper>\r\n      )}\r\n      renderInput={(params) => (\r\n        <TextField\r\n          {...params}\r\n          placeholder={placeholder}\r\n          variant={variant}\r\n          size={size}\r\n          fullWidth={fullWidth}\r\n          onKeyPress={handleKeyPress}\r\n          InputProps={{\r\n            ...params.InputProps,\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <SearchIcon color=\"action\" />\r\n              </InputAdornment>\r\n            ),\r\n            endAdornment: (\r\n              <InputAdornment position=\"end\">\r\n                {inputValue && (\r\n                  <IconButton\r\n                    size=\"small\"\r\n                    onClick={handleClear}\r\n                    edge=\"end\"\r\n                  >\r\n                    <ClearIcon />\r\n                  </IconButton>\r\n                )}\r\n                <IconButton\r\n                  size=\"small\"\r\n                  onClick={handleSearch}\r\n                  disabled={!inputValue.trim()}\r\n                  edge=\"end\"\r\n                  color=\"primary\"\r\n                >\r\n                  <SearchIcon />\r\n                </IconButton>\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n          sx={{\r\n            '& .MuiOutlinedInput-root': {\r\n              borderRadius: 3,\r\n              '&:hover': {\r\n                '& .MuiOutlinedInput-notchedOutline': {\r\n                  borderColor: theme.palette.primary.main,\r\n                },\r\n              },\r\n            },\r\n          }}\r\n        />\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SearchInput;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\select.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\separator.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\slider.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\switch.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\table.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\tabs.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\textarea.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\toast.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\toaster.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\tooltip.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\UI\\VideoEmptyState.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\VideoCallInterface.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 33,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 33,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                538,
                573
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'interviewId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 36,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 36,
        "endColumn": 14,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "interviewId"
            },
            "fix": {
              "range": [
                611,
                623
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'interviewId'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'meetingLink' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 38,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 38,
        "endColumn": 14,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "meetingLink"
            },
            "fix": {
              "range": [
                636,
                653
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'meetingLink'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'api'. Either include it or remove the dependency array.",
        "line": 208,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 208,
        "endColumn": 33,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [roomName, user, onCallEnd, api]",
            "fix": {
              "range": [
                6368,
                6395
              ],
              "text": "[roomName, user, onCallEnd, api]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useEffect, useRef, useState } from 'react';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Typography,\r\n  IconButton,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  CircularProgress,\r\n  Alert,\r\n  Chip,\r\n  Card,\r\n  CardContent,\r\n  Avatar,\r\n  Divider\r\n} from '@mui/material';\r\nimport {\r\n  Videocam,\r\n  VideocamOff,\r\n  Mic,\r\n  MicOff,\r\n  CallEnd,\r\n  ScreenShare,\r\n  StopScreenShare,\r\n  Chat,\r\n  Settings,\r\n  Fullscreen,\r\n  FullscreenExit\r\n} from '@mui/icons-material';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\n\r\nconst VideoCallInterface = ({ \r\n  interviewId, \r\n  roomName, \r\n  meetingLink, \r\n  onCallEnd, \r\n  interviewDetails \r\n}) => {\r\n  const { user } = useAuth();\r\n  const jitsiContainerRef = useRef(null);\r\n  const [api, setApi] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [isVideoEnabled, setIsVideoEnabled] = useState(true);\r\n  const [isAudioEnabled, setIsAudioEnabled] = useState(true);\r\n  const [isScreenSharing, setIsScreenSharing] = useState(false);\r\n  const [isFullscreen, setIsFullscreen] = useState(false);\r\n  const [participants, setParticipants] = useState([]);\r\n  const [callDuration, setCallDuration] = useState(0);\r\n  const [callStartTime, setCallStartTime] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Load Jitsi Meet External API script\r\n    const loadJitsiScript = () => {\r\n      return new Promise((resolve, reject) => {\r\n        if (window.JitsiMeetExternalAPI) {\r\n          resolve();\r\n          return;\r\n        }\r\n\r\n        const script = document.createElement('script');\r\n        const jitsiDomain = process.env.REACT_APP_JITSI_DOMAIN || 'meet.jit.si';\r\n        script.src = `https://${jitsiDomain}/external_api.js`;\r\n        script.async = true;\r\n        script.onload = resolve;\r\n        script.onerror = reject;\r\n        document.head.appendChild(script);\r\n      });\r\n    };\r\n\r\n    const initializeJitsi = async () => {\r\n      try {\r\n        await loadJitsiScript();\r\n        \r\n        const jitsiDomain = process.env.REACT_APP_JITSI_DOMAIN || 'meet.jit.si';\r\n        const options = {\r\n          roomName: roomName,\r\n          width: '100%',\r\n          height: '100%',\r\n          parentNode: jitsiContainerRef.current,\r\n          configOverwrite: {\r\n            startWithAudioMuted: false,\r\n            startWithVideoMuted: false,\r\n            enableWelcomePage: false,\r\n            enableClosePage: false,\r\n            prejoinPageEnabled: false,\r\n            disableInviteFunctions: true,\r\n            toolbarButtons: [\r\n              'microphone',\r\n              'camera',\r\n              'closedcaptions',\r\n              'desktop',\r\n              'fullscreen',\r\n              'fodeviceselection',\r\n              'hangup',\r\n              'profile',\r\n              'chat',\r\n              'recording',\r\n              'livestreaming',\r\n              'etherpad',\r\n              'sharedvideo',\r\n              'settings',\r\n              'raisehand',\r\n              'videoquality',\r\n              'filmstrip',\r\n              'invite',\r\n              'feedback',\r\n              'stats',\r\n              'shortcuts',\r\n              'tileview',\r\n              'videobackgroundblur',\r\n              'download',\r\n              'help',\r\n              'mute-everyone',\r\n              'security'\r\n            ]\r\n          },\r\n          interfaceConfigOverwrite: {\r\n            SHOW_JITSI_WATERMARK: false,\r\n            SHOW_WATERMARK_FOR_GUESTS: false,\r\n            SHOW_BRAND_WATERMARK: false,\r\n            BRAND_WATERMARK_LINK: '',\r\n            SHOW_POWERED_BY: false,\r\n            DISPLAY_WELCOME_PAGE_CONTENT: false,\r\n            DISPLAY_WELCOME_PAGE_TOOLBAR_ADDITIONAL_CONTENT: false,\r\n            APP_NAME: 'Interview Call',\r\n            NATIVE_APP_NAME: 'Interview Call',\r\n            DEFAULT_BACKGROUND: '#1a1a1a',\r\n            DISABLE_VIDEO_BACKGROUND: false,\r\n            INITIAL_TOOLBAR_TIMEOUT: 20000,\r\n            TOOLBAR_TIMEOUT: 4000,\r\n            TOOLBAR_ALWAYS_VISIBLE: false,\r\n            DEFAULT_REMOTE_displayName: 'Participant',\r\n            DEFAULT_LOCAL_displayName: 'You',\r\n            SHOW_CHROME_EXTENSION_BANNER: false,\r\n            HIDE_INVITE_MORE_HEADER: true,\r\n            DISABLE_PRESENCE_STATUS: false,\r\n            DISABLE_JOIN_LEAVE_NOTIFICATIONS: false\r\n          },\r\n          userInfo: {\r\n            displayName: user?.displayName || user?.email || 'User',\r\n            email: user?.email || ''\r\n          }\r\n        };\r\n\r\n        const jitsiApi = new window.JitsiMeetExternalAPI(jitsiDomain, options);\r\n        setApi(jitsiApi);\r\n\r\n        // Event listeners\r\n        jitsiApi.addEventListener('videoConferenceJoined', (event) => {\r\n          console.log('Conference joined:', event);\r\n          setIsLoading(false);\r\n          setCallStartTime(new Date());\r\n        });\r\n\r\n        jitsiApi.addEventListener('videoConferenceLeft', (event) => {\r\n          console.log('Conference left:', event);\r\n          if (onCallEnd) {\r\n            onCallEnd();\r\n          }\r\n        });\r\n\r\n        jitsiApi.addEventListener('participantJoined', (event) => {\r\n          console.log('Participant joined:', event);\r\n          setParticipants(prev => [...prev, event.participant]);\r\n        });\r\n\r\n        jitsiApi.addEventListener('participantLeft', (event) => {\r\n          console.log('Participant left:', event);\r\n          setParticipants(prev => prev.filter(p => p.id !== event.participant.id));\r\n        });\r\n\r\n        jitsiApi.addEventListener('audioMuteStatusChanged', (event) => {\r\n          setIsAudioEnabled(!event.muted);\r\n        });\r\n\r\n        jitsiApi.addEventListener('videoMuteStatusChanged', (event) => {\r\n          setIsVideoEnabled(!event.muted);\r\n        });\r\n\r\n        jitsiApi.addEventListener('screenSharingStatusChanged', (event) => {\r\n          setIsScreenSharing(event.on);\r\n        });\r\n\r\n        jitsiApi.addEventListener('readyToClose', () => {\r\n          if (onCallEnd) {\r\n            onCallEnd();\r\n          }\r\n        });\r\n\r\n      } catch (error) {\r\n        console.error('Failed to initialize Jitsi:', error);\r\n        setError('Failed to initialize video call. Please try again.');\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    initializeJitsi();\r\n\r\n    return () => {\r\n      if (api) {\r\n        api.dispose();\r\n      }\r\n    };\r\n  }, [roomName, user, onCallEnd]);\r\n\r\n  // Call duration timer\r\n  useEffect(() => {\r\n    let interval;\r\n    if (callStartTime) {\r\n      interval = setInterval(() => {\r\n        const now = new Date();\r\n        const duration = Math.floor((now - callStartTime) / 1000);\r\n        setCallDuration(duration);\r\n      }, 1000);\r\n    }\r\n\r\n    return () => {\r\n      if (interval) {\r\n        clearInterval(interval);\r\n      }\r\n    };\r\n  }, [callStartTime]);\r\n\r\n  const formatDuration = (seconds) => {\r\n    const hours = Math.floor(seconds / 3600);\r\n    const minutes = Math.floor((seconds % 3600) / 60);\r\n    const secs = seconds % 60;\r\n    \r\n    if (hours > 0) {\r\n      return `${hours}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n    }\r\n    return `${minutes}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const toggleAudio = () => {\r\n    if (api) {\r\n      if (isAudioEnabled) {\r\n        api.executeCommand('toggleAudio');\r\n      } else {\r\n        api.executeCommand('toggleAudio');\r\n      }\r\n    }\r\n  };\r\n\r\n  const toggleVideo = () => {\r\n    if (api) {\r\n      if (isVideoEnabled) {\r\n        api.executeCommand('toggleVideo');\r\n      } else {\r\n        api.executeCommand('toggleVideo');\r\n      }\r\n    }\r\n  };\r\n\r\n  const toggleScreenShare = () => {\r\n    if (api) {\r\n      api.executeCommand('toggleShareScreen');\r\n    }\r\n  };\r\n\r\n  const toggleFullscreen = () => {\r\n    if (!document.fullscreenElement) {\r\n      jitsiContainerRef.current?.requestFullscreen();\r\n      setIsFullscreen(true);\r\n    } else {\r\n      document.exitFullscreen();\r\n      setIsFullscreen(false);\r\n    }\r\n  };\r\n\r\n  const endCall = () => {\r\n    if (api) {\r\n      api.executeCommand('hangup');\r\n    }\r\n  };\r\n\r\n  if (error) {\r\n    return (\r\n      <Box sx={{ p: 3, textAlign: 'center' }}>\r\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n          {error}\r\n        </Alert>\r\n        <Button variant=\"contained\" onClick={() => window.location.reload()}>\r\n          Retry\r\n        </Button>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ height: '100vh', display: 'flex', flexDirection: 'column' }}>\r\n      {/* Header */}\r\n      <Box sx={{ \r\n        p: 2, \r\n        bgcolor: 'background.paper', \r\n        borderBottom: 1, \r\n        borderColor: 'divider',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center'\r\n      }}>\r\n        <Box>\r\n          <Typography variant=\"h6\">\r\n            Interview Call\r\n          </Typography>\r\n          {interviewDetails && (\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              {interviewDetails.job?.title} â€¢ {interviewDetails.candidate?.name || interviewDetails.employer?.name}\r\n            </Typography>\r\n          )}\r\n        </Box>\r\n        \r\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n          {callStartTime && (\r\n            <Chip \r\n              label={formatDuration(callDuration)} \r\n              color=\"primary\" \r\n              variant=\"outlined\"\r\n            />\r\n          )}\r\n          <Chip \r\n            label={`${participants.length + 1} participant${participants.length !== 0 ? 's' : ''}`}\r\n            variant=\"outlined\"\r\n          />\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* Video Container */}\r\n      <Box sx={{ flex: 1, position: 'relative', bgcolor: '#000' }}>\r\n        {isLoading && (\r\n          <Box sx={{\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            bgcolor: 'rgba(0, 0, 0, 0.8)',\r\n            color: 'white',\r\n            zIndex: 1000\r\n          }}>\r\n            <CircularProgress size={60} sx={{ mb: 2 }} />\r\n            <Typography variant=\"h6\">Connecting to video call...</Typography>\r\n            <Typography variant=\"body2\" sx={{ mt: 1, opacity: 0.7 }}>\r\n              Please allow camera and microphone access\r\n            </Typography>\r\n          </Box>\r\n        )}\r\n        \r\n        <div \r\n          ref={jitsiContainerRef} \r\n          style={{ \r\n            width: '100%', \r\n            height: '100%',\r\n            minHeight: '400px'\r\n          }} \r\n        />\r\n      </Box>\r\n\r\n      {/* Control Bar */}\r\n      <Box sx={{ \r\n        p: 2, \r\n        bgcolor: 'background.paper', \r\n        borderTop: 1, \r\n        borderColor: 'divider',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        gap: 1\r\n      }}>\r\n        <IconButton \r\n          onClick={toggleAudio}\r\n          color={isAudioEnabled ? 'primary' : 'error'}\r\n          sx={{ \r\n            bgcolor: isAudioEnabled ? 'primary.light' : 'error.light',\r\n            '&:hover': {\r\n              bgcolor: isAudioEnabled ? 'primary.main' : 'error.main'\r\n            }\r\n          }}\r\n        >\r\n          {isAudioEnabled ? <Mic /> : <MicOff />}\r\n        </IconButton>\r\n\r\n        <IconButton \r\n          onClick={toggleVideo}\r\n          color={isVideoEnabled ? 'primary' : 'error'}\r\n          sx={{ \r\n            bgcolor: isVideoEnabled ? 'primary.light' : 'error.light',\r\n            '&:hover': {\r\n              bgcolor: isVideoEnabled ? 'primary.main' : 'error.main'\r\n            }\r\n          }}\r\n        >\r\n          {isVideoEnabled ? <Videocam /> : <VideocamOff />}\r\n        </IconButton>\r\n\r\n        <IconButton \r\n          onClick={toggleScreenShare}\r\n          color={isScreenSharing ? 'secondary' : 'default'}\r\n        >\r\n          {isScreenSharing ? <StopScreenShare /> : <ScreenShare />}\r\n        </IconButton>\r\n\r\n        <IconButton onClick={toggleFullscreen}>\r\n          {isFullscreen ? <FullscreenExit /> : <Fullscreen />}\r\n        </IconButton>\r\n\r\n        <IconButton \r\n          onClick={endCall}\r\n          color=\"error\"\r\n          sx={{ \r\n            bgcolor: 'error.main',\r\n            color: 'white',\r\n            '&:hover': {\r\n              bgcolor: 'error.dark'\r\n            }\r\n          }}\r\n        >\r\n          <CallEnd />\r\n        </IconButton>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default VideoCallInterface;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\components\\VideoErrorBoundary.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from 'react';\r\n\r\nclass VideoErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError() {\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    console.error(\"Video error caught:\", error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <p style={{ color: 'red' }}>Could not load video.</p>;\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default VideoErrorBoundary;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\config\\adminTabsConfig.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\config\\employerTabsConfig.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\config\\jobseekerTabsConfig.js",
    "messages": [
      {
        "ruleId": "react-hooks/rules-of-hooks",
        "severity": 2,
        "message": "React Hook \"useTranslation\" is called in function \"jobseekerTabCategories\" that is neither a React function component nor a custom React Hook function. React component names must start with an uppercase letter. React Hook names must start with the word \"use\".",
        "line": 39,
        "column": 17,
        "nodeType": "Identifier",
        "endLine": 39,
        "endColumn": 31
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import {\r\n  Search,\r\n  Briefcase,\r\n  Film,\r\n  User,\r\n  Calendar,\r\n  Bell,\r\n  Settings as SettingsIcon,\r\n  Bookmark,\r\n  Heart,\r\n  LayoutDashboard,\r\n  MessageSquare,\r\n  BarChart3\r\n} from \"lucide-react\";\r\n\r\nimport JobSearchPage from \"../pages/JobSearchPage.jsx\";\r\nimport ResumeBuilderPage from \"../pages/ResumeBuilderPage.jsx\";\r\nimport InterviewPage from \"../pages/InterviewPage.jsx\";\r\nimport NotificationSettingsPage from \"../pages/NotificationSettingsPage.jsx\";\r\nimport AllVideosPage from \"../pages/AllVideosPage.jsx\";\r\nimport AnalyticsJobseeker from \"../pages/AnalyticsJobseeker.jsx\";\r\nimport SavedVideosPage from \"../pages/SavedVideosPage.jsx\";\r\nimport LikedVideosPage from \"../pages/LikedVideosPage.jsx\";\r\nimport JobSeekerProfile from \"../pages/JobSeekerProfile.jsx\";\r\nimport Settings from \"../pages/Settings.jsx\";\r\nimport JobSeekerDashboard from \"../pages/JobSeekerDashboard.jsx\";\r\nimport Chat from \"../pages/Chat.jsx\";\r\nimport NotificationsPage from \"../pages/NotificationsPage.jsx\";\r\nimport VideoUpload from \"../pages/VideoUpload.jsx\";\r\nimport VideoEditPage from \"../pages/VideoEditPage.jsx\";\r\nimport VideosPage from \"../pages/VideosPage.jsx\";\r\nimport CareerAdvicePage from \"../pages/CareerAdvicePage.jsx\";\r\nimport PersonalityTestPage from \"../pages/PersonalityTestPage.jsx\";\r\nimport SkillGapAnalysisPage from \"../pages/SkillGapAnalysisPage.jsx\";\r\n\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport const jobseekerTabCategories = () => {\r\n  const { t } = useTranslation();\r\n\r\n  return [\r\n    {\r\n      key: \"dashboard\",\r\n      label: t(\"jobseekerTabs:categories.dashboard\"),\r\n      tabs: [\r\n        {\r\n          label: t(\"jobseekerTabs:tabs.overview\"),\r\n          icon: { name: \"Dashboard\" },\r\n          component: JobSeekerDashboard,\r\n          path: \"overview\",\r\n          description: t(\"jobseekerTabs:descriptions.overview\")\r\n        },\r\n        {\r\n          label: t(\"jobseekerTabs:tabs.analytics\"),\r\n          icon: { name: \"AnalyticsIcon\" },\r\n          component: AnalyticsJobseeker,\r\n          context: \"analytics\",\r\n          path: \"analytics\",\r\n          description: t(\"jobseekerTabs:descriptions.analytics\")\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      key: \"jobSearch\",\r\n      label: t(\"jobseekerTabs:categories.jobSearch\"),\r\n      tabs: [\r\n        {\r\n          label: t(\"jobseekerTabs:tabs.findJobs\"),\r\n          icon: { name: \"Search\" },\r\n          component: JobSearchPage,\r\n          path: \"find-jobs\",\r\n          description: t(\"jobseekerTabs:descriptions.findJobs\")\r\n        },\r\n        { \r\n          label: t(\"jobseekerTabs:tabs.videoFeed\"),\r\n          icon: { name: \"VideoLibrary\" },\r\n          component: AllVideosPage,\r\n          context: \"jobseeker-feed\",\r\n          path: \"video-feed\",\r\n          description: t(\"jobseekerTabs:descriptions.videoFeed\")\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      key: \"profileContent\",\r\n      label: t(\"jobseekerTabs:categories.profileContent\"),\r\n      tabs: [\r\n        {\r\n          label: t(\"jobseekerTabs:tabs.myProfile\"),\r\n          icon: { name: \"Person\" },\r\n          component: JobSeekerProfile,\r\n          path: \"my-profile\",\r\n          description: t(\"jobseekerTabs:descripti ons.myProfile\")\r\n        },\r\n        {\r\n          label: t(\"jobseekerTabs:tabs.resumeBuilder\"),\r\n          icon: { name: \"Work\" },\r\n          component: ResumeBuilderPage,\r\n          path: \"resume-builder\",\r\n          description: t(\"jobseekerTabs:descriptions.resumeBuilder\")\r\n        },\r\n        {\r\n          label: t(\"jobseekerTabs:tabs.videoUpload\"),\r\n          icon: { name: \"VideoLibrary\" },\r\n          component: VideoUpload,\r\n          path: \"video-upload\",\r\n          description: t(\"jobseekerTabs:descriptions.videoUpload\")\r\n        },\r\n        {\r\n          label: t(\"jobseekerTabs:tabs.myVideos\"),\r\n          icon: { name: \"VideoLibrary\" },\r\n          component: VideosPage,\r\n          context: \"my-videos\",\r\n          path: \"my-videos\",\r\n          description: t(\"jobseekerTabs:descriptions.myVideos\")\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      key: \"savedLiked\",\r\n      label: t(\"jobseekerTabs:categories.savedLiked\"),\r\n      tabs: [\r\n        {\r\n          label: t(\"jobseekerTabs:tabs.savedVideos\"),\r\n          icon: { name: \"Bookmark\" },\r\n          component: SavedVideosPage,\r\n          path: \"saved-videos\",\r\n          description: t(\"jobseekerTabs:descriptions.savedVideos\")\r\n        },\r\n        {\r\n          label: t(\"jobseekerTabs:tabs.likedVideos\"),\r\n          icon: { name: \"Favorite\" },\r\n          component: LikedVideosPage,\r\n          path: \"liked-videos\",\r\n          description: t(\"jobseekerTabs:descriptions.likedVideos\")\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      key: \"activities\",\r\n      label: t(\"jobseekerTabs:categories.activities\"),\r\n      tabs: [\r\n        {\r\n          label: t(\"jobseekerTabs:tabs.settings\"),\r\n          icon: { name: \"Settings\" },\r\n          component: Settings,\r\n          path: \"settings\",\r\n          description: t(\"jobseekerTabs:descriptions.settings\")\r\n        },\r\n        {\r\n          label: t(\"jobseekerTabs:tabs.notificationSettings\"),\r\n          icon: { name: \"Notifications\" },\r\n          component: NotificationSettingsPage,\r\n          path: \"notification-settings\",\r\n          description: t(\"jobseekerTabs:descriptions.notificationSettings\")\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      key: \"resources\",\r\n      label: t(\"jobseekerTabs:categories.resources\"),\r\n      tabs: [\r\n        {\r\n          label: t(\"jobseekerTabs:tabs.careerAdvice\"),\r\n          icon: { name: \"BookOpen\" },\r\n          component: CareerAdvicePage,\r\n          path: \"career-advice\",\r\n          description: t(\"jobseekerTabs:descriptions.careerAdvice\")\r\n        },\r\n        {\r\n          label: t(\"jobseekerTabs:tabs.personalityTest\"),\r\n          icon: { name: \"Psychology\" },\r\n          component: PersonalityTestPage,\r\n          path: \"personality-test\",\r\n          description: t(\"jobseekerTabs:descriptions.personalityTest\")\r\n        },\r\n        {\r\n          label: t(\"jobseekerTabs:tabs.skillGap\"),\r\n          icon: { name: \"TrendingUp\" },\r\n          component: SkillGapAnalysisPage,\r\n          path: \"skill-gap-analysis\",\r\n          description: t(\"jobseekerTabs:descriptions.skillGap\")\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      key: \"communication\",\r\n      label: t(\"jobseekerTabs:categories.communication\"),\r\n      tabs: [\r\n        {\r\n          label: t(\"jobseekerTabs:tabs.interviews\"),\r\n          icon: { name: \"CalendarToday\" },\r\n          component: InterviewPage,\r\n          path: \"interviews\",\r\n          description: t(\"jobseekerTabs:descriptions.interviews\")\r\n        },\r\n        {\r\n          label: t(\"jobseekerTabs:tabs.notifications\"),\r\n          icon: { name: \"Notifications\" },\r\n          component: NotificationsPage,\r\n          path: \"notifications\",\r\n          description: t(\"jobseekerTabs:descriptions.notifications\")\r\n        },\r\n        {\r\n          label: t(\"jobseekerTabs:tabs.chat\"),\r\n          icon: { name: \"ChatIcon\" },\r\n          component: Chat,\r\n          path: \"chat\",\r\n          description: t(\"jobseekerTabs:descriptions.chat\")\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      key: \"videoManagement\",\r\n      label: t(\"jobseekerTabs:categories.videoManagement\"),\r\n      tabs: [\r\n        {\r\n          label: t(\"jobseekerTabs:tabs.videoUpload\"),\r\n          icon: { name: \"VideoLibrary\" },\r\n          component: VideoUpload,\r\n          path: \"video-upload\",\r\n          description: t(\"jobseekerTabs:descriptions.videoUpload\")\r\n        },\r\n        {\r\n          label: t(\"jobseekerTabs:tabs.videoEditor\"),\r\n          icon: { name: \"VideoLibrary\" },\r\n          component: VideoEditPage,\r\n          path: \"video-editor\",\r\n          description: t(\"jobseekerTabs:descriptions.videoEditor\")\r\n        }\r\n      ]\r\n    }\r\n  ];\r\n};\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\config\\theme-colors-admin.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\config\\theme-colors-home.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\config\\theme-colors-jobseeker.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\config\\theme-colors.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\constants.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\context\\VideoContext.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'saveVideoMetadata' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 3,
        "column": 23,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 3,
        "endColumn": 40,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "saveVideoMetadata"
            },
            "fix": {
              "range": [
                222,
                241
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'saveVideoMetadata'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'api' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 4,
        "column": 8,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 11,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "api"
            },
            "fix": {
              "range": [
                299,
                308
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'api'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'videos'. Either include it or remove the dependency array.",
        "line": 121,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 121,
        "endColumn": 8,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [videos]",
            "fix": {
              "range": [
                5403,
                5405
              ],
              "text": "[videos]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "react-refresh/only-export-components",
        "severity": 1,
        "message": "Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.",
        "line": 258,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "namedExport",
        "endLine": 258,
        "endColumn": 29,
        "suppressions": [
          {
            "kind": "directive",
            "justification": "TODO: consider moving provider helpers to a separate module"
          }
        ]
      }
    ],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿/* eslint-disable react-refresh/only-export-components -- TODO: consider moving provider helpers to a separate module */\r\nimport React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { uploadVideo, saveVideoMetadata ,getVideoStatus} from '@/services/videoService';\r\nimport api from '@/services/api'; // Make sure this import is present if used in retryUpload\r\n\r\nconst VideoContext = createContext();\r\n\r\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL;\r\n\r\nexport const VideoProvider = ({ children }) => {\r\n  const [videos, setVideos] = useState(() => {\r\n    const saved = localStorage.getItem('videoResumes');\r\n    return saved ? JSON.parse(saved) : [];\r\n  });\r\n\r\n  // Save videos to localStorage whenever they change\r\n  useEffect(() => {\r\n    localStorage.setItem('videoResumes', JSON.stringify(videos));\r\n  }, [videos]);\r\n\r\n  // Status check for all processing videos\r\n  useEffect(() => {\r\n    const interval = setInterval(async () => {\r\n      try {\r\n        const updates = await Promise.all(\r\n          videos\r\n            .filter(video => (video.status === 'processing' || video.status === 'uploading') && video.id)\r\n            .map(async (video) => {\r\n              try {\r\n                console.log(`[VideoContext] Checking status for video: ${video.id}`);\r\n                const response = await getVideoStatus(video.id);\r\n                const data = response.data;\r\n                \r\n                console.log(`[VideoContext] Status check response for ${video.id}:`, data);\r\n\r\n                if (data.status === 'completed') {\r\n                  console.log(`[VideoContext] Video ${video.id} completed processing`);\r\n                  // Do not remove the local entry; instead update it so UI keeps showing the video\r\n                  // and the video's URL is replaced with the server-provided URL. Mark it as not-local\r\n                  // so it will be treated as a server-side/completed video in listings.\r\n                  // Prefer server-provided fields but set both snake_case and camelCase\r\n                  const serverVideoUrl = data.video_url || data.video?.video_url || data.video?.videoUrl || null;\r\n                  return {\r\n                    id: video.id,\r\n                    updates: {\r\n                      status: 'completed',\r\n                      video_url: serverVideoUrl,\r\n                      videoUrl: serverVideoUrl,\r\n                      isLocal: false,\r\n                      job_id: video.job_id,\r\n                      // Merge any additional server-provided video metadata\r\n                      ...data.video\r\n                    }\r\n                  };\r\n                } else if (data.status === 'failed') {\r\n                  console.log(`[VideoContext] Video ${video.id} failed processing`);\r\n                  return {\r\n                    id: video.id,\r\n                    updates: {\r\n                      status: 'failed',\r\n                      error: data.message || 'Processing failed',\r\n                      isLocal: true, // Keep as local if server doesn't know it or failed\r\n                      job_id: video.job_id // Preserve job_id\r\n                    }\r\n                  };\r\n                }\r\n                // If status is still processing/uploading, no update needed here.\r\n                return null;\r\n              } catch (error) {\r\n                console.error(`[VideoContext] Status check error for video ${video.id}:`, error);\r\n                if (error.response?.status === 404) {\r\n                  // If server returns 404, the video might have been deleted from server\r\n                  // or never reached it. Mark as failed and local to keep it in context\r\n                  // for potential retry from videos page or manual cleanup.\r\n                  return {\r\n                    id: video.id,\r\n                    updates: {\r\n                      status: 'failed',\r\n                      error: 'Processing failed: Video not found on server.',\r\n                      isLocal: true, // Keep as local if server doesn't know it\r\n                      job_id: video.job_id // Preserve job_id even if 404\r\n                    }\r\n                  }\r\n                }\r\n                return null;\r\n              }\r\n            })\r\n        );\r\n\r\n        const validUpdates = updates.filter(Boolean);\r\n        if (validUpdates.length > 0) {\r\n          console.log('[VideoContext] Applying updates to videos:', validUpdates);\r\n          setVideos(prev => prev.map(video => {\r\n            const update = validUpdates.find(u => u.id === video.id);\r\n            return update ? { ...video, ...update.updates } : video;\r\n          }));\r\n        }\r\n      } catch (error) {\r\n        console.error('[VideoContext] Error in status check interval:', error);\r\n      }\r\n    }, 5000); // Check every 5 seconds\r\n\r\n    return () => clearInterval(interval);\r\n  }, [videos]);\r\n\r\n  // Clean up local blob URLs when component unmounts or videos change\r\n  useEffect(() => {\r\n    return () => {\r\n      videos.forEach(video => {\r\n        // Revoke either snake_case or camelCase blob URLs\r\n        if (video.isLocal) {\r\n          if (video.video_url?.startsWith('blob:')) {\r\n            URL.revokeObjectURL(video.video_url);\r\n          }\r\n          if (video.videoUrl?.startsWith('blob:')) {\r\n            URL.revokeObjectURL(video.videoUrl);\r\n          }\r\n        }\r\n      });\r\n    };\r\n  }, []); // Depend on videos to ensure cleanup when videos array itself changes\r\n\r\n  const addLocalVideo = (video) => {\r\n    // Prevent adding duplicate entries if an ID (temp or server) already exists\r\n    if (videos.some(v => v.id === video.id)) {\r\n      console.warn(`[VideoContext] Video with ID ${video.id} already exists. Not adding duplicate.`);\r\n      return video; // Return existing video or just prevent action\r\n    }\r\n\r\n    const newVideo = {\r\n      ...video,\r\n      isLocal: true,\r\n      status: 'uploading',\r\n      progress: 0,\r\n      submitted_at: new Date().toISOString()\r\n    };\r\n    setVideos(prev => [...prev, newVideo]);\r\n    console.log('[VideoContext] Added new local video:', newVideo);\r\n    return newVideo;\r\n  };\r\n\r\n  // In the updateVideoStatus function, make sure it handles job_id properly\r\n  const updateVideoStatus = (id, updates) => {\r\n    console.log(`[VideoContext] Updating video ${id} with:`, updates);\r\n    setVideos(prev => prev.map(video => \r\n      video.id === id ? { ...video, ...updates } : video\r\n    ));\r\n  };\r\n\r\n  // Handles changing the ID of an existing video entry\r\n  // This is crucial for transitioning from a temporary client-side ID to a server-assigned ID.\r\n  const updateVideoServerId = (tempId, serverId, initialUpdates = {}) => {\r\n    setVideos(prev => {\r\n      let updated = false;\r\n      const newVideos = prev.map(video => {\r\n        if (video.id === tempId) {\r\n          updated = true;\r\n          console.log(`[VideoContext] Transitioning video ID from ${tempId} to ${serverId}.`);\r\n          return { ...video, id: serverId, ...initialUpdates };\r\n        }\r\n        return video;\r\n      });\r\n      if (!updated) {\r\n        console.warn(`[VideoContext] Could not find video with tempId ${tempId} to update its server ID to ${serverId}. It might have been removed or ID already changed.`);\r\n      }\r\n      return newVideos;\r\n    });\r\n  };\r\n\r\n  const removeVideo = (videoId) => {\r\n    setVideos(prev => {\r\n      const videoToRemove = prev.find(v => v.id === videoId);\r\n      if (videoToRemove ) { //&& videoToRemove.video_url?.startsWith('blob:')\r\n        URL.revokeObjectURL(videoToRemove.video_url); // Revoke URL if it's a blob\r\n      }\r\n      console.log(`[VideoContext] Removing video with ID: ${videoId}`);\r\n      return prev.filter(video => video.id !== videoId);\r\n    });\r\n  };\r\n\r\n  const retryUpload = async (videoId) => {\r\n    const video = videos.find(v => v.id === videoId);\r\n    if (!video) {\r\n      console.error(`[VideoContext] Retry failed: Video ${videoId} not found in context.`);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      updateVideoStatus(videoId, { \r\n        status: 'uploading', \r\n        progress: 0, \r\n        error: null \r\n      });\r\n\r\n      // If it's a local video with a blob URL (meaning it needs re-uploading)\r\n      if (video.isLocal && video.video_url?.startsWith('blob:')) { \r\n        const formData = new FormData();\r\n        const videoBlob = await fetch(video.video_url).then(r => r.blob());\r\n        const videoFile = new File([videoBlob], `video-retry-${Date.now()}.webm`, { \r\n          type: 'video/webm' \r\n        });\r\n\r\n        formData.append('video', videoFile);\r\n        formData.append('title', video.video_title);\r\n        formData.append('jobId', video.job_id || ''); // Use the stored jobId\r\n        formData.append('hashtags', video.hashtags);\r\n        formData.append('videoType', video.video_type);\r\n        formData.append('videoDuration', video.video_duration);\r\n\r\n        const response = await uploadVideo(formData, (progress) => {\r\n          updateVideoStatus(videoId, { progress });\r\n        });\r\n\r\n        // The ID will remain the same if it was already a server ID from a previous failed attempt.\r\n        // If it was a temp local ID that never got a server ID, it will get one now.\r\n        updateVideoServerId(videoId, response.data.uploadId, { \r\n          status: 'processing',\r\n          isLocal: true, // It's still local until server confirms completion\r\n        });\r\n        console.log(`[VideoContext] Retry upload successful for tempId ${videoId}. New serverId: ${response.data.uploadId}`);\r\n        return response.data.uploadId;\r\n      } \r\n      // For server videos (or local videos that might have an ID but are stuck processing server-side)\r\n      else {\r\n        // Call a dedicated retry-processing API or re-trigger upload if needed\r\n        // const response = await api.post(`/videos/${videoId}/retry-upload`); // Or retry-processing\r\n        updateVideoStatus(videoId, {\r\n          status: 'processing'\r\n        });\r\n        console.log(`[VideoContext] Retry processing successful for serverId: ${videoId}`);\r\n        return videoId;\r\n      }\r\n    } catch (error) {\r\n      console.error(`[VideoContext] Retry failed for video ${videoId}:`, error);\r\n      updateVideoStatus(videoId, {\r\n        status: 'failed',\r\n        error: error.message || 'Retry failed',\r\n        isLocal: true, // Mark as local if retry fails, so it's visible for another retry\r\n      });\r\n      throw error; // Re-throw to propagate the error if needed by caller\r\n    }\r\n  };\r\n\r\n  return (\r\n    <VideoContext.Provider value={{ \r\n      videos, \r\n      addLocalVideo, \r\n      updateVideoStatus,\r\n      updateVideoServerId, // Expose the new function\r\n      retryUpload,\r\n      removeVideo, \r\n    }}>\r\n      {children}\r\n    </VideoContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useVideoContext = () => {\r\n  const context = useContext(VideoContext);\r\n  if (!context) {\r\n    throw new Error('useVideoContext must be used within a VideoProvider');\r\n  }\r\n  return context;\r\n};\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\contexts\\AuthContext.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'signInWithCustomToken' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 3,
        "column": 19,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 3,
        "endColumn": 40,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "signInWithCustomToken"
            },
            "fix": {
              "range": [
                242,
                265
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'signInWithCustomToken'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 29,
        "column": 13,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 29,
        "endColumn": 14
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setError' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 62,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 62,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setError"
            },
            "fix": {
              "range": [
                2230,
                2240
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setError'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "The 'storeTokens' function makes the dependencies of useEffect Hook (at line 718) change on every render. To fix this, wrap the definition of 'storeTokens' in its own useCallback() Hook.",
        "line": 65,
        "column": 8,
        "nodeType": "VariableDeclarator",
        "endLine": 85,
        "endColumn": 3,
        "suggestions": [
          {
            "desc": "Wrap the definition of 'storeTokens' in its own useCallback() Hook.",
            "fix": {
              "range": [
                2344,
                3233
              ],
              "text": "useCallback((accessToken, refreshToken, userData, accessExpiresIn, refreshExpiresIn) => {\r\n\t\tlocalStorage.setItem(\"accessToken\", accessToken);\r\n\t\tlocalStorage.setItem(\"refreshToken\", refreshToken);\r\n\t\tlocalStorage.setItem(\"accessExpiresTime\", (Date.now() + (accessExpiresIn * 1000)).toString());\r\n\t\tif (refreshExpiresIn) {\r\n\t\t\tlocalStorage.setItem(\"refreshExpiresTime\", (Date.now() + (refreshExpiresIn * 1000)).toString());\r\n\t\t}\r\n\t\t\r\n\t\tif (userData) {\r\n\t\t\tconst userWithRefreshToken = {\r\n\t\t\t\t...userData,\r\n\t\t\t\trefresh_token: refreshToken\r\n\t\t\t};\r\n\t\t\tlocalStorage.setItem(\"user\", JSON.stringify(userWithRefreshToken));\r\n\t\t\t// store role as JSON so arrays are preserved (backend may send array or CSV/string)\r\n\t\t\tconst normalized = normalizeRole(userData?.role);\r\n\t\t\tlocalStorage.setItem(\"role\", JSON.stringify(normalized));\r\n\t\t\t// update in-memory role as array or null\r\n\t\t\tsetRole(normalized);\r\n\t\t}\r\n\t})"
            }
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useCallback has a missing dependency: 'TOKEN_REFRESH_BUFFER'. Either include it or remove the dependency array.",
        "line": 268,
        "column": 5,
        "nodeType": "ArrayExpression",
        "endLine": 268,
        "endColumn": 30,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [TOKEN_REFRESH_BUFFER, navigate, refreshTokens]",
            "fix": {
              "range": [
                8241,
                8266
              ],
              "text": "[TOKEN_REFRESH_BUFFER, navigate, refreshTokens]"
            }
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "The 'storeAuthData' function makes the dependencies of useMemo Hook (at line 646) change on every render. Move it inside the useMemo callback. Alternatively, wrap the definition of 'storeAuthData' in its own useCallback() Hook.",
        "line": 270,
        "column": 8,
        "nodeType": "VariableDeclarator",
        "endLine": 290,
        "endColumn": 3
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleAuthSuccess' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 292,
        "column": 8,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 292,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleAuthSuccess"
            },
            "fix": {
              "range": [
                9039,
                9974
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleAuthSuccess'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'persistentToken' is assigned a value but never used. Allowed unused args must match /^_/u.",
        "line": 292,
        "column": 137,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 292,
        "endColumn": 152,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "persistentToken"
            },
            "fix": {
              "range": [
                9172,
                9196
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'persistentToken'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useCallback has a missing dependency: 'storeTokens'. Either include it or remove the dependency array.",
        "line": 346,
        "column": 5,
        "nodeType": "ArrayExpression",
        "endLine": 346,
        "endColumn": 13,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [apiUrl, storeTokens]",
            "fix": {
              "range": [
                10912,
                10920
              ],
              "text": "[apiUrl, storeTokens]"
            }
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useCallback has a missing dependency: 'storeTokens'. Either include it or remove the dependency array.",
        "line": 406,
        "column": 5,
        "nodeType": "ArrayExpression",
        "endLine": 406,
        "endColumn": 19,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [apiUrl, auth, storeTokens]",
            "fix": {
              "range": [
                13407,
                13421
              ],
              "text": "[apiUrl, auth, storeTokens]"
            }
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useCallback has a missing dependency: 'storeTokens'. Either include it or remove the dependency array.",
        "line": 471,
        "column": 5,
        "nodeType": "ArrayExpression",
        "endLine": 471,
        "endColumn": 33,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [LINKEDIN_CLIENT_ID, apiUrl, storeTokens]",
            "fix": {
              "range": [
                15699,
                15727
              ],
              "text": "[LINKEDIN_CLIENT_ID, apiUrl, storeTokens]"
            }
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useCallback has a missing dependency: 'storeTokens'. Either include it or remove the dependency array.",
        "line": 512,
        "column": 5,
        "nodeType": "ArrayExpression",
        "endLine": 512,
        "endColumn": 13,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [apiUrl, storeTokens]",
            "fix": {
              "range": [
                17025,
                17033
              ],
              "text": "[apiUrl, storeTokens]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 547,
        "column": 75,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 547,
        "endColumn": 76
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'TOKEN_REFRESH_BUFFER'. Either include it or remove the dependency array.",
        "line": 615,
        "column": 5,
        "nodeType": "ArrayExpression",
        "endLine": 615,
        "endColumn": 66,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [checkAuth, refreshTokens, logout, auth, apiUrl, storeTokens, TOKEN_REFRESH_BUFFER]",
            "fix": {
              "range": [
                20678,
                20739
              ],
              "text": "[checkAuth, refreshTokens, logout, auth, apiUrl, storeTokens, TOKEN_REFRESH_BUFFER]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "react-refresh/only-export-components",
        "severity": 1,
        "message": "Fast refresh only works when a file only exports components. Move your React context(s) to a separate file.",
        "line": 7,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "reactContext",
        "endLine": 7,
        "endColumn": 25,
        "suppressions": [
          {
            "kind": "directive",
            "justification": "TODO: move context helpers (non-component exports) to separate files"
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useCallback has a missing dependency: 'storeTokens'. Either include it or remove the dependency array.",
        "line": 127,
        "column": 5,
        "nodeType": "ArrayExpression",
        "endLine": 127,
        "endColumn": 23,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [apiUrl, navigate, storeTokens]",
            "fix": {
              "range": [
                4640,
                4658
              ],
              "text": "[apiUrl, navigate, storeTokens]"
            }
          }
        ],
        "suppressions": [
          {
            "kind": "directive",
            "justification": ""
          }
        ]
      },
      {
        "ruleId": "react-refresh/only-export-components",
        "severity": 1,
        "message": "Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.",
        "line": 749,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "namedExport",
        "endLine": 749,
        "endColumn": 21,
        "suppressions": [
          {
            "kind": "directive",
            "justification": "TODO: move context helpers (non-component exports) to separate files"
          }
        ]
      }
    ],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 8,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿/* eslint-disable react-refresh/only-export-components -- TODO: move context helpers (non-component exports) to separate files */\r\nimport { createContext, useState, useEffect, useMemo, useCallback, useContext } from \"react\";\r\nimport { getAuth, signInWithCustomToken, GoogleAuthProvider, signInWithPopup, signInWithRedirect, getRedirectResult, browserLocalPersistence, signOut, setPersistence } from \"firebase/auth\";\r\nimport { app } from \"../firebase-config.js\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n\tconst navigate = useNavigate();\r\n\tconst auth = getAuth(app);\r\n\tsetPersistence(auth, browserLocalPersistence);\r\n\r\n\tconst apiUrl = import.meta.env.VITE_API_BASE_URL || \"http://localhost:5000\";\r\n\tconst LINKEDIN_CLIENT_ID = import.meta.env.VITE_LINKEDIN_CLIENT_ID || \"YOUR_LINKEDIN_CLIENT_ID\";\r\n\r\n\tconst TOKEN_REFRESH_BUFFER = 5 * 60 * 1000; // 5 minutes buffer\r\n\r\n\t// Helper: normalize role into array or null\r\n\tconst normalizeRole = (r) => {\r\n\t\tif (r == null) return null;\r\n\t\tif (Array.isArray(r)) return r;\r\n\t\tif (typeof r === \"string\") {\r\n\t\t\t// try JSON first\r\n\t\t\ttry {\r\n\t\t\t\tconst parsed = JSON.parse(r);\r\n\t\t\t\tif (Array.isArray(parsed)) return parsed;\r\n\t\t\t\t// if parsed is string (rare), fallthrough\r\n\t\t\t} catch (e) {\r\n\t\t\t\t// not JSON - continue\r\n\t\t\t}\r\n\t\t\t// handle CSV \"job_seeker,employer\"\r\n\t\t\tif (r.includes(\",\")) return r.split(\",\").map(s => s.trim()).filter(Boolean);\r\n\t\t\t// single role string -> return single-element array\r\n\t\t\treturn [r.trim()];\r\n\t\t}\r\n\t\t// unexpected type -> null\r\n\t\treturn null;\r\n\t};\r\n\r\n\tconst [user, setUser] = useState(() => {\r\n\t\ttry {\r\n\t\t\tconst storedUser = localStorage.getItem(\"user\");\r\n\t\t\treturn storedUser ? JSON.parse(storedUser) : { role: null };\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(\"Failed to parse user from localStorage\", e);\r\n\t\t\treturn { role: null };\r\n\t\t}\r\n\t});\r\n\r\n\tconst [role, setRole] = useState(() => {\r\n\t\ttry {\r\n\t\t\tconst storedRole = localStorage.getItem(\"role\");\r\n\t\t\treturn normalizeRole(storedRole);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(\"Failed to parse role from localStorage\", e);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t});\r\n\t\r\n\tconst [loading, setLoading] = useState(true);\r\n\tconst [error, setError] = useState(null);\r\n\tconst [fallbackMode, setFallbackMode] = useState(false);\r\n\t\r\n\tconst storeTokens = (accessToken, refreshToken, userData, accessExpiresIn, refreshExpiresIn) => {\r\n\t\tlocalStorage.setItem(\"accessToken\", accessToken);\r\n\t\tlocalStorage.setItem(\"refreshToken\", refreshToken);\r\n\t\tlocalStorage.setItem(\"accessExpiresTime\", (Date.now() + (accessExpiresIn * 1000)).toString());\r\n\t\tif (refreshExpiresIn) {\r\n\t\t\tlocalStorage.setItem(\"refreshExpiresTime\", (Date.now() + (refreshExpiresIn * 1000)).toString());\r\n\t\t}\r\n\t\t\r\n\t\tif (userData) {\r\n\t\t\tconst userWithRefreshToken = {\r\n\t\t\t\t...userData,\r\n\t\t\t\trefresh_token: refreshToken\r\n\t\t\t};\r\n\t\t\tlocalStorage.setItem(\"user\", JSON.stringify(userWithRefreshToken));\r\n\t\t\t// store role as JSON so arrays are preserved (backend may send array or CSV/string)\r\n\t\t\tconst normalized = normalizeRole(userData?.role);\r\n\t\t\tlocalStorage.setItem(\"role\", JSON.stringify(normalized));\r\n\t\t\t// update in-memory role as array or null\r\n\t\t\tsetRole(normalized);\r\n\t\t}\r\n\t};\r\n\r\n\tconst clearTokens = () => {\r\n\t\tlocalStorage.removeItem(\"accessToken\");\r\n\t\tlocalStorage.removeItem(\"refreshToken\");\r\n\t\tlocalStorage.removeItem(\"accessExpiresTime\");\r\n\t\tlocalStorage.removeItem(\"refreshExpiresTime\");\r\n\t\tlocalStorage.removeItem(\"user\");\r\n\t\tlocalStorage.removeItem(\"role\");\r\n\t\tlocalStorage.removeItem(\"persistentToken\");\r\n\t};\r\n\r\n\tconst refreshTokens = useCallback(async () => {\r\n\t\ttry {\r\n\t\t\tconst refreshToken = localStorage.getItem(\"refreshToken\");\r\n\t\t\tif (!refreshToken) throw new Error(\"No refresh token available\");\r\n\t\t\t\r\n\t\t\tconst response = await fetch(`${apiUrl}/api/auth/refresh-token`, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\r\n\t\t\t\tbody: JSON.stringify({ refreshToken })\r\n\t\t\t});\r\n\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tconst errorData = await response.json();\r\n\t\t\t\tif (response.status === 401) {\r\n\t\t\t\t\tclearTokens();\r\n\t\t\t\t\tsetUser(null);\r\n\t\t\t\t\tsetRole(null);\r\n\t\t\t\t\tnavigate(\"/login\");\r\n\t\t\t\t}\r\n\t\t\t\tthrow new Error(errorData.message || \"Token refresh failed\");\r\n\t\t\t}\r\n\r\n\t\t\tconst { accessToken, refreshToken: newRefreshToken, user, accessExpiresIn, refreshExpiresIn } = await response.json();\r\n\t\t\tstoreTokens(accessToken, newRefreshToken, user, accessExpiresIn, refreshExpiresIn);\r\n\t\t\treturn accessToken;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Refresh failed:\", error);\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [apiUrl, navigate]);\r\n\r\n\tconst logout = useCallback(async () => {\r\n\t\ttry {\r\n\t\t\tclearTokens();\r\n\t\t\tsetUser(null);\r\n\t\t\tsetRole(null);\r\n\t\t\t\r\n\t\t\tconst token = localStorage.getItem(\"accessToken\");\r\n\t\t\tif (token) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait fetch(`${apiUrl}/api/auth/logout`, {\r\n\t\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\"Authorization\": `Bearer ${token}`,\r\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch (backendError) {\r\n\t\t\t\t\tconsole.error(\"Backend logout failed:\", backendError);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\ttry {\r\n\t\t\t\tawait signOut(auth);\r\n\t\t\t} catch (firebaseError) {\r\n\t\t\t\tconsole.error(\"Firebase logout failed:\", firebaseError);\r\n\t\t\t}\r\n\t\r\n\t\t\tnavigate(\"/\");\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Logout error:\", error);\r\n\t\t\tclearTokens();\r\n\t\t\tsetUser(null);\r\n\t\t\tsetRole(null);\r\n\t\t\tnavigate(\"/\");\r\n\t\t}\r\n\t}, [apiUrl, navigate, auth]);\r\n\r\n\tconst checkAuth = useCallback(async (options = { silent: false }) => {\r\n\t\ttry {\r\n\t\t\tsetLoading(true);\r\n\r\n\t\t\tconst pathname = window.location.pathname;\r\n\t\t\r\n\t\t\t// Skip auth check for public routes\r\n\t\t\tconst publicRoutes = [\r\n\t\t\t\r\n\t\t\t\t\"/signup\",\r\n\t\t\t\t\"/about\",\r\n\t\t\t\t\"/FAQs\",\r\n\t\t\t\t\"/unauthorized\",\r\n\t\t\t\t\"/auth/linkedin/callback\",\r\n\t\t\t\t\"/forgot-password\",\r\n\t\t\t\t\"/reset-password\",\r\n\t\t\t\t\"/\",\r\n\t\t\t\t\"/jobseeker-profile/:id\",\r\n\t\t\t\t\"/employer-profile/:id\",\r\n\t\t\t\t\"/register-form\",\r\n\t\t\t\t\"/more-page\",\r\n\t\t\t\t\"/authpage\",\r\n\t\t\t\t\"/auth/linkedin/callback\",\r\n\t\t\t\t\"/check-it\",\r\n\t\t\t\t\"/employer-explore-public\",\r\n\t\t\t\t\"/Explore-jobs-public\",\r\n\t\t\t\t\"/video-feed/:vid\",\r\n\t\t\t\t \"/jobseeker-video-feed/:vid\",\r\n\t\t\t   \"/forgot-password\",\r\n\t\t\t\t\"/reset-password/:oobCode\",\r\n\t\t\t\t\"/jobseeker-profile/:id\",\r\n\t\t\t\t\"/employer-profile/:id\",\r\n\t\t\t\t\"/videos/:pagetype\",\r\n\t\t\t\t\"/video-player/:id\",\r\n\t\t\t\t\"/videos/all\" ,\r\n\t\t\t\t\"/how-it-works\",\r\n\t\t\t\t\"/pricing\",\r\n\t\t\t\t\"/contact\",\r\n\t\t\t\t\"/share\",\r\n\t\t\t\t\"/credits\",\r\n\t\t\t\r\n\t\t\t];\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t   \r\n\t \r\n\t\t\tconst isPublicRoute = publicRoutes.some(route => {\r\n\t\t\t\t// Handle dynamic routes like '/jobseeker-profile/:id'\r\n\t\t\t\tif (route.includes(\":\")) {\r\n\t\t\t\t\tconst basePath = route.split(\"/:\")[0];\r\n\t\t\t\t\treturn pathname.startsWith(basePath);\r\n\t\t\t\t}\r\n\t\t\t\treturn pathname === route;\r\n\t\t\t});\r\n\t\r\n\t\t\tif (isPublicRoute) {\r\n\t\t\t\treturn; // Skip auth check for public routes\r\n\t\t\t}\r\n\t\r\n\t\t\tconst accessToken = localStorage.getItem(\"accessToken\");\r\n\t\t\tconst refreshToken = localStorage.getItem(\"refreshToken\");\r\n\t\t\tconst accessExpiresTime = parseInt(localStorage.getItem(\"accessExpiresTime\"), 10);\r\n\t\t\tconst refreshExpiresTime = parseInt(localStorage.getItem(\"refreshExpiresTime\"), 10);\r\n\r\n\t\t\tif (window.location.pathname.includes(\"/login\")) return;\r\n\r\n\t\t\tif (!accessToken && !refreshToken) {\r\n\t\t\t\tif (!options.silent) navigate(\"/login\");\r\n\t\t\t\tthrow new Error(\"No tokens available\");\r\n\t\t\t}\r\n\r\n\t\t\t// Check if refresh token is expired\r\n\t\t\tif (refreshToken && refreshExpiresTime && Date.now() > refreshExpiresTime) {\r\n\t\t\t\tif (!options.silent) navigate(\"/login\");\r\n\t\t\t\tthrow new Error(\"Refresh token expired\");\r\n\t\t\t}\r\n\r\n\t\t\t// Check if access token needs refresh\r\n\t\t\tif (accessToken && accessExpiresTime) {\r\n\t\t\t\tif (Date.now() < accessExpiresTime - TOKEN_REFRESH_BUFFER) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (refreshToken) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tawait refreshTokens();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} catch (refreshError) {\r\n\t\t\t\t\t\tif (!options.silent) navigate(\"/login\");\r\n\t\t\t\t\t\tthrow refreshError;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!options.silent) navigate(\"/login\");\r\n\t\t\tthrow new Error(\"Authentication failed\");\r\n\t\t} catch (error) {\r\n\t\t\tif (!options.silent) console.error(\"Authentication check failed:\", error);\r\n\t\t\tthrow error;\r\n\t\t} finally {\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t}, [navigate, refreshTokens]);\r\n\r\n\tconst storeAuthData = (userData, isFallback, accessExpiresIn, refreshExpiresIn, accessToken = null) => {\r\n\t\tconst safeUser = {\r\n\t\t\t...(userData || {}),\r\n\t\t\trole: userData?.role || null\r\n\t\t};\r\n\r\n\t\tlocalStorage.setItem(\"user\", JSON.stringify(safeUser));\r\n\t\t// store role as JSON\r\n\t\tconst normalized = normalizeRole(safeUser.role);\r\n\t\tlocalStorage.setItem(\"role\", JSON.stringify(normalized));\r\n\t\t\r\n\t\tif (accessToken) {\r\n\t\t\tlocalStorage.setItem(\"accessExpiresTime\", (Date.now() + (accessExpiresIn * 1000)).toString());\r\n\t\t\tlocalStorage.setItem(\"refreshExpiresTime\", (Date.now() + (refreshExpiresIn * 1000)).toString());\r\n\t\t\tlocalStorage.setItem(\"accessToken\", accessToken);\r\n\t\t}\r\n\t\t\r\n\t\tsetUser(safeUser);\r\n\t\tsetRole(normalized);\r\n\t\tsetFallbackMode(isFallback);\r\n\t};\r\n\r\n\tconst handleAuthSuccess = useCallback(async (accessToken, refreshToken, provider, roleArg, userArg, accessExpiresIn, refreshExpiresIn, persistentToken = null, firebaseStatus = null) => {\r\n\t\tconst userWithRefreshToken = {\r\n\t\t\t...userArg,\r\n\t\t\trefresh_token: refreshToken\r\n\t\t};\r\n\r\n\t\tlocalStorage.setItem(\"accessToken\", accessToken);\r\n\t\tlocalStorage.setItem(\"user\", JSON.stringify(userWithRefreshToken));\r\n\t\t// save role as JSON\r\n\t\tconst normalized = normalizeRole(roleArg);\r\n\t\tlocalStorage.setItem(\"role\", JSON.stringify(normalized));\r\n\t\tlocalStorage.setItem(\"accessExpiresTime\", (Date.now() + (accessExpiresIn * 1000)).toString());\r\n\t\tlocalStorage.setItem(\"refreshExpiresTime\", (Date.now() + (refreshExpiresIn * 1000)).toString());\r\n\r\n\t\tsetUser(userWithRefreshToken);\r\n\t\tsetRole(normalized);\r\n\t\tsetFallbackMode(firebaseStatus === \"fallback\");\r\n\t\treturn { success: true, user: userWithRefreshToken, role: normalized, provider };\r\n\t}, []);\r\n\r\n\t// Email/Password Login\r\n\tconst loginByEmailAndPassword = useCallback(async (email, password) => {\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(`${apiUrl}/api/auth/signin`, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\r\n\t\t\t\tbody: JSON.stringify({ email, password })\r\n\t\t\t});\r\n\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\tmessage: data.message || \"Login failed\",\r\n\t\t\t\t\tstatus: response.status\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\t// Store tokens and user data\r\n\t\t\tstoreTokens(data.accessToken, data.refreshToken, data.user, data.accessExpiresIn, data.refreshExpiresIn);\r\n\r\n\t\t\tsetUser(data.user);\r\n\t\t\tsetRole(normalizeRole(data.user?.role || null));\r\n\t\t\t\r\n\t\t\treturn { success: true, user: data.user };\r\n\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Login error:\", error);\r\n\t\t\treturn {\r\n\t\t\t\terror: true,\r\n\t\t\t\tmessage: error.message || \"Login failed\"\r\n\t\t\t};\r\n\t\t}\r\n\t}, [apiUrl]);\r\n\r\n\t// Google Authentication\r\n\tconst authenticateWithGoogle = useCallback(async (options = {}) => {\r\n\t\tconst normalized = typeof options === \"string\" ? { role: options } : options;\r\n\t\tconst { role = null, useRedirect = false } = normalized;\r\n\t\tconst provider = new GoogleAuthProvider();\r\n\t\tprovider.setCustomParameters({ prompt: \"select_account\" });\r\n\t\ttry {\r\n\t\t\tif (auth.currentUser) {\r\n\t\t\t\tawait signOut(auth);\r\n\t\t\t}\r\n\t\t} catch (cleanupError) {\r\n\t\t\tconsole.warn(\"Pre-auth signOut failed:\", cleanupError);\r\n\t\t}\r\n\t\tconst fallbackCodes = [\r\n\t\t\t\"auth/popup-blocked\",\r\n\t\t\t\"auth/cancelled-popup-request\",\r\n\t\t\t\"auth/web-storage-unsupported\",\r\n\t\t\t\"auth/popup-closed-by-user\",\r\n\t\t\t\"auth/internal-error\"\r\n\t\t];\r\n\t\ttry {\r\n\t\t\tif (useRedirect) {\r\n\t\t\t\tlocalStorage.setItem(\"oauth_pending\", JSON.stringify({ provider: \"google\", role, timestamp: Date.now() }));\r\n\t\t\t\tawait signInWithRedirect(auth, provider);\r\n\t\t\t\treturn { redirect: true };\r\n\t\t\t}\r\n\t\t\tconst result = await signInWithPopup(auth, provider);\r\n\t\t\tconst idToken = await result.user.getIdToken(true);\r\n\t\t\tconst endpoint = role ? `${apiUrl}/api/auth/signup/google` : `${apiUrl}/api/auth/signin/google`;\r\n\t\t\tconst response = await fetch(endpoint, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\r\n\t\t\t\tbody: JSON.stringify({ idToken, ...(role ? { role } : {}) })\r\n\t\t\t});\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tconst errorData = await response.json();\r\n\t\t\t\tthrow new Error(errorData.message || \"Google authentication failed\");\r\n\t\t\t}\r\n\t\t\tconst data = await response.json();\r\n\t\t\tstoreTokens(data.accessToken, data.refreshToken, data.user, data.accessExpiresIn, data.refreshExpiresIn);\r\n\t\t\tsetUser(data.user);\r\n\t\t\tsetRole(normalizeRole(data.user?.role || null));\r\n\t\t\treturn { success: true, user: data.user, role: normalizeRole(data.user?.role || null) };\r\n\t\t} catch (error) {\r\n\t\t\tconst isCoopBlocked = error?.message?.includes(\"Cross-Origin-Opener-Policy\");\r\n\t\t\tif (!useRedirect && (error?.code && fallbackCodes.includes(error.code) || isCoopBlocked)) {\r\n\t\t\t\tlocalStorage.setItem(\"oauth_pending\", JSON.stringify({ provider: \"google\", role, timestamp: Date.now() }));\r\n\t\t\t\tawait signInWithRedirect(auth, provider);\r\n\t\t\t\treturn { redirect: true };\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tawait signOut(auth);\r\n\t\t\t} catch (signOutError) {\r\n\t\t\t\tconsole.warn(\"Cleanup signOut failed:\", signOutError);\r\n\t\t\t}\r\n\t\t\tconsole.error(\"Google auth error:\", error);\r\n\t\t\treturn { error: true, message: error.message || \"Google authentication failed\" };\r\n\t\t}\r\n\t}, [apiUrl, auth]);\r\n\r\n\t// LinkedIn Authentication\r\n\tconst authenticateWithLinkedIn = useCallback(async (roleArg = null) => {\r\n\t\ttry {\r\n\t\t\tconst linkedinAuthUrl = `https://www.linkedin.com/oauth/v2/authorization?response_type=code&client_id=${LINKEDIN_CLIENT_ID}&redirect_uri=${encodeURIComponent(window.location.origin + \"/auth/linkedin/callback\")}&scope=${encodeURIComponent(\"openid profile email\")}&state=${Date.now()}`;\r\n\r\n\t\t\tconst linkedinAuthWindow = window.open(\r\n\t\t\t\tlinkedinAuthUrl,\r\n\t\t\t\t\"_blank\",\r\n\t\t\t\t\"width=600,height=600\"\r\n\t\t\t);\r\n\r\n\t\t\tif (!linkedinAuthWindow) {\r\n\t\t\t\tthrow new Error(\"Popup window was blocked. Please allow popups for this site.\");\r\n\t\t\t}\r\n\r\n\t\t\tconst result = await new Promise((resolve, reject) => {\r\n\t\t\t\tconst messageListener = (event) => {\r\n\t\t\t\t\tif (event.origin === window.location.origin) {\r\n\t\t\t\t\t\tif (event.data.type === \"LINKEDIN_AUTH_SUCCESS\") {\r\n\t\t\t\t\t\t\twindow.removeEventListener(\"message\", messageListener);\r\n\t\t\t\t\t\t\tresolve(event.data.payload);\r\n\t\t\t\t\t\t} else if (event.data.type === \"LINKEDIN_AUTH_ERROR\") {\r\n\t\t\t\t\t\t\twindow.removeEventListener(\"message\", messageListener);\r\n\t\t\t\t\t\t\treject(new Error(event.data.error || \"LinkedIn authentication failed\"));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\twindow.addEventListener(\"message\", messageListener);\r\n\t\t\t});\r\n\r\n\t\t\tconst endpoint = roleArg\r\n\t\t\t\t? `${apiUrl}/api/auth/signup/linkedin`\r\n\t\t\t\t: `${apiUrl}/api/auth/signin/linkedin`;\r\n\r\n\t\t\tconst response = await fetch(endpoint, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\ttoken: result.id_token,\r\n\t\t\t\t\t...(roleArg ? { role: roleArg } : {})\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tconst errorData = await response.json();\r\n\t\t\t\tthrow new Error(errorData.error || \"LinkedIn authentication failed\");\r\n\t\t\t}\r\n\r\n\t\t\tconst data = await response.json();\r\n\t\t\t\r\n\t\t\t// Store tokens and user data\r\n\t\t\tstoreTokens(data.accessToken, data.refreshToken, data.user, data.accessExpiresIn, data.refreshExpiresIn);\r\n\t\t\tsetUser(data.user);\r\n\t\t\tsetRole(normalizeRole(data.user?.role || null));\r\n\t\t\treturn { success: true, user: data.user };\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"LinkedIn auth error:\", error);\r\n\t\t\treturn {\r\n\t\t\t\terror: true,\r\n\t\t\t\tmessage: error.message || \"LinkedIn authentication failed\"\r\n\t\t\t};\r\n\t\t}\r\n\t}, [apiUrl, LINKEDIN_CLIENT_ID]);\r\n\r\n\t// Email Signup\r\n\tconst signupWithEmail = useCallback(async (email, password, firstName, lastName, roleArg) => {\r\n\t\ttry {\r\n\t\t\tclearTokens(); // Clear any existing tokens before signup\r\n\t\t\tconsole.log(\"Signing up with email:============\", email, firstName, lastName, roleArg);\r\n\t\t\tconst response = await fetch(`${apiUrl}/api/auth/signup`, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\r\n\t\t\t\t// backend expects 'role' key; pass roleArg as role\r\n\t\t\t\tbody: JSON.stringify({ email, password, firstName, lastName, role: roleArg })\r\n\t\t\t});\r\n\r\n\t\t\tconst data = await response.json();\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\tmessage: data.message || \"Signup failed\",\r\n\t\t\t\t\tstatus: response.status\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\t// Store all tokens and user data, using data.accessExpiresIn from the backend\r\n\t\t\tstoreTokens(data.accessToken, data.refreshToken, data.user, data.accessExpiresIn, data.refreshExpiresIn);\r\n\t\t\t\r\n\t\t\tsetUser(data.user);\r\n\t\t\tsetRole(normalizeRole(data.user.role));\r\n\t\t\t\r\n\t\t\treturn { \r\n\t\t\t\tsuccess: true, \r\n\t\t\t\tuser: data.user,\r\n\t\t\t\trole: normalizeRole(data.user.role)\r\n\t\t\t};\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Signup error:\", error);\r\n\t\t\treturn {\r\n\t\t\t\terror: true,\r\n\t\t\t\tmessage: error.message || \"Signup failed\"\r\n\t\t\t};\r\n\t\t}\r\n\t}, [apiUrl]);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet refreshInterval;\r\n\r\n\t\tconst checkTokenRefresh = async () => {\r\n\t\t\tconst accessExpiresTime = parseInt(localStorage.getItem(\"accessExpiresTime\"), 10);\r\n\t\t\tconst refreshExpiresTime = parseInt(localStorage.getItem(\"refreshExpiresTime\"), 10);\r\n\t\t\tconst now = Date.now();\r\n\r\n\t\t\t// If refresh token is expired, logout\r\n\t\t\tif (refreshExpiresTime && now > refreshExpiresTime) {\r\n\t\t\t\tawait logout();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// If access token needs refresh\r\n\t\t\tif (accessExpiresTime && now > accessExpiresTime - TOKEN_REFRESH_BUFFER) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait refreshTokens();\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error(\"Background refresh failed:\", error);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst processRedirectResultIfAny = async () => {\r\n\t\t\ttry {\r\n\t\t\t\t// Handle Firebase redirect result (if user was redirected back after signInWithRedirect)\r\n\t\t\t\tconst result = await getRedirectResult(auth);\r\n\t\t\t\tif (result && result.user) {\r\n\t\t\t\t\tconst idToken = await result.user.getIdToken(true);\r\n\t\t\t\t\t// Read pending intent (provider + role) set before redirect\r\n\t\t\t\t\tconst pendingRaw = localStorage.getItem('oauth_pending');\r\n\t\t\t\t\tlet pending = null;\r\n\t\t\t\t\ttry { pending = pendingRaw ? JSON.parse(pendingRaw) : null; } catch (e) { pending = null; }\r\n\r\n\t\t\t\t\t// Default to signin if no explicit role/pending info\r\n\t\t\t\t\tconst roleFromPending = pending?.role || null;\r\n\t\t\t\t\tconst endpoint = roleFromPending\r\n\t\t\t\t\t\t? `${apiUrl}/api/auth/signup/google`\r\n\t\t\t\t\t\t: `${apiUrl}/api/auth/signin/google`;\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst response = await fetch(endpoint, {\r\n\t\t\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\r\n\t\t\t\t\t\t\tbody: JSON.stringify({ idToken, ...(roleFromPending ? { role: roleFromPending } : {}) })\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tif (response.ok) {\r\n\t\t\t\t\t\t\tconst data = await response.json();\r\n\t\t\t\t\t\t\tstoreTokens(\r\n\t\t\t\t\t\t\t\tdata.accessToken,\r\n\t\t\t\t\t\t\t\tdata.refreshToken,\r\n\t\t\t\t\t\t\t\tdata.user,\r\n\t\t\t\t\t\t\t\tdata.accessExpiresIn || 3600,\r\n\t\t\t\t\t\t\t\tdata.refreshExpiresIn || 86400\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tsetUser(data.user);\r\n\t\t\t\t\t\t\tsetRole(normalizeRole(data.user?.role || null));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.warn('Backend did not accept redirect result', await response.text());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tconsole.error('Error exchanging redirect idToken with backend', e);\r\n\t\t\t\t\t} finally {\r\n\t\t\t\t\t\tlocalStorage.removeItem('oauth_pending');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\t// getRedirectResult throws when no redirect happened Ã¢â‚¬â€ ignore harmless errors\r\n\t\t\t\tif (err && err.code !== 'auth/no-auth-event') {\r\n\t\t\t\t\tconsole.error('Error processing redirect result', err);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst initializeAuth = async () => {\r\n\t\t\ttry {\r\n\t\t\t\t// Process any pending redirect result BEFORE running normal auth checks\r\n\t\t\t\tawait processRedirectResultIfAny();\r\n\t\t\t\t// Run a silent auth check during initialization so missing tokens\r\n\t\t\t\t// (expected for anonymous visitors) don't trigger noisy errors or\r\n\t\t\t\t// immediate navigations. We still re-run a full check when needed.\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait checkAuth({ silent: true });\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\t// These are expected cases on first load when the user is not logged in\r\n\t\t\t\t\tif (err && (err.message === 'No tokens available' || err.message === 'Refresh token expired')) {\r\n\t\t\t\t\t\t// ignore silently\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.error('Initial auth check failed (unexpected):', err);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\trefreshInterval = setInterval(checkTokenRefresh, 30000); // Check every 30 seconds\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error(\"Initial auth flow failed:\", error);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tinitializeAuth();\r\n\t\treturn () => clearInterval(refreshInterval);\r\n\t}, [checkAuth, refreshTokens, logout, auth, apiUrl, storeTokens]);\r\n\r\n\tuseEffect(() => {\r\n\t\t// Set loading to false after initial check or if no check is needed\r\n\t\tif (!loading) {\r\n\t\t\tconst storedUser = localStorage.getItem(\"user\");\r\n\t\t\tif (storedUser) {\r\n\t\t\t\tconst parsed = JSON.parse(storedUser);\r\n\t\t\t\tsetUser(parsed);\r\n\t\t\t\tsetRole(normalizeRole(parsed.role));\r\n\t\t\t}\r\n\t\t}\r\n\t}, [loading]);\r\n\r\n\tconst value = useMemo(\r\n\t\t() => ({\r\n\t\t\tuser,\r\n\t\t\trole,\r\n\t\t\tloading,\r\n\t\t\terror,\r\n\t\t\tfallbackMode,\r\n\t\t\tloginByEmailAndPassword,\r\n\t\t\tauthenticateWithGoogle,\r\n\t\t\tauthenticateWithLinkedIn,\r\n\t\t\tsignupWithEmail,\r\n\t\t\tregisterByEmailAndPassword: signupWithEmail, // Alias for compatibility\r\n\t\t\tlogout,\r\n\t\t\tcheckAuth,\r\n\t\t\tstoreAuthData,\r\n\t\t\trefreshTokens\r\n\t\t}),\r\n\t\t[\r\n\t\t\tuser,\r\n\t\t\trole,\r\n\t\t\tloading,\r\n\t\t\terror,\r\n\t\t\tfallbackMode,\r\n\t\t\tloginByEmailAndPassword,\r\n\t\t\tauthenticateWithGoogle,\r\n\t\t\tauthenticateWithLinkedIn,\r\n\t\t\tsignupWithEmail,\r\n\t\t\tlogout,\r\n\t\t\tcheckAuth,\r\n\t\t\tstoreAuthData,\r\n\t\t\trefreshTokens\r\n\t\t]\r\n\t);\r\n\r\n\t// return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>; //contextValue\r\n\t// Global postMessage listener: handle popup OAuth callbacks (generic and provider-specific)\r\n\tuseEffect(() => {\r\n\t\tconst messageHandler = async (event) => {\r\n\t\t\t// Only accept messages from same origin\r\n\t\t\tif (event.origin !== window.location.origin) return;\r\n\t\t\tconst data = event.data || {};\r\n\r\n\t\t\ttry {\r\n\t\t\t\tif (data.type === 'OAUTH_COMPLETE') {\r\n\t\t\t\t\t// Generic callback: payload may contain { code, state, access_token, id_token }\r\n\t\t\t\t\tconst payload = data.payload || {};\r\n\t\t\t\t\t// If an id_token is present, exchange on backend or treat as final\r\n\t\t\t\t\tif (payload.id_token || payload.access_token) {\r\n\t\t\t\t\t\t// Let the frontend handle storing via existing handlers if needed\r\n\t\t\t\t\t\t// For simplicity, forward to storeAuthData if backend already returned user info\r\n\t\t\t\t\t\t// Otherwise, caller should initiate signin using these tokens.\r\n\t\t\t\t\t\tconsole.info('Received OAUTH_COMPLETE payload', payload);\r\n\t\t\t\t\t} else if (payload.code) {\r\n\t\t\t\t\t\t// If we received an authorization code, send it to backend to exchange\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst response = await fetch(`${apiUrl}/api/auth/oauth/exchange`, {\r\n\t\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\t\t\t\tbody: JSON.stringify({ code: payload.code })\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tif (response.ok) {\r\n\t\t\t\t\t\t\t\tconst data = await response.json();\r\n\t\t\t\t\t\t\t\t// Store tokens and user data when available\r\n\t\t\t\t\t\t\t\tif (data.accessToken && data.refreshToken && data.user) {\r\n\t\t\t\t\t\t\t\t\tstoreTokens(data.accessToken, data.refreshToken, data.user, data.accessExpiresIn || 3600, data.refreshExpiresIn || 86400);\r\n\t\t\t\t\t\t\t\t\tsetUser(data.user);\r\n\t\t\t\t\t\t\t\t\tsetRole(normalizeRole(data.user?.role || null));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\tconsole.error('Backend exchange failed', e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (data.type === 'LINKEDIN_AUTH_SUCCESS') {\r\n\t\t\t\t\t// LinkedIn handler used elsewhere Ã¢â‚¬â€ no-op here since Linkedincallback posts directly\r\n\t\t\t\t\tconsole.info('LinkedIn success from popup', data.payload);\r\n\t\t\t\t} else if (data.type === 'LINKEDIN_AUTH_ERROR') {\r\n\t\t\t\t\tconsole.warn('LinkedIn auth error from popup', data);\r\n\t\t\t\t} else if (data.type === 'google-oauth-complete') {\r\n\t\t\t\t\t// Google OAuth complete with token or code\r\n\t\t\t\t\tconsole.info('Google OAuth complete', data.payload);\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error handling auth popup message', err);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\twindow.addEventListener('message', messageHandler);\r\n\t\treturn () => window.removeEventListener('message', messageHandler);\r\n\t}, [apiUrl, storeTokens]);\r\n\r\n\treturn (\r\n\t\t<AuthContext.Provider value={value}>\r\n\t\t\t {children}\r\n\t\t{/* Temporary debug panel - remove for production */}\r\n\t\t{/* <div style={{\r\n\tposition: 'fixed',\r\n\tbottom: 0,\r\n\tright: 0,\r\n\tbackgroundColor: 'white',\r\n\tpadding: '10px',\r\n\tborder: '1px solid #ccc',\r\n\tzIndex: 1000\r\n}}>\r\n\t<h4>Auth Debug</h4>\r\n\t<div>Access Token: {localStorage.getItem('accessToken') ? 'Ã¢Å“â€¦' : 'Ã¢â€ŒÅ’'}</div>\r\n\t<div>Refresh Token: {localStorage.getItem('refreshToken') ? 'Ã¢Å“â€¦' : 'Ã¢â€ŒÅ’'}</div>\r\n\t<div>Token Expiry: {localStorage.getItem('accessExpiresTime') ? \r\n\t\tnew Date(parseInt(localStorage.getItem('accessExpiresTime'))).toLocaleString() : 'None'}</div>\r\n\t<div>Time Now: {new Date().toLocaleString()}</div>\r\n\t<div>Seconds Until Expiry: {localStorage.getItem('accessExpiresTime') ? \r\n\t\tMath.round((parseInt(localStorage.getItem('accessExpiresTime')) - Date.now()) / 1000) : 'N/A'}</div>\r\n\t<button onClick={checkAuth}>Force Check Auth</button>\r\n\t<button onClick={refreshTokens}>Force Refresh</button>\r\n\t<button onClick={logout}>Force Logout</button>\r\n</div> */}\r\n</AuthContext.Provider>\r\n);\r\n};\r\n\r\nexport const useAuth = () => {\r\nconst context = useContext(AuthContext);\r\nif (!context) {\r\n  throw new Error('useAuth must be used within an AuthProvider');\r\n}\r\nreturn context;\r\n};",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\contexts\\NotificationContext.jsx",
    "messages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'refresh'. Either include it or remove the dependency array.",
        "line": 94,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 94,
        "endColumn": 8,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [refresh]",
            "fix": {
              "range": [
                3038,
                3040
              ],
              "text": "[refresh]"
            }
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useMemo has a missing dependency: 'refresh'. Either include it or remove the dependency array.",
        "line": 110,
        "column": 114,
        "nodeType": "ArrayExpression",
        "endLine": 110,
        "endColumn": 151,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [notifications, unreadCount, loading, refresh]",
            "fix": {
              "range": [
                3668,
                3705
              ],
              "text": "[notifications, unreadCount, loading, refresh]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "react-refresh/only-export-components",
        "severity": 1,
        "message": "Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.",
        "line": 119,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "namedExport",
        "endLine": 119,
        "endColumn": 30,
        "suppressions": [
          {
            "kind": "directive",
            "justification": "TODO: split non-component helpers into their own module"
          }
        ]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import React, { createContext, useContext, useEffect, useMemo, useState } from 'react';\r\n/* eslint-disable react-refresh/only-export-components -- TODO: split non-component helpers into their own module */\r\nimport { useSocket } from './SocketContext';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport {\r\n  getNotifications,\r\n  getUnreadNotificationCount,\r\n  markNotificationAsRead,\r\n  markAllNotificationsAsRead,\r\n  deleteNotification\r\n} from '@/services/api';\r\n\r\nconst NotificationContext = createContext({\r\n  notifications: [],\r\n  unreadCount: 0,\r\n  loading: false,\r\n  refresh: async () => {},\r\n  markRead: async (_id) => {},\r\n  markAllRead: async () => {},\r\n  remove: async (_id) => {}\r\n});\r\n\r\nexport const NotificationProvider = ({ children }) => {\r\n  const { socket } = useSocket();\r\n  const { toast } = useToast();\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const refresh = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [listRes, countRes] = await Promise.all([\r\n        getNotifications(1, 50, false),\r\n        getUnreadNotificationCount()\r\n      ]);\r\n      const notifs = listRes?.data?.notifications || listRes?.notifications || [];\r\n      const count = countRes?.data?.count ?? countRes?.count ?? 0;\r\n      setNotifications(notifs);\r\n      setUnreadCount(count);\r\n    } catch (err) {\r\n      console.error('Failed to refresh notifications', err);\r\n      // Set empty state on error to avoid blocking the UI\r\n      setNotifications([]);\r\n      setUnreadCount(0);\r\n      // Only show error toast if it's not a network error (backend not running)\r\n      if (err.code !== 'ERR_NETWORK') {\r\n        toast({\r\n          title: \"Error\",\r\n          description: \"Failed to load notifications\",\r\n          variant: \"destructive\",\r\n        });\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const markRead = async (id) => {\r\n    try {\r\n      await markNotificationAsRead(id);\r\n      setNotifications(prev => prev.map(n => n.id === id ? { ...n, read: true, read_at: new Date().toISOString() } : n));\r\n      setUnreadCount(c => Math.max(0, c - 1));\r\n    } catch (err) {\r\n      console.error('Failed to mark read', err);\r\n    }\r\n  };\r\n\r\n  const markAllRead = async () => {\r\n    try {\r\n      await markAllNotificationsAsRead();\r\n      setNotifications(prev => prev.map(n => ({ ...n, read: true, read_at: new Date().toISOString() })));\r\n      setUnreadCount(0);\r\n    } catch (err) {\r\n      console.error('Failed to mark all read', err);\r\n    }\r\n  };\r\n\r\n  const remove = async (id) => {\r\n    try {\r\n      await deleteNotification(id);\r\n      setNotifications(prev => prev.filter(n => n.id !== id));\r\n    } catch (err) {\r\n      console.error('Failed to delete notification', err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Only fetch notifications if user is logged in\r\n    const token = localStorage.getItem('accessToken');\r\n    if (token) {\r\n      refresh();\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n    const onNotification = (notif) => {\r\n      // Prepend to list and increment unread if not read\r\n      setNotifications(prev => [notif, ...prev]);\r\n      if (!notif.read && !notif.read_at) setUnreadCount(c => c + 1);\r\n      toast({ description: notif.title || notif.body || 'New notification' });\r\n    };\r\n    socket.on('notification', onNotification);\r\n    return () => {\r\n      socket.off('notification', onNotification);\r\n    };\r\n  }, [socket, toast]);\r\n\r\n  const value = useMemo(() => ({ notifications, unreadCount, loading, refresh, markRead, markAllRead, remove }), [notifications, unreadCount, loading]);\r\n\r\n  return (\r\n    <NotificationContext.Provider value={value}>\r\n      {children}\r\n    </NotificationContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useNotifications = () => useContext(NotificationContext);\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\contexts\\SocketContext.jsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-refresh/only-export-components",
        "severity": 1,
        "message": "Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.",
        "line": 58,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "namedExport",
        "endLine": 58,
        "endColumn": 23,
        "suppressions": [
          {
            "kind": "directive",
            "justification": "TODO: move non-component helpers to separate modules"
          }
        ]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\contexts\\theme.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\contexts\\ThemeContext.js",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 2,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                18,
                29
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿\r\nimport React, { useContext, createContext, useState, useMemo  } from 'react';\r\nimport { ThemeProvider as MuiThemeProvider } from '@mui/material/styles';\r\nimport { lightTheme, darkTheme } from './theme';\r\n\r\nexport const ThemeContext = createContext();\r\n\r\nexport const ThemeProvider = ({ children }) => {\r\n  const [theme, setTheme] = useState('light');\r\n\r\n  const toggleTheme = () => {\r\n    setTheme((prevTheme) => (prevTheme === 'light' ? 'dark' : 'light'));\r\n  };\r\n\r\n  const activeTheme = useMemo(() => (theme === 'light' ? lightTheme : darkTheme), [theme]);\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\r\n      <MuiThemeProvider theme={activeTheme}>{children}</MuiThemeProvider>\r\n    </ThemeContext.Provider>\r\n  );\r\n};\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\contexts\\ThemeContext.jsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-refresh/only-export-components",
        "severity": 1,
        "message": "Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.",
        "line": 64,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "namedExport",
        "endLine": 64,
        "endColumn": 22,
        "suppressions": [
          {
            "kind": "directive",
            "justification": "TODO: separate theme helpers from React exports"
          }
        ]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\contexts\\VideoContext.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'saveVideoMetadata' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 3,
        "column": 23,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 3,
        "endColumn": 40,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "saveVideoMetadata"
            },
            "fix": {
              "range": [
                210,
                229
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'saveVideoMetadata'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'api' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 4,
        "column": 8,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 11,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "api"
            },
            "fix": {
              "range": [
                287,
                296
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'api'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'videos'. Either include it or remove the dependency array.",
        "line": 128,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 128,
        "endColumn": 8,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [videos]",
            "fix": {
              "range": [
                5646,
                5648
              ],
              "text": "[videos]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "react-refresh/only-export-components",
        "severity": 1,
        "message": "Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.",
        "line": 265,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "namedExport",
        "endLine": 265,
        "endColumn": 29,
        "suppressions": [
          {
            "kind": "directive",
            "justification": "TODO: move provider helpers to separate modules"
          }
        ]
      }
    ],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿/* eslint-disable react-refresh/only-export-components -- TODO: move provider helpers to separate modules */\r\nimport React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { uploadVideo, saveVideoMetadata ,getVideoStatus} from '@/services/videoService';\r\nimport api from '@/services/api'; // Make sure this import is present if used in retryUpload\r\n\r\nconst VideoContext = createContext();\r\n\r\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL;\r\n\r\nexport const VideoProvider = ({ children }) => {\r\n  const [videos, setVideos] = useState(() => {\r\n    const saved = localStorage.getItem('videoResumes');\r\n    return saved ? JSON.parse(saved) : [];\r\n  });\r\n\r\n  // Save videos to localStorage whenever they change\r\n  useEffect(() => {\r\n    localStorage.setItem('videoResumes', JSON.stringify(videos));\r\n  }, [videos]);\r\n\r\n  // Status check for all processing videos\r\n  useEffect(() => {\r\n    const interval = setInterval(async () => {\r\n      try {\r\n        const updates = await Promise.all(\r\n          videos\r\n            .filter(video => (video.status === 'processing' || video.status === 'uploading') && video.id)\r\n            .map(async (video) => {\r\n              try {\r\n                console.log(`[VideoContext] Checking status for video: ${video.id}`);\r\n                const response = await getVideoStatus(video.id);\r\n                const data = response.data;\r\n                \r\n                console.log(`[VideoContext] Status check response for ${video.id}:`, data);\r\n\r\n                if (data.status === 'completed') {\r\n                  console.log(`[VideoContext] Video ${video.id} completed processing`);\r\n                  // Keep the video in local state but mark it completed and update URL to server-provided URL.\r\n                  const serverVideo = data.video || {};\r\n                  const serverVideoUrl =\r\n                    serverVideo.secure_url || serverVideo.video_url || serverVideo.videoUrl || data.video_url || null;\r\n                  const serverId = serverVideo.id || serverVideo._id || null;\r\n\r\n                  // If the server returned a canonical video id different from the temp id, update it.\r\n                  if (serverId && serverId !== video.id) {\r\n                    updateVideoServerId(video.id, serverId, {\r\n                      status: 'completed',\r\n                      isLocal: false,\r\n                      video_url: serverVideoUrl,\r\n                      videoUrl: serverVideoUrl,\r\n                      job_id: video.job_id,\r\n                      ...serverVideo\r\n                    });\r\n                    return null; // we already updated state via updateVideoServerId\r\n                  }\r\n\r\n                  return {\r\n                    id: video.id,\r\n                    updates: {\r\n                      status: 'completed',\r\n                      video_url: serverVideoUrl,\r\n                      videoUrl: serverVideoUrl,\r\n                      isLocal: false,\r\n                      job_id: video.job_id,\r\n                      ...serverVideo\r\n                    }\r\n                  };\r\n                } else if (data.status === 'failed') {\r\n                  console.log(`[VideoContext] Video ${video.id} failed processing`);\r\n                  return {\r\n                    id: video.id,\r\n                    updates: {\r\n                      status: 'failed',\r\n                      error: data.message || 'Processing failed',\r\n                      isLocal: true, // Keep as local if server doesn't know it or failed\r\n                      job_id: video.job_id // Preserve job_id\r\n                    }\r\n                  };\r\n                }\r\n                // If status is still processing/uploading, no update needed here.\r\n                return null;\r\n              } catch (error) {\r\n                console.error(`[VideoContext] Status check error for video ${video.id}:`, error);\r\n                if (error.response?.status === 404) {\r\n                  // If server returns 404, the video might have been deleted from server\r\n                  // or never reached it. Mark as failed and local to keep it in context\r\n                  // for potential retry from videos page or manual cleanup.\r\n                  return {\r\n                    id: video.id,\r\n                    updates: {\r\n                      status: 'failed',\r\n                      error: 'Processing failed: Video not found on server.',\r\n                      isLocal: true, // Keep as local if server doesn't know it\r\n                      job_id: video.job_id // Preserve job_id even if 404\r\n                    }\r\n                  }\r\n                }\r\n                return null;\r\n              }\r\n            })\r\n        );\r\n\r\n        const validUpdates = updates.filter(Boolean);\r\n        if (validUpdates.length > 0) {\r\n          console.log('[VideoContext] Applying updates to videos:', validUpdates);\r\n          setVideos(prev => prev.map(video => {\r\n            const update = validUpdates.find(u => u.id === video.id);\r\n            return update ? { ...video, ...update.updates } : video;\r\n          }));\r\n        }\r\n      } catch (error) {\r\n        console.error('[VideoContext] Error in status check interval:', error);\r\n      }\r\n    }, 5000); // Check every 5 seconds\r\n\r\n    return () => clearInterval(interval);\r\n  }, [videos]);\r\n\r\n  // Clean up local blob URLs when component unmounts or videos change\r\n  useEffect(() => {\r\n    return () => {\r\n      videos.forEach(video => {\r\n        if (video.isLocal && video.video_url?.startsWith('blob:')) {\r\n          URL.revokeObjectURL(video.video_url);\r\n        }\r\n      });\r\n    };\r\n  }, []); // Depend on videos to ensure cleanup when videos array itself changes\r\n\r\n  const addLocalVideo = (video) => {\r\n    // Prevent adding duplicate entries if an ID (temp or server) already exists\r\n    if (videos.some(v => v.id === video.id)) {\r\n      console.warn(`[VideoContext] Video with ID ${video.id} already exists. Not adding duplicate.`);\r\n      return video; // Return existing video or just prevent action\r\n    }\r\n\r\n    const newVideo = {\r\n      ...video,\r\n      isLocal: true,\r\n      status: 'uploading',\r\n      progress: 0,\r\n      submitted_at: new Date().toISOString()\r\n    };\r\n    setVideos(prev => [...prev, newVideo]);\r\n    console.log('[VideoContext] Added new local video:', newVideo);\r\n    return newVideo;\r\n  };\r\n\r\n  // In the updateVideoStatus function, make sure it handles job_id properly\r\n  const updateVideoStatus = (id, updates) => {\r\n    console.log(`[VideoContext] Updating video ${id} with:`, updates);\r\n    setVideos(prev => prev.map(video => \r\n      video.id === id ? { ...video, ...updates } : video\r\n    ));\r\n  };\r\n\r\n  // Handles changing the ID of an existing video entry\r\n  // This is crucial for transitioning from a temporary client-side ID to a server-assigned ID.\r\n  const updateVideoServerId = (tempId, serverId, initialUpdates = {}) => {\r\n    setVideos(prev => {\r\n      let updated = false;\r\n      const newVideos = prev.map(video => {\r\n        if (video.id === tempId) {\r\n          updated = true;\r\n          console.log(`[VideoContext] Transitioning video ID from ${tempId} to ${serverId}.`);\r\n          return { ...video, id: serverId, ...initialUpdates };\r\n        }\r\n        return video;\r\n      });\r\n      if (!updated) {\r\n        console.warn(`[VideoContext] Could not find video with tempId ${tempId} to update its server ID to ${serverId}. It might have been removed or ID already changed.`);\r\n      }\r\n      return newVideos;\r\n    });\r\n  };\r\n\r\n  const removeVideo = (videoId) => {\r\n    setVideos(prev => {\r\n      const videoToRemove = prev.find(v => v.id === videoId);\r\n      if (videoToRemove ) { //&& videoToRemove.video_url?.startsWith('blob:')\r\n        URL.revokeObjectURL(videoToRemove.video_url); // Revoke URL if it's a blob\r\n      }\r\n      console.log(`[VideoContext] Removing video with ID: ${videoId}`);\r\n      return prev.filter(video => video.id !== videoId);\r\n    });\r\n  };\r\n\r\n  const retryUpload = async (videoId) => {\r\n    const video = videos.find(v => v.id === videoId);\r\n    if (!video) {\r\n      console.error(`[VideoContext] Retry failed: Video ${videoId} not found in context.`);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      updateVideoStatus(videoId, { \r\n        status: 'uploading', \r\n        progress: 0, \r\n        error: null \r\n      });\r\n\r\n      // If it's a local video with a blob URL (meaning it needs re-uploading)\r\n      if (video.isLocal && video.video_url?.startsWith('blob:')) { \r\n        const formData = new FormData();\r\n        const videoBlob = await fetch(video.video_url).then(r => r.blob());\r\n        const videoFile = new File([videoBlob], `video-retry-${Date.now()}.webm`, { \r\n          type: 'video/webm' \r\n        });\r\n\r\n        formData.append('video', videoFile);\r\n        formData.append('title', video.video_title);\r\n        formData.append('jobId', video.job_id || ''); // Use the stored jobId\r\n        formData.append('hashtags', video.hashtags);\r\n        formData.append('videoType', video.video_type);\r\n        formData.append('videoDuration', video.video_duration);\r\n\r\n        const response = await uploadVideo(formData, (progress) => {\r\n          updateVideoStatus(videoId, { progress });\r\n        });\r\n\r\n        // The ID will remain the same if it was already a server ID from a previous failed attempt.\r\n        // If it was a temp local ID that never got a server ID, it will get one now.\r\n        updateVideoServerId(videoId, response.data.uploadId, { \r\n          status: 'processing',\r\n          isLocal: true, // It's still local until server confirms completion\r\n        });\r\n        console.log(`[VideoContext] Retry upload successful for tempId ${videoId}. New serverId: ${response.data.uploadId}`);\r\n        return response.data.uploadId;\r\n      } \r\n      // For server videos (or local videos that might have an ID but are stuck processing server-side)\r\n      else {\r\n        // Call a dedicated retry-processing API or re-trigger upload if needed\r\n        // const response = await api.post(`/videos/${videoId}/retry-upload`); // Or retry-processing\r\n        updateVideoStatus(videoId, {\r\n          status: 'processing'\r\n        });\r\n        console.log(`[VideoContext] Retry processing successful for serverId: ${videoId}`);\r\n        return videoId;\r\n      }\r\n    } catch (error) {\r\n      console.error(`[VideoContext] Retry failed for video ${videoId}:`, error);\r\n      updateVideoStatus(videoId, {\r\n        status: 'failed',\r\n        error: error.message || 'Retry failed',\r\n        isLocal: true, // Mark as local if retry fails, so it's visible for another retry\r\n      });\r\n      throw error; // Re-throw to propagate the error if needed by caller\r\n    }\r\n  };\r\n\r\n  return (\r\n    <VideoContext.Provider value={{ \r\n      videos, \r\n      addLocalVideo, \r\n      updateVideoStatus,\r\n      updateVideoServerId, // Expose the new function\r\n      retryUpload,\r\n      removeVideo, \r\n    }}>\r\n      {children}\r\n    </VideoContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useVideoContext = () => {\r\n  const context = useContext(VideoContext);\r\n  if (!context) {\r\n    throw new Error('useVideoContext must be used within a VideoProvider');\r\n  }\r\n  return context;\r\n};\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\entities\\comment.entity.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\entities\\like.entity.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\entities\\save.entity.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\entities\\user-video.entity.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'UserVideo' is not defined.",
        "line": 20,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 20,
        "endColumn": 25
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿export class UserVideo3 {\r\n  constructor(data = {}) {\r\n    this.id = data.id || null;\r\n    this.userId = data.userId || null;\r\n    this.videoUrl = data.videoUrl || \"\";\r\n    this.thumbnailUrl = data.thumbnailUrl || \"\";\r\n    this.title = data.title || \"\";\r\n    this.description = data.description || \"\";\r\n    this.duration = data.duration || 0;\r\n    this.views = data.views || 0;\r\n    this.likes = data.likes || 0;\r\n    this.comments = data.comments || [];\r\n    this.isPublic = data.isPublic || true;\r\n    this.createdAt = data.createdAt || new Date();\r\n    this.updatedAt = data.updatedAt || new Date();\r\n    this.videoPosition = data.videoPosition || \"intro\"; // Replace 'intro' with a valid default value\r\n  }\r\n\r\n  static fromJSON(json) {\r\n    return new UserVideo(json);\r\n  }\r\n\r\n  toJSON() {\r\n    return {\r\n      id: this.id,\r\n      userId: this.userId,\r\n      videoUrl: this.videoUrl,\r\n      thumbnailUrl: this.thumbnailUrl,\r\n      title: this.title,\r\n      description: this.description,\r\n      duration: this.duration,\r\n      views: this.views,\r\n      likes: this.likes,\r\n      comments: this.comments,\r\n      isPublic: this.isPublic,\r\n      createdAt: this.createdAt,\r\n      updatedAt: this.updatedAt,\r\n      videoPosition: this.videoPosition\r\n    };\r\n  }\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\entities\\user.entity.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\firebase-config.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\hooks\\use-toast.js",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'actionTypes' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 6,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 6,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "actionTypes"
            },
            "fix": {
              "range": [
                98,
                250
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'actionTypes'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import * as React from \"react\";\r\n\r\nconst TOAST_LIMIT = 1;\r\nconst TOAST_REMOVE_DELAY = 1000000;\r\n\r\nconst actionTypes = {\r\n  ADD_TOAST: \"ADD_TOAST\",\r\n  UPDATE_TOAST: \"UPDATE_TOAST\",\r\n  DISMISS_TOAST: \"DISMISS_TOAST\",\r\n  REMOVE_TOAST: \"REMOVE_TOAST\"\r\n};\r\n\r\nlet count = 0;\r\n\r\nfunction genId() {\r\n  count = (count + 1) % Number.MAX_SAFE_INTEGER;\r\n  return count.toString();\r\n}\r\n\r\nconst toastTimeouts = new Map();\r\n\r\nconst addToRemoveQueue = toastId => {\r\n  if (toastTimeouts.has(toastId)) {\r\n    return;\r\n  }\r\n\r\n  const timeout = setTimeout(() => {\r\n    toastTimeouts.delete(toastId);\r\n    dispatch({\r\n      type: \"REMOVE_TOAST\",\r\n      toastId: toastId\r\n    });\r\n  }, TOAST_REMOVE_DELAY);\r\n\r\n  toastTimeouts.set(toastId, timeout);\r\n};\r\n\r\nexport const reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_TOAST\":\r\n      return {\r\n        ...state,\r\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT)\r\n      };\r\n\r\n    case \"UPDATE_TOAST\":\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.map(\r\n          t => (t.id === action.toast.id ? { ...t, ...action.toast } : t)\r\n        )\r\n      };\r\n\r\n    case \"DISMISS_TOAST\": {\r\n      const { toastId } = action;\r\n\r\n      if (toastId) {\r\n        addToRemoveQueue(toastId);\r\n      } else {\r\n        state.toasts.forEach(toast => {\r\n          addToRemoveQueue(toast.id);\r\n        });\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.map(\r\n          t =>\r\n            t.id === toastId || toastId === undefined\r\n              ? {\r\n                  ...t,\r\n                  open: false\r\n                }\r\n              : t\r\n        )\r\n      };\r\n    }\r\n    case \"REMOVE_TOAST\":\r\n      if (action.toastId === undefined) {\r\n        return {\r\n          ...state,\r\n          toasts: []\r\n        };\r\n      }\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.filter(t => t.id !== action.toastId)\r\n      };\r\n  }\r\n};\r\n\r\nconst listeners = [];\r\n\r\nlet memoryState = { toasts: [] };\r\n\r\nfunction dispatch(action) {\r\n  memoryState = reducer(memoryState, action);\r\n  listeners.forEach(listener => {\r\n    listener(memoryState);\r\n  });\r\n}\r\n\r\nfunction toast({ ...props }) {\r\n  const id = genId();\r\n\r\n  const update = props =>\r\n    dispatch({\r\n      type: \"UPDATE_TOAST\",\r\n      toast: { ...props, id }\r\n    });\r\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id });\r\n\r\n  dispatch({\r\n    type: \"ADD_TOAST\",\r\n    toast: {\r\n      ...props,\r\n      id,\r\n      open: true,\r\n      onOpenChange: open => {\r\n        if (!open) dismiss();\r\n      }\r\n    }\r\n  });\r\n\r\n  return {\r\n    id: id,\r\n    dismiss,\r\n    update\r\n  };\r\n}\r\n\r\nfunction useToast() {\r\n  const [state, setState] = React.useState(memoryState);\r\n\r\n  React.useEffect(\r\n    () => {\r\n      listeners.push(setState);\r\n      return () => {\r\n        const index = listeners.indexOf(setState);\r\n        if (index > -1) {\r\n          listeners.splice(index, 1);\r\n        }\r\n      };\r\n    },\r\n    [state]\r\n  );\r\n\r\n  return {\r\n    ...state,\r\n    toast,\r\n    dismiss: toastId => dispatch({ type: \"DISMISS_TOAST\", toastId })\r\n  };\r\n}\r\n\r\nexport { useToast, toast };\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\hooks\\useAuth.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'signInWithCustomToken' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 3,
        "column": 19,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 3,
        "endColumn": 40,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "signInWithCustomToken"
            },
            "fix": {
              "range": [
                227,
                250
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'signInWithCustomToken'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setError' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 31,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 31,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setError"
            },
            "fix": {
              "range": [
                1199,
                1209
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setError'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'fallbackMode' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 32,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 32,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "fallbackMode"
            },
            "fix": {
              "range": [
                1239,
                1251
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'fallbackMode'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useCallback has a missing dependency: 'TOKEN_REFRESH_BUFFER'. Either include it or remove the dependency array.",
        "line": 239,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 239,
        "endColumn": 31,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [TOKEN_REFRESH_BUFFER, navigate, refreshTokens]",
            "fix": {
              "range": [
                7950,
                7975
              ],
              "text": "[TOKEN_REFRESH_BUFFER, navigate, refreshTokens]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'storeAuthData' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 241,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 241,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "storeAuthData"
            },
            "fix": {
              "range": [
                7983,
                8695
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'storeAuthData'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'persistentToken' is assigned a value but never used. Allowed unused args must match /^_/u.",
        "line": 261,
        "column": 132,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 261,
        "endColumn": 147,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "persistentToken"
            },
            "fix": {
              "range": [
                8828,
                8852
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'persistentToken'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'TOKEN_REFRESH_BUFFER'. Either include it or remove the dependency array.",
        "line": 500,
        "column": 4,
        "nodeType": "ArrayExpression",
        "endLine": 500,
        "endColumn": 38,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [checkAuth, refreshTokens, logout, TOKEN_REFRESH_BUFFER]",
            "fix": {
              "range": [
                16489,
                16523
              ],
              "text": "[checkAuth, refreshTokens, logout, TOKEN_REFRESH_BUFFER]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "react-refresh/only-export-components",
        "severity": 1,
        "message": "Fast refresh only works when a file only exports components. Move your React context(s) to a separate file.",
        "line": 7,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "reactContext",
        "endLine": 7,
        "endColumn": 25,
        "suppressions": [
          {
            "kind": "directive",
            "justification": "TODO: refactor heavy hook/provider to separate module"
          }
        ]
      },
      {
        "ruleId": "react-refresh/only-export-components",
        "severity": 1,
        "message": "Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.",
        "line": 568,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "namedExport",
        "endLine": 568,
        "endColumn": 21,
        "suppressions": [
          {
            "kind": "directive",
            "justification": "TODO: refactor heavy hook/provider to separate module"
          }
        ]
      }
    ],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿/* eslint-disable react-refresh/only-export-components -- TODO: refactor heavy hook/provider to separate module */\r\nimport { createContext, useState, useEffect, useMemo, useCallback, useContext } from \"react\";\r\nimport { getAuth, signInWithCustomToken, GoogleAuthProvider, signInWithPopup, browserLocalPersistence, signOut, setPersistence } from \"firebase/auth\";\r\nimport { app } from \"../firebase-config.js\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(() => {\r\n    try {\r\n      const storedUser = localStorage.getItem('user');\r\n      return storedUser ? JSON.parse(storedUser) : { role: null };\r\n    } catch (e) {\r\n      console.error(\"Failed to parse user from localStorage\", e);\r\n      return { role: null };\r\n    }\r\n  });\r\n\r\n  const [role, setRole] = useState(() => {\r\n    try {\r\n      const storedRole = localStorage.getItem('role');\r\n      return storedRole || null;\r\n    } catch (e) {\r\n      console.error(\"Failed to parse role from localStorage\", e);\r\n      return null;\r\n    }\r\n  });\r\n  \r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [fallbackMode, setFallbackMode] = useState(false);\r\n  const navigate = useNavigate();\r\n  \r\n  const auth = getAuth(app);\r\n  setPersistence(auth, browserLocalPersistence);\r\n  \r\n  const apiUrl = import.meta.env.VITE_API_BASE_URL || \"http://localhost:5000\";\r\n  const LINKEDIN_CLIENT_ID = import.meta.env.VITE_LINKEDIN_CLIENT_ID || \"YOUR_LINKEDIN_CLIENT_ID\";\r\n\r\n  const TOKEN_REFRESH_BUFFER = 5 * 60 * 1000; // 5 minutes buffer\r\n\r\n  const storeTokens = (accessToken, refreshToken, userData, accessExpiresIn, refreshExpiresIn) => {\r\n    localStorage.setItem('accessToken', accessToken);\r\n    localStorage.setItem('refreshToken', refreshToken);\r\n    localStorage.setItem('accessExpiresTime', (Date.now() + (accessExpiresIn * 1000)).toString());\r\n    localStorage.setItem('refreshExpiresTime', (Date.now() + (refreshExpiresIn * 1000)).toString());\r\n    \r\n    if (userData) {\r\n      const userWithRefreshToken = {\r\n        ...userData,\r\n        refresh_token: refreshToken\r\n      };\r\n      localStorage.setItem('user', JSON.stringify(userWithRefreshToken));\r\n      localStorage.setItem('role', userData?.role || null);\r\n    }\r\n  };\r\n\r\n  const clearTokens = () => {\r\n    localStorage.removeItem('accessToken');\r\n    localStorage.removeItem('refreshToken');\r\n    localStorage.removeItem('accessExpiresTime');\r\n    localStorage.removeItem('refreshExpiresTime');\r\n    localStorage.removeItem('user');\r\n    localStorage.removeItem('role');\r\n    localStorage.removeItem('persistentToken');\r\n  };\r\n\r\n  const refreshTokens = useCallback(async () => {\r\n    try {\r\n      const refreshToken = localStorage.getItem('refreshToken');\r\n      if (!refreshToken) throw new Error('No refresh token available');\r\n      \r\n      const response = await fetch(`${apiUrl}/api/auth/refresh-token`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ refreshToken })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        if (response.status === 401) {\r\n          clearTokens();\r\n          setUser(null);\r\n          setRole(null);\r\n          navigate('/login');\r\n        }\r\n        throw new Error(errorData.message || 'Token refresh failed');\r\n      }\r\n\r\n      const { accessToken, refreshToken: newRefreshToken, user, accessExpiresIn, refreshExpiresIn } = await response.json();\r\n      storeTokens(accessToken, newRefreshToken, user, accessExpiresIn, refreshExpiresIn);\r\n      return accessToken;\r\n    } catch (error) {\r\n      console.error('Refresh failed:', error);\r\n      throw error;\r\n    }\r\n  }, [apiUrl, navigate]);\r\n\r\n  const logout = useCallback(async () => {\r\n    try {\r\n      clearTokens();\r\n      setUser(null);\r\n      setRole(null);\r\n      \r\n      const token = localStorage.getItem('accessToken');\r\n      if (token) {\r\n        try {\r\n          await fetch(`${apiUrl}/api/auth/logout`, {\r\n            method: \"POST\",\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`,\r\n              'Content-Type': 'application/json'\r\n            }\r\n          });\r\n        } catch (backendError) {\r\n          console.error('Backend logout failed:', backendError);\r\n        }\r\n      }\r\n  \r\n      try {\r\n        await signOut(auth);\r\n      } catch (firebaseError) {\r\n        console.error('Firebase logout failed:', firebaseError);\r\n      }\r\n  \r\n      navigate(\"/\");\r\n    } catch (error) {\r\n      console.error(\"Logout error:\", error);\r\n      clearTokens();\r\n      setUser(null);\r\n      setRole(null);\r\n      navigate(\"/\");\r\n    }\r\n  }, [apiUrl, navigate, auth]);\r\n\r\n  const checkAuth = useCallback(async (options = { silent: false }) => {\r\n    try {\r\n      setLoading(true);\r\n\r\n      const pathname = window.location.pathname;\r\n    \r\n      // Skip auth check for public routes\r\n      const publicRoutes = [\r\n       \r\n        '/signup',\r\n        '/about',\r\n        '/FAQs',\r\n        '/unauthorized',\r\n        '/auth/linkedin/callback',\r\n        '/forgot-password',\r\n        '/reset-password',\r\n        '/',\r\n        '/jobseeker-profile/:id',\r\n        '/employer-profile/:id',\r\n        '/register-form',\r\n        '/more-page',\r\n        '/authpage',\r\n        '/auth/linkedin/callback',\r\n        '/check-it',\r\n        '/employer-explore-public',\r\n        '/Explore-jobs-public',\r\n        '/video-feed/:vid',\r\n         '/jobseeker-video-feed/:vid',\r\n       '/forgot-password',\r\n         '/reset-password/:oobCode',\r\n          '/jobseeker-profile/:id',\r\n                '/employer-profile/:id',\r\n                '/videos/:pagetype',\r\n        '/video-player/:id',\r\n                '/videos/all' ,\r\n                '/how-it-works',\r\n                '/pricing',\r\n                '/contact',\r\n                '/page-near-future'\r\n        \r\n      ];\r\n      \r\n      \r\n           \r\n              \r\n \r\n      const isPublicRoute = publicRoutes.some(route => {\r\n        // Handle dynamic routes like '/jobseeker-profile/:id'\r\n        if (route.includes(':')) {\r\n          const basePath = route.split('/:')[0];\r\n          return pathname.startsWith(basePath);\r\n        }\r\n        return pathname === route;\r\n      });\r\n  \r\n      if (isPublicRoute) {\r\n        return; // Skip auth check for public routes\r\n      }\r\n  \r\n      const accessToken = localStorage.getItem('accessToken');\r\n      const refreshToken = localStorage.getItem('refreshToken');\r\n      const accessExpiresTime = parseInt(localStorage.getItem('accessExpiresTime'), 10);\r\n      const refreshExpiresTime = parseInt(localStorage.getItem('refreshExpiresTime'), 10);\r\n\r\n      if (window.location.pathname.includes('/login')) return;\r\n\r\n      if (!accessToken && !refreshToken) {\r\n        if (!options.silent) navigate('/login');\r\n        throw new Error('No tokens available');\r\n      }\r\n\r\n      // Check if refresh token is expired\r\n      if (refreshToken && refreshExpiresTime && Date.now() > refreshExpiresTime) {\r\n        if (!options.silent) navigate('/login');\r\n        throw new Error('Refresh token expired');\r\n      }\r\n\r\n      // Check if access token needs refresh\r\n      if (accessToken && accessExpiresTime) {\r\n        if (Date.now() < accessExpiresTime - TOKEN_REFRESH_BUFFER) {\r\n          return;\r\n        }\r\n        \r\n        if (refreshToken) {\r\n          try {\r\n            await refreshTokens();\r\n            return;\r\n          } catch (refreshError) {\r\n            if (!options.silent) navigate('/login');\r\n            throw refreshError;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!options.silent) navigate('/login');\r\n      throw new Error('Authentication failed');\r\n    } catch (error) {\r\n      if (!options.silent) console.error('Authentication check failed:', error);\r\n      throw error;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [navigate, refreshTokens]);\r\n\r\n  const storeAuthData = (userData, isFallback, accessExpiresIn, refreshExpiresIn, accessToken = null) => {\r\n    const safeUser = {\r\n      ...(userData || {}),\r\n      role: userData?.role || null\r\n    };\r\n\r\n    localStorage.setItem('user', JSON.stringify(safeUser));\r\n    localStorage.setItem('role', safeUser.role);\r\n    \r\n    if (accessToken) {\r\n      localStorage.setItem('accessExpiresTime', (Date.now() + (accessExpiresIn * 1000)).toString());\r\n      localStorage.setItem('refreshExpiresTime', (Date.now() + (refreshExpiresIn * 1000)).toString());\r\n      localStorage.setItem('accessToken', accessToken);\r\n    }\r\n    \r\n    setUser(safeUser);\r\n    setRole(safeUser.role);\r\n    setFallbackMode(isFallback);\r\n  };\r\n\r\n  const handleAuthSuccess = useCallback(async (accessToken, refreshToken, provider, role, user, accessExpiresIn, refreshExpiresIn, persistentToken = null, firebaseStatus = null) => {\r\n    const userWithRefreshToken = {\r\n      ...user,\r\n      refresh_token: refreshToken\r\n    };\r\n\r\n    localStorage.setItem('accessToken', accessToken);\r\n    localStorage.setItem('user', JSON.stringify(userWithRefreshToken));\r\n    localStorage.setItem('role', role);\r\n    localStorage.setItem('accessExpiresTime', (Date.now() + (accessExpiresIn * 1000)).toString());\r\n    localStorage.setItem('refreshExpiresTime', (Date.now() + (refreshExpiresIn * 1000)).toString());\r\n\r\n    setUser(userWithRefreshToken);\r\n    setRole(role);\r\n    setFallbackMode(firebaseStatus === 'fallback');\r\n    return { success: true, user: userWithRefreshToken, role, provider };\r\n  }, []);\r\n\r\n  // Email/Password Login\r\nconst loginByEmailAndPassword = useCallback(async (email, password) => {\r\n  try {\r\n    const response = await fetch(`${apiUrl}/api/auth/signin`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ email, password })\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (!response.ok) {\r\n      return {\r\n        error: true,\r\n        message: data.message || \"Login failed\",\r\n        status: response.status\r\n      };\r\n    }\r\n\r\n    // Store tokens and user data, passing the accessExpiresIn from the backend response\r\n    storeTokens(data.accessToken, data.refreshToken, data.user, data.accessExpiresIn);\r\n\r\n    setUser(data.user);\r\n    setRole(data.user?.role || null);\r\n    \r\n    return { success: true, user: data.user };\r\n    \r\n  } catch (error) {\r\n    console.error(\"Login error:\", error);\r\n    return {\r\n      error: true,\r\n      message: error.message || \"Login failed\"\r\n    };\r\n  }\r\n}, [apiUrl]);\r\n\r\n  // Google Authentication\r\nconst authenticateWithGoogle = useCallback(async (role = null) => {\r\n  try {\r\n    const provider = new GoogleAuthProvider();\r\n    const result = await signInWithPopup(auth, provider);\r\n    const idToken = await result.user.getIdToken(true);\r\n\r\n    const endpoint = role\r\n      ? `${apiUrl}/api/auth/signup/google`\r\n      : `${apiUrl}/api/auth/signin/google`;\r\n\r\n    const response = await fetch(endpoint, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ idToken, ...(role ? { role } : {}) })\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.message || \"Google authentication failed\");\r\n    }\r\n\r\n    const data = await response.json();\r\n    \r\n    // Store tokens and user data, passing the accessExpiresIn from the backend response\r\n    storeTokens(data.accessToken, data.refreshToken, data.user, data.accessExpiresIn);\r\n    setUser(data.user);\r\n    setRole(data.user?.role || null);\r\n    \r\n    return { success: true, user: data.user };\r\n    \r\n  } catch (error) {\r\n    console.error(\"Google auth error:\", error);\r\n    await signOut(auth);\r\n    return {\r\n      error: true,\r\n      message: error.message || \"Google authentication failed\"\r\n    };\r\n  }\r\n}, [apiUrl, auth]);\r\n\r\n  // LinkedIn Authentication\r\nconst authenticateWithLinkedIn = useCallback(async (role = null) => {\r\n  try {\r\n    const linkedinAuthUrl = `https://www.linkedin.com/oauth/v2/authorization?response_type=code&client_id=${LINKEDIN_CLIENT_ID}&redirect_uri=${encodeURIComponent(window.location.origin + '/auth/linkedin/callback')}&scope=${encodeURIComponent('openid profile email')}&state=${Date.now()}`;\r\n\r\n    const linkedinAuthWindow = window.open(\r\n      linkedinAuthUrl,\r\n      '_blank',\r\n      'width=600,height=600'\r\n    );\r\n\r\n    if (!linkedinAuthWindow) {\r\n      throw new Error(\"Popup window was blocked. Please allow popups for this site.\");\r\n    }\r\n\r\n    const result = await new Promise((resolve, reject) => {\r\n      const messageListener = (event) => {\r\n        if (event.origin === window.location.origin) {\r\n          if (event.data.type === 'LINKEDIN_AUTH_SUCCESS') {\r\n            window.removeEventListener('message', messageListener);\r\n            resolve(event.data.payload);\r\n          } else if (event.data.type === 'LINKEDIN_AUTH_ERROR') {\r\n            window.removeEventListener('message', messageListener);\r\n            reject(new Error(event.data.error || \"LinkedIn authentication failed\"));\r\n          }\r\n        }\r\n      };\r\n\r\n      window.addEventListener('message', messageListener);\r\n    });\r\n\r\n    const endpoint = role\r\n      ? `${apiUrl}/api/auth/signup/linkedin`\r\n      : `${apiUrl}/api/auth/signin/linkedin`;\r\n\r\n    const response = await fetch(endpoint, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        token: result.id_token,\r\n        ...(role ? { role } : {})\r\n      })\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.error || \"LinkedIn authentication failed\");\r\n    }\r\n\r\n    const data = await response.json();\r\n    \r\n    // Store tokens and user data, passing the accessExpiresIn from the backend response\r\n    storeTokens(data.accessToken, data.refreshToken, data.user, data.accessExpiresIn);\r\n    setUser(data.user);\r\n    setRole(data.user?.role || null);\r\n    \r\n    return { success: true, user: data.user };\r\n    \r\n  } catch (error) {\r\n    console.error(\"LinkedIn auth error:\", error);\r\n    return {\r\n      error: true,\r\n      message: error.message || \"LinkedIn authentication failed\"\r\n    };\r\n  }\r\n}, [apiUrl, LINKEDIN_CLIENT_ID]);\r\n\r\n  // Email Signup\r\nconst signupWithEmail = useCallback(async (email, password, displayName, role) => {\r\n  try {\r\n    clearTokens(); // Clear any existing tokens before signup\r\n    const response = \r\n    await fetch(`${apiUrl}/api/auth/signup`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ email, password, displayName, role })\r\n    });\r\n\r\n    const data = await response.json();\r\n    if (!response.ok) {\r\n      return {\r\n        error: true,\r\n        message: data.message || \"Signup failed\",\r\n        status: response.status\r\n      };\r\n    }\r\n\r\n    // Store all tokens and user data, using data.accessExpiresIn from the backend\r\n    storeTokens(data.accessToken, data.refreshToken, data.user, data.accessExpiresIn);\r\n    \r\n    setUser(data.user);\r\n    setRole(data.user.role);\r\n    \r\n    return { \r\n      success: true, \r\n      user: data.user,\r\n      role: data.user.role\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Signup error:\", error);\r\n    return {\r\n      error: true,\r\n      message: error.message || \"Signup failed\"\r\n    };\r\n  }\r\n}, [apiUrl]);\r\n\r\n\r\n  \r\nuseEffect(() => {\r\n  let refreshInterval;\r\n\r\n  const checkTokenRefresh = async () => {\r\n    const accessExpiresTime = parseInt(localStorage.getItem('accessExpiresTime'), 10);\r\n    const refreshExpiresTime = parseInt(localStorage.getItem('refreshExpiresTime'), 10);\r\n    const now = Date.now();\r\n\r\n    // If refresh token is expired, logout\r\n    if (refreshExpiresTime && now > refreshExpiresTime) {\r\n      await logout();\r\n      return;\r\n    }\r\n\r\n    // If access token needs refresh\r\n    if (accessExpiresTime && now > accessExpiresTime - TOKEN_REFRESH_BUFFER) {\r\n      try {\r\n        await refreshTokens();\r\n      } catch (error) {\r\n        console.error('Background refresh failed:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const initializeAuth = async () => {\r\n    try {\r\n      await checkAuth();\r\n      refreshInterval = setInterval(checkTokenRefresh, 30000); // Check every 30 seconds\r\n    } catch (error) {\r\n      console.error('Initial auth check failed:', error);\r\n    }\r\n  };\r\n\r\n  initializeAuth();\r\n  return () => clearInterval(refreshInterval);\r\n}, [checkAuth, refreshTokens, logout]);\r\n\r\nuseEffect(() => {\r\n  const refreshExpiresTime = parseInt(localStorage.getItem('refreshExpiresTime'), 10);\r\n  if (refreshExpiresTime && Date.now() > refreshExpiresTime) {\r\n    console.log('Refresh token expired - forcing logout');\r\n    logout();\r\n  }\r\n}, [logout]);\r\n\r\nconst contextValue = useMemo(() => ({\r\n  user: user || { role: null },\r\n  role: role || null,\r\n  loading, \r\n  error,\r\n  loginByEmailAndPassword,\r\n  authenticateWithGoogle,\r\n  authenticateWithLinkedIn,\r\n  signupWithEmail,\r\n  logout,\r\n  refreshAuth: checkAuth,\r\n  refreshTokens,\r\n  checkAuth,\r\n  handleAuthSuccess\r\n}), [\r\n  user,\r\n  role,\r\n  loading,\r\n  error, \r\n  loginByEmailAndPassword,\r\n  authenticateWithGoogle,\r\n  authenticateWithLinkedIn,\r\n  signupWithEmail,\r\n  logout,\r\n  refreshTokens,\r\n  checkAuth,\r\n  handleAuthSuccess,\r\n]);\r\n\r\nreturn (\r\n  <AuthContext.Provider value={contextValue}>\r\n       {children}\r\n    {/* Temporary debug panel - remove for production */}\r\n    {/* <div style={{\r\n  position: 'fixed',\r\n  bottom: 0,\r\n  right: 0,\r\n  backgroundColor: 'white',\r\n  padding: '10px',\r\n  border: '1px solid #ccc',\r\n  zIndex: 1000\r\n}}>\r\n  <h4>Auth Debug</h4>\r\n  <div>Access Token: {localStorage.getItem('accessToken') ? 'Ã¢Å“â€¦' : 'Ã¢â€ŒÅ’'}</div>\r\n  <div>Refresh Token: {localStorage.getItem('refreshToken') ? 'Ã¢Å“â€¦' : 'Ã¢â€ŒÅ’'}</div>\r\n  <div>Token Expiry: {localStorage.getItem('accessExpiresTime') ? \r\n    new Date(parseInt(localStorage.getItem('accessExpiresTime'))).toLocaleString() : 'None'}</div>\r\n  <div>Time Now: {new Date().toLocaleString()}</div>\r\n  <div>Seconds Until Expiry: {localStorage.getItem('accessExpiresTime') ? \r\n    Math.round((parseInt(localStorage.getItem('accessExpiresTime')) - Date.now()) / 1000) : 'N/A'}</div>\r\n  <button onClick={checkAuth}>Force Check Auth</button>\r\n  <button onClick={refreshTokens}>Force Refresh</button>\r\n  <button onClick={logout}>Force Logout</button>\r\n</div> */}\r\n</AuthContext.Provider>\r\n);\r\n};\r\n\r\nexport const useAuth = () => {\r\nconst context = useContext(AuthContext);\r\nif (!context) {\r\n  throw new Error('useAuth must be used within an AuthProvider');\r\n}\r\nreturn context;\r\n};",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\hooks\\useIntersectionObserver.js",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 40,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 50,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                37,
                49
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import { useEffect, useRef, useState , useContext } from 'react';\r\n\r\n/**\r\n * Custom hook for intersection observer\r\n * @param {Object} options - Intersection observer options\r\n * @param {number} options.threshold - Threshold for intersection (0-1)\r\n * @param {string} options.rootMargin - Root margin for intersection\r\n * @param {boolean} options.triggerOnce - Whether to trigger only once\r\n * @returns {Array} [ref, isIntersecting, entry]\r\n */\r\nexport const useIntersectionObserver = (options = {}) => {\r\n  const {\r\n    threshold = 0.1,\r\n    rootMargin = '0px',\r\n    triggerOnce = true,\r\n  } = options;\r\n\r\n  const [isIntersecting, setIsIntersecting] = useState(false);\r\n  const [entry, setEntry] = useState(null);\r\n  const elementRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const element = elementRef.current;\r\n    if (!element) return;\r\n\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        setIsIntersecting(entry.isIntersecting);\r\n        setEntry(entry);\r\n\r\n        if (entry.isIntersecting && triggerOnce) {\r\n          observer.unobserve(element);\r\n        }\r\n      },\r\n      {\r\n        threshold,\r\n        rootMargin,\r\n      }\r\n    );\r\n\r\n    observer.observe(element);\r\n\r\n    return () => {\r\n      observer.unobserve(element);\r\n    };\r\n  }, [threshold, rootMargin, triggerOnce]);\r\n\r\n  return [elementRef, isIntersecting, entry];\r\n};\r\n\r\n/**\r\n * Hook for lazy loading images\r\n * @param {string} src - Image source URL\r\n * @param {Object} options - Intersection observer options\r\n * @returns {Array} [ref, imageSrc, isLoaded]\r\n */\r\nexport const useLazyImage = (src, options = {}) => {\r\n  const [imageSrc, setImageSrc] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [ref, isIntersecting] = useIntersectionObserver(options);\r\n\r\n  useEffect(() => {\r\n    if (isIntersecting && src && !imageSrc) {\r\n      const img = new Image();\r\n      img.onload = () => {\r\n        setImageSrc(src);\r\n        setIsLoaded(true);\r\n      };\r\n      img.onerror = () => {\r\n        setIsLoaded(false);\r\n      };\r\n      img.src = src;\r\n    }\r\n  }, [isIntersecting, src, imageSrc]);\r\n\r\n  return [ref, imageSrc, isLoaded];\r\n};\r\n\r\n/**\r\n * Hook for lazy loading videos\r\n * @param {string} src - Video source URL\r\n * @param {Object} options - Intersection observer options\r\n * @returns {Array} [ref, shouldLoad, isVisible]\r\n */\r\nexport const useLazyVideo = (src, options = {}) => {\r\n  const [shouldLoad, setShouldLoad] = useState(false);\r\n  const [ref, isIntersecting] = useIntersectionObserver({\r\n    threshold: 0.5, // Load when 50% visible\r\n    ...options,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (isIntersecting && src && !shouldLoad) {\r\n      setShouldLoad(true);\r\n    }\r\n  }, [isIntersecting, src, shouldLoad]);\r\n\r\n  return [ref, shouldLoad, isIntersecting];\r\n};\r\n\r\n/**\r\n * Hook for infinite scrolling\r\n * @param {Function} loadMore - Function to load more items\r\n * @param {boolean} hasMore - Whether there are more items to load\r\n * @param {boolean} loading - Whether currently loading\r\n * @returns {Array} [ref, isLoading]\r\n */\r\nexport const useInfiniteScroll = (loadMore, hasMore, loading) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [ref, isIntersecting] = useIntersectionObserver({\r\n    threshold: 0.1,\r\n    triggerOnce: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (isIntersecting && hasMore && !loading && !isLoading) {\r\n      setIsLoading(true);\r\n      loadMore().finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n    }\r\n  }, [isIntersecting, hasMore, loading, isLoading, loadMore]);\r\n\r\n  return [ref, isLoading];\r\n};\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\hooks\\useSocket.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\hooks\\useVirtualization.js",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useEffect' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 20,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useEffect"
            },
            "fix": {
              "range": [
                17,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useEffect'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 54,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 64,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                51,
                63
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import { useState, useEffect, useCallback, useMemo , useContext } from 'react';\r\n\r\n/**\r\n * Custom hook for virtualizing large lists\r\n * @param {Array} items - Array of items to virtualize\r\n * @param {number} itemHeight - Height of each item in pixels\r\n * @param {number} containerHeight - Height of the container in pixels\r\n * @param {number} overscan - Number of items to render outside visible area\r\n * @returns {Object} Virtualization data and methods\r\n */\r\nexport const useVirtualization = ({\r\n  items = [],\r\n  itemHeight = 100,\r\n  containerHeight = 400,\r\n  overscan = 5,\r\n}) => {\r\n  const [scrollTop, setScrollTop] = useState(0);\r\n\r\n  const totalHeight = items.length * itemHeight;\r\n  const visibleItemsCount = Math.ceil(containerHeight / itemHeight);\r\n  \r\n  const startIndex = Math.max(0, Math.floor(scrollTop / itemHeight) - overscan);\r\n  const endIndex = Math.min(\r\n    items.length - 1,\r\n    startIndex + visibleItemsCount + overscan * 2\r\n  );\r\n\r\n  const visibleItems = useMemo(() => {\r\n    return items.slice(startIndex, endIndex + 1).map((item, index) => ({\r\n      ...item,\r\n      index: startIndex + index,\r\n      top: (startIndex + index) * itemHeight,\r\n    }));\r\n  }, [items, startIndex, endIndex, itemHeight]);\r\n\r\n  const handleScroll = useCallback((event) => {\r\n    setScrollTop(event.target.scrollTop);\r\n  }, []);\r\n\r\n  return {\r\n    visibleItems,\r\n    totalHeight,\r\n    startIndex,\r\n    endIndex,\r\n    handleScroll,\r\n    containerProps: {\r\n      style: {\r\n        height: containerHeight,\r\n        overflow: 'auto',\r\n      },\r\n      onScroll: handleScroll,\r\n    },\r\n    innerProps: {\r\n      style: {\r\n        height: totalHeight,\r\n        position: 'relative',\r\n      },\r\n    },\r\n  };\r\n};\r\n\r\n/**\r\n * Hook for grid virtualization\r\n * @param {Array} items - Array of items to virtualize\r\n * @param {number} itemWidth - Width of each item\r\n * @param {number} itemHeight - Height of each item\r\n * @param {number} containerWidth - Width of the container\r\n * @param {number} containerHeight - Height of the container\r\n * @param {number} gap - Gap between items\r\n * @returns {Object} Grid virtualization data\r\n */\r\nexport const useGridVirtualization = ({\r\n  items = [],\r\n  itemWidth = 200,\r\n  itemHeight = 200,\r\n  containerWidth = 800,\r\n  containerHeight = 600,\r\n  gap = 16,\r\n}) => {\r\n  const [scrollTop, setScrollTop] = useState(0);\r\n\r\n  const columnsCount = Math.floor((containerWidth + gap) / (itemWidth + gap));\r\n  const rowsCount = Math.ceil(items.length / columnsCount);\r\n  \r\n  const totalHeight = rowsCount * (itemHeight + gap) - gap;\r\n  const visibleRowsCount = Math.ceil(containerHeight / (itemHeight + gap));\r\n  \r\n  const startRow = Math.max(0, Math.floor(scrollTop / (itemHeight + gap)) - 1);\r\n  const endRow = Math.min(rowsCount - 1, startRow + visibleRowsCount + 2);\r\n\r\n  const visibleItems = useMemo(() => {\r\n    const visible = [];\r\n    for (let row = startRow; row <= endRow; row++) {\r\n      for (let col = 0; col < columnsCount; col++) {\r\n        const index = row * columnsCount + col;\r\n        if (index < items.length) {\r\n          visible.push({\r\n            ...items[index],\r\n            index,\r\n            row,\r\n            col,\r\n            left: col * (itemWidth + gap),\r\n            top: row * (itemHeight + gap),\r\n          });\r\n        }\r\n      }\r\n    }\r\n    return visible;\r\n  }, [items, startRow, endRow, columnsCount, itemWidth, itemHeight, gap]);\r\n\r\n  const handleScroll = useCallback((event) => {\r\n    setScrollTop(event.target.scrollTop);\r\n  }, []);\r\n\r\n  return {\r\n    visibleItems,\r\n    totalHeight,\r\n    columnsCount,\r\n    rowsCount,\r\n    handleScroll,\r\n    containerProps: {\r\n      style: {\r\n        height: containerHeight,\r\n        width: containerWidth,\r\n        overflow: 'auto',\r\n      },\r\n      onScroll: handleScroll,\r\n    },\r\n    innerProps: {\r\n      style: {\r\n        height: totalHeight,\r\n        position: 'relative',\r\n      },\r\n    },\r\n  };\r\n};\r\n\r\n/**\r\n * Hook for dynamic item height virtualization\r\n * @param {Array} items - Array of items\r\n * @param {Function} getItemHeight - Function to get item height\r\n * @param {number} containerHeight - Container height\r\n * @param {number} estimatedItemHeight - Estimated item height for initial calculation\r\n * @returns {Object} Dynamic virtualization data\r\n */\r\nexport const useDynamicVirtualization = ({\r\n  items = [],\r\n  getItemHeight,\r\n  containerHeight = 400,\r\n  estimatedItemHeight = 100,\r\n}) => {\r\n  const [scrollTop, setScrollTop] = useState(0);\r\n  const [itemHeights, setItemHeights] = useState(new Map());\r\n\r\n  const updateItemHeight = useCallback((index, height) => {\r\n    setItemHeights(prev => {\r\n      const newMap = new Map(prev);\r\n      newMap.set(index, height);\r\n      return newMap;\r\n    });\r\n  }, []);\r\n\r\n  const { visibleItems, totalHeight, startIndex, endIndex } = useMemo(() => {\r\n    let totalHeight = 0;\r\n    let startIndex = 0;\r\n    let endIndex = 0;\r\n    let currentTop = 0;\r\n    let foundStart = false;\r\n\r\n    const itemPositions = [];\r\n\r\n    for (let i = 0; i < items.length; i++) {\r\n      const height = itemHeights.get(i) || getItemHeight?.(items[i], i) || estimatedItemHeight;\r\n      \r\n      itemPositions.push({\r\n        index: i,\r\n        top: currentTop,\r\n        height,\r\n        bottom: currentTop + height,\r\n      });\r\n\r\n      if (!foundStart && currentTop + height > scrollTop) {\r\n        startIndex = Math.max(0, i - 1);\r\n        foundStart = true;\r\n      }\r\n\r\n      if (foundStart && currentTop > scrollTop + containerHeight) {\r\n        endIndex = i;\r\n        break;\r\n      }\r\n\r\n      currentTop += height;\r\n      totalHeight = currentTop;\r\n    }\r\n\r\n    if (!foundStart) {\r\n      endIndex = items.length - 1;\r\n    }\r\n\r\n    const visibleItems = itemPositions\r\n      .slice(startIndex, endIndex + 1)\r\n      .map(pos => ({\r\n        ...items[pos.index],\r\n        ...pos,\r\n      }));\r\n\r\n    return { visibleItems, totalHeight, startIndex, endIndex };\r\n  }, [items, itemHeights, scrollTop, containerHeight, getItemHeight, estimatedItemHeight]);\r\n\r\n  const handleScroll = useCallback((event) => {\r\n    setScrollTop(event.target.scrollTop);\r\n  }, []);\r\n\r\n  return {\r\n    visibleItems,\r\n    totalHeight,\r\n    startIndex,\r\n    endIndex,\r\n    updateItemHeight,\r\n    handleScroll,\r\n    containerProps: {\r\n      style: {\r\n        height: containerHeight,\r\n        overflow: 'auto',\r\n      },\r\n      onScroll: handleScroll,\r\n    },\r\n    innerProps: {\r\n      style: {\r\n        height: totalHeight,\r\n        position: 'relative',\r\n      },\r\n    },\r\n  };\r\n};\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\hooks\\useWindowSize.js",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 32,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 42,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                29,
                41
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import { useState, useEffect , useContext } from 'react';\r\n\r\nexport function useWindowSize() {\r\n  const [windowSize, setWindowSize] = useState({\r\n    width: window.innerWidth,\r\n  });\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowSize({\r\n        width: window.innerWidth,\r\n      });\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return windowSize;\r\n}",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\i18n\\index.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\i18n\\locales\\ar\\index.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\i18n\\locales\\en\\index.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\i18n\\locales\\zh\\index.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\lib\\utils.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\main.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\About\\About.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\About\\About_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useTheme' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 15,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 15,
        "endColumn": 11,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useTheme"
            },
            "fix": {
              "range": [
                364,
                377
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useTheme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useMediaQuery' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 16,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 16,
        "endColumn": 16,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useMediaQuery"
            },
            "fix": {
              "range": [
                377,
                395
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useMediaQuery'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from \"react\";\r\nimport Header from \"../../components/Headers/Header\";\r\nimport HeroSection from \"../../components/HeroSection/HeroSection\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport Footer from \"../../components/Headers/Footer\";\r\nimport {\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  Grid,\r\n  Card,\r\n  CardContent,\r\n  Avatar,\r\n  Divider,\r\n  useTheme,\r\n  useMediaQuery\r\n} from \"@mui/material\";\r\nimport {\r\n  Groups,\r\n  Diversity3,\r\n  EmojiObjects,\r\n  Handshake,\r\n  LocationOn,\r\n  Email,\r\n  Phone\r\n} from \"@mui/icons-material\";\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst AboutUs = () => {\r\n  const { t } = useTranslation();\r\n//   const theme = useTheme();\r\n  // //   const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\")); // Removed: unused variable\n\r\n  const teamMembers = [\r\n    {\r\n      name: \"Raj Singah\",\r\n      role: t('about.team.raj.role'),\r\n      bio: t('about.team.raj.bio'),\r\n      avatar: \"/images/raj_sin.jpg\"\r\n    },\r\n    {\r\n      name: \"Varshal Dubey\",\r\n      role: t('about.team.varshal.role'),\r\n      bio: t('about.team.varshal.bio'),\r\n      avatar: \"/images/varsha_dub.jpg\"\r\n    },\r\n    {\r\n      name: \"Tareq Alsharif\",\r\n      role: t('about.team.tareq.role'),\r\n      bio: t('about.team.tareq.bio'),\r\n      avatar: \"/images/tareq.jpg\"\r\n    },\r\n    {\r\n      name: \"Obaid Nieroukh\",\r\n      role: t('about.team.obaid.role'),\r\n      bio: t('about.team.obaid.bio'),\r\n      avatar: \"/images/obaid.jpg\"\r\n    },\r\n    {\r\n      name: \"Bahri Ayzabar\",\r\n      role: t('about.team.bahri.role'),\r\n      bio: t('about.team.bahri.bio'),\r\n      avatar: \"/images/bahr_ayzaba.jpg\"\r\n    }\r\n  ];\r\n\r\n  const stats = [\r\n    { value: \"+\", label: t('about.stats.jobsPosted'), icon: <Groups fontSize=\"large\" /> },\r\n    {\r\n      value: \"+\",\r\n      label: t('about.stats.candidatesHired'),\r\n      icon: <Diversity3 fontSize=\"large\" />\r\n    },\r\n    {\r\n      value: \"+\",\r\n      label: t('about.stats.partnerCompanies'),\r\n      icon: <Handshake fontSize=\"large\" />\r\n    },\r\n    {\r\n      value: \"95%\",\r\n      label: t('about.stats.satisfactionRate'),\r\n      icon: <EmojiObjects fontSize=\"large\" />\r\n    }\r\n  ];\r\n\r\n  return (\r\n <>\r\n  <Helmet>\r\n    <title>{t('about.meta.title')}</title>\r\n    <meta name=\"description\" content={t('about.meta.description')} />\r\n    <meta name=\"keywords\" content={t('about.meta.keywords')} />\r\n    <meta property=\"og:title\" content={t('about.meta.title')} />\r\n    <meta property=\"og:description\" content={t('about.meta.ogDescription')} />\r\n    <meta property=\"og:type\" content=\"website\" />\r\n    <meta property=\"og:url\" content=\"https://www.swipescout.xyz/about\" />\r\n    <link rel=\"canonical\" href=\"https://www.swipescout.xyz/about\" />\r\n  </Helmet>\r\n\r\n\r\n  <Box\r\n    sx={{\r\n      background: \"linear-gradient(135deg, rgb(185, 229, 255) 0%, rgb(162, 194, 241) 100%)\", // New bright background\r\n      color: \"#212121\", // Very dark gray for general text for strong contrast\r\n      pt: 0,\r\n      pb: 8\r\n    }}\r\n  >\r\n      <Header />\r\n      <Container maxWidth=\"lg\" sx={{ mt:3}}>\r\n        {/* Hero Section */}\r\n        <Box textAlign=\"center\" mb={8}>\r\n          <Typography variant=\"h2\" component=\"h1\" gutterBottom sx={{ fontWeight: 700, color: \"#0D47A1\" }}> {/* Darker, strong blue */}\r\n            {t('about.hero.title')}\r\n          </Typography>\r\n          <Typography variant=\"h5\" component=\"h2\" sx={{ color: \"#1565C0\" }} gutterBottom> {/* Slightly lighter dark blue */}\r\n            {t('about.hero.subtitle')}\r\n          </Typography>\r\n          <Typography variant=\"body1\" maxWidth=\"md\" mx=\"auto\" sx={{ color: \"#424242\" }}> {/* Dark gray for body text */}\r\n            {t('about.hero.description')}\r\n          </Typography>\r\n        </Box>\r\n\r\n        <Divider sx={{ my: 6, bgcolor: \"#0D47A1\" }} /> {/* Darker, strong blue for divider */}\r\n\r\n        {/* Mission Section */}\r\n        <Grid container spacing={6} alignItems=\"center\" mb={8}>\r\n          <Grid item xs={12} md={6}>\r\n            <Typography variant=\"h4\" gutterBottom sx={{ color: \"#0D47A1\" }}> {/* Darker, strong blue */}\r\n              {t('about.mission.title')}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph sx={{ color: \"#424242\" }}> {/* Dark gray for body text */}\r\n              {t('about.mission.description1')}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph sx={{ color: \"#424242\" }}> {/* Dark gray for body text */}\r\n              {t('about.mission.description2')}\r\n            </Typography>\r\n          </Grid>\r\n          <Grid item xs={12} md={6}>\r\n            <Box   sx={{ width: \"100%\", borderRadius: 1, boxShadow: 3 }} />\r\n          </Grid>\r\n        </Grid>\r\n\r\n     {/* Stats Section */}\r\n<Box sx={{\r\n  bgcolor: \"#BBDEFB\", // Lighter blue for stats section background\r\n  p: 4,\r\n  borderRadius: 2,\r\n  mb: 8,\r\n  width: '100%' // Ensure container takes full width\r\n}}>\r\n  <Grid container spacing={4} justifyContent=\"space-between\">\r\n    {stats.map((stat, index) => (\r\n      <Grid item xs={12} sm={6} md={3} key={index} sx={{\r\n        display: 'flex',\r\n        flex: 1, // Make items grow equally\r\n        minWidth: { xs: '100%', sm: 'calc(50% - 32px)', md: 'calc(25% - 32px)' } // Account for spacing\r\n      }}>\r\n        <Card sx={{\r\n          flex: 1, // Take all available space\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          textAlign: \"center\",\r\n          boxShadow: \"none\",\r\n          bgcolor: \"#E3F2FD\", // Very light blue for card background\r\n          color: \"#212121\", // Very dark gray for card text\r\n          height: '100%' // Ensure full height\r\n        }}>\r\n          <CardContent sx={{ flex: 1, display: 'flex', flexDirection: 'column' }}>\r\n            <Box sx={{ color: \"#0D47A1\", mb: 2 }}> {/* Darker, strong blue for icons */}\r\n              {stat.icon}\r\n            </Box>\r\n            <Typography variant=\"h4\" component=\"div\" gutterBottom>\r\n              {stat.value}\r\n            </Typography>\r\n            <Typography variant=\"body2\" sx={{ mt: 'auto' }}>\r\n              {stat.label}\r\n            </Typography>\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n    ))}\r\n  </Grid>\r\n</Box>\r\n\r\n        {/* Team Section */}\r\n <Box mb={8} sx={{ width: '100%', px: { xs: 2, sm: 3 } }}>\r\n  <Typography variant=\"h4\" align=\"center\" gutterBottom sx={{ color: \"#0D47A1\", mb: 3 }}> {/* Darker, strong blue */}\r\n    {t('about.team.title')}\r\n  </Typography>\r\n  <Typography variant=\"body1\" align=\"center\" maxWidth=\"md\" mx=\"auto\" mb={6} sx={{ color: \"#424242\" }}> {/* Dark gray for body text */}\r\n    {t('about.team.description')}\r\n  </Typography>\r\n\r\n  <Grid container spacing={4} justifyContent=\"center\" sx={{ margin: '0 auto', maxWidth: '1200px' }}>\r\n    {teamMembers.map((member, index) => (\r\n      <Grid\r\n        item\r\n        xs={12}\r\n        sm={6}\r\n        md={3}\r\n        key={index}\r\n        sx={{\r\n          display: 'flex',\r\n          width: { xs: '100%', sm: 'calc(50% - 32px)', md: 'calc(25% - 32px)' }, // Fixed width calculation\r\n          minWidth: { xs: '100%', sm: 'calc(50% - 32px)', md: 'calc(25% - 32px)' } // Ensures no growing beyond allocated space\r\n        }}\r\n      >\r\n        <Card\r\n          sx={{\r\n            width: '100%', // Takes full width of Grid item\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            bgcolor: \"rgb(178, 225, 245)\", // Light blue-gray for card background\r\n            color: \"#212121\", // Very dark gray for card text\r\n            transition: 'all 0.3s ease',\r\n            '&:hover': {\r\n              transform: 'translateY(-5px)',\r\n              boxShadow: '0 5px 15px rgba(0,0,0,0.1)'\r\n            }\r\n          }}\r\n        >\r\n          <Box\r\n            sx={{\r\n              pt: 4,\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              flexShrink: 0\r\n            }}\r\n          >\r\n            <Avatar\r\n              alt={member.name}\r\n              src={member.avatar}\r\n              sx={{\r\n                width: 120,\r\n                height: 120,\r\n                border: '3px solid white',\r\n                boxShadow: '0 3px 5px rgba(0,0,0,0.2)'\r\n              }}\r\n            />\r\n          </Box>\r\n          <CardContent\r\n            sx={{\r\n              flex: '1 0 auto', // Allows content to grow but not shrink\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              textAlign: \"center\",\r\n              px: 3,\r\n              pb: 3\r\n            }}\r\n          >\r\n            <Typography variant=\"h6\" component=\"div\" sx={{ fontWeight: 600, mb: 1 }}>\r\n              {member.name}\r\n            </Typography>\r\n            <Typography variant=\"subtitle2\" color=\"#1976D2\" sx={{ fontWeight: 500, mb: 2 }}> {/* Medium dark blue for role */}\r\n              {member.role}\r\n            </Typography>\r\n            <Typography variant=\"body2\" sx={{ flexGrow: 1 }}>\r\n              {member.bio}\r\n            </Typography>\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n    ))}\r\n  </Grid>\r\n</Box>\r\n        {/* Contact Section */}\r\n        <Box sx={{ bgcolor: \"#90CAF9\", p: 4, borderRadius: 2 }}> {/* Medium light blue for contact section background */}\r\n          <Typography variant=\"h4\" align=\"center\" gutterBottom sx={{ color: \"#0D47A1\" }}> {/* Darker, strong blue */}\r\n            Get In Touch\r\n          </Typography>\r\n          <Grid container spacing={4} justifyContent=\"center\">\r\n            <Grid item xs={12} md={4}>\r\n              <Box display=\"flex\" alignItems=\"center\" mb={2}>\r\n                <LocationOn sx={{ color: \"#0D47A1\", mr: 2 }} /> {/* Darker, strong blue */}\r\n                <Typography sx={{ color: \"#424242\" }}>Doha Qatar</Typography> {/* Dark gray */}\r\n              </Box>\r\n            </Grid>\r\n            <Grid item xs={12} md={4}>\r\n              <Box display=\"flex\" alignItems=\"center\" mb={2}>\r\n                <Email sx={{ color: \"#0D47A1\", mr: 2 }} /> {/* Darker, strong blue */}\r\n                <Typography sx={{ color: \"#424242\" }}> {/* Dark gray */}\r\n                  info@swipescout.xyz\r\n                </Typography>\r\n              </Box>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </Container>\r\n      <Footer />\r\n    </Box>;\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AboutUs;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\admin\\AdminAnalyticsPage.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\admin\\AdminJobsPage.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\admin\\AdminVideosPage.jsx",
    "messages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchVideos'. Either include it or remove the dependency array.",
        "line": 24,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 24,
        "endColumn": 8,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchVideos]",
            "fix": {
              "range": [
                888,
                890
              ],
              "text": "[fetchVideos]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n  CardTitle,\r\n} from '@/components/UI/card.jsx';\r\nimport themeColors from '@/config/theme-colors-admin';\r\nimport { Film, Trash2, Eye } from 'lucide-react';\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/UI/table.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { getAllVideos, deleteVideo } from '@/services/api';\r\n\r\nconst AdminVideosPage = () => {\r\n  const { t } = useTranslation('adminVideos');\r\n  const [videos, setVideos] = useState([]);\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filters, setFilters] = useState({ title: '', uploader: '' });\r\n\r\n  useEffect(() => {\r\n    fetchVideos();\r\n  }, []);\r\n\r\n  const fetchVideos = async () => {\r\n    try {\r\n      setLoading(true);\r\n      // pass current filters to API helper\r\n      const response = await getAllVideos(1, 50, filters);\r\n      setVideos(response.data.videos || response.data || []);\r\n    } catch (error) {\r\n      // Log detailed server response when available to help diagnose 500 errors\r\n      console.error('Failed to fetch videos:', error.response?.status, error.response?.data || error.message || error);\r\n      setVideos([]);\r\n      setErrorMessage(error?.response?.data?.message || error?.message || 'Failed to fetch videos');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (key, value) => {\r\n    setFilters(prev => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const handleApplyFilters = async () => {\r\n    await fetchVideos();\r\n  };\r\n\r\n  const handleClearFilters = async () => {\r\n    setFilters({ title: '', uploader: '' });\r\n    await fetchVideos();\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!confirm('Delete video?')) return;\r\n    try {\r\n      await deleteVideo(id);\r\n      setVideos(videos.filter(v => v.id !== id));\r\n    } catch (error) {\r\n      console.error('Failed to delete video:', error);\r\n      alert('Failed to delete video');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div>\r\n        <h2 className={`text-2xl font-bold ${themeColors.text.primary}`}>{t('title')}</h2>\r\n        <p className={themeColors.text.secondary}>{t('description')}</p>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"flex flex-wrap gap-2 items-end\">\r\n        <div className=\"w-64\">\r\n          <label className=\"block text-sm text-gray-600\">Title</label>\r\n          <input\r\n            type=\"text\"\r\n            value={filters.title}\r\n            onChange={(e) => handleFilterChange('title', e.target.value)}\r\n            className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm\"\r\n            placeholder=\"Filter by title\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"w-64\">\r\n          <label className=\"block text-sm text-gray-600\">Uploader</label>\r\n          <input\r\n            type=\"text\"\r\n            value={filters.uploader}\r\n            onChange={(e) => handleFilterChange('uploader', e.target.value)}\r\n            className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm\"\r\n            placeholder=\"Filter by uploader name\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex gap-2 ml-auto\">\r\n          <Button size=\"sm\" variant=\"outline\" onClick={handleApplyFilters}>Apply</Button>\r\n          <Button size=\"sm\" onClick={handleClearFilters}>Clear</Button>\r\n        </div>\r\n      </div>\r\n\r\n      <Card>\r\n        <CardContent className=\"p-0\">\r\n          <Table>\r\n            <TableHeader>\r\n              <TableRow>\r\n                <TableHead>Title</TableHead>\r\n                <TableHead>Uploader</TableHead>\r\n                <TableHead>Views</TableHead>\r\n                <TableHead>Uploaded</TableHead>\r\n                <TableHead className=\"text-right\">Actions</TableHead>\r\n              </TableRow>\r\n            </TableHeader>\r\n            <TableBody>\r\n              {loading ? (\r\n                <TableRow>\r\n                  <TableCell colSpan={5} className=\"text-center py-8\">Loading videos...</TableCell>\r\n                </TableRow>\r\n              ) : errorMessage ? (\r\n                <TableRow>\r\n                  <TableCell colSpan={5} className=\"text-center py-8 text-red-600\">{errorMessage}</TableCell>\r\n                </TableRow>\r\n              ) : videos.length === 0 ? (\r\n                <TableRow>\r\n                  <TableCell colSpan={5} className=\"text-center py-8\">No videos found</TableCell>\r\n                </TableRow>\r\n              ) : (\r\n                videos.map(video => (\r\n                  <TableRow key={video.id}>\r\n                    <TableCell className=\"font-medium\">{video.title || video.name || 'Untitled'}</TableCell>\r\n                    <TableCell>{video.user ? `${video.user.firstName || ''} ${video.user.lastName || ''}` : video.uploaderName || '-'}</TableCell>\r\n                    <TableCell>{video.viewCount || 0}</TableCell>\r\n                    <TableCell>{video.created_at ? new Date(video.created_at).toLocaleDateString() : '-'}</TableCell>\r\n                    <TableCell className=\"text-right\">\r\n                      <div className=\"flex gap-2 justify-end\">\r\n                        <Button size=\"sm\" variant=\"outline\" onClick={() => window.open(`/videos/${video.id}`, '_blank')}>{<Eye className=\"h-4 w-4\" />}</Button>\r\n                        <Button size=\"sm\" className=\"text-red-600\" onClick={() => handleDelete(video.id)}>{<Trash2 className=\"h-4 w-4\" />}</Button>\r\n                      </div>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminVideosPage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\admin\\BlogEditorPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'t' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 41,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 41,
        "endColumn": 12,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "t"
            },
            "fix": {
              "range": [
                1347,
                1378
              ],
              "text": ""
            },
            "desc": "Remove unused variable 't'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchBlog'. Either include it or remove the dependency array.",
        "line": 112,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 112,
        "endColumn": 14,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [blogId, fetchBlog]",
            "fix": {
              "range": [
                2956,
                2964
              ],
              "text": "[blogId, fetchBlog]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'addTag' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 199,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 199,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "addTag"
            },
            "fix": {
              "range": [
                5778,
                6062
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'addTag'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'removeTag' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 209,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 209,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "removeTag"
            },
            "fix": {
              "range": [
                6068,
                6218
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'removeTag'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useSearchParams } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  ArrowLeft,\r\n  Save,\r\n  Eye,\r\n  Globe,\r\n  Tag as TagIcon,\r\n  Folder,\r\n  Image as ImageIcon,\r\n  Briefcase,\r\n  Award,\r\n  Users,\r\n  BarChart,\r\n  Settings,\r\n  X\r\n} from 'lucide-react';\r\nimport { Button } from '../../components/UI/button';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '../../components/UI/card';\r\nimport { Input } from '../../components/UI/input';\r\nimport { Label } from '../../components/UI/label';\r\nimport { Textarea } from '../../components/UI/textarea';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '../../components/UI/select';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../../components/UI/tabs';\r\nimport { Badge } from '../../components/UI/badge';\r\nimport { Switch } from '../../components/UI/switch';\r\nimport { Separator } from '../../components/UI/separator';\r\nimport { \r\n  getBlog, \r\n  createBlog, \r\n  updateBlog, \r\n  getBlogCategories, \r\n  getBlogTags, \r\n  createBlogTag\r\n} from '../../services/api';\r\nimport TagSelector from '../../components/admin/TagSelector';\r\nimport themeColors from '@/config/theme-colors-admin';\r\n\r\nconst BlogEditorPageEnhanced = () => {\r\n  const { t } = useTranslation();\r\n  const navigate = useNavigate();\r\n  const [searchParams] = useSearchParams();\r\n  const blogId = searchParams.get('id');\r\n\r\n  // Language state\r\n  const [currentLanguage, setCurrentLanguage] = useState('en');\r\n  \r\n  // Form data for all languages\r\n  const [formData, setFormData] = useState({\r\n    // English\r\n    title: '',\r\n    content: '',\r\n    excerpt: '',\r\n    metaTitle: '',\r\n    metaDescription: '',\r\n    \r\n    // Arabic\r\n    titleAr: '',\r\n    contentAr: '',\r\n    excerptAr: '',\r\n    metaTitleAr: '',\r\n    metaDescriptionAr: '',\r\n    \r\n    // Chinese\r\n    titleZh: '',\r\n    contentZh: '',\r\n    excerptZh: '',\r\n    metaTitleZh: '',\r\n    metaDescriptionZh: '',\r\n    \r\n    // Common fields\r\n    featuredImage: '',\r\n    categoryId: '',\r\n    tagInput: '',\r\n    selectedTags: [],\r\n    status: 'draft',\r\n    language: 'en',\r\n    featured: false,\r\n    metaKeywords: [],\r\n    keywordInput: '',\r\n    \r\n    // Job-related\r\n    relatedJobTitles: [],\r\n    jobTitleInput: '',\r\n    relatedSkills: [],\r\n    skillInput: '',\r\n    targetAudience: [],\r\n    experienceLevel: '',\r\n    \r\n    // SEO\r\n    canonicalUrl: '',\r\n    ogTitle: '',\r\n    ogDescription: '',\r\n    ogImage: '',\r\n    twitterTitle: '',\r\n    twitterDescription: '',\r\n    twitterImage: ''\r\n  });\r\n\r\n  const [categories, setCategories] = useState([]);\r\n  const [availableTags, setAvailableTags] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n    fetchTags();\r\n    if (blogId) {\r\n      fetchBlog();\r\n    }\r\n  }, [blogId]);\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await getBlogCategories();\r\n      setCategories(response.data || []);\r\n    } catch (error) {\r\n      console.error('Failed to fetch categories:', error);\r\n    }\r\n  };\r\n\r\n  const fetchTags = async () => {\r\n    try {\r\n      const response = await getBlogTags(100);\r\n      setAvailableTags(response.data || []);\r\n    } catch (error) {\r\n      console.error('Failed to fetch tags:', error);\r\n    }\r\n  };\r\n\r\n  const fetchBlog = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getBlog(blogId);\r\n      const blog = response.data;\r\n      \r\n      setFormData({\r\n        title: blog.title || '',\r\n        content: blog.content || '',\r\n        excerpt: blog.excerpt || '',\r\n        metaTitle: blog.metaTitle || '',\r\n        metaDescription: blog.metaDescription || '',\r\n        \r\n        titleAr: blog.titleAr || '',\r\n        contentAr: blog.contentAr || '',\r\n        excerptAr: blog.excerptAr || '',\r\n        metaTitleAr: blog.metaTitleAr || '',\r\n        metaDescriptionAr: blog.metaDescriptionAr || '',\r\n        \r\n        titleZh: blog.titleZh || '',\r\n        contentZh: blog.contentZh || '',\r\n        excerptZh: blog.excerptZh || '',\r\n        metaTitleZh: blog.metaTitleZh || '',\r\n        metaDescriptionZh: blog.metaDescriptionZh || '',\r\n        \r\n        featuredImage: blog.featuredImage || '',\r\n        categoryId: blog.categoryId || '',\r\n        selectedTags: blog.blogTags?.map(bt => bt.tag.name) || [],\r\n        status: blog.status || 'draft',\r\n        language: blog.language || 'en',\r\n        featured: blog.featured || false,\r\n        metaKeywords: blog.metaKeywords || [],\r\n        \r\n        relatedJobTitles: blog.relatedJobTitles || [],\r\n        relatedSkills: blog.relatedSkills || [],\r\n        targetAudience: blog.targetAudience || [],\r\n        experienceLevel: blog.experienceLevel || '',\r\n        \r\n        canonicalUrl: blog.canonicalUrl || '',\r\n        ogTitle: blog.socialMedia?.ogTitle || '',\r\n        ogDescription: blog.socialMedia?.ogDescription || '',\r\n        ogImage: blog.socialMedia?.ogImage || '',\r\n        twitterTitle: blog.socialMedia?.twitterTitle || '',\r\n        twitterDescription: blog.socialMedia?.twitterDescription || '',\r\n        twitterImage: blog.socialMedia?.twitterImage || '',\r\n        \r\n        tagInput: '',\r\n        keywordInput: '',\r\n        jobTitleInput: '',\r\n        skillInput: ''\r\n      });\r\n    } catch (error) {\r\n      console.error('Failed to fetch blog:', error);\r\n      alert('Failed to load blog post');\r\n      navigate('/admin-tabs?group=blog&tab=blogs');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (field, value) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [field]: value,\r\n    }));\r\n  };\r\n\r\n  const addTag = () => {\r\n    if (formData.tagInput.trim() && !formData.selectedTags.includes(formData.tagInput.trim())) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        selectedTags: [...prev.selectedTags, prev.tagInput.trim()],\r\n        tagInput: ''\r\n      }));\r\n    }\r\n  };\r\n\r\n  const removeTag = (tag) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      selectedTags: prev.selectedTags.filter(t => t !== tag)\r\n    }));\r\n  };\r\n\r\n  const addKeyword = () => {\r\n    if (formData.keywordInput.trim() && !formData.metaKeywords.includes(formData.keywordInput.trim())) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        metaKeywords: [...prev.metaKeywords, prev.keywordInput.trim()],\r\n        keywordInput: ''\r\n      }));\r\n    }\r\n  };\r\n\r\n  const toggleTag = (tagName) => {\r\n    setFormData(prev => {\r\n      const exists = prev.selectedTags.includes(tagName);\r\n      return {\r\n        ...prev,\r\n        selectedTags: exists ? prev.selectedTags.filter(t => t !== tagName) : [...prev.selectedTags, tagName]\r\n      };\r\n    });\r\n  };\r\n\r\n  const createNewTag = async (tagName) => {\r\n    try {\r\n      const payload = { name: tagName };\r\n      const response = await createBlogTag(payload);\r\n      const created = response?.data || { id: Date.now(), name: tagName };\r\n      // Add to availableTags and select it\r\n      setAvailableTags(prev => [created, ...prev.filter(t => t.name !== created.name)]);\r\n      setFormData(prev => ({ ...prev, selectedTags: Array.from(new Set([...(prev.selectedTags || []), created.name])) }));\r\n    } catch (error) {\r\n      console.error('Failed to create tag:', error);\r\n      alert('Failed to create tag');\r\n    }\r\n  };\r\n\r\n  const removeKeyword = (keyword) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      metaKeywords: prev.metaKeywords.filter(k => k !== keyword)\r\n    }));\r\n  };\r\n\r\n  const addJobTitle = () => {\r\n    if (formData.jobTitleInput.trim() && !formData.relatedJobTitles.includes(formData.jobTitleInput.trim())) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        relatedJobTitles: [...prev.relatedJobTitles, prev.jobTitleInput.trim()],\r\n        jobTitleInput: ''\r\n      }));\r\n    }\r\n  };\r\n\r\n  const removeJobTitle = (title) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      relatedJobTitles: prev.relatedJobTitles.filter(t => t !== title)\r\n    }));\r\n  };\r\n\r\n  const addSkill = () => {\r\n    if (formData.skillInput.trim() && !formData.relatedSkills.includes(formData.skillInput.trim())) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        relatedSkills: [...prev.relatedSkills, prev.skillInput.trim()],\r\n        skillInput: ''\r\n      }));\r\n    }\r\n  };\r\n\r\n  const removeSkill = (skill) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      relatedSkills: prev.relatedSkills.filter(s => s !== skill)\r\n    }));\r\n  };\r\n\r\n  const toggleTargetAudience = (audience) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      targetAudience: prev.targetAudience.includes(audience)\r\n        ? prev.targetAudience.filter(a => a !== audience)\r\n        : [...prev.targetAudience, audience]\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (status = formData.status) => {\r\n    try {\r\n      setSaving(true);\r\n      \r\n      const payload = {\r\n        title: formData.title,\r\n        titleAr: formData.titleAr,\r\n        titleZh: formData.titleZh,\r\n        content: formData.content,\r\n        contentAr: formData.contentAr,\r\n        contentZh: formData.contentZh,\r\n        excerpt: formData.excerpt,\r\n        excerptAr: formData.excerptAr,\r\n        excerptZh: formData.excerptZh,\r\n        featuredImage: formData.featuredImage,\r\n        categoryId: formData.categoryId || null,\r\n        tags: formData.selectedTags,\r\n        status,\r\n        language: formData.language,\r\n        metaTitle: formData.metaTitle,\r\n        metaTitleAr: formData.metaTitleAr,\r\n        metaTitleZh: formData.metaTitleZh,\r\n        metaDescription: formData.metaDescription,\r\n        metaDescriptionAr: formData.metaDescriptionAr,\r\n        metaDescriptionZh: formData.metaDescriptionZh,\r\n        metaKeywords: formData.metaKeywords,\r\n        featured: formData.featured,\r\n        relatedJobTitles: formData.relatedJobTitles,\r\n        relatedSkills: formData.relatedSkills,\r\n        targetAudience: formData.targetAudience,\r\n        experienceLevel: formData.experienceLevel || null,\r\n        canonicalUrl: formData.canonicalUrl || null,\r\n        socialMedia: {\r\n          ogTitle: formData.ogTitle || null,\r\n          ogDescription: formData.ogDescription || null,\r\n          ogImage: formData.ogImage || null,\r\n          twitterTitle: formData.twitterTitle || null,\r\n          twitterDescription: formData.twitterDescription || null,\r\n          twitterImage: formData.twitterImage || null,\r\n        }\r\n      };\r\n\r\n      if (blogId) {\r\n        await updateBlog(blogId, payload);\r\n      } else {\r\n        await createBlog(payload);\r\n      }\r\n\r\n      navigate('/admin-tabs?group=blog&tab=blogs');\r\n    } catch (error) {\r\n      console.error('Failed to save blog:', error);\r\n      alert(error?.response?.data?.message || 'Failed to save blog post. Please try again.');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-slate-700\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Get field names based on current language\r\n  const getTitleField = () => currentLanguage === 'ar' ? 'titleAr' : currentLanguage === 'zh' ? 'titleZh' : 'title';\r\n  const getContentField = () => currentLanguage === 'ar' ? 'contentAr' : currentLanguage === 'zh' ? 'contentZh' : 'content';\r\n  const getExcerptField = () => currentLanguage === 'ar' ? 'excerptAr' : currentLanguage === 'zh' ? 'excerptZh' : 'excerpt';\r\n  const getMetaTitleField = () => currentLanguage === 'ar' ? 'metaTitleAr' : currentLanguage === 'zh' ? 'metaTitleZh' : 'metaTitle';\r\n  const getMetaDescField = () => currentLanguage === 'ar' ? 'metaDescriptionAr' : currentLanguage === 'zh' ? 'metaDescriptionZh' : 'metaDescription';\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={() => navigate('/admin-tabs?group=blog&tab=blogs')}\r\n          >\r\n            <ArrowLeft className=\"h-4 w-4\" />\r\n          </Button>\r\n          <div>\r\n            <h2 className={`text-2xl font-bold ${themeColors.text.primary}`}>\r\n              {blogId ? 'Edit Blog Post' : 'Create New Post'}\r\n            </h2>\r\n            <p className={themeColors.text.secondary}>\r\n              {blogId ? 'Update your blog post' : 'Write and publish a new blog post'}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={() => handleSubmit('draft')}\r\n            disabled={saving}\r\n          >\r\n            <Save className=\"mr-2 h-4 w-4\" />\r\n            Save Draft\r\n          </Button>\r\n          <Button\r\n            onClick={() => handleSubmit('published')}\r\n            disabled={saving}\r\n            className={`${themeColors.buttons.primary} text-white`}\r\n          >\r\n            <Eye className=\"mr-2 h-4 w-4\" />\r\n            {saving ? 'Publishing...' : 'Publish'}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid gap-6 md:grid-cols-3\">\r\n        {/* Main Content - 2 columns */}\r\n        <div className=\"md:col-span-2 space-y-6\">\r\n          {/* Language Tabs */}\r\n          <Card>\r\n            <CardHeader>\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Globe className=\"h-5 w-5\" />\r\n                  <CardTitle>Content</CardTitle>\r\n                </div>\r\n                <Tabs value={currentLanguage} onValueChange={setCurrentLanguage}>\r\n                  <TabsList>\r\n                    <TabsTrigger value=\"en\" className={currentLanguage === 'en' ? 'bg-blue-100' : ''}>\r\n                      English\r\n                    </TabsTrigger>\r\n                    <TabsTrigger value=\"ar\" className={currentLanguage === 'ar' ? 'bg-blue-100' : ''}>\r\n                      Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©\r\n                    </TabsTrigger>\r\n                    <TabsTrigger value=\"zh\" className={currentLanguage === 'zh' ? 'bg-blue-100' : ''}>\r\n                      ä¸­æ–‡\r\n                    </TabsTrigger>\r\n                  </TabsList>\r\n                </Tabs>\r\n              </div>\r\n              <CardDescription>\r\n                Content for {currentLanguage === 'en' ? 'English' : currentLanguage === 'ar' ? 'Arabic' : 'Chinese'}\r\n                {currentLanguage !== 'en' && ' (Optional - Falls back to English if empty)'}\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor={getTitleField()}>\r\n                  Title *\r\n                  {currentLanguage !== 'en' && formData[getTitleField()] && (\r\n                    <Badge variant=\"outline\" className=\"ml-2 bg-green-50\">Connected</Badge>\r\n                  )}\r\n                </Label>\r\n                <Input\r\n                  id={getTitleField()}\r\n                  value={formData[getTitleField()]}\r\n                  onChange={(e) => handleChange(getTitleField(), e.target.value)}\r\n                  placeholder={`Enter post title in ${currentLanguage === 'en' ? 'English' : currentLanguage === 'ar' ? 'Arabic' : 'Chinese'}...`}\r\n                  className=\"mt-1\"\r\n                  dir={currentLanguage === 'ar' ? 'rtl' : 'ltr'}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Label htmlFor={getExcerptField()}>\r\n                  Excerpt\r\n                  {currentLanguage !== 'en' && formData[getExcerptField()] && (\r\n                    <Badge variant=\"outline\" className=\"ml-2 bg-green-50\">Connected</Badge>\r\n                  )}\r\n                </Label>\r\n                <Textarea\r\n                  id={getExcerptField()}\r\n                  value={formData[getExcerptField()]}\r\n                  onChange={(e) => handleChange(getExcerptField(), e.target.value)}\r\n                  placeholder=\"Brief description...\"\r\n                  rows={3}\r\n                  className=\"mt-1\"\r\n                  dir={currentLanguage === 'ar' ? 'rtl' : 'ltr'}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Label htmlFor={getContentField()}>\r\n                  Content *\r\n                  {currentLanguage !== 'en' && formData[getContentField()] && (\r\n                    <Badge variant=\"outline\" className=\"ml-2 bg-green-50\">Connected</Badge>\r\n                  )}\r\n                </Label>\r\n                <Textarea\r\n                  id={getContentField()}\r\n                  value={formData[getContentField()]}\r\n                  onChange={(e) => handleChange(getContentField(), e.target.value)}\r\n                  placeholder=\"Write your blog post content here... (Markdown supported)\"\r\n                  rows={15}\r\n                  className=\"mt-1 font-mono text-sm\"\r\n                  dir={currentLanguage === 'ar' ? 'rtl' : 'ltr'}\r\n                />\r\n                <p className=\"text-xs text-gray-500 mt-1\">\r\n                  Supports Markdown formatting\r\n                </p>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* SEO Settings with Language Tabs */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>SEO Settings</CardTitle>\r\n              <CardDescription>Optimize for search engines in {currentLanguage === 'en' ? 'English' : currentLanguage === 'ar' ? 'Arabic' : 'Chinese'}</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor={getMetaTitleField()}>\r\n                  Meta Title\r\n                  {currentLanguage !== 'en' && formData[getMetaTitleField()] && (\r\n                    <Badge variant=\"outline\" className=\"ml-2 bg-green-50\">Connected</Badge>\r\n                  )}\r\n                </Label>\r\n                <Input\r\n                  id={getMetaTitleField()}\r\n                  value={formData[getMetaTitleField()]}\r\n                  onChange={(e) => handleChange(getMetaTitleField(), e.target.value)}\r\n                  placeholder=\"SEO title (defaults to post title)\"\r\n                  className=\"mt-1\"\r\n                  dir={currentLanguage === 'ar' ? 'rtl' : 'ltr'}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Label htmlFor={getMetaDescField()}>\r\n                  Meta Description\r\n                  {currentLanguage !== 'en' && formData[getMetaDescField()] && (\r\n                    <Badge variant=\"outline\" className=\"ml-2 bg-green-50\">Connected</Badge>\r\n                  )}\r\n                </Label>\r\n                <Textarea\r\n                  id={getMetaDescField()}\r\n                  value={formData[getMetaDescField()]}\r\n                  onChange={(e) => handleChange(getMetaDescField(), e.target.value)}\r\n                  placeholder=\"SEO description (defaults to excerpt)\"\r\n                  rows={3}\r\n                  className=\"mt-1\"\r\n                  dir={currentLanguage === 'ar' ? 'rtl' : 'ltr'}\r\n                />\r\n              </div>\r\n\r\n              {currentLanguage === 'en' && (\r\n                <>\r\n                  <div>\r\n                    <Label htmlFor=\"metaKeywords\">Meta Keywords</Label>\r\n                    <div className=\"flex gap-2 mt-1\">\r\n                      <Input\r\n                        id=\"metaKeywords\"\r\n                        value={formData.keywordInput}\r\n                        onChange={(e) => handleChange('keywordInput', e.target.value)}\r\n                        placeholder=\"Add keyword and press Enter\"\r\n                        onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), addKeyword())}\r\n                      />\r\n                      <Button type=\"button\" onClick={addKeyword}>Add</Button>\r\n                    </div>\r\n                    <div className=\"flex flex-wrap gap-2 mt-2\">\r\n                      {formData.metaKeywords.map((keyword, index) => (\r\n                        <Badge key={index} variant=\"secondary\" className=\"gap-1\">\r\n                          {keyword}\r\n                          <X className=\"h-3 w-3 cursor-pointer\" onClick={() => removeKeyword(keyword)} />\r\n                        </Badge>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <Label htmlFor=\"canonicalUrl\">Canonical URL</Label>\r\n                    <Input\r\n                      id=\"canonicalUrl\"\r\n                      value={formData.canonicalUrl}\r\n                      onChange={(e) => handleChange('canonicalUrl', e.target.value)}\r\n                      placeholder=\"https://example.com/canonical-url\"\r\n                      className=\"mt-1\"\r\n                    />\r\n                  </div>\r\n                </>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Career-Related Fields */}\r\n          {currentLanguage === 'en' && (\r\n            <Card>\r\n              <CardHeader>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Briefcase className=\"h-5 w-5\" />\r\n                  <CardTitle>Career Information</CardTitle>\r\n                </div>\r\n                <CardDescription>Link this post to jobs and skills</CardDescription>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                <div>\r\n                  <Label htmlFor=\"relatedJobTitles\">Related Job Titles</Label>\r\n                  <div className=\"flex gap-2 mt-1\">\r\n                    <Input\r\n                      id=\"relatedJobTitles\"\r\n                      value={formData.jobTitleInput}\r\n                      onChange={(e) => handleChange('jobTitleInput', e.target.value)}\r\n                      placeholder=\"Add job title\"\r\n                      onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), addJobTitle())}\r\n                    />\r\n                    <Button type=\"button\" onClick={addJobTitle}>Add</Button>\r\n                  </div>\r\n                  <div className=\"flex flex-wrap gap-2 mt-2\">\r\n                    {formData.relatedJobTitles.map((title, index) => (\r\n                      <Badge key={index} variant=\"outline\" className=\"gap-1\">\r\n                        {title}\r\n                        <X className=\"h-3 w-3 cursor-pointer\" onClick={() => removeJobTitle(title)} />\r\n                      </Badge>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"relatedSkills\">Related Skills</Label>\r\n                  <div className=\"flex gap-2 mt-1\">\r\n                    <Input\r\n                      id=\"relatedSkills\"\r\n                      value={formData.skillInput}\r\n                      onChange={(e) => handleChange('skillInput', e.target.value)}\r\n                      placeholder=\"Add skill\"\r\n                      onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), addSkill())}\r\n                    />\r\n                    <Button type=\"button\" onClick={addSkill}>Add</Button>\r\n                  </div>\r\n                  <div className=\"flex flex-wrap gap-2 mt-2\">\r\n                    {formData.relatedSkills.map((skill, index) => (\r\n                      <Badge key={index} variant=\"secondary\" className=\"gap-1\">\r\n                        {skill}\r\n                        <X className=\"h-3 w-3 cursor-pointer\" onClick={() => removeSkill(skill)} />\r\n                      </Badge>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <Label>Target Audience</Label>\r\n                  <div className=\"flex flex-wrap gap-2 mt-2\">\r\n                    {['job_seekers', 'employers', 'both'].map((audience) => (\r\n                      <Badge\r\n                        key={audience}\r\n                        variant={formData.targetAudience.includes(audience) ? 'default' : 'outline'}\r\n                        className=\"cursor-pointer\"\r\n                        onClick={() => toggleTargetAudience(audience)}\r\n                      >\r\n                        {audience.replace('_', ' ')}\r\n                      </Badge>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"experienceLevel\">Experience Level</Label>\r\n                  <Select\r\n                    value={formData.experienceLevel}\r\n                    onValueChange={(value) => handleChange('experienceLevel', value === '__none' ? '' : value)}\r\n                  >\r\n                    <SelectTrigger className=\"mt-1\">\r\n                      <SelectValue placeholder=\"Select level\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"__none\">None</SelectItem>\r\n                      <SelectItem value=\"entry\">Entry Level</SelectItem>\r\n                      <SelectItem value=\"junior\">Junior</SelectItem>\r\n                      <SelectItem value=\"mid\">Mid Level</SelectItem>\r\n                      <SelectItem value=\"senior\">Senior</SelectItem>\r\n                      <SelectItem value=\"executive\">Executive</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n\r\n          {/* Social Media Settings */}\r\n          {currentLanguage === 'en' && (\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Social Media Preview</CardTitle>\r\n                <CardDescription>Customize how your post appears on social media</CardDescription>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                <div>\r\n                  <h4 className=\"font-semibold mb-2\">Open Graph (Facebook, LinkedIn)</h4>\r\n                  <div className=\"space-y-2\">\r\n                    <Input\r\n                      placeholder=\"OG Title\"\r\n                      value={formData.ogTitle}\r\n                      onChange={(e) => handleChange('ogTitle', e.target.value)}\r\n                    />\r\n                    <Textarea\r\n                      placeholder=\"OG Description\"\r\n                      value={formData.ogDescription}\r\n                      onChange={(e) => handleChange('ogDescription', e.target.value)}\r\n                      rows={2}\r\n                    />\r\n                    <Input\r\n                      placeholder=\"OG Image URL\"\r\n                      value={formData.ogImage}\r\n                      onChange={(e) => handleChange('ogImage', e.target.value)}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <Separator />\r\n\r\n                <div>\r\n                  <h4 className=\"font-semibold mb-2\">Twitter Card</h4>\r\n                  <div className=\"space-y-2\">\r\n                    <Input\r\n                      placeholder=\"Twitter Title\"\r\n                      value={formData.twitterTitle}\r\n                      onChange={(e) => handleChange('twitterTitle', e.target.value)}\r\n                    />\r\n                    <Textarea\r\n                      placeholder=\"Twitter Description\"\r\n                      value={formData.twitterDescription}\r\n                      onChange={(e) => handleChange('twitterDescription', e.target.value)}\r\n                      rows={2}\r\n                    />\r\n                    <Input\r\n                      placeholder=\"Twitter Image URL\"\r\n                      value={formData.twitterImage}\r\n                      onChange={(e) => handleChange('twitterImage', e.target.value)}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n        </div>\r\n\r\n        {/* Sidebar - 1 column */}\r\n        <div className=\"space-y-6\">\r\n          <Card>\r\n            <CardHeader>\r\n              <div className=\"flex items-center gap-2\">\r\n                <Settings className=\"h-5 w-5\" />\r\n                <CardTitle>Settings</CardTitle>\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"status\">Status</Label>\r\n                <Select\r\n                  value={formData.status}\r\n                  onValueChange={(value) => handleChange('status', value)}\r\n                >\r\n                  <SelectTrigger className=\"mt-1\">\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"draft\">Draft</SelectItem>\r\n                    <SelectItem value=\"published\">Published</SelectItem>\r\n                    <SelectItem value=\"archived\">Archived</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              <div>\r\n                <Label htmlFor=\"language\">Primary Language</Label>\r\n                <Select\r\n                  value={formData.language}\r\n                  onValueChange={(value) => handleChange('language', value)}\r\n                >\r\n                  <SelectTrigger className=\"mt-1\">\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"en\">English</SelectItem>\r\n                    <SelectItem value=\"ar\">Arabic</SelectItem>\r\n                    <SelectItem value=\"zh\">Chinese</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              <div className=\"flex items-center justify-between\">\r\n                <Label htmlFor=\"featured\">Featured Post</Label>\r\n                <Switch\r\n                  id=\"featured\"\r\n                  checked={formData.featured}\r\n                  onCheckedChange={(checked) => handleChange('featured', checked)}\r\n                />\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <div className=\"flex items-center gap-2\">\r\n                <Folder className=\"h-5 w-5\" />\r\n                <CardTitle>Category</CardTitle>\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <Select\r\n                value={formData.categoryId}\r\n                onValueChange={(value) => handleChange('categoryId', value === '__none' ? '' : value)}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select category\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"__none\">None</SelectItem>\r\n                  {categories.map((category) => (\r\n                    <SelectItem key={category.id} value={category.id}>\r\n                      {category.name}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <div className=\"flex items-center gap-2\">\r\n                <TagIcon className=\"h-5 w-5\" />\r\n                <CardTitle>Tags</CardTitle>\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-3\">\r\n              <div className=\"flex gap-2\">\r\n                  <Select\r\n                    value={formData.experienceLevel}\r\n                    onValueChange={(value) => handleChange('experienceLevel', value === '__none' ? '' : value)}\r\n                  >\r\n                    <SelectTrigger className=\"mt-1\">\r\n                      <SelectValue placeholder=\"Select level\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"__none\">None</SelectItem>\r\n                      <SelectItem value=\"entry\">Entry Level</SelectItem>\r\n                      <SelectItem value=\"junior\">Junior</SelectItem>\r\n                      <SelectItem value=\"mid\">Mid Level</SelectItem>\r\n                      <SelectItem value=\"senior\">Senior</SelectItem>\r\n                      <SelectItem value=\"executive\">Executive</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n              </div>\r\n\r\n              {availableTags.length > 0 && (\r\n                <>\r\n                  <Separator />\r\n                  <div>\r\n                    <p className=\"text-sm font-medium mb-2\">Popular Tags:</p>\r\n                    <TagSelector availableTags={availableTags} selectedTags={formData.selectedTags} onToggleTag={toggleTag} onAddTag={createNewTag} />\r\n                  </div>\r\n                </>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <div className=\"flex items-center gap-2\">\r\n                <ImageIcon className=\"h-5 w-5\" />\r\n                <CardTitle>Featured Image</CardTitle>\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div>\r\n                <Label htmlFor=\"featuredImage\">Image URL</Label>\r\n                <Input\r\n                  id=\"featuredImage\"\r\n                  value={formData.featuredImage}\r\n                  onChange={(e) => handleChange('featuredImage', e.target.value)}\r\n                  placeholder=\"https://example.com/image.jpg\"\r\n                  className=\"mt-1\"\r\n                />\r\n              </div>\r\n              {formData.featuredImage && (\r\n                <div className=\"mt-3\">\r\n                  <img\r\n                    src={formData.featuredImage}\r\n                    alt=\"Featured\"\r\n                    className=\"w-full h-40 object-cover rounded-md\"\r\n                    onError={(e) => {\r\n                      e.target.style.display = 'none';\r\n                    }}\r\n                  />\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BlogEditorPageEnhanced;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\admin\\BlogListPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useTranslation' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 3,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 3,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useTranslation"
            },
            "fix": {
              "range": [
                102,
                149
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useTranslation'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchBlogs'. Either include it or remove the dependency array.",
        "line": 69,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 69,
        "endColumn": 20,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchBlogs, statusFilter]",
            "fix": {
              "range": [
                1899,
                1913
              ],
              "text": "[fetchBlogs, statusFilter]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  Card,\r\n  CardContent,\r\n} from '@/components/UI/card.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { Input } from '@/components/UI/input.jsx';\r\nimport { Textarea } from '@/components/UI/textarea.jsx';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from '@/components/UI/table.jsx';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/UI/dialog.jsx';\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from '@/components/UI/dropdown-menu.jsx';\r\nimport { getBlogs, deleteBlog, updateBlog, bulkImportBlogs } from '@/services/api';\r\nimport themeColors from '@/config/theme-colors-admin';\r\nimport {\r\n  Search,\r\n  Plus,\r\n  MoreVertical,\r\n  Edit,\r\n  Trash2,\r\n  Eye,\r\n  Globe,\r\n  FileText,\r\n  Calendar,\r\n  Upload,\r\n  Download,\r\n  Tag as TagIcon,\r\n  Folder,\r\n  FolderCog,\r\n  TagsIcon,\r\n} from 'lucide-react';\r\n\r\nconst BlogListPage = () => {\r\n  // const { t } = useTranslation(); // Removed: unused variable\n  const navigate = useNavigate();\r\n  const [blogs, setBlogs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [statusFilter, setStatusFilter] = useState('all');\r\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\r\n  const [selectedBlog, setSelectedBlog] = useState(null);\r\n  const [importDialogOpen, setImportDialogOpen] = useState(false);\r\n  const [importData, setImportData] = useState('');\r\n  const [importing, setImporting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchBlogs();\r\n  }, [statusFilter]);\r\n\r\n  const fetchBlogs = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const params = {\r\n        status: statusFilter === 'all' ? undefined : statusFilter,\r\n      };\r\n      const response = await getBlogs(params);\r\n      setBlogs(response.data.blogs || response.data || []);\r\n    } catch (error) {\r\n      console.error('Failed to fetch blogs:', error);\r\n      setBlogs([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteBlog = async () => {\r\n    if (!selectedBlog) return;\r\n\r\n    try {\r\n      await deleteBlog(selectedBlog.id);\r\n      setBlogs(blogs.filter((b) => b.id !== selectedBlog.id));\r\n      setDeleteDialogOpen(false);\r\n      setSelectedBlog(null);\r\n    } catch (error) {\r\n      console.error('Failed to delete blog:', error);\r\n      const errorMessage = error?.response?.data?.error || error?.response?.data?.message || 'Failed to delete blog post';\r\n      alert(errorMessage);\r\n    }\r\n  };\r\n\r\n  const handlePublishToggle = async (blog) => {\r\n    try {\r\n      const newStatus = blog.status === 'published' ? 'draft' : 'published';\r\n      await updateBlog(blog.id, { status: newStatus });\r\n      fetchBlogs();\r\n    } catch (error) {\r\n      console.error('Failed to update blog status:', error);\r\n      const errorMessage = error?.response?.data?.error || error?.response?.data?.message || 'Failed to update blog status';\r\n      alert(errorMessage);\r\n    }\r\n  };\r\n\r\n  const handleImportBlogs = async () => {\r\n    try {\r\n      setImporting(true);\r\n      const blogsData = JSON.parse(importData);\r\n      \r\n      if (!Array.isArray(blogsData)) {\r\n        alert('Invalid JSON format. Expected an array of blog objects.');\r\n        return;\r\n      }\r\n\r\n      const response = await bulkImportBlogs(blogsData);\r\n      const results = response.data.results;\r\n      \r\n      alert(`Import completed!\\nSuccessful: ${results.successful}\\nFailed: ${results.failed}${results.errors.length > 0 ? '\\n\\nErrors:\\n' + results.errors.map(e => `- ${e.blog}: ${e.error}`).join('\\n') : ''}`);\r\n      \r\n      setImportDialogOpen(false);\r\n      setImportData('');\r\n      fetchBlogs();\r\n    } catch (error) {\r\n      console.error('Failed to import blogs:', error);\r\n      alert(error.response?.data?.message || 'Failed to import blogs. Please check the JSON format.');\r\n    } finally {\r\n      setImporting(false);\r\n    }\r\n  };\r\n\r\n  const downloadSampleJSON = () => {\r\n    const sample = [\r\n      {\r\n        title: \"Sample Blog Post\",\r\n        titleAr: \"Ù…Ù‚Ø§Ù„ Ø¹ÙŠÙ†Ø©\",\r\n        titleZh: \"ç¤ºä¾‹åšå®¢æ–‡ç« \",\r\n        content: \"# This is a sample blog post\\n\\nWith some **markdown** content.\",\r\n        contentAr: \"# Ù‡Ø°Ø§ Ù…Ù‚Ø§Ù„ Ø¹ÙŠÙ†Ø©\",\r\n        contentZh: \"# è¿™æ˜¯ä¸€ç¯‡ç¤ºä¾‹åšå®¢æ–‡ç« \",\r\n        excerpt: \"A brief description of the post\",\r\n        featuredImage: \"https://example.com/image.jpg\",\r\n        categoryId: \"uuid-of-category (optional)\",\r\n        tags: [\"technology\", \"career\"],\r\n        status: \"draft\",\r\n        language: \"en\",\r\n        featured: false,\r\n        metaTitle: \"Sample Post - SEO Title\",\r\n        metaDescription: \"SEO description for the sample post\",\r\n        metaKeywords: [\"sample\", \"blog\", \"post\"],\r\n        relatedJobTitles: [\"Software Developer\", \"Data Scientist\"],\r\n        relatedSkills: [\"JavaScript\", \"Python\"],\r\n        targetAudience: [\"job_seekers\"],\r\n        experienceLevel: \"mid\"\r\n      }\r\n    ];\r\n    \r\n    const dataStr = JSON.stringify(sample, null, 2);\r\n    const dataBlob = new Blob([dataStr], { type: 'application/json' });\r\n    const url = URL.createObjectURL(dataBlob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = 'blog-import-sample.json';\r\n    link.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const filteredBlogs = blogs.filter((blog) => {\r\n    const matchesSearch =\r\n      blog.title?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      blog.excerpt?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      blog.titleAr?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      blog.titleZh?.toLowerCase().includes(searchTerm.toLowerCase());\r\n    return matchesSearch;\r\n  });\r\n\r\n  const getStatusBadge = (status) => {\r\n    const variants = {\r\n      published: 'default',\r\n      draft: 'secondary',\r\n      archived: 'outline',\r\n    };\r\n    const colors = {\r\n      published: themeColors.status.approved,\r\n      draft: themeColors.status.pending,\r\n      archived: themeColors.status.inactive,\r\n    };\r\n    return (\r\n      <Badge variant={variants[status]} className={colors[status]}>\r\n        {status.charAt(0).toUpperCase() + status.slice(1)}\r\n      </Badge>\r\n    );\r\n  };\r\n\r\n  const getLanguageBadge = (language) => {\r\n    const languageNames = {\r\n      en: 'English',\r\n      ar: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©',\r\n      zh: 'ä¸­æ–‡'\r\n    };\r\n    const colors = {\r\n      en: 'bg-blue-100 text-blue-800',\r\n      ar: 'bg-green-100 text-green-800',\r\n      zh: 'bg-purple-100 text-purple-800'\r\n    };\r\n    return (\r\n      <Badge variant=\"outline\" className={colors[language] || 'bg-gray-100'}>\r\n        <Globe className=\"h-3 w-3 mr-1\" />\r\n        {languageNames[language] || language}\r\n      </Badge>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className={`text-2xl font-bold ${themeColors.text.primary}`}>Blog Posts</h2>\r\n          <p className={themeColors.text.secondary}>\r\n            Manage all blog posts and articles\r\n          </p>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={() => navigate('/admin-tabs?group=blog&tab=categories')}\r\n            className=\"gap-2\"\r\n          >\r\n            <FolderCog className=\"h-4 w-4\" />\r\n            Categories\r\n          </Button>\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={() => navigate('/admin-tabs?group=blog&tab=tags')}\r\n            className=\"gap-2\"\r\n          >\r\n            <TagsIcon className=\"h-4 w-4\" />\r\n            Tags\r\n          </Button>\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={() => setImportDialogOpen(true)}\r\n            className=\"gap-2\"\r\n          >\r\n            <Upload className=\"h-4 w-4\" />\r\n            Import\r\n          </Button>\r\n          <Button\r\n            onClick={() => navigate('/admin-tabs?group=blog&tab=blogs/new')}\r\n            className={`${themeColors.buttons.primary} text-white`}\r\n          >\r\n            <Plus className=\"mr-2 h-4 w-4\" />\r\n            New Post\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <Card>\r\n        <CardContent className=\"pt-6\">\r\n          <div className=\"flex flex-col sm:flex-row gap-4\">\r\n            <div className=\"relative flex-1\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n              <Input\r\n                placeholder=\"Search posts by title or excerpt...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"pl-10\"\r\n              />\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              <Button\r\n                variant={statusFilter === 'all' ? 'default' : 'outline'}\r\n                onClick={() => setStatusFilter('all')}\r\n                size=\"sm\"\r\n              >\r\n                All\r\n              </Button>\r\n              <Button\r\n                variant={statusFilter === 'published' ? 'default' : 'outline'}\r\n                onClick={() => setStatusFilter('published')}\r\n                size=\"sm\"\r\n              >\r\n                Published\r\n              </Button>\r\n              <Button\r\n                variant={statusFilter === 'draft' ? 'default' : 'outline'}\r\n                onClick={() => setStatusFilter('draft')}\r\n                size=\"sm\"\r\n              >\r\n                Drafts\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Blog Table */}\r\n      <Card>\r\n        <CardContent className=\"p-0\">\r\n          <Table>\r\n            <TableHeader>\r\n              <TableRow>\r\n                <TableHead>Title</TableHead>\r\n                <TableHead>Category</TableHead>\r\n                <TableHead>Tags</TableHead>\r\n                <TableHead>Language</TableHead>\r\n                <TableHead>Status</TableHead>\r\n                <TableHead>Author</TableHead>\r\n                <TableHead>Published</TableHead>\r\n                <TableHead>Views</TableHead>\r\n                <TableHead className=\"text-right\">Actions</TableHead>\r\n              </TableRow>\r\n            </TableHeader>\r\n            <TableBody>\r\n              {loading ? (\r\n                <TableRow>\r\n                  <TableCell colSpan={9} className=\"text-center py-8\">\r\n                    <div className=\"flex items-center justify-center gap-2\">\r\n                      <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-slate-700\"></div>\r\n                      Loading blogs...\r\n                    </div>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ) : filteredBlogs.length === 0 ? (\r\n                <TableRow>\r\n                  <TableCell colSpan={9} className=\"text-center py-8\">\r\n                    <div className=\"flex flex-col items-center gap-2\">\r\n                      <FileText className=\"h-12 w-12 text-gray-300\" />\r\n                      <p className={themeColors.text.muted}>No blog posts found</p>\r\n                    </div>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ) : (\r\n                filteredBlogs.map((blog) => (\r\n                  <TableRow key={blog.id}>\r\n                    <TableCell className=\"font-medium max-w-xs\">\r\n                      <div>\r\n                        <div className={`${themeColors.text.primary} flex items-center gap-2`}>\r\n                          {blog.featured && (\r\n                            <Badge variant=\"secondary\" className=\"text-xs\">Featured</Badge>\r\n                          )}\r\n                          <span className=\"line-clamp-1\">{blog.title}</span>\r\n                        </div>\r\n                        <div className={`text-sm ${themeColors.text.muted} line-clamp-1`}>\r\n                          {blog.excerpt}\r\n                        </div>\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      {blog.category ? (\r\n                        <Badge \r\n                          variant=\"outline\" \r\n                          style={{ \r\n                            borderColor: blog.category.color, \r\n                            color: blog.category.color \r\n                          }}\r\n                        >\r\n                          <Folder className=\"h-3 w-3 mr-1\" />\r\n                          {blog.category.name}\r\n                        </Badge>\r\n                      ) : (\r\n                        <span className={themeColors.text.muted}>-</span>\r\n                      )}\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <div className=\"flex flex-wrap gap-1 max-w-xs\">\r\n                        {blog.blogTags && blog.blogTags.length > 0 ? (\r\n                          <>\r\n                            {blog.blogTags.slice(0, 2).map((blogTag) => (\r\n                              <Badge key={blogTag.tag.id} variant=\"secondary\" className=\"text-xs\">\r\n                                <TagIcon className=\"h-2 w-2 mr-1\" />\r\n                                {blogTag.tag.name}\r\n                              </Badge>\r\n                            ))}\r\n                            {blog.blogTags.length > 2 && (\r\n                              <Badge variant=\"outline\" className=\"text-xs\">\r\n                                +{blog.blogTags.length - 2}\r\n                              </Badge>\r\n                            )}\r\n                          </>\r\n                        ) : (\r\n                          <span className={themeColors.text.muted}>-</span>\r\n                        )}\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      {getLanguageBadge(blog.language)}\r\n                    </TableCell>\r\n                    <TableCell>{getStatusBadge(blog.status)}</TableCell>\r\n                    <TableCell>\r\n                      {blog.author ? (\r\n                        <span>{blog.author.firstName} {blog.author.lastName}</span>\r\n                      ) : (\r\n                        <span className={themeColors.text.muted}>Unknown</span>\r\n                      )}\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      {blog.publishedAt ? (\r\n                        <div className=\"flex items-center gap-1 text-sm\">\r\n                          <Calendar className=\"h-3 w-3\" />\r\n                          {new Date(blog.publishedAt).toLocaleDateString()}\r\n                        </div>\r\n                      ) : (\r\n                        <span className={themeColors.text.muted}>-</span>\r\n                      )}\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <div className=\"flex items-center gap-1\">\r\n                        <Eye className=\"h-3 w-3\" />\r\n                        {blog.viewCount || 0}\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell className=\"text-right\">\r\n                      <DropdownMenu>\r\n                        <DropdownMenuTrigger asChild>\r\n                          <Button variant=\"ghost\" size=\"sm\">\r\n                            <MoreVertical className=\"h-4 w-4\" />\r\n                          </Button>\r\n                        </DropdownMenuTrigger>\r\n                        <DropdownMenuContent align=\"end\">\r\n                          <DropdownMenuItem\r\n                            onClick={() =>\r\n                              navigate(`/admin-tabs?group=blog&tab=blogs/edit&id=${blog.id}`)\r\n                            }\r\n                          >\r\n                            <Edit className=\"mr-2 h-4 w-4\" />\r\n                            Edit\r\n                          </DropdownMenuItem>\r\n                          <DropdownMenuItem onClick={() => handlePublishToggle(blog)}>\r\n                            <Globe className=\"mr-2 h-4 w-4\" />\r\n                            {blog.status === 'published' ? 'Unpublish' : 'Publish'}\r\n                          </DropdownMenuItem>\r\n                          <DropdownMenuItem\r\n                            onClick={() => window.open(`/blog/${blog.id}`, '_blank')}\r\n                          >\r\n                            <Eye className=\"mr-2 h-4 w-4\" />\r\n                            View\r\n                          </DropdownMenuItem>\r\n                          <DropdownMenuItem\r\n                            onClick={() => {\r\n                              setSelectedBlog(blog);\r\n                              setDeleteDialogOpen(true);\r\n                            }}\r\n                            className=\"text-red-600\"\r\n                          >\r\n                            <Trash2 className=\"mr-2 h-4 w-4\" />\r\n                            Delete\r\n                          </DropdownMenuItem>\r\n                        </DropdownMenuContent>\r\n                      </DropdownMenu>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Delete Confirmation Dialog */}\r\n      <Dialog open={deleteDialogOpen} onOpenChange={setDeleteDialogOpen}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>Delete Blog Post</DialogTitle>\r\n            <DialogDescription>\r\n              Are you sure you want to delete \"{selectedBlog?.title}\"? This action cannot be\r\n              undone.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setDeleteDialogOpen(false)}>\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              onClick={handleDeleteBlog}\r\n              className={`${themeColors.buttons.danger} text-white`}\r\n            >\r\n              Delete\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Import Dialog */}\r\n      <Dialog open={importDialogOpen} onOpenChange={setImportDialogOpen}>\r\n        <DialogContent className=\"max-w-2xl\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"flex items-center gap-2\">\r\n              <Upload className=\"h-5 w-5\" />\r\n              Bulk Import Blogs\r\n            </DialogTitle>\r\n            <DialogDescription>\r\n              Import multiple blog posts from JSON format. Each blog can include multi-language content.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <div className=\"flex justify-between items-center mb-2\">\r\n                <label className=\"text-sm font-medium\">JSON Data</label>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={downloadSampleJSON}\r\n                  className=\"gap-2\"\r\n                >\r\n                  <Download className=\"h-3 w-3\" />\r\n                  Download Sample\r\n                </Button>\r\n              </div>\r\n              <Textarea\r\n                value={importData}\r\n                onChange={(e) => setImportData(e.target.value)}\r\n                placeholder='Paste your JSON array here, e.g.: [{\"title\": \"Post 1\", \"content\": \"...\"}, ...]'\r\n                rows={12}\r\n                className=\"font-mono text-xs\"\r\n              />\r\n              <p className=\"text-xs text-gray-500 mt-2\">\r\n                Paste an array of blog objects. Download the sample to see the required format.\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <DialogFooter>\r\n            <Button \r\n              variant=\"outline\" \r\n              onClick={() => {\r\n                setImportDialogOpen(false);\r\n                setImportData('');\r\n              }}\r\n              disabled={importing}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              onClick={handleImportBlogs}\r\n              disabled={importing || !importData.trim()}\r\n              className={`${themeColors.buttons.primary} text-white`}\r\n            >\r\n              {importing ? 'Importing...' : 'Import Blogs'}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BlogListPage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\admin\\CareerPathsAdminPage.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\admin\\CategoryManagementPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useTranslation' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 2,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useTranslation"
            },
            "fix": {
              "range": [
                53,
                100
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useTranslation'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import React, { useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n} from '@/components/UI/card.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { Input } from '@/components/UI/input.jsx';\r\nimport { Label } from '@/components/UI/label.jsx';\r\nimport { Textarea } from '@/components/UI/textarea.jsx';\r\nimport { Switch } from '@/components/UI/switch.jsx';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from '@/components/UI/table.jsx';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/UI/dialog.jsx';\r\nimport {\r\n  getBlogCategories,\r\n  createBlogCategory,\r\n  updateBlogCategory,\r\n  deleteBlogCategory,\r\n} from '@/services/api';\r\nimport themeColors from '@/config/theme-colors-admin';\r\nimport {\r\n  Plus,\r\n  Edit,\r\n  Trash2,\r\n  Folder,\r\n  Save,\r\n  X,\r\n  Eye,\r\n  EyeOff,\r\n} from 'lucide-react';\r\n\r\nconst CategoryManagementPage = () => {\r\n  // const { t } = useTranslation(); // Removed: unused variable\n  const [categories, setCategories] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\r\n  const [editingCategory, setEditingCategory] = useState(null);\r\n  const [selectedCategory, setSelectedCategory] = useState(null);\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    nameAr: '',\r\n    nameZh: '',\r\n    description: '',\r\n    descriptionAr: '',\r\n    descriptionZh: '',\r\n    slug: '',\r\n    color: '#3B82F6',\r\n    icon: '',\r\n    isActive: true,\r\n    sortOrder: 0,\r\n    metaTitle: '',\r\n    metaDescription: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getBlogCategories();\r\n      setCategories(response.data || []);\r\n    } catch (error) {\r\n      console.error('Failed to fetch categories:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (field, value) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [field]: value,\r\n    }));\r\n\r\n    // Auto-generate slug from name if not editing\r\n    if (field === 'name' && !editingCategory) {\r\n      const slug = value\r\n        .toLowerCase()\r\n        .replace(/[^a-z0-9]+/g, '-')\r\n        .replace(/^-+|-+$/g, '');\r\n      setFormData((prev) => ({\r\n        ...prev,\r\n        slug,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      name: '',\r\n      nameAr: '',\r\n      nameZh: '',\r\n      description: '',\r\n      descriptionAr: '',\r\n      descriptionZh: '',\r\n      slug: '',\r\n      color: '#3B82F6',\r\n      icon: '',\r\n      isActive: true,\r\n      sortOrder: 0,\r\n      metaTitle: '',\r\n      metaDescription: '',\r\n    });\r\n    setEditingCategory(null);\r\n  };\r\n\r\n  const handleOpenDialog = (category = null) => {\r\n    if (category) {\r\n      setEditingCategory(category);\r\n      setFormData({\r\n        name: category.name || '',\r\n        nameAr: category.nameAr || '',\r\n        nameZh: category.nameZh || '',\r\n        description: category.description || '',\r\n        descriptionAr: category.descriptionAr || '',\r\n        descriptionZh: category.descriptionZh || '',\r\n        slug: category.slug || '',\r\n        color: category.color || '#3B82F6',\r\n        icon: category.icon || '',\r\n        isActive: category.isActive !== undefined ? category.isActive : true,\r\n        sortOrder: category.sortOrder || 0,\r\n        metaTitle: category.metaTitle || '',\r\n        metaDescription: category.metaDescription || '',\r\n      });\r\n    } else {\r\n      resetForm();\r\n    }\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      setSaving(true);\r\n      if (editingCategory) {\r\n        await updateBlogCategory(editingCategory.id, formData);\r\n      } else {\r\n        await createBlogCategory(formData);\r\n      }\r\n      fetchCategories();\r\n      setDialogOpen(false);\r\n      resetForm();\r\n    } catch (error) {\r\n      console.error('Failed to save category:', error);\r\n      alert(error?.response?.data?.message || 'Failed to save category');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (!selectedCategory) return;\r\n\r\n    try {\r\n      await deleteBlogCategory(selectedCategory.id);\r\n      setCategories(categories.filter((c) => c.id !== selectedCategory.id));\r\n      setDeleteDialogOpen(false);\r\n      setSelectedCategory(null);\r\n    } catch (error) {\r\n      console.error('Failed to delete category:', error);\r\n      alert(error?.response?.data?.message || 'Failed to delete category');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className={`text-2xl font-bold ${themeColors.text.primary}`}>\r\n            Blog Categories\r\n          </h2>\r\n          <p className={themeColors.text.secondary}>\r\n            Manage blog post categories and organize your content\r\n          </p>\r\n        </div>\r\n        <Button\r\n          onClick={() => handleOpenDialog()}\r\n          className={`${themeColors.buttons.primary} text-white`}\r\n        >\r\n          <Plus className=\"mr-2 h-4 w-4\" />\r\n          New Category\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Categories Table */}\r\n      <Card>\r\n        <CardContent className=\"p-0\">\r\n          <Table>\r\n            <TableHeader>\r\n              <TableRow>\r\n                <TableHead>Name</TableHead>\r\n                <TableHead>Slug</TableHead>\r\n                <TableHead>Description</TableHead>\r\n                <TableHead>Color</TableHead>\r\n                <TableHead>Status</TableHead>\r\n                <TableHead>Sort Order</TableHead>\r\n                <TableHead className=\"text-right\">Actions</TableHead>\r\n              </TableRow>\r\n            </TableHeader>\r\n            <TableBody>\r\n              {loading ? (\r\n                <TableRow>\r\n                  <TableCell colSpan={7} className=\"text-center py-8\">\r\n                    <div className=\"flex items-center justify-center gap-2\">\r\n                      <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-slate-700\"></div>\r\n                      Loading categories...\r\n                    </div>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ) : categories.length === 0 ? (\r\n                <TableRow>\r\n                  <TableCell colSpan={7} className=\"text-center py-8\">\r\n                    <div className=\"flex flex-col items-center gap-2\">\r\n                      <Folder className=\"h-12 w-12 text-gray-300\" />\r\n                      <p className={themeColors.text.muted}>No categories found</p>\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        onClick={() => handleOpenDialog()}\r\n                        className=\"mt-2\"\r\n                      >\r\n                        Create First Category\r\n                      </Button>\r\n                    </div>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ) : (\r\n                categories.map((category) => (\r\n                  <TableRow key={category.id}>\r\n                    <TableCell className=\"font-medium\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <Folder \r\n                          className=\"h-4 w-4\" \r\n                          style={{ color: category.color }}\r\n                        />\r\n                        <div>\r\n                          <div>{category.name}</div>\r\n                          {category.nameAr && (\r\n                            <div className=\"text-xs text-gray-500\">\r\n                              AR: {category.nameAr}\r\n                            </div>\r\n                          )}\r\n                          {category.nameZh && (\r\n                            <div className=\"text-xs text-gray-500\">\r\n                              ZH: {category.nameZh}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <code className=\"text-xs bg-gray-100 px-2 py-1 rounded\">\r\n                        {category.slug}\r\n                      </code>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <div className=\"max-w-xs truncate text-sm\">\r\n                        {category.description || '-'}\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <div\r\n                          className=\"w-6 h-6 rounded border\"\r\n                          style={{ backgroundColor: category.color }}\r\n                        />\r\n                        <span className=\"text-xs\">{category.color}</span>\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      {category.isActive ? (\r\n                        <Badge variant=\"default\" className=\"gap-1\">\r\n                          <Eye className=\"h-3 w-3\" />\r\n                          Active\r\n                        </Badge>\r\n                      ) : (\r\n                        <Badge variant=\"secondary\" className=\"gap-1\">\r\n                          <EyeOff className=\"h-3 w-3\" />\r\n                          Inactive\r\n                        </Badge>\r\n                      )}\r\n                    </TableCell>\r\n                    <TableCell>{category.sortOrder}</TableCell>\r\n                    <TableCell className=\"text-right\">\r\n                      <div className=\"flex justify-end gap-2\">\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"sm\"\r\n                          onClick={() => handleOpenDialog(category)}\r\n                        >\r\n                          <Edit className=\"h-4 w-4\" />\r\n                        </Button>\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"sm\"\r\n                          onClick={() => {\r\n                            setSelectedCategory(category);\r\n                            setDeleteDialogOpen(true);\r\n                          }}\r\n                          className=\"text-red-600 hover:text-red-700\"\r\n                        >\r\n                          <Trash2 className=\"h-4 w-4\" />\r\n                        </Button>\r\n                      </div>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Create/Edit Dialog */}\r\n      <Dialog open={dialogOpen} onOpenChange={setDialogOpen}>\r\n        <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>\r\n              {editingCategory ? 'Edit Category' : 'Create New Category'}\r\n            </DialogTitle>\r\n            <DialogDescription>\r\n              {editingCategory\r\n                ? 'Update category information'\r\n                : 'Add a new category for organizing blog posts'}\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4\">\r\n            {/* English Fields */}\r\n            <div>\r\n              <Label htmlFor=\"name\">Name (English) *</Label>\r\n              <Input\r\n                id=\"name\"\r\n                value={formData.name}\r\n                onChange={(e) => handleChange('name', e.target.value)}\r\n                placeholder=\"Category name\"\r\n                className=\"mt-1\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"nameAr\">Name (Arabic)</Label>\r\n              <Input\r\n                id=\"nameAr\"\r\n                value={formData.nameAr}\r\n                onChange={(e) => handleChange('nameAr', e.target.value)}\r\n                placeholder=\"Ø§Ø³Ù… Ø§Ù„ÙØ¦Ø©\"\r\n                className=\"mt-1\"\r\n                dir=\"rtl\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"nameZh\">Name (Chinese)</Label>\r\n              <Input\r\n                id=\"nameZh\"\r\n                value={formData.nameZh}\r\n                onChange={(e) => handleChange('nameZh', e.target.value)}\r\n                placeholder=\"ç±»åˆ«åç§°\"\r\n                className=\"mt-1\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"slug\">Slug *</Label>\r\n              <Input\r\n                id=\"slug\"\r\n                value={formData.slug}\r\n                onChange={(e) => handleChange('slug', e.target.value)}\r\n                placeholder=\"category-slug\"\r\n                className=\"mt-1\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"description\">Description (English)</Label>\r\n              <Textarea\r\n                id=\"description\"\r\n                value={formData.description}\r\n                onChange={(e) => handleChange('description', e.target.value)}\r\n                placeholder=\"Category description\"\r\n                rows={2}\r\n                className=\"mt-1\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"descriptionAr\">Description (Arabic)</Label>\r\n              <Textarea\r\n                id=\"descriptionAr\"\r\n                value={formData.descriptionAr}\r\n                onChange={(e) => handleChange('descriptionAr', e.target.value)}\r\n                placeholder=\"ÙˆØµÙ Ø§Ù„ÙØ¦Ø©\"\r\n                rows={2}\r\n                className=\"mt-1\"\r\n                dir=\"rtl\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"descriptionZh\">Description (Chinese)</Label>\r\n              <Textarea\r\n                id=\"descriptionZh\"\r\n                value={formData.descriptionZh}\r\n                onChange={(e) => handleChange('descriptionZh', e.target.value)}\r\n                placeholder=\"ç±»åˆ«æè¿°\"\r\n                rows={2}\r\n                className=\"mt-1\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <Label htmlFor=\"color\">Color</Label>\r\n                <div className=\"flex gap-2 mt-1\">\r\n                  <Input\r\n                    id=\"color\"\r\n                    type=\"color\"\r\n                    value={formData.color}\r\n                    onChange={(e) => handleChange('color', e.target.value)}\r\n                    className=\"w-20 h-10 p-1\"\r\n                  />\r\n                  <Input\r\n                    value={formData.color}\r\n                    onChange={(e) => handleChange('color', e.target.value)}\r\n                    placeholder=\"#3B82F6\"\r\n                    className=\"flex-1\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <Label htmlFor=\"sortOrder\">Sort Order</Label>\r\n                <Input\r\n                  id=\"sortOrder\"\r\n                  type=\"number\"\r\n                  value={formData.sortOrder}\r\n                  onChange={(e) => handleChange('sortOrder', parseInt(e.target.value) || 0)}\r\n                  className=\"mt-1\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"icon\">Icon (Optional)</Label>\r\n              <Input\r\n                id=\"icon\"\r\n                value={formData.icon}\r\n                onChange={(e) => handleChange('icon', e.target.value)}\r\n                placeholder=\"icon-name\"\r\n                className=\"mt-1\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between\">\r\n              <Label htmlFor=\"isActive\">Active</Label>\r\n              <Switch\r\n                id=\"isActive\"\r\n                checked={formData.isActive}\r\n                onCheckedChange={(checked) => handleChange('isActive', checked)}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"metaTitle\">Meta Title (SEO)</Label>\r\n              <Input\r\n                id=\"metaTitle\"\r\n                value={formData.metaTitle}\r\n                onChange={(e) => handleChange('metaTitle', e.target.value)}\r\n                placeholder=\"SEO title\"\r\n                className=\"mt-1\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"metaDescription\">Meta Description (SEO)</Label>\r\n              <Textarea\r\n                id=\"metaDescription\"\r\n                value={formData.metaDescription}\r\n                onChange={(e) => handleChange('metaDescription', e.target.value)}\r\n                placeholder=\"SEO description\"\r\n                rows={2}\r\n                className=\"mt-1\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <DialogFooter>\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => {\r\n                setDialogOpen(false);\r\n                resetForm();\r\n              }}\r\n              disabled={saving}\r\n            >\r\n              <X className=\"mr-2 h-4 w-4\" />\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              onClick={handleSubmit}\r\n              disabled={saving || !formData.name || !formData.slug}\r\n              className={`${themeColors.buttons.primary} text-white`}\r\n            >\r\n              <Save className=\"mr-2 h-4 w-4\" />\r\n              {saving ? 'Saving...' : editingCategory ? 'Update' : 'Create'}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Delete Confirmation Dialog */}\r\n      <Dialog open={deleteDialogOpen} onOpenChange={setDeleteDialogOpen}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>Delete Category</DialogTitle>\r\n            <DialogDescription>\r\n              Are you sure you want to delete \"{selectedCategory?.name}\"? This action cannot\r\n              be undone. Blog posts in this category will become uncategorized.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setDeleteDialogOpen(false)}>\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              onClick={handleDelete}\r\n              className={`${themeColors.buttons.danger} text-white`}\r\n            >\r\n              Delete\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CategoryManagementPage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\admin\\ContentModerationPage.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\admin\\PointsSettingsPage.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\admin\\QuickTipsAdminPage.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\admin\\SystemSettingsPage.jsx",
    "messages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchSettings'. Either include it or remove the dependency array.",
        "line": 21,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 21,
        "endColumn": 8,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchSettings]",
            "fix": {
              "range": [
                938,
                940
              ],
              "text": "[fetchSettings]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/UI/card.jsx';\r\nimport { Input } from '@/components/UI/input.jsx';\r\nimport { Label } from '@/components/UI/label.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport themeColors from '@/config/theme-colors-admin';\r\nimport { Settings } from 'lucide-react';\r\nimport { getAdminSettings, updateAdminSettings } from '@/services/api';\r\nimport { useToast } from '@/hooks/use-toast';\r\n\r\nconst SystemSettingsPage = () => {\r\n  const { t } = useTranslation('systemSettings');\r\n  const { toast } = useToast();\r\n  const [settings, setSettings] = useState({ maintenanceMode: false, siteName: '', supportEmail: '' });\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchSettings();\r\n  }, []);\r\n\r\n  const fetchSettings = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getAdminSettings();\r\n      setSettings(response.data.settings || response.data || settings);\r\n    } catch (error) {\r\n      console.error('Failed to fetch settings:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      setSaving(true);\r\n      await updateAdminSettings(settings);\r\n      toast({ title: 'Settings saved', description: 'Platform settings updated successfully.' });\r\n    } catch (error) {\r\n      console.error('Failed to save settings:', error);\r\n      toast({ title: 'Failed to save settings', description: 'Please try again.', variant: 'destructive' });\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div>\r\n        <h2 className={`text-2xl font-bold ${themeColors.text.primary}`}>{t('title')}</h2>\r\n        <p className={themeColors.text.secondary}>{t('description')}</p>\r\n      </div>\r\n\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Settings className=\"h-5 w-5\" />\r\n            Platform Settings\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          {loading ? (\r\n            <div>Loading...</div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label>Site Name</Label>\r\n                <Input value={settings.siteName || ''} onChange={(e) => setSettings({ ...settings, siteName: e.target.value })} />\r\n              </div>\r\n              <div>\r\n                <Label>Support Email</Label>\r\n                <Input value={settings.supportEmail || ''} onChange={(e) => setSettings({ ...settings, supportEmail: e.target.value })} />\r\n              </div>\r\n              <div>\r\n                <Label>Maintenance Mode</Label>\r\n                <div className=\"mt-2\">\r\n                  <label className=\"flex items-center gap-2\">\r\n                    <input type=\"checkbox\" checked={!!settings.maintenanceMode} onChange={(e) => setSettings({ ...settings, maintenanceMode: e.target.checked })} />\r\n                    <span className=\"text-sm ml-1\">Enable maintenance mode</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              <div className=\"mt-4\">\r\n                <Button onClick={handleSave} disabled={saving} className=\"bg-slate-700 text-white\">{saving ? 'Saving...' : 'Save Settings'}</Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SystemSettingsPage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\admin\\TagManagementPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'t' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 49,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 49,
        "endColumn": 12,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "t"
            },
            "fix": {
              "range": [
                1104,
                1135
              ],
              "text": ""
            },
            "desc": "Remove unused variable 't'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import React, { useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  Card,\r\n  CardContent,\r\n} from '@/components/UI/card.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { Input } from '@/components/UI/input.jsx';\r\nimport { Label } from '@/components/UI/label.jsx';\r\nimport { Textarea } from '@/components/UI/textarea.jsx';\r\nimport { Switch } from '@/components/UI/switch.jsx';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from '@/components/UI/table.jsx';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/UI/dialog.jsx';\r\nimport {\r\n  getBlogTags,\r\n  createBlogTag,\r\n  updateBlogTag,\r\n  deleteBlogTag,\r\n} from '@/services/api';\r\nimport themeColors from '@/config/theme-colors-admin';\r\nimport {\r\n  Plus,\r\n  Edit,\r\n  Trash2,\r\n  Tag as TagIcon,\r\n  Save,\r\n  X,\r\n  Eye,\r\n  EyeOff,\r\n  TrendingUp,\r\n} from 'lucide-react';\r\n\r\nconst TagManagementPage = () => {\r\n  const { t } = useTranslation();\r\n  const [tags, setTags] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\r\n  const [editingTag, setEditingTag] = useState(null);\r\n  const [selectedTag, setSelectedTag] = useState(null);\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    slug: '',\r\n    description: '',\r\n    color: '#6B7280',\r\n    isActive: true,\r\n    metaTitle: '',\r\n    metaDescription: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchTags();\r\n  }, []);\r\n\r\n  const fetchTags = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getBlogTags(100);\r\n      setTags(response.data || []);\r\n    } catch (error) {\r\n      console.error('Failed to fetch tags:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (field, value) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [field]: value,\r\n    }));\r\n\r\n    // Auto-generate slug from name if not editing\r\n    if (field === 'name' && !editingTag) {\r\n      const slug = value\r\n        .toLowerCase()\r\n        .replace(/[^a-z0-9]+/g, '-')\r\n        .replace(/^-+|-+$/g, '');\r\n      setFormData((prev) => ({\r\n        ...prev,\r\n        slug,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      name: '',\r\n      slug: '',\r\n      description: '',\r\n      color: '#6B7280',\r\n      isActive: true,\r\n      metaTitle: '',\r\n      metaDescription: '',\r\n    });\r\n    setEditingTag(null);\r\n  };\r\n\r\n  const handleOpenDialog = (tag = null) => {\r\n    if (tag) {\r\n      setEditingTag(tag);\r\n      setFormData({\r\n        name: tag.name || '',\r\n        slug: tag.slug || '',\r\n        description: tag.description || '',\r\n        color: tag.color || '#6B7280',\r\n        isActive: tag.isActive !== undefined ? tag.isActive : true,\r\n        metaTitle: tag.metaTitle || '',\r\n        metaDescription: tag.metaDescription || '',\r\n      });\r\n    } else {\r\n      resetForm();\r\n    }\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      setSaving(true);\r\n      if (editingTag) {\r\n        await updateBlogTag(editingTag.id, formData);\r\n      } else {\r\n        await createBlogTag(formData);\r\n      }\r\n      fetchTags();\r\n      setDialogOpen(false);\r\n      resetForm();\r\n    } catch (error) {\r\n      console.error('Failed to save tag:', error);\r\n      alert(error?.response?.data?.message || 'Failed to save tag');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (!selectedTag) return;\r\n\r\n    try {\r\n      await deleteBlogTag(selectedTag.id);\r\n      setTags(tags.filter((t) => t.id !== selectedTag.id));\r\n      setDeleteDialogOpen(false);\r\n      setSelectedTag(null);\r\n    } catch (error) {\r\n      console.error('Failed to delete tag:', error);\r\n      alert(error?.response?.data?.message || 'Failed to delete tag');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className={`text-2xl font-bold ${themeColors.text.primary}`}>\r\n            Blog Tags\r\n          </h2>\r\n          <p className={themeColors.text.secondary}>\r\n            Manage blog tags for better content organization and discoverability\r\n          </p>\r\n        </div>\r\n        <Button\r\n          onClick={() => handleOpenDialog()}\r\n          className={`${themeColors.buttons.primary} text-white`}\r\n        >\r\n          <Plus className=\"mr-2 h-4 w-4\" />\r\n          New Tag\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Tags Grid */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n        {loading ? (\r\n          <Card className=\"col-span-full\">\r\n            <CardContent className=\"py-12\">\r\n              <div className=\"flex items-center justify-center gap-2\">\r\n                <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-slate-700\"></div>\r\n                Loading tags...\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        ) : tags.length === 0 ? (\r\n          <Card className=\"col-span-full\">\r\n            <CardContent className=\"py-12\">\r\n              <div className=\"flex flex-col items-center gap-2\">\r\n                <TagIcon className=\"h-12 w-12 text-gray-300\" />\r\n                <p className={themeColors.text.muted}>No tags found</p>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  onClick={() => handleOpenDialog()}\r\n                  className=\"mt-2\"\r\n                >\r\n                  Create First Tag\r\n                </Button>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        ) : (\r\n          tags.map((tag) => (\r\n            <Card key={tag.id} className=\"hover:shadow-md transition-shadow\">\r\n              <CardContent className=\"pt-6\">\r\n                <div className=\"space-y-3\">\r\n                  {/* Header */}\r\n                  <div className=\"flex items-start justify-between\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <TagIcon\r\n                        className=\"h-5 w-5\"\r\n                        style={{ color: tag.color }}\r\n                      />\r\n                      <div>\r\n                        <h3 className=\"font-semibold\">{tag.name}</h3>\r\n                        <code className=\"text-xs text-gray-500\">{tag.slug}</code>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex gap-1\">\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        onClick={() => handleOpenDialog(tag)}\r\n                      >\r\n                        <Edit className=\"h-3 w-3\" />\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        onClick={() => {\r\n                          setSelectedTag(tag);\r\n                          setDeleteDialogOpen(true);\r\n                        }}\r\n                        className=\"text-red-600 hover:text-red-700\"\r\n                      >\r\n                        <Trash2 className=\"h-3 w-3\" />\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Description */}\r\n                  {tag.description && (\r\n                    <p className=\"text-sm text-gray-600 line-clamp-2\">\r\n                      {tag.description}\r\n                    </p>\r\n                  )}\r\n\r\n                  {/* Stats */}\r\n                  <div className=\"flex items-center justify-between pt-2 border-t\">\r\n                    <div className=\"flex items-center gap-2 text-sm\">\r\n                      <TrendingUp className=\"h-4 w-4 text-gray-400\" />\r\n                      <span className=\"text-gray-600\">\r\n                        Used {tag.usageCount || 0} times\r\n                      </span>\r\n                    </div>\r\n                    {tag.isActive ? (\r\n                      <Badge variant=\"default\" className=\"text-xs\">\r\n                        <Eye className=\"h-3 w-3 mr-1\" />\r\n                        Active\r\n                      </Badge>\r\n                    ) : (\r\n                      <Badge variant=\"secondary\" className=\"text-xs\">\r\n                        <EyeOff className=\"h-3 w-3 mr-1\" />\r\n                        Inactive\r\n                      </Badge>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Color Preview */}\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <div\r\n                      className=\"w-full h-2 rounded\"\r\n                      style={{ backgroundColor: tag.color }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          ))\r\n        )}\r\n      </div>\r\n\r\n      {/* Tags Table (Alternative View) */}\r\n      <Card>\r\n        <CardContent className=\"p-0\">\r\n          <Table>\r\n            <TableHeader>\r\n              <TableRow>\r\n                <TableHead>Tag</TableHead>\r\n                <TableHead>Slug</TableHead>\r\n                <TableHead>Usage</TableHead>\r\n                <TableHead>Color</TableHead>\r\n                <TableHead>Status</TableHead>\r\n                <TableHead className=\"text-right\">Actions</TableHead>\r\n              </TableRow>\r\n            </TableHeader>\r\n            <TableBody>\r\n              {tags.length === 0 ? (\r\n                <TableRow>\r\n                  <TableCell colSpan={6} className=\"text-center py-4 text-gray-500\">\r\n                    No tags available\r\n                  </TableCell>\r\n                </TableRow>\r\n              ) : (\r\n                tags.map((tag) => (\r\n                  <TableRow key={tag.id}>\r\n                    <TableCell className=\"font-medium\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <TagIcon\r\n                          className=\"h-4 w-4\"\r\n                          style={{ color: tag.color }}\r\n                        />\r\n                        {tag.name}\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <code className=\"text-xs bg-gray-100 px-2 py-1 rounded\">\r\n                        {tag.slug}\r\n                      </code>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <div className=\"flex items-center gap-1\">\r\n                        <TrendingUp className=\"h-3 w-3 text-gray-400\" />\r\n                        {tag.usageCount || 0}\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <div\r\n                          className=\"w-6 h-6 rounded border\"\r\n                          style={{ backgroundColor: tag.color }}\r\n                        />\r\n                        <span className=\"text-xs\">{tag.color}</span>\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      {tag.isActive ? (\r\n                        <Badge variant=\"default\" className=\"gap-1\">\r\n                          <Eye className=\"h-3 w-3\" />\r\n                          Active\r\n                        </Badge>\r\n                      ) : (\r\n                        <Badge variant=\"secondary\" className=\"gap-1\">\r\n                          <EyeOff className=\"h-3 w-3\" />\r\n                          Inactive\r\n                        </Badge>\r\n                      )}\r\n                    </TableCell>\r\n                    <TableCell className=\"text-right\">\r\n                      <div className=\"flex justify-end gap-2\">\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"sm\"\r\n                          onClick={() => handleOpenDialog(tag)}\r\n                        >\r\n                          <Edit className=\"h-4 w-4\" />\r\n                        </Button>\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"sm\"\r\n                          onClick={() => {\r\n                            setSelectedTag(tag);\r\n                            setDeleteDialogOpen(true);\r\n                          }}\r\n                          className=\"text-red-600 hover:text-red-700\"\r\n                        >\r\n                          <Trash2 className=\"h-4 w-4\" />\r\n                        </Button>\r\n                      </div>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Create/Edit Dialog */}\r\n      <Dialog open={dialogOpen} onOpenChange={setDialogOpen}>\r\n        <DialogContent className=\"max-w-lg\">\r\n          <DialogHeader>\r\n            <DialogTitle>\r\n              {editingTag ? 'Edit Tag' : 'Create New Tag'}\r\n            </DialogTitle>\r\n            <DialogDescription>\r\n              {editingTag\r\n                ? 'Update tag information'\r\n                : 'Add a new tag for categorizing blog posts'}\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <Label htmlFor=\"name\">Name *</Label>\r\n              <Input\r\n                id=\"name\"\r\n                value={formData.name}\r\n                onChange={(e) => handleChange('name', e.target.value)}\r\n                placeholder=\"Tag name\"\r\n                className=\"mt-1\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"slug\">Slug *</Label>\r\n              <Input\r\n                id=\"slug\"\r\n                value={formData.slug}\r\n                onChange={(e) => handleChange('slug', e.target.value)}\r\n                placeholder=\"tag-slug\"\r\n                className=\"mt-1\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"description\">Description</Label>\r\n              <Textarea\r\n                id=\"description\"\r\n                value={formData.description}\r\n                onChange={(e) => handleChange('description', e.target.value)}\r\n                placeholder=\"Tag description\"\r\n                rows={2}\r\n                className=\"mt-1\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"color\">Color</Label>\r\n              <div className=\"flex gap-2 mt-1\">\r\n                <Input\r\n                  id=\"color\"\r\n                  type=\"color\"\r\n                  value={formData.color}\r\n                  onChange={(e) => handleChange('color', e.target.value)}\r\n                  className=\"w-20 h-10 p-1\"\r\n                />\r\n                <Input\r\n                  value={formData.color}\r\n                  onChange={(e) => handleChange('color', e.target.value)}\r\n                  placeholder=\"#6B7280\"\r\n                  className=\"flex-1\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between\">\r\n              <Label htmlFor=\"isActive\">Active</Label>\r\n              <Switch\r\n                id=\"isActive\"\r\n                checked={formData.isActive}\r\n                onCheckedChange={(checked) => handleChange('isActive', checked)}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"metaTitle\">Meta Title (SEO)</Label>\r\n              <Input\r\n                id=\"metaTitle\"\r\n                value={formData.metaTitle}\r\n                onChange={(e) => handleChange('metaTitle', e.target.value)}\r\n                placeholder=\"SEO title\"\r\n                className=\"mt-1\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"metaDescription\">Meta Description (SEO)</Label>\r\n              <Textarea\r\n                id=\"metaDescription\"\r\n                value={formData.metaDescription}\r\n                onChange={(e) => handleChange('metaDescription', e.target.value)}\r\n                placeholder=\"SEO description\"\r\n                rows={2}\r\n                className=\"mt-1\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <DialogFooter>\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => {\r\n                setDialogOpen(false);\r\n                resetForm();\r\n              }}\r\n              disabled={saving}\r\n            >\r\n              <X className=\"mr-2 h-4 w-4\" />\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              onClick={handleSubmit}\r\n              disabled={saving || !formData.name || !formData.slug}\r\n              className={`${themeColors.buttons.primary} text-white`}\r\n            >\r\n              <Save className=\"mr-2 h-4 w-4\" />\r\n              {saving ? 'Saving...' : editingTag ? 'Update' : 'Create'}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Delete Confirmation Dialog */}\r\n      <Dialog open={deleteDialogOpen} onOpenChange={setDeleteDialogOpen}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>Delete Tag</DialogTitle>\r\n            <DialogDescription>\r\n              Are you sure you want to delete the tag \"{selectedTag?.name}\"? This action\r\n              cannot be undone. The tag will be removed from all blog posts.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setDeleteDialogOpen(false)}>\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              onClick={handleDelete}\r\n              className={`${themeColors.buttons.danger} text-white`}\r\n            >\r\n              Delete\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TagManagementPage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\admin\\UserManagementPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useTranslation' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 2,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useTranslation"
            },
            "fix": {
              "range": [
                53,
                100
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useTranslation'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchUsers'. Either include it or remove the dependency array.",
        "line": 56,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 56,
        "endColumn": 18,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchUsers, roleFilter]",
            "fix": {
              "range": [
                1502,
                1514
              ],
              "text": "[fetchUsers, roleFilter]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  Card,\r\n  CardContent,\r\n} from '@/components/UI/card.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { Input } from '@/components/UI/input.jsx';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from '@/components/UI/table.jsx';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/UI/dialog.jsx';\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from '@/components/UI/dropdown-menu.jsx';\r\nimport { getUsers, deleteUser, banUser, updateUserRole } from '@/services/api';\r\nimport themeColors from '@/config/theme-colors-admin';\r\nimport {\r\n  Search,\r\n  MoreVertical,\r\n  Ban,\r\n  Trash2,\r\n  Eye,\r\n  UserCheck,\r\n  UserX,\r\n  Shield,\r\n} from 'lucide-react';\r\n\r\nconst UserManagementPage = () => {\r\n  // const { t } = useTranslation(); // Removed: unused variable\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [roleFilter, setRoleFilter] = useState('all');\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [actionDialog, setActionDialog] = useState({ open: false, type: null });\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, [roleFilter]);\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const params = {\r\n        role: roleFilter === 'all' ? undefined : roleFilter,\r\n      };\r\n      const response = await getUsers(params);\r\n      setUsers(response.data.users || response.data || []);\r\n    } catch (error) {\r\n      console.error('Failed to fetch users:', error);\r\n      // On error, clear list and let UI show empty state. Do not fall back to mock data.\r\n      setUsers([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAction = (user, type) => {\r\n    setSelectedUser(user);\r\n    setActionDialog({ open: true, type });\r\n  };\r\n\r\n  const executeAction = async () => {\r\n    if (!selectedUser) return;\r\n\r\n    try {\r\n      switch (actionDialog.type) {\r\n        case 'ban':\r\n          await banUser(selectedUser.id, { reason: 'Violation of terms' });\r\n          break;\r\n        case 'make_admin':\r\n          await updateUserRole(selectedUser.id, { role: 'admin' });\r\n          break;\r\n        case 'revoke_admin':\r\n          // Default demotion to job_seeker. Adjust if you need to restore a previous role.\r\n          await updateUserRole(selectedUser.id, { role: 'job_seeker' });\r\n          break;\r\n        case 'delete':\r\n          await deleteUser(selectedUser.id);\r\n          break;\r\n      }\r\n      fetchUsers();\r\n      setActionDialog({ open: false, type: null });\r\n      setSelectedUser(null);\r\n    } catch (error) {\r\n      console.error('Action failed:', error);\r\n    }\r\n  };\r\n\r\n  const filteredUsers = users.filter((user) => {\r\n    const matchesSearch =\r\n      user.firstName?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      user.lastName?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      user.email?.toLowerCase().includes(searchTerm.toLowerCase());\r\n    return matchesSearch;\r\n  });\r\n\r\n  const getStatusBadge = (status) => {\r\n    const classes = {\r\n      active: themeColors.status.active,\r\n      suspended: themeColors.status.suspended,\r\n      banned: themeColors.status.rejected,\r\n      inactive: themeColors.status.inactive,\r\n    };\r\n    return (\r\n      <Badge className={classes[status] || classes.inactive}>\r\n        {status}\r\n      </Badge>\r\n    );\r\n  };\r\n\r\n  // Dialog labels & classes for different actions\r\n  const actionButtonLabel = actionDialog.type === 'ban'\r\n    ? 'Suspend'\r\n    : actionDialog.type === 'delete'\r\n    ? 'Delete'\r\n    : actionDialog.type === 'make_admin'\r\n    ? 'Make Admin'\r\n    : actionDialog.type === 'revoke_admin'\r\n    ? 'Revoke Admin'\r\n    : 'Confirm';\r\n\r\n  const actionButtonClass = actionDialog.type === 'delete'\r\n    ? themeColors.buttons.danger\r\n    : actionDialog.type === 'ban'\r\n    ? themeColors.buttons.warning\r\n    : actionDialog.type === 'make_admin'\r\n    ? themeColors.buttons.primary\r\n    : themeColors.buttons.warning;\r\n\r\n  const getRoleBadge = (role) => {\r\n    // Normalize role which may be stored as a string, an array, or null\r\n    let label = 'no role';\r\n    if (Array.isArray(role)) {\r\n      label = role.join(', ');\r\n    } else if (role) {\r\n      label = role;\r\n    }\r\n\r\n    // Replace underscores with spaces for display\r\n    label = String(label).replace(/_/g, ' ');\r\n\r\n    return (\r\n      <Badge variant=\"outline\">\r\n        {label}\r\n      </Badge>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div>\r\n        <h2 className={`text-2xl font-bold ${themeColors.text.primary}`}>User Management</h2>\r\n        <p className={themeColors.text.secondary}>\r\n          Manage all platform users and their access\r\n        </p>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <Card>\r\n        <CardContent className=\"pt-6\">\r\n          <div className=\"flex flex-col sm:flex-row gap-4\">\r\n            <div className=\"relative flex-1\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n              <Input\r\n                placeholder=\"Search users...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"pl-10\"\r\n              />\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              <Button\r\n                variant={roleFilter === 'all' ? 'default' : 'outline'}\r\n                onClick={() => setRoleFilter('all')}\r\n                size=\"sm\"\r\n              >\r\n                All\r\n              </Button>\r\n              <Button\r\n                variant={roleFilter === 'job_seeker' ? 'default' : 'outline'}\r\n                onClick={() => setRoleFilter('job_seeker')}\r\n                size=\"sm\"\r\n              >\r\n                Job Seekers\r\n              </Button>\r\n              <Button\r\n                variant={roleFilter === 'employer' ? 'default' : 'outline'}\r\n                onClick={() => setRoleFilter('employer')}\r\n                size=\"sm\"\r\n              >\r\n                Employers\r\n              </Button>\r\n              <Button\r\n                variant={roleFilter === 'admin' ? 'default' : 'outline'}\r\n                onClick={() => setRoleFilter('admin')}\r\n                size=\"sm\"\r\n              >\r\n                Admins\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Users Table */}\r\n      <Card>\r\n        <CardContent className=\"p-0\">\r\n          <Table>\r\n            <TableHeader>\r\n              <TableRow>\r\n                <TableHead>User</TableHead>\r\n                <TableHead>Email</TableHead>\r\n                <TableHead>Role</TableHead>\r\n                <TableHead>Status</TableHead>\r\n                <TableHead>Joined</TableHead>\r\n                <TableHead className=\"text-right\">Actions</TableHead>\r\n              </TableRow>\r\n            </TableHeader>\r\n            <TableBody>\r\n              {loading ? (\r\n                <TableRow>\r\n                  <TableCell colSpan={6} className=\"text-center py-8\">\r\n                    <div className=\"flex items-center justify-center gap-2\">\r\n                      <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-slate-700\"></div>\r\n                      Loading users...\r\n                    </div>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ) : filteredUsers.length === 0 ? (\r\n                <TableRow>\r\n                  <TableCell colSpan={6} className=\"text-center py-8\">\r\n                    <p className={themeColors.text.muted}>No users found</p>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ) : (\r\n                filteredUsers.map((user) => (\r\n                  <TableRow key={user.id}>\r\n                    <TableCell className=\"font-medium\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <div className={`w-8 h-8 rounded-full ${themeColors.iconBackgrounds.primary} flex items-center justify-center font-bold`}>\r\n                          {user.firstName?.charAt(0)}{user.lastName?.charAt(0)}\r\n                        </div>\r\n                        <div>\r\n                          {user.firstName} {user.lastName}\r\n                        </div>\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell>{user.email}</TableCell>\r\n                    <TableCell>{getRoleBadge(user.role)}</TableCell>\r\n                    <TableCell>{getStatusBadge(user.status)}</TableCell>\r\n                    <TableCell>\r\n                      {new Date(user.created_at).toLocaleDateString()}\r\n                    </TableCell>\r\n                    <TableCell className=\"text-right\">\r\n                      <DropdownMenu>\r\n                        <DropdownMenuTrigger asChild>\r\n                          <Button variant=\"ghost\" size=\"sm\">\r\n                            <MoreVertical className=\"h-4 w-4\" />\r\n                          </Button>\r\n                        </DropdownMenuTrigger>\r\n                        <DropdownMenuContent align=\"end\">\r\n                          <DropdownMenuItem>\r\n                            <Eye className=\"mr-2 h-4 w-4\" />\r\n                            View Profile\r\n                          </DropdownMenuItem>\r\n                          <DropdownMenuItem\r\n                            onClick={() => handleAction(user, 'ban')}\r\n                            disabled={user.status === 'suspended'}\r\n                          >\r\n                            <Ban className=\"mr-2 h-4 w-4\" />\r\n                            {user.status === 'active' ? 'Suspend' : 'Unsuspend'}\r\n                          </DropdownMenuItem>\r\n                          {/* Make / Revoke Admin */}\r\n                          <DropdownMenuItem\r\n                            onClick={() => handleAction(user, Array.isArray(user.role) ? (user.role.includes('admin') ? 'revoke_admin' : 'make_admin') : (user.role === 'admin' ? 'revoke_admin' : 'make_admin'))}\r\n                          >\r\n                            <Shield className=\"mr-2 h-4 w-4\" />\r\n                            {Array.isArray(user.role) ? (user.role.includes('admin') ? 'Revoke Admin' : 'Make Admin') : (user.role === 'admin' ? 'Revoke Admin' : 'Make Admin')}\r\n                          </DropdownMenuItem>\r\n                          <DropdownMenuItem\r\n                            onClick={() => handleAction(user, 'delete')}\r\n                            className=\"text-red-600\"\r\n                          >\r\n                            <Trash2 className=\"mr-2 h-4 w-4\" />\r\n                            Delete\r\n                          </DropdownMenuItem>\r\n                        </DropdownMenuContent>\r\n                      </DropdownMenu>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Action Dialog */}\r\n      <Dialog open={actionDialog.open} onOpenChange={(open) => setActionDialog({ open, type: null })}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>\r\n              {actionDialog.type === 'ban' ? 'Suspend User' : actionDialog.type === 'delete' ? 'Delete User' : actionDialog.type === 'make_admin' ? 'Make Admin' : actionDialog.type === 'revoke_admin' ? 'Revoke Admin' : ''}\r\n            </DialogTitle>\r\n            <DialogDescription>\r\n              {actionDialog.type === 'ban' && `Are you sure you want to suspend ${selectedUser?.firstName} ${selectedUser?.lastName}?`}\r\n              {actionDialog.type === 'delete' && `Are you sure you want to delete ${selectedUser?.firstName} ${selectedUser?.lastName}? This action cannot be undone.`}\r\n              {actionDialog.type === 'make_admin' && `Are you sure you want to make ${selectedUser?.firstName} ${selectedUser?.lastName} an admin?`}\r\n              {actionDialog.type === 'revoke_admin' && `Are you sure you want to revoke admin privileges from ${selectedUser?.firstName} ${selectedUser?.lastName}?`}\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setActionDialog({ open: false, type: null })}>\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              onClick={executeAction}\r\n              className={`${actionButtonClass} text-white`}\r\n            >\r\n              {actionButtonLabel}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserManagementPage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\admin\\UsersPointsPage.jsx",
    "messages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'load'. Either include it or remove the dependency array.",
        "line": 19,
        "column": 33,
        "nodeType": "ArrayExpression",
        "endLine": 19,
        "endColumn": 48,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [limit, load, search]",
            "fix": {
              "range": [
                645,
                660
              ],
              "text": "[limit, load, search]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import React, { useEffect, useState } from 'react';\r\nimport { Card, CardContent } from '@mui/material';\r\nimport { getAdminUsersPoints } from '@/services/points';\r\n\r\nconst UsersPointsPage = () => {\r\n  const [rows, setRows] = useState([]);\r\n  const [total, setTotal] = useState(0);\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(20);\r\n  const [search, setSearch] = useState('');\r\n\r\n  const load = async (p = page) => {\r\n    const data = await getAdminUsersPoints(p, limit, search);\r\n    setRows(data.rows || []);\r\n    setTotal(data.total || 0);\r\n    setPage(data.page || p);\r\n  };\r\n\r\n  useEffect(() => { load(1); }, [limit, search]);\r\n\r\n  return (\r\n    <div className=\"p-4 space-y-4\">\r\n      <h1 className=\"text-2xl font-semibold\">Users Points</h1>\r\n      <div className=\"flex gap-2 items-center\">\r\n        <input className=\"border p-1\" placeholder=\"Search by userId\" value={search} onChange={e => setSearch(e.target.value)} />\r\n        <select className=\"border p-1\" value={limit} onChange={e => setLimit(parseInt(e.target.value, 10))}>\r\n          <option value={10}>10</option>\r\n          <option value={20}>20</option>\r\n          <option value={50}>50</option>\r\n        </select>\r\n      </div>\r\n      <div className=\"bg-white rounded shadow divide-y\">\r\n        {rows.map(r => (\r\n          <div key={r.id} className=\"p-3 grid grid-cols-1 md:grid-cols-5 gap-2 items-center\">\r\n            <div className=\"font-mono text-xs text-gray-500\">{r.userId}</div>\r\n            <div>Total: {r.totalPoints}</div>\r\n            <div>Available: {r.availablePoints}</div>\r\n            <div>Tier: {r.tier || '-'}</div>\r\n            <div className=\"text-gray-400 text-sm\">Updated: {r.updatedAt ? new Date(r.updatedAt).toLocaleString() : ''}</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"flex gap-2\">\r\n        <button className=\"px-3 py-1 rounded bg-gray-100\" onClick={() => load(Math.max(1, page - 1))}>Prev</button>\r\n        <div className=\"px-3 py-1\">Page {page} of {Math.max(1, Math.ceil(total / limit))}</div>\r\n        <button className=\"px-3 py-1 rounded bg-gray-100\" onClick={() => load(page + 1)}>Next</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsersPointsPage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\adminDashboard.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useTranslation' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 2,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useTranslation"
            },
            "fix": {
              "range": [
                53,
                100
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useTranslation'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n} from '@/components/UI/card.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport localize from '@/utils/localize';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { getAdminStats } from '@/services/api';\r\nimport themeColors from '@/config/theme-colors-admin';\r\nimport {\r\n  Users,\r\n  Film,\r\n  Briefcase,\r\n  TrendingUp,\r\n  AlertCircle,\r\n  UserCheck,\r\n  Activity,\r\n  Eye,\r\n} from 'lucide-react';\r\n\r\nconst AdminDashboard = () => {\r\n  // const { t } = useTranslation(); // Removed: unused variable\r\n  const navigate = useNavigate();\r\n  const [stats, setStats] = useState({\r\n    totalUsers: 0,\r\n    activeUsers: 0,\r\n    bannedUsers: 0,\r\n    totalVideos: 0,\r\n    totalJobs: 0,\r\n    activeJobs: 0,\r\n    pendingReports: 0,\r\n    totalApplications: 0,\r\n    recentActivity: {\r\n      newUsersWeek: 0,\r\n      newVideosWeek: 0,\r\n      newJobsWeek: 0,\r\n    },\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchStats();\r\n  }, []);\r\n\r\n  const fetchStats = async () => {\r\n    try {\r\n      const response = await getAdminStats();\r\n      if (response?.data?.stats) {\r\n        setStats(response.data.stats);\r\n        setError(null);\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to fetch admin stats:', err);\r\n      // Set an error message and keep stats as-is (defaults remain)\r\n      setError(err?.response?.data?.message || err.message || 'Failed to load admin stats');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-slate-700\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {error && (\r\n        <div className=\"p-3 rounded bg-red-50 border border-red-100 text-red-700 flex items-center justify-between\">\r\n          <div>{error}</div>\r\n          <div className=\"ml-4\">\r\n            <Button variant=\"ghost\" onClick={fetchStats}>Retry</Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {/* Welcome Section */}\r\n      <div>\r\n        <h1 className={`text-3xl font-bold ${themeColors.text.gradient}`}>\r\n          Platform Overview\r\n        </h1>\r\n        <p className={themeColors.text.secondary}>\r\n          Monitor platform health and key metrics\r\n        </p>\r\n      </div>\r\n\r\n      {/* Main Stats Grid */}\r\n      <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\r\n        <Card className={`${themeColors.shadows.card} transition-all ${themeColors.backgrounds.cardHover}`}>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Total Users</CardTitle>\r\n            <Users className={`h-4 w-4 ${themeColors.iconBackgrounds.primary.split(' ')[1]}`} />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className={`text-2xl font-bold ${themeColors.text.primary}`}>{stats.totalUsers}</div>\r\n            <p className={`text-xs ${themeColors.text.muted} flex items-center gap-1 mt-1`}>\r\n              <TrendingUp className=\"h-3 w-3 text-green-500\" />\r\n              +{stats.recentActivity.newUsersWeek} this week\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className={`${themeColors.shadows.card} transition-all ${themeColors.backgrounds.cardHover}`}>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Active Users</CardTitle>\r\n            <UserCheck className={`h-4 w-4 ${themeColors.iconBackgrounds.secondary.split(' ')[1]}`} />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className={`text-2xl font-bold ${themeColors.text.primary}`}>{stats.activeUsers}</div>\r\n            <p className={`text-xs ${themeColors.text.muted} mt-1`}>\r\n              {stats.totalUsers > 0 ? Math.round((stats.activeUsers / stats.totalUsers) * 100) : 0}% of total\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className={`${themeColors.shadows.card} transition-all ${themeColors.backgrounds.cardHover}`}>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Pending Reports</CardTitle>\r\n            <AlertCircle className={`h-4 w-4 ${themeColors.iconBackgrounds.warning.split(' ')[1]}`} />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className={`text-2xl font-bold ${themeColors.text.primary}`}>{stats.pendingReports}</div>\r\n            <p className={`text-xs ${themeColors.text.muted} mt-1`}>\r\n              Requires attention\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className={`${themeColors.shadows.card} transition-all ${themeColors.backgrounds.cardHover}`}>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Total Applications</CardTitle>\r\n            <Activity className={`h-4 w-4 ${themeColors.iconBackgrounds.info.split(' ')[1]}`} />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className={`text-2xl font-bold ${themeColors.text.primary}`}>{stats.totalApplications}</div>\r\n            <p className={`text-xs ${themeColors.text.muted} mt-1`}>\r\n              Platform activity\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Content Stats */}\r\n      <div className=\"grid gap-4 md:grid-cols-3\">\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <Film className=\"h-5 w-5\" />\r\n              Videos\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className={`text-3xl font-bold ${themeColors.text.primary}`}>{stats.totalVideos}</div>\r\n            <p className={`text-sm ${themeColors.text.muted} mt-2`}>\r\n              Total videos uploaded\r\n            </p>\r\n            <div className=\"mt-3 flex items-center gap-2\">\r\n              <TrendingUp className=\"h-4 w-4 text-green-500\" />\r\n              <span className=\"text-sm text-green-600\">+{stats.recentActivity.newVideosWeek} this week</span>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <Briefcase className=\"h-5 w-5\" />\r\n              Jobs\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className={`text-3xl font-bold ${themeColors.text.primary}`}>{stats.totalJobs}</div>\r\n            <p className={`text-sm ${themeColors.text.muted} mt-2`}>\r\n              {stats.activeJobs} active postings\r\n            </p>\r\n            <div className=\"mt-3 flex items-center gap-2\">\r\n              <TrendingUp className=\"h-4 w-4 text-green-500\" />\r\n              <span className=\"text-sm text-green-600\">+{stats.recentActivity.newJobsWeek} this week</span>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <Users className=\"h-5 w-5\" />\r\n              User Status\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className={`text-sm ${themeColors.text.secondary}`}>Active</span>\r\n                <Badge className={themeColors.status.active}>{localize(stats.activeUsers)}</Badge>\r\n              </div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className={`text-sm ${themeColors.text.secondary}`}>Suspended</span>\r\n                <Badge className={themeColors.status.suspended}>{localize(stats.bannedUsers)}</Badge>\r\n              </div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className={`text-sm ${themeColors.text.secondary}`}>Total</span>\r\n                <Badge variant=\"outline\">{localize(stats.totalUsers)}</Badge>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Quick Actions */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Quick Actions</CardTitle>\r\n          <CardDescription>Common administrative tasks</CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"grid gap-3 md:grid-cols-2 lg:grid-cols-4\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => navigate('/admin-tabs?group=users&tab=users')}\r\n              className=\"justify-start\"\r\n            >\r\n              <Users className=\"mr-2 h-4 w-4\" />\r\n              Manage Users\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => navigate('/admin-tabs?group=content&tab=moderation')}\r\n              className=\"justify-start\"\r\n            >\r\n              <AlertCircle className=\"mr-2 h-4 w-4\" />\r\n              Review Reports ({stats.pendingReports})\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => navigate('/admin-tabs?group=blog&tab=blogs/new')}\r\n              className=\"justify-start\"\r\n            >\r\n              <Eye className=\"mr-2 h-4 w-4\" />\r\n              Create Blog Post\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => navigate('/admin-tabs?group=analytics&tab=analytics')}\r\n              className=\"justify-start\"\r\n            >\r\n              <Activity className=\"mr-2 h-4 w-4\" />\r\n              View Analytics\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\AdminTabs.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setSearchParams' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 35,
        "column": 24,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 35,
        "endColumn": 39,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setSearchParams"
            },
            "fix": {
              "range": [
                1145,
                1162
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setSearchParams'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useSearchParams } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport DashboardLayout from '@/components/dashboard/DashboardLayout';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/UI/card.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport localize from '@/utils/localize';\r\nimport { getAdminTabCategories } from '@/config/adminTabsConfig';\r\nimport { getAdminStats } from '@/services/api';\r\nimport themeColors from '@/config/theme-colors-admin';\r\nimport LanguageSelector from '@/components/LanguageSelector';\r\nimport {\r\n  Home,\r\n  LayoutDashboard,\r\n  Users,\r\n  Briefcase,\r\n  Film,\r\n  Shield,\r\n  FileText,\r\n  PenTool,\r\n  BarChart3,\r\n  Settings,\r\n  Eye,\r\n  AlertCircle,\r\n  TrendingUp,\r\n  UserCheck,\r\n} from 'lucide-react';\r\n\r\nconst AdminTabs = () => {\r\n  const { t } = useTranslation();\r\n  const { user, role } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const [stats, setStats] = useState({\r\n    totalUsers: 0,\r\n    activeUsers: 0,\r\n    totalVideos: 0,\r\n    totalJobs: 0,\r\n    pendingReports: 0,\r\n    newUsersWeek: 0\r\n  });\r\n  const [viewingAs, setViewingAs] = useState(null); // 'employer' or 'jobseeker'\r\n\r\n  const tabCategoryKey = searchParams.get('group') || 'dashboard';\r\n  const tabParam = searchParams.get('tab') || 'overview';\r\n\r\n  const adminTabCategoriesData = getAdminTabCategories(t);\r\n\r\n  const tabCategory =\r\n    adminTabCategoriesData.find((cat) => cat.key === tabCategoryKey) ||\r\n    adminTabCategoriesData[0];\r\n\r\n  const currentTab = tabCategory.tabs.find((tab) => tab.path === tabParam) || tabCategory.tabs[0];\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      const primary = Array.isArray(role) ? role[0] : role;\r\n      if (primary && primary !== 'admin') {\r\n        // Redirect non-admin users\r\n        if (primary === 'employer' || primary === 'recruiter') {\r\n          navigate('/employer-tabs');\r\n        } else if (primary === 'job_seeker' || primary === 'employee') {\r\n          navigate('/jobseeker-tabs');\r\n        } else {\r\n          navigate('/');\r\n        }\r\n      }\r\n    }\r\n  }, [user, role, navigate]);\r\n\r\n  useEffect(() => {\r\n    const fetchStats = async () => {\r\n      try {\r\n        const statsResponse = await getAdminStats();\r\n        if (statsResponse && statsResponse.data) {\r\n          setStats(statsResponse.data.stats || statsResponse.data);\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to fetch admin stats:', error);\r\n        // Use mock data if API fails\r\n        setStats({\r\n          totalUsers: 1250,\r\n          activeUsers: 890,\r\n          totalVideos: 3420,\r\n          totalJobs: 890,\r\n          pendingReports: 12,\r\n          newUsersWeek: 45\r\n        });\r\n      }\r\n    };\r\n\r\n    fetchStats();\r\n  }, []);\r\n\r\n  // Icon mapping\r\n  const iconMap = {\r\n    LayoutDashboard: LayoutDashboard,\r\n    Users: Users,\r\n    Briefcase: Briefcase,\r\n    Film: Film,\r\n    Shield: Shield,\r\n    FileText: FileText,\r\n    PenTool: PenTool,\r\n    BarChart3: BarChart3,\r\n    Settings: Settings,\r\n  };\r\n\r\n  // Build navigation items from config\r\n  const navigationItems = adminTabCategoriesData.flatMap((category, catIndex) => {\r\n    const items = category.tabs.map((tab) => {\r\n      const IconComponent = iconMap[tab.icon.name] || LayoutDashboard;\r\n      return {\r\n        label: tab.label,\r\n        icon: IconComponent,\r\n        path: `/admin-tabs?group=${category.key}&tab=${tab.path}`,\r\n      };\r\n    });\r\n\r\n    // Add separator before each category (except first)\r\n    if (catIndex > 0) {\r\n      return [\r\n        {\r\n          type: 'separator',\r\n          label: category.label,\r\n        },\r\n        ...items,\r\n      ];\r\n    }\r\n\r\n    return items;\r\n  });\r\n\r\n  // Add Home at the beginning\r\n  navigationItems.unshift({\r\n    label: t('nav.home', 'Home'),\r\n    icon: Home,\r\n    path: '/',\r\n  });\r\n\r\n  // Handle view as different role\r\n  const handleViewAs = (roleType) => {\r\n    setViewingAs(roleType);\r\n    if (roleType === 'employer') {\r\n      navigate('/employer-tabs');\r\n    } else if (roleType === 'jobseeker') {\r\n      navigate('/jobseeker-tabs');\r\n    }\r\n  };\r\n\r\n  const handleReturnToAdmin = () => {\r\n    setViewingAs(null);\r\n    navigate('/admin-tabs');\r\n  };\r\n\r\n  if (!user || !(Array.isArray(role) ? role.includes('admin') : role === 'admin')) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <DashboardLayout navigationItems={navigationItems}>\r\n      <div className=\"space-y-6\">\r\n        {/* Viewing As Badge */}\r\n        {viewingAs && (\r\n          <div className={`p-4 ${themeColors.backgrounds.card} border-l-4 ${themeColors.borders.warning} rounded-lg flex items-center justify-between`}>\r\n            <div className=\"flex items-center gap-2\">\r\n              <Eye className=\"h-5 w-5 text-amber-600\" />\r\n              <span className={themeColors.text.primary}>\r\n                {t('adminTabs:viewingAs')}{' '}\r\n                <Badge variant=\"outline\">{localize(viewingAs)}</Badge>\r\n              </span>\r\n            </div>\r\n            <Button onClick={handleReturnToAdmin} variant=\"outline\" size=\"sm\">\r\n              {t('adminTabs:returnToAdmin')}\r\n            </Button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Welcome Section */}\r\n        {/* Hide the main header when viewing the dashboard overview route (group=dashboard & tab=overview) */}\r\n        {(tabCategoryKey === 'dashboard' && tabParam === 'overview') && (\r\n          <div className=\"flex items-start justify-between\">\r\n            <div className=\"space-y-2\">\r\n              <h1 className={`text-3xl font-bold tracking-tight ${themeColors.text.gradient}`}>\r\n                {t('adminTabs:title')} ðŸ›¡ï¸\r\n              </h1>\r\n              <p className={themeColors.text.secondary}>\r\n                {t('adminTabs:subtitle')}\r\n              </p>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              {/* Use the same LanguageSelector used in Header so both show flag + letters */}\r\n              <LanguageSelector variant=\"menu\" showLabel={true} />\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Quick Stats Cards */}\r\n        {tabParam === 'overview' && (\r\n          <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\r\n            <Card className={`border-l-4 ${themeColors.borders.primary} hover:shadow-lg transition-shadow`}>\r\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                <CardTitle className=\"text-sm font-medium\">{t('adminTabs:totalUsers')}</CardTitle>\r\n                <Users className={`h-4 w-4 ${themeColors.iconBackgrounds.primary.split(' ')[1]}`} />\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className={`text-2xl font-bold ${themeColors.text.primary}`}>{stats?.totalUsers ?? 0}</div>\r\n                <p className={`text-xs mt-1 ${themeColors.text.muted}`}>\r\n                  <TrendingUp className=\"inline h-3 w-3 mr-1\" />\r\n                  {t('adminTabs:newUsersThisWeek', { count: stats?.newUsersWeek ?? 0 })}\r\n                </p>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card className=\"border-l-4 border-l-emerald-500 hover:shadow-lg transition-shadow\">\r\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                <CardTitle className=\"text-sm font-medium\">{t('adminTabs:activeUsers')}</CardTitle>\r\n                <UserCheck className={`h-4 w-4 ${themeColors.iconBackgrounds.secondary.split(' ')[1]}`} />\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className={`text-2xl font-bold ${themeColors.text.primary}`}>{stats?.activeUsers ?? 0}</div>\r\n                <p className={`text-xs mt-1 ${themeColors.text.muted}`}>\r\n                  {t('adminTabs:activeUsersPercentage', {\r\n                    percentage: stats?.totalUsers > 0 ? Math.round((stats.activeUsers / stats.totalUsers) * 100) : 0,\r\n                  })}\r\n                </p>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card className=\"border-l-4 border-l-amber-500 hover:shadow-lg transition-shadow\">\r\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                <CardTitle className=\"text-sm font-medium\">{t('adminTabs:pendingReports')}</CardTitle>\r\n                <AlertCircle className={`h-4 w-4 ${themeColors.iconBackgrounds.warning.split(' ')[1]}`} />\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className={`text-2xl font-bold ${themeColors.text.primary}`}>{stats?.pendingReports ?? 0}</div>\r\n                <p className={`text-xs mt-1 ${themeColors.text.muted}`}>\r\n                  {t('adminTabs:requiresAttention')}\r\n                </p>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card className=\"border-l-4 border-l-blue-500 hover:shadow-lg transition-shadow\">\r\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                <CardTitle className=\"text-sm font-medium\">{t('adminTabs:totalContent')}</CardTitle>\r\n                <Film className={`h-4 w-4 ${themeColors.iconBackgrounds.info.split(' ')[1]}`} />\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className={`text-2xl font-bold ${themeColors.text.primary}`}>\r\n                  {(stats?.totalVideos ?? 0) + (stats?.totalJobs ?? 0)}\r\n                </div>\r\n                <p className={`text-xs mt-1 ${themeColors.text.muted}`}>\r\n                  {t('adminTabs:contentBreakdown', { videos: stats?.totalVideos ?? 0, jobs: stats?.totalJobs ?? 0 })}\r\n                </p>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        )}\r\n\r\n        {/* View As Buttons - Only on overview */}\r\n        {tabParam === 'overview' && (\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>{t('adminTabs:viewAsTitle')}</CardTitle>\r\n              <CardDescription>\r\n                {t('adminTabs:viewAsDescription')}\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"flex gap-3\">\r\n              <Button\r\n                onClick={() => handleViewAs('employer')}\r\n                variant=\"outline\"\r\n                className={`${themeColors.buttons.outline}`}\r\n              >\r\n                <Briefcase className=\"mr-2 h-4 w-4\" />\r\n                {t('adminTabs:viewAsEmployer')}\r\n              </Button>\r\n              <Button\r\n                onClick={() => handleViewAs('jobseeker')}\r\n                variant=\"outline\"\r\n                className={`${themeColors.buttons.outline}`}\r\n              >\r\n                <Users className=\"mr-2 h-4 w-4\" />\r\n                {t('adminTabs:viewAsJobSeeker')}\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n\r\n        {/* Current Tab Content */}\r\n        <Card>\r\n          <CardHeader>\r\n            <div className=\"flex items-center gap-3\">\r\n              {React.createElement(iconMap[currentTab.icon.name] || LayoutDashboard, {\r\n                className: `h-6 w-6 ${themeColors.iconBackgrounds.primary.split(' ')[1]}`,\r\n              })}\r\n              <div>\r\n                <CardTitle>{currentTab.label}</CardTitle>\r\n                <CardDescription className=\"mt-1\">{currentTab.description}</CardDescription>\r\n              </div>\r\n            </div>\r\n          </CardHeader>\r\n          <CardContent>\r\n            {currentTab.context\r\n              ? React.createElement(currentTab.component, { context: currentTab.context })\r\n              : React.createElement(currentTab.component)}\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </DashboardLayout>\r\n  );\r\n};\r\n\r\nexport default AdminTabs;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\AIAnalysisPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 36,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 36,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                642,
                677
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'videoAnalyses' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 57,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 57,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "videoAnalyses"
            },
            "fix": {
              "range": [
                1221,
                1234
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'videoAnalyses'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setVideoAnalyses' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 57,
        "column": 25,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 57,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setVideoAnalyses"
            },
            "fix": {
              "range": [
                1234,
                1252
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setVideoAnalyses'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchUserAnalysis'. Either include it or remove the dependency array.",
        "line": 63,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 63,
        "endColumn": 12,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchUserAnalysis, user]",
            "fix": {
              "range": [
                1419,
                1425
              ],
              "text": "[fetchUserAnalysis, user]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'fetchVideoAnalysis' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 78,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 78,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "fetchVideoAnalysis"
            },
            "fix": {
              "range": [
                1768,
                2035
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'fetchVideoAnalysis'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  Typography,\r\n  Button,\r\n  Grid,\r\n  Chip,\r\n  CircularProgress,\r\n  Alert,\r\n  Tabs,\r\n  Tab,\r\n  LinearProgress,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  Divider\r\n} from '@mui/material';\r\nimport {\r\n  Psychology,\r\n  TrendingUp,\r\n  Assessment,\r\n  VideoLibrary,\r\n  Person,\r\n  School,\r\n  Work,\r\n  Star,\r\n  Warning,\r\n  CheckCircle\r\n} from '@mui/icons-material';\r\nimport { getUserAIAnalysis, getVideoAIAnalysis } from '@/services/api';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\n\r\nfunction TabPanel({ children, value, index, ...other }) {\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`ai-tabpanel-${index}`}\r\n      aria-labelledby={`ai-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: 3 }}>{children}</Box>}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst AIAnalysisPage = () => {\r\n  const { t } = useTranslation();\r\n  const { user } = useAuth();\r\n  const [tabValue, setTabValue] = useState(0);\r\n  const [userAnalysis, setUserAnalysis] = useState(null);\r\n  const [videoAnalyses, setVideoAnalyses] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchUserAnalysis();\r\n  }, [user]);\r\n\r\n  const fetchUserAnalysis = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getUserAIAnalysis(user.id);\r\n      setUserAnalysis(response.data.data);\r\n    } catch (err) {\r\n      setError('Failed to fetch AI analysis');\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchVideoAnalysis = async (videoId) => {\r\n    try {\r\n      const response = await getVideoAIAnalysis(videoId);\r\n      return response.data.data;\r\n    } catch (err) {\r\n      console.error('Failed to fetch video analysis:', err);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setTabValue(newValue);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Box p={3}>\r\n        <Alert severity=\"error\">{error}</Alert>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ width: '100%', p: 3 }}>\r\n      <Typography variant=\"h4\" gutterBottom sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n        <Psychology color=\"primary\" />\r\n        {t('aiAnalysis.title', 'AI Analysis Dashboard')}\r\n      </Typography>\r\n\r\n      <Tabs value={tabValue} onChange={handleTabChange} aria-label=\"AI analysis tabs\">\r\n        <Tab \r\n          label={t('aiAnalysis.profileAnalysis', 'Profile Analysis')} \r\n          icon={<Person />} \r\n          iconPosition=\"start\"\r\n        />\r\n        <Tab \r\n          label={t('aiAnalysis.videoAnalysis', 'Video Analysis')} \r\n          icon={<VideoLibrary />} \r\n          iconPosition=\"start\"\r\n        />\r\n        <Tab \r\n          label={t('aiAnalysis.recommendations', 'Recommendations')} \r\n          icon={<TrendingUp />} \r\n          iconPosition=\"start\"\r\n        />\r\n      </Tabs>\r\n\r\n      <TabPanel value={tabValue} index={0}>\r\n        <Grid container spacing={3}>\r\n          {/* Overall Score Card */}\r\n          <Grid item xs={12} md={4}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  {t('aiAnalysis.overallScore', 'Overall Score')}\r\n                </Typography>\r\n                <Box display=\"flex\" alignItems=\"center\" gap={2}>\r\n                  <CircularProgress\r\n                    variant=\"determinate\"\r\n                    value={userAnalysis?.overallScore || 0}\r\n                    size={80}\r\n                    thickness={4}\r\n                  />\r\n                  <Typography variant=\"h4\" color=\"primary\">\r\n                    {Math.round(userAnalysis?.overallScore || 0)}%\r\n                  </Typography>\r\n                </Box>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n\r\n          {/* Career Path Suggestion */}\r\n          <Grid item xs={12} md={8}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                  <Work color=\"primary\" />\r\n                  {t('aiAnalysis.careerPath', 'Suggested Career Path')}\r\n                </Typography>\r\n                <Typography variant=\"h5\" color=\"primary\" gutterBottom>\r\n                  {userAnalysis?.careerPathSuggestion || 'Software Engineer'}\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  {t('aiAnalysis.careerPathDescription', 'Based on your skills, experience, and interests, this career path aligns well with your profile.')}\r\n                </Typography>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n\r\n          {/* Skill Gaps */}\r\n          <Grid item xs={12} md={6}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                  <Warning color=\"warning\" />\r\n                  {t('aiAnalysis.skillGaps', 'Skill Gaps')}\r\n                </Typography>\r\n                <Box display=\"flex\" flexWrap=\"wrap\" gap={1}>\r\n                  {(userAnalysis?.skillGaps || []).map((skill, index) => (\r\n                    <Chip\r\n                      key={index}\r\n                      label={skill}\r\n                      color=\"warning\"\r\n                      variant=\"outlined\"\r\n                      size=\"small\"\r\n                    />\r\n                  ))}\r\n                </Box>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n\r\n          {/* Resume Optimization Tips */}\r\n          <Grid item xs={12} md={6}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                  <CheckCircle color=\"success\" />\r\n                  {t('aiAnalysis.resumeTips', 'Resume Optimization Tips')}\r\n                </Typography>\r\n                <List dense>\r\n                  {(userAnalysis?.resumeOptimizationTips || []).map((tip, index) => (\r\n                    <ListItem key={index}>\r\n                      <ListItemIcon>\r\n                        <Star color=\"primary\" fontSize=\"small\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary={tip} />\r\n                    </ListItem>\r\n                  ))}\r\n                </List>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n      </TabPanel>\r\n\r\n      <TabPanel value={tabValue} index={1}>\r\n        <Typography variant=\"h6\" gutterBottom>\r\n          {t('aiAnalysis.videoAnalysisTitle', 'Video Performance Analysis')}\r\n        </Typography>\r\n        <Alert severity=\"info\" sx={{ mb: 2 }}>\r\n          {t('aiAnalysis.videoAnalysisDescription', 'Upload videos to get detailed AI analysis of your presentation skills, content quality, and engagement metrics.')}\r\n        </Alert>\r\n        \r\n        {/* Placeholder for video analysis results */}\r\n        <Card>\r\n          <CardContent>\r\n            <Typography variant=\"body1\" color=\"text.secondary\" align=\"center\" py={4}>\r\n              {t('aiAnalysis.noVideos', 'No videos analyzed yet. Upload a video to see detailed AI insights.')}\r\n            </Typography>\r\n          </CardContent>\r\n        </Card>\r\n      </TabPanel>\r\n\r\n      <TabPanel value={tabValue} index={2}>\r\n        <Typography variant=\"h6\" gutterBottom>\r\n          {t('aiAnalysis.aiRecommendations', 'AI-Powered Recommendations')}\r\n        </Typography>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} md={6}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  {t('aiAnalysis.learningRecommendations', 'Learning Recommendations')}\r\n                </Typography>\r\n                <List>\r\n                  <ListItem>\r\n                    <ListItemText \r\n                      primary=\"Cloud Computing Fundamentals\"\r\n                      secondary=\"Recommended based on current industry trends\"\r\n                    />\r\n                  </ListItem>\r\n                  <Divider />\r\n                  <ListItem>\r\n                    <ListItemText \r\n                      primary=\"Machine Learning Basics\"\r\n                      secondary=\"Enhance your technical skill set\"\r\n                    />\r\n                  </ListItem>\r\n                </List>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} md={6}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  {t('aiAnalysis.jobRecommendations', 'Job Recommendations')}\r\n                </Typography>\r\n                <List>\r\n                  <ListItem>\r\n                    <ListItemText \r\n                      primary=\"Senior Frontend Developer\"\r\n                      secondary=\"95% match with your profile\"\r\n                    />\r\n                  </ListItem>\r\n                  <Divider />\r\n                  <ListItem>\r\n                    <ListItemText \r\n                      primary=\"Full Stack Engineer\"\r\n                      secondary=\"87% match with your profile\"\r\n                    />\r\n                  </ListItem>\r\n                </List>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n      </TabPanel>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AIAnalysisPage;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\AIInterviewPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 44,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 44,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                778,
                813
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 97,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 97,
        "endColumn": 17
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 108,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 108,
        "endColumn": 17
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  Typography,\r\n  Button,\r\n  Grid,\r\n  CircularProgress,\r\n  Alert,\r\n  Stepper,\r\n  Step,\r\n  StepLabel,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  Chip,\r\n  LinearProgress\r\n} from '@mui/material';\r\nimport {\r\n  Psychology,\r\n  PlayArrow,\r\n  Stop,\r\n  Assessment,\r\n  CheckCircle,\r\n  Warning,\r\n  TrendingUp,\r\n  TrendingDown,\r\n  VideoCall,\r\n  QuestionAnswer\r\n} from '@mui/icons-material';\r\nimport { \r\n  getAutoInitialInterviewResults, \r\n  generateAIInterviewQuestions,\r\n  getUserVideos \r\n} from '@/services/api';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react'; // Import the AuthContext contexts/AuthContext';\r\n\r\nconst AIInterviewPage = () => {\r\n  const { t } = useTranslation();\r\n  const { user } = useAuth();\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [interviewResults, setInterviewResults] = useState(null);\r\n  const [aiQuestions, setAIQuestions] = useState([]);\r\n  const [userVideos, setUserVideos] = useState([]);\r\n  const [selectedVideo, setSelectedVideo] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [showResults, setShowResults] = useState(false);\r\n \r\n  const steps = [\r\n    t('aiInterview.selectVideo', 'Select Video'),\r\n    t('aiInterview.aiAnalysis', 'AI Analysis'),\r\n    t('aiInterview.results', 'Results')\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchUserVideos();\r\n  }, []);\r\n\r\n  const fetchUserVideos = async () => {\r\n    try {\r\n      const response = await getUserVideos();\r\n      setUserVideos(response.data.data || []);\r\n    } catch (err) {\r\n      console.error('Failed to fetch user videos:', err);\r\n    }\r\n  };\r\n\r\n  const startAutoInitialInterview = async (videoId) => {\r\n    try {\r\n      setLoading(true);\r\n      setActiveStep(1);\r\n      \r\n      // Simulate AI analysis process\r\n      setTimeout(async () => {\r\n        try {\r\n          const response = await getAutoInitialInterviewResults(user.id, videoId);\r\n          setInterviewResults(response.data.data);\r\n          setActiveStep(2);\r\n          setShowResults(true);\r\n        } catch (err) {\r\n          setError('Failed to get interview results');\r\n          console.error(err);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      }, 3000); // Simulate 3 second analysis\r\n      \r\n    } catch (err) {\r\n      setError('Failed to start interview analysis');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const generateQuestions = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await generateAIInterviewQuestions(user.id, null);\r\n      setAIQuestions(response.data.data || []);\r\n    } catch (err) {\r\n      setError('Failed to generate questions');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getScoreColor = (score) => {\r\n    if (score >= 80) return 'success';\r\n    if (score >= 60) return 'warning';\r\n    return 'error';\r\n  };\r\n\r\n  const getScoreIcon = (score) => {\r\n    if (score >= 80) return <TrendingUp color=\"success\" />;\r\n    if (score >= 60) return <Warning color=\"warning\" />;\r\n    return <TrendingDown color=\"error\" />;\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ width: '100%', p: 3 }}>\r\n      <Typography variant=\"h4\" gutterBottom sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n        <Psychology color=\"primary\" />\r\n        {t('aiInterview.title', 'AI Interview Assistant')}\r\n      </Typography>\r\n\r\n      <Typography variant=\"body1\" color=\"text.secondary\" paragraph>\r\n        {t('aiInterview.description', 'Get instant AI-powered feedback on your interview performance and receive personalized recommendations.')}\r\n      </Typography>\r\n\r\n      <Stepper activeStep={activeStep} sx={{ mb: 4 }}>\r\n        {steps.map((label) => (\r\n          <Step key={label}>\r\n            <StepLabel>{label}</StepLabel>\r\n          </Step>\r\n        ))}\r\n      </Stepper>\r\n\r\n      {activeStep === 0 && (\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  {t('aiInterview.selectVideoTitle', 'Select a Video for AI Analysis')}\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\r\n                  {t('aiInterview.selectVideoDescription', 'Choose one of your uploaded videos to get AI-powered interview feedback.')}\r\n                </Typography>\r\n                \r\n                {userVideos.length === 0 ? (\r\n                  <Alert severity=\"info\">\r\n                    {t('aiInterview.noVideos', 'No videos found. Please upload a video first to use AI interview analysis.')}\r\n                  </Alert>\r\n                ) : (\r\n                  <Grid container spacing={2}>\r\n                    {userVideos.map((video) => (\r\n                      <Grid item xs={12} sm={6} md={4} key={video.id}>\r\n                        <Card \r\n                          variant=\"outlined\" \r\n                          sx={{ \r\n                            cursor: 'pointer',\r\n                            '&:hover': { boxShadow: 2 },\r\n                            border: selectedVideo?.id === video.id ? 2 : 1,\r\n                            borderColor: selectedVideo?.id === video.id ? 'primary.main' : 'divider'\r\n                          }}\r\n                          onClick={() => setSelectedVideo(video)}\r\n                        >\r\n                          <CardContent>\r\n                            <Typography variant=\"h6\" noWrap>\r\n                              {video.title || 'Untitled Video'}\r\n                            </Typography>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\">\r\n                              {video.duration ? `${video.duration}s` : 'Unknown duration'}\r\n                            </Typography>\r\n                            <Box mt={1}>\r\n                              <Chip \r\n                                label={video.videoType || 'General'} \r\n                                size=\"small\" \r\n                                variant=\"outlined\" \r\n                              />\r\n                            </Box>\r\n                          </CardContent>\r\n                        </Card>\r\n                      </Grid>\r\n                    ))}\r\n                  </Grid>\r\n                )}\r\n                \r\n                {selectedVideo && (\r\n                  <Box mt={3}>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      size=\"large\"\r\n                      startIcon={<PlayArrow />}\r\n                      onClick={() => startAutoInitialInterview(selectedVideo.id)}\r\n                      disabled={loading}\r\n                    >\r\n                      {t('aiInterview.startAnalysis', 'Start AI Analysis')}\r\n                    </Button>\r\n                  </Box>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n\r\n          <Grid item xs={12}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  {t('aiInterview.aiQuestionsTitle', 'AI-Generated Interview Questions')}\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\r\n                  {t('aiInterview.aiQuestionsDescription', 'Get personalized interview questions based on your profile and target roles.')}\r\n                </Typography>\r\n                \r\n                <Button\r\n                  variant=\"outlined\"\r\n                  startIcon={<QuestionAnswer />}\r\n                  onClick={generateQuestions}\r\n                  disabled={loading}\r\n                  sx={{ mb: 2 }}\r\n                >\r\n                  {t('aiInterview.generateQuestions', 'Generate Questions')}\r\n                </Button>\r\n\r\n                {aiQuestions.length > 0 && (\r\n                  <List>\r\n                    {aiQuestions.map((question, index) => (\r\n                      <ListItem key={index}>\r\n                        <ListItemIcon>\r\n                          <QuestionAnswer color=\"primary\" />\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={question} />\r\n                      </ListItem>\r\n                    ))}\r\n                  </List>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n      )}\r\n\r\n      {activeStep === 1 && (\r\n        <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" py={8}>\r\n          <CircularProgress size={80} sx={{ mb: 3 }} />\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            {t('aiInterview.analyzing', 'Analyzing your video...')}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\">\r\n            {t('aiInterview.analyzingDescription', 'Our AI is evaluating your communication skills, content quality, and overall presentation.')}\r\n          </Typography>\r\n          <LinearProgress sx={{ width: '100%', mt: 3 }} />\r\n        </Box>\r\n      )}\r\n\r\n      {/* Results Dialog */}\r\n      <Dialog open={showResults} onClose={() => setShowResults(false)} maxWidth=\"md\" fullWidth>\r\n        <DialogTitle>\r\n          <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n            <Assessment color=\"primary\" />\r\n            {t('aiInterview.resultsTitle', 'AI Interview Analysis Results')}\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          {interviewResults && (\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} md={4}>\r\n                <Card variant=\"outlined\">\r\n                  <CardContent align=\"center\">\r\n                    <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\" gap={1} mb={2}>\r\n                      {getScoreIcon(interviewResults.score)}\r\n                      <Typography variant=\"h4\" color={getScoreColor(interviewResults.score)}>\r\n                        {Math.round(interviewResults.score)}%\r\n                      </Typography>\r\n                    </Box>\r\n                    <Typography variant=\"h6\">\r\n                      {t('aiInterview.overallScore', 'Overall Score')}\r\n                    </Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={8}>\r\n                <Card variant=\"outlined\">\r\n                  <CardContent>\r\n                    <Typography variant=\"h6\" gutterBottom>\r\n                      {t('aiInterview.feedback', 'AI Feedback')}\r\n                    </Typography>\r\n                    <Typography variant=\"body1\">\r\n                      {interviewResults.feedback}\r\n                    </Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={6}>\r\n                <Card variant=\"outlined\">\r\n                  <CardContent>\r\n                    <Typography variant=\"h6\" gutterBottom sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                      <CheckCircle color=\"success\" />\r\n                      {t('aiInterview.strengths', 'Strengths')}\r\n                    </Typography>\r\n                    <List dense>\r\n                      {(interviewResults.strengths || []).map((strength, index) => (\r\n                        <ListItem key={index}>\r\n                          <ListItemText primary={strength} />\r\n                        </ListItem>\r\n                      ))}\r\n                    </List>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={6}>\r\n                <Card variant=\"outlined\">\r\n                  <CardContent>\r\n                    <Typography variant=\"h6\" gutterBottom sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                      <Warning color=\"warning\" />\r\n                      {t('aiInterview.improvements', 'Areas for Improvement')}\r\n                    </Typography>\r\n                    <List dense>\r\n                      {(interviewResults.areasForImprovement || []).map((area, index) => (\r\n                        <ListItem key={index}>\r\n                          <ListItemText primary={area} />\r\n                        </ListItem>\r\n                      ))}\r\n                    </List>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n            </Grid>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setShowResults(false)}>\r\n            {t('common.close', 'Close')}\r\n          </Button>\r\n          <Button variant=\"contained\" onClick={() => {\r\n            setShowResults(false);\r\n            setActiveStep(0);\r\n            setSelectedVideo(null);\r\n            setInterviewResults(null);\r\n          }}>\r\n            {t('aiInterview.analyzeAnother', 'Analyze Another Video')}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mt: 2 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AIInterviewPage;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\AIMatchingPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 35,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 35,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                637,
                672
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchVideos'. Either include it or remove the dependency array.",
        "line": 51,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 51,
        "endColumn": 34,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [currentPage, fetchVideos, useAIMatching]",
            "fix": {
              "range": [
                1253,
                1281
              ],
              "text": "[currentPage, fetchVideos, useAIMatching]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  Typography,\r\n  Button,\r\n  Grid,\r\n  CircularProgress,\r\n  Alert,\r\n  Switch,\r\n  FormControlLabel,\r\n  Chip,\r\n  Avatar,\r\n  IconButton,\r\n  Tooltip,\r\n  Pagination\r\n} from '@mui/material';\r\nimport {\r\n  Psychology,\r\n  TuneRounded,\r\n  PlayArrow,\r\n  Favorite,\r\n  FavoriteBorder,\r\n  Bookmark,\r\n  BookmarkBorder,\r\n  Share,\r\n  Visibility,\r\n  TrendingUp,\r\n  FilterList\r\n} from '@mui/icons-material';\r\nimport { getMatchingVideos } from '@/services/api';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\n \r\nconst AIMatchingPage = () => {\r\n  const { t } = useTranslation();\r\n  const { user } = useAuth();\r\n  const [videos, setVideos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [useAIMatching, setUseAIMatching] = useState(true);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [likedVideos, setLikedVideos] = useState(new Set());\r\n  const [savedVideos, setSavedVideos] = useState(new Set());\r\n\r\n  useEffect(() => {\r\n    fetchVideos();\r\n  }, [currentPage, useAIMatching]);\r\n\r\n  const fetchVideos = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getMatchingVideos(user.id, 12, currentPage);\r\n      const data = response.data.data;\r\n      \r\n      setVideos(data.videos || []);\r\n      setTotalPages(Math.ceil(data.total / 12));\r\n    } catch (err) {\r\n      setError('Failed to fetch matching videos');\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleToggleAIMatching = (event) => {\r\n    setUseAIMatching(event.target.checked);\r\n    setCurrentPage(1); // Reset to first page when toggling\r\n  };\r\n\r\n  const handlePageChange = (event, value) => {\r\n    setCurrentPage(value);\r\n  };\r\n\r\n  const handleLikeVideo = (videoId) => {\r\n    setLikedVideos(prev => {\r\n      const newSet = new Set(prev);\r\n      if (newSet.has(videoId)) {\r\n        newSet.delete(videoId);\r\n      } else {\r\n        newSet.add(videoId);\r\n      }\r\n      return newSet;\r\n    });\r\n  };\r\n\r\n  const handleSaveVideo = (videoId) => {\r\n    setSavedVideos(prev => {\r\n      const newSet = new Set(prev);\r\n      if (newSet.has(videoId)) {\r\n        newSet.delete(videoId);\r\n      } else {\r\n        newSet.add(videoId);\r\n      }\r\n      return newSet;\r\n    });\r\n  };\r\n\r\n  const formatDuration = (seconds) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const formatViews = (views) => {\r\n    if (views >= 1000000) {\r\n      return `${(views / 1000000).toFixed(1)}M`;\r\n    } else if (views >= 1000) {\r\n      return `${(views / 1000).toFixed(1)}K`;\r\n    }\r\n    return views.toString();\r\n  };\r\n\r\n  if (loading && videos.length === 0) {\r\n    return (\r\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ width: '100%', p: 3 }}>\r\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\r\n        <Typography variant=\"h4\" sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n          <Psychology color=\"primary\" />\r\n          {t('aiMatching.title', 'AI Video Matching')}\r\n        </Typography>\r\n        \r\n        <Box display=\"flex\" alignItems=\"center\" gap={2}>\r\n          <FormControlLabel\r\n            control={\r\n              <Switch\r\n                checked={useAIMatching}\r\n                onChange={handleToggleAIMatching}\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label={\r\n              <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                <TuneRounded fontSize=\"small\" />\r\n                {t('aiMatching.useAIMatching', 'AI Matching')}\r\n              </Box>\r\n            }\r\n          />\r\n          \r\n          <Tooltip title={t('aiMatching.filterTooltip', 'Advanced Filters')}>\r\n            <IconButton>\r\n              <FilterList />\r\n            </IconButton>\r\n          </Tooltip>\r\n        </Box>\r\n      </Box>\r\n\r\n      {useAIMatching && (\r\n        <Alert severity=\"info\" sx={{ mb: 3 }}>\r\n          <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n            <TrendingUp />\r\n            <Typography variant=\"body2\">\r\n              {t('aiMatching.aiDescription', 'Videos are personalized based on your profile, skills, and career interests using AI matching algorithms.')}\r\n            </Typography>\r\n          </Box>\r\n        </Alert>\r\n      )}\r\n\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      <Grid container spacing={3}>\r\n        {videos.map((video) => (\r\n          <Grid item xs={12} sm={6} md={4} lg={3} key={video.id}>\r\n            <Card \r\n              sx={{ \r\n                height: '100%',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                '&:hover': { \r\n                  boxShadow: 4,\r\n                  transform: 'translateY(-2px)',\r\n                  transition: 'all 0.2s ease-in-out'\r\n                }\r\n              }}\r\n            >\r\n              {/* Video Thumbnail */}\r\n              <Box \r\n                sx={{ \r\n                  position: 'relative',\r\n                  paddingTop: '56.25%', // 16:9 aspect ratio\r\n                  backgroundColor: 'grey.200',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                {video.thumbnail && (\r\n                  <img\r\n                    src={video.thumbnail}\r\n                    alt={video.title}\r\n                    style={{\r\n                      position: 'absolute',\r\n                      top: 0,\r\n                      left: 0,\r\n                      width: '100%',\r\n                      height: '100%',\r\n                      objectFit: 'cover'\r\n                    }}\r\n                  />\r\n                )}\r\n                \r\n                {/* Play Button Overlay */}\r\n                <Box\r\n                  sx={{\r\n                    position: 'absolute',\r\n                    top: '50%',\r\n                    left: '50%',\r\n                    transform: 'translate(-50%, -50%)',\r\n                    backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n                    borderRadius: '50%',\r\n                    p: 1\r\n                  }}\r\n                >\r\n                  <PlayArrow sx={{ color: 'white', fontSize: 32 }} />\r\n                </Box>\r\n\r\n                {/* Duration Badge */}\r\n                {video.duration && (\r\n                  <Chip\r\n                    label={formatDuration(video.duration)}\r\n                    size=\"small\"\r\n                    sx={{\r\n                      position: 'absolute',\r\n                      bottom: 8,\r\n                      right: 8,\r\n                      backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n                      color: 'white',\r\n                      fontSize: '0.75rem'\r\n                    }}\r\n                  />\r\n                )}\r\n              </Box>\r\n\r\n              <CardContent sx={{ flexGrow: 1, p: 2 }}>\r\n                {/* User Info */}\r\n                <Box display=\"flex\" alignItems=\"center\" gap={1} mb={1}>\r\n                  <Avatar \r\n                    src={video.user?.profilePicture} \r\n                    sx={{ width: 32, height: 32 }}\r\n                  >\r\n                    {video.user?.name?.charAt(0)}\r\n                  </Avatar>\r\n                  <Box flexGrow={1} minWidth={0}>\r\n                    <Typography variant=\"body2\" noWrap>\r\n                      {video.user?.name || 'Unknown User'}\r\n                    </Typography>\r\n                    <Typography variant=\"caption\" color=\"text.secondary\" noWrap>\r\n                      {video.user?.title || 'Professional'}\r\n                    </Typography>\r\n                  </Box>\r\n                </Box>\r\n\r\n                {/* Video Title */}\r\n                <Typography \r\n                  variant=\"subtitle2\" \r\n                  sx={{ \r\n                    fontWeight: 'medium',\r\n                    mb: 1,\r\n                    display: '-webkit-box',\r\n                    WebkitLineClamp: 2,\r\n                    WebkitBoxOrient: 'vertical',\r\n                    overflow: 'hidden'\r\n                  }}\r\n                >\r\n                  {video.title || 'Untitled Video'}\r\n                </Typography>\r\n\r\n                {/* Tags */}\r\n                <Box display=\"flex\" flexWrap=\"wrap\" gap={0.5} mb={1}>\r\n                  {video.tags?.slice(0, 2).map((tag, index) => (\r\n                    <Chip\r\n                      key={index}\r\n                      label={tag}\r\n                      size=\"small\"\r\n                      variant=\"outlined\"\r\n                      sx={{ fontSize: '0.7rem', height: 20 }}\r\n                    />\r\n                  ))}\r\n                  {video.tags?.length > 2 && (\r\n                    <Chip\r\n                      label={`+${video.tags.length - 2}`}\r\n                      size=\"small\"\r\n                      variant=\"outlined\"\r\n                      sx={{ fontSize: '0.7rem', height: 20 }}\r\n                    />\r\n                  )}\r\n                </Box>\r\n\r\n                {/* Stats */}\r\n                <Box display=\"flex\" alignItems=\"center\" gap={1} mb={2}>\r\n                  <Box display=\"flex\" alignItems=\"center\" gap={0.5}>\r\n                    <Visibility fontSize=\"small\" color=\"action\" />\r\n                    <Typography variant=\"caption\">\r\n                      {formatViews(video.views)}\r\n                    </Typography>\r\n                  </Box>\r\n                  <Typography variant=\"caption\" color=\"text.secondary\">\r\n                    â€¢\r\n                  </Typography>\r\n                  <Typography variant=\"caption\" color=\"text.secondary\">\r\n                    {new Date(video.createdAt).toLocaleDateString()}\r\n                  </Typography>\r\n                </Box>\r\n\r\n                {/* Action Buttons */}\r\n                <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                  <Box>\r\n                    <IconButton \r\n                      size=\"small\" \r\n                      onClick={() => handleLikeVideo(video.id)}\r\n                      color={likedVideos.has(video.id) ? 'primary' : 'default'}\r\n                    >\r\n                      {likedVideos.has(video.id) ? <Favorite /> : <FavoriteBorder />}\r\n                    </IconButton>\r\n                    <IconButton \r\n                      size=\"small\"\r\n                      onClick={() => handleSaveVideo(video.id)}\r\n                      color={savedVideos.has(video.id) ? 'primary' : 'default'}\r\n                    >\r\n                      {savedVideos.has(video.id) ? <Bookmark /> : <BookmarkBorder />}\r\n                    </IconButton>\r\n                    <IconButton size=\"small\">\r\n                      <Share />\r\n                    </IconButton>\r\n                  </Box>\r\n                  \r\n                  {useAIMatching && (\r\n                    <Chip\r\n                      label={`${Math.round(Math.random() * 30 + 70)}% match`}\r\n                      size=\"small\"\r\n                      color=\"primary\"\r\n                      variant=\"outlined\"\r\n                    />\r\n                  )}\r\n                </Box>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n\r\n      {videos.length === 0 && !loading && (\r\n        <Box textAlign=\"center\" py={8}>\r\n          <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\r\n            {t('aiMatching.noVideos', 'No videos found')}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"text.secondary\">\r\n            {useAIMatching \r\n              ? t('aiMatching.noMatchingVideos', 'No matching videos found based on your profile. Try adjusting your preferences.')\r\n              : t('aiMatching.noGeneralVideos', 'No videos available at the moment. Check back later.')\r\n            }\r\n          </Typography>\r\n        </Box>\r\n      )}\r\n\r\n      {totalPages > 1 && (\r\n        <Box display=\"flex\" justifyContent=\"center\" mt={4}>\r\n          <Pagination\r\n            count={totalPages}\r\n            page={currentPage}\r\n            onChange={handlePageChange}\r\n            color=\"primary\"\r\n            size=\"large\"\r\n          />\r\n        </Box>\r\n      )}\r\n\r\n      {loading && videos.length > 0 && (\r\n        <Box display=\"flex\" justifyContent=\"center\" mt={2}>\r\n          <CircularProgress size={24} />\r\n        </Box>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AIMatchingPage;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\AllVideosPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'likeVideo' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 17,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 17,
        "endColumn": 12,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "likeVideo"
            },
            "fix": {
              "range": [
                701,
                715
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'likeVideo'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'saveVideo' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 18,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 18,
        "endColumn": 12,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "saveVideo"
            },
            "fix": {
              "range": [
                715,
                729
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'saveVideo'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'connectWithUser' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 19,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 19,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "connectWithUser"
            },
            "fix": {
              "range": [
                729,
                749
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'connectWithUser'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'filterType' is assigned a value but never used. Allowed unused args must match /^_/u.",
        "line": 100,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 100,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "filterType"
            },
            "fix": {
              "range": [
                3369,
                3391
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'filterType'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'showSidebar' is assigned a value but never used. Allowed unused args must match /^_/u.",
        "line": 101,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 101,
        "endColumn": 14,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "showSidebar"
            },
            "fix": {
              "range": [
                3391,
                3414
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'showSidebar'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'showHeader' is assigned a value but never used. Allowed unused args must match /^_/u.",
        "line": 102,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 102,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "showHeader"
            },
            "fix": {
              "range": [
                3414,
                3436
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'showHeader'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'fullScreen' is assigned a value but never used. Allowed unused args must match /^_/u.",
        "line": 103,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 103,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "fullScreen"
            },
            "fix": {
              "range": [
                3436,
                3459
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'fullScreen'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'localVideos' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 106,
        "column": 19,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 106,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "localVideos"
            },
            "fix": {
              "range": [
                3508,
                3558
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'localVideos'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'containerRef' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 116,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 116,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "containerRef"
            },
            "fix": {
              "range": [
                4007,
                4041
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'containerRef'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchServerVideos'. Either include it or remove the dependency array.",
        "line": 209,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 209,
        "endColumn": 25,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [pagetype, context, fetchServerVideos]",
            "fix": {
              "range": [
                7216,
                7235
              ],
              "text": "[pagetype, context, fetchServerVideos]"
            }
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has missing dependencies: 'toggleMute' and 'togglePlayPause'. Either include them or remove the dependency array.",
        "line": 296,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 296,
        "endColumn": 36,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [currentVideoIndex, goToVideo, toggleMute, togglePlayPause]",
            "fix": {
              "range": [
                9767,
                9797
              ],
              "text": "[currentVideoIndex, goToVideo, toggleMute, togglePlayPause]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 9,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿// AllVideosPage.jsx - TikTok Style Vertical Video Feed with Tailwind\r\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { useVideoContext } from '@/contexts/VideoContext';\r\nimport { useNavigate, useLocation, useParams } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  Play, Pause, VolumeX, Volume2, Share2, Heart,\r\n  Bookmark, UserPlus, ArrowUp, ArrowDown, Home, X,\r\n  MessageCircle, Eye, Clock, ChevronUp, ChevronDown, User\r\n} from 'lucide-react';\r\nimport themeColors from '@/config/theme-colors';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { \r\n  getAllVideos, \r\n  getEmployerPublicVideos, \r\n  getJobSeekersVideos,\r\n  likeVideo,\r\n  saveVideo,\r\n  connectWithUser,\r\n  searchVideos\r\n} from '@/services/api';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/UI/avatar.jsx';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport { Loader2 } from 'lucide-react';\r\n\r\n// Sample videos data generator\r\nconst getSampleVideos = (t) => [\r\n  {\r\n    id: '2b1f4b8e-9f3c-4d2a-9c6b-1a2d3e4f5a61',\r\n    video_title: t('sampleVideos.softwareEngineerResume'),\r\n    video_url: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4',\r\n    video_type: t('sampleVideos.jobSeeker'),\r\n    video_duration: 30,\r\n    user: {\r\n      displayName: t('sampleVideos.ahmedHassan'),\r\n      profile_image: null,\r\n      role: 'jobseeker'\r\n    },\r\n    hashtags: '#SoftwareEngineer #React #JavaScript',\r\n    isSample: true,\r\n    likes_count: 245,\r\n    views_count: 1200\r\n  },\r\n  {\r\n    id: '3c2e5a9d-6b4f-4e1a-8d7c-2b3a4f6e7d82',\r\n    video_title: t('sampleVideos.marketingManagerPosition'),\r\n    video_url: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4',\r\n    video_type: t('sampleVideos.jobSeeker'),\r\n    video_duration: 25,\r\n    user: {\r\n      displayName: t('sampleVideos.saraAhmed'),\r\n      profile_image: null,\r\n      role: 'jobseeker'\r\n    },\r\n    hashtags: '#Marketing #Manager #Creative',\r\n    isSample: true,\r\n    likes_count: 189,\r\n    views_count: 890\r\n  },\r\n  {\r\n    id: '4d3f6b0a-7c5e-4f2b-9e8a-3c4b5a6d8e93',\r\n    video_title: t('sampleVideos.techCompanyHiring'),\r\n    video_url: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4',\r\n    video_type: t('sampleVideos.employer'),\r\n    video_duration: 35,\r\n    user: {\r\n      displayName: t('sampleVideos.techCorpSolutions'),\r\n      profile_image: null,\r\n      role: 'employer'\r\n    },\r\n    hashtags: '#Hiring #TechJobs #Innovation',\r\n    isSample: true,\r\n    likes_count: 312,\r\n    views_count: 1500\r\n  },\r\n  {\r\n    id: '5e4a7c1b-8d6f-4a3c-0f9b-4d5c6b7a9f04',\r\n    video_title: t('sampleVideos.dataScientistResume'),\r\n    video_url: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4',\r\n    video_type: t('sampleVideos.jobSeeker'),\r\n    video_duration: 28,\r\n    user: {\r\n      displayName: t('sampleVideos.omarKhaled'),\r\n      profile_image: null,\r\n      role: 'jobseeker'\r\n    },\r\n    hashtags: '#DataScience #Python #AI',\r\n    isSample: true,\r\n    likes_count: 156,\r\n    views_count: 720\r\n  }\r\n];\r\n\r\nconst AllVideosPage = ({ \r\n  pagetype: propPagetype, \r\n  onClose,\r\n  context = 'general',\r\n  filterType = null,\r\n  showSidebar = true,\r\n  showHeader = true,\r\n  fullScreen = false \r\n}) => {\r\n  const { t } = useTranslation();\r\n  const { videos: localVideos } = useVideoContext();\r\n  const [serverVideos, setServerVideos] = useState([]);\r\n  const [currentVideoIndex, setCurrentVideoIndex] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [isPlaying, setIsPlaying] = useState(true);\r\n  const [isMuted, setIsMuted] = useState(true);\r\n  const [likedVideos, setLikedVideos] = useState(new Set());\r\n  const [savedVideos, setSavedVideos] = useState(new Set());\r\n\r\n  const containerRef = useRef(null);\r\n  const videoRefs = useRef({});\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { pagetype: urlPagetype } = useParams();\r\n  const pagetype = propPagetype || urlPagetype;\r\n  const { user } = useAuth();\r\n  const { toast } = useToast();\r\n\r\n  // Get context from navigation state\r\n  const navigationContext = location.state?.context;\r\n  const contextVideos = location.state?.videos;\r\n  const initialVideoId = location.state?.videoId;\r\n\r\n  // Fetch videos from server based on context\r\n  const fetchServerVideos = async () => {\r\n    try {\r\n      setLoading(true);\r\n      let response;\r\n      \r\n      if (contextVideos && contextVideos.length > 0) {\r\n        setServerVideos(contextVideos);\r\n        \r\n        if (initialVideoId) {\r\n          const initialIndex = contextVideos.findIndex(video => video.id === initialVideoId);\r\n          if (initialIndex !== -1) {\r\n            setCurrentVideoIndex(initialIndex);\r\n          }\r\n        }\r\n        \r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      if (navigationContext) {\r\n        const params = {\r\n          category: navigationContext.category,\r\n          subcategory: navigationContext.subcategory,\r\n          search: navigationContext.search,\r\n          sort: navigationContext.sort,\r\n          page: 1,\r\n          limit: 50,\r\n        };\r\n        response = await searchVideos(params);\r\n      } else {\r\n        switch (context) {\r\n          case 'my-videos':\r\n            response = await getAllVideos(1, 50, { userId: user?.id });\r\n            break;\r\n          case 'saved-videos':\r\n            response = await getAllVideos(1, 50, { saved: true });\r\n            break;\r\n          case 'liked-videos':\r\n            response = await getAllVideos(1, 50, { liked: true });\r\n            break;\r\n          case 'candidate-videos':\r\n            response = await getJobSeekersVideos(1, 50);\r\n            break;\r\n          case 'company-videos':\r\n            response = await getEmployerPublicVideos(1, 50);\r\n            break;\r\n          case 'jobseeker-feed':\r\n            response = await getJobSeekersVideos(1, 50);\r\n            break;\r\n          case 'analytics':\r\n            response = await getAllVideos(1, 50, { analytics: true });\r\n            break;\r\n          default:\r\n            if (propPagetype === 'all' || urlPagetype === 'all') {\r\n              response = await getAllVideos(1, 50);\r\n            } else if (propPagetype === 'jobseekers' || urlPagetype === 'jobseekers') {\r\n              response = await getJobSeekersVideos(1, 50);\r\n            } else if (propPagetype === 'employers' || urlPagetype === 'employers') {\r\n              response = await getEmployerPublicVideos(1, 50);\r\n            } else {\r\n              response = await getAllVideos(1, 50);\r\n            }\r\n        }\r\n      }\r\n\r\n      const fetchedVideos = response.data.videos || [];\r\n      setServerVideos(fetchedVideos);\r\n      setError(null);\r\n    } catch (err) {\r\n      console.error('Failed to fetch videos:', err);\r\n      setError('Failed to load videos. Please try again later.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchServerVideos();\r\n  }, [pagetype, context]);\r\n\r\n  // Combine real videos with sample videos\r\n  const allVideos = React.useMemo(() => {\r\n    const realVideos = [\r\n      ...serverVideos.map(v => ({ ...v, isLocal: false, status: v.status || 'completed' }))\r\n    ];\r\n\r\n    if (realVideos.length < 5) {\r\n      const sampleVideos = getSampleVideos(t);\r\n      \r\n      let filteredSamples = sampleVideos;\r\n      if (pagetype === 'jobseekers') {\r\n        filteredSamples = sampleVideos.filter(v => v.user.role === 'jobseeker');\r\n      } else if (pagetype === 'employers') {\r\n        filteredSamples = sampleVideos.filter(v => v.user.role === 'employer');\r\n      }\r\n\r\n      return [...realVideos, ...filteredSamples];\r\n    }\r\n\r\n    return realVideos;\r\n  }, [serverVideos, pagetype, t]);\r\n\r\n  // Handle video navigation\r\n  const goToVideo = useCallback((index) => {\r\n    if (index >= 0 && index < allVideos.length) {\r\n      setCurrentVideoIndex(index);\r\n\r\n      const currentVideo = videoRefs.current[allVideos[currentVideoIndex]?.id];\r\n      if (currentVideo) {\r\n        currentVideo.pause();\r\n      }\r\n\r\n      setTimeout(() => {\r\n        const newVideo = videoRefs.current[allVideos[index]?.id];\r\n        if (newVideo) {\r\n          newVideo.currentTime = 0;\r\n          newVideo.muted = isMuted;\r\n          if (isPlaying) {\r\n            newVideo.play().catch(e => console.log('Autoplay prevented:', e));\r\n          }\r\n        }\r\n      }, 100);\r\n    }\r\n  }, [allVideos, currentVideoIndex, isMuted, isPlaying]);\r\n\r\n  // Handle scroll navigation\r\n  useEffect(() => {\r\n    const handleWheel = (e) => {\r\n      e.preventDefault();\r\n      if (e.deltaY > 0) {\r\n        goToVideo(currentVideoIndex + 1);\r\n      } else {\r\n        goToVideo(currentVideoIndex - 1);\r\n      }\r\n    };\r\n\r\n    const handleKeyDown = (e) => {\r\n      switch (e.key) {\r\n        case 'ArrowUp':\r\n          e.preventDefault();\r\n          goToVideo(currentVideoIndex - 1);\r\n          break;\r\n        case 'ArrowDown':\r\n          e.preventDefault();\r\n          goToVideo(currentVideoIndex + 1);\r\n          break;\r\n        case ' ':\r\n          e.preventDefault();\r\n          togglePlayPause();\r\n          break;\r\n        case 'm':\r\n        case 'M':\r\n          e.preventDefault();\r\n          toggleMute();\r\n          break;\r\n      }\r\n    };\r\n\r\n    window.addEventListener('wheel', handleWheel, { passive: false });\r\n    window.addEventListener('keydown', handleKeyDown);\r\n\r\n    return () => {\r\n      window.removeEventListener('wheel', handleWheel);\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [currentVideoIndex, goToVideo]);\r\n\r\n  // Auto-play current video\r\n  useEffect(() => {\r\n    const currentVideo = videoRefs.current[allVideos[currentVideoIndex]?.id];\r\n    if (currentVideo && isPlaying) {\r\n      currentVideo.muted = isMuted;\r\n      currentVideo.play().catch(e => console.log('Autoplay prevented:', e));\r\n    }\r\n  }, [currentVideoIndex, allVideos, isPlaying, isMuted]);\r\n\r\n  const togglePlayPause = () => {\r\n    const currentVideo = videoRefs.current[allVideos[currentVideoIndex]?.id];\r\n    if (currentVideo) {\r\n      if (currentVideo.paused) {\r\n        currentVideo.play();\r\n        setIsPlaying(true);\r\n      } else {\r\n        currentVideo.pause();\r\n        setIsPlaying(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const toggleMute = () => {\r\n    const currentVideo = videoRefs.current[allVideos[currentVideoIndex]?.id];\r\n    if (currentVideo) {\r\n      currentVideo.muted = !currentVideo.muted;\r\n      setIsMuted(currentVideo.muted);\r\n    }\r\n  };\r\n\r\n  const handleLike = (videoId) => {\r\n    setLikedVideos(prev => {\r\n      const newSet = new Set(prev);\r\n      if (newSet.has(videoId)) {\r\n        newSet.delete(videoId);\r\n        toast({ description: t(\"videos.removedFromLikes\") });\r\n      } else {\r\n        newSet.add(videoId);\r\n        toast({ description: t(\"videos.addedToLikes\") });\r\n      }\r\n      return newSet;\r\n    });\r\n  };\r\n\r\n  const handleSave = (videoId) => {\r\n    setSavedVideos(prev => {\r\n      const newSet = new Set(prev);\r\n      if (newSet.has(videoId)) {\r\n        newSet.delete(videoId);\r\n        toast({ description: t(\"videos.removedFromSaved\") });\r\n      } else {\r\n        newSet.add(videoId);\r\n        toast({ description: t(\"videos.savedToCollection\") });\r\n      }\r\n      return newSet;\r\n    });\r\n  };\r\n\r\n  const handleShare = (video) => {\r\n    if (navigator.share) {\r\n      navigator.share({\r\n        title: video.video_title,\r\n        text: t(\"videos.checkOutThisVideo\", { videoTitle: video.video_title }),\r\n        url: window.location.href,\r\n      });\r\n    } else {\r\n      navigator.clipboard.writeText(window.location.href);\r\n      toast({ description: t(\"videos.linkCopied\") });\r\n    }\r\n  };\r\n\r\n  const handleConnect = (video) => {\r\n    if (video.isSample) {\r\n      toast({ description: t(\"videos.sampleVideoMessage\") });\r\n      return;\r\n    }\r\n    toast({ description: t(\"videos.connectionRequestSent\") });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-screen bg-black text-white\">\r\n        <Loader2 className={`h-12 w-12 animate-spin ${themeColors.iconBackgrounds.primary.split(' ')[1]}`} />\r\n        <p className=\"ml-4 text-lg font-bold\">{t('videos.loadingVideos')}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || allVideos.length === 0) {\r\n    return (\r\n      <div className=\"flex flex-col justify-center items-center h-screen bg-black text-white text-center p-6\">\r\n        <h1 className=\"text-4xl font-bold mb-4\">\r\n          {error ? t('videos.oops') : t('videos.noVideosYet')}\r\n        </h1>\r\n        <p className=\"text-lg opacity-80 mb-8\">\r\n          {error || t('videos.beTheFirstToShare')}\r\n        </p>\r\n        <Button\r\n          onClick={() => navigate('/video-upload')}\r\n          className={`${themeColors.buttons.primary} text-white px-8 py-6 text-lg rounded-full`}\r\n        >\r\n          <Play className=\"h-5 w-5 mr-2\" />\r\n          {t('videos.uploadVideo')}\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const currentVideo = allVideos[currentVideoIndex];\r\n\r\n  return (\r\n    <div className=\"relative w-screen h-screen overflow-hidden bg-black\">\r\n      {/* Top Bar */}\r\n      <div className=\"fixed top-0 left-0 right-0 p-4 flex justify-between items-center bg-gradient-to-b from-black/50 to-transparent z-10 text-white\">\r\n        <div className=\"flex items-center gap-4\">\r\n          {onClose ? (\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              onClick={onClose}\r\n              className=\"text-white hover:bg-white/20\"\r\n            >\r\n              <X className=\"h-6 w-6\" />\r\n            </Button>\r\n          ) : (\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              onClick={() => navigate('/')}\r\n              className=\"text-white hover:bg-white/20\"\r\n            >\r\n              <Home className=\"h-6 w-6\" />\r\n            </Button>\r\n          )}\r\n\r\n          <h2 className=\"text-xl font-bold\">\r\n            {pagetype === 'all' ? 'All Videos' :\r\n             pagetype === 'jobseekers' ? 'Job Seekers' : 'Employers'}\r\n          </h2>\r\n          {currentVideo?.isSample && (\r\n            <Badge className=\"bg-yellow-500 text-black\">Sample</Badge>\r\n          )}\r\n        </div>\r\n        <p className=\"text-sm opacity-80\">\r\n          {currentVideoIndex + 1} / {allVideos.length}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Video Container */}\r\n      {currentVideo && (\r\n        <div className=\"relative w-full h-full flex items-center justify-center\">\r\n          <video\r\n            ref={el => videoRefs.current[currentVideo.id] = el}\r\n            src={currentVideo.video_url}\r\n            loop\r\n            playsInline\r\n            muted={isMuted}\r\n            onClick={togglePlayPause}\r\n            className=\"w-full h-full object-cover cursor-pointer\"\r\n          />\r\n          \r\n          {/* Gradient Overlay */}\r\n          <div className=\"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-black/60 pointer-events-none\" />\r\n\r\n          {/* Video Info */}\r\n          <div className=\"absolute bottom-0 left-0 right-20 p-6 text-white z-10 drop-shadow-[2px_2px_8px_rgba(0,0,0,0.9)]\">\r\n            <div className=\"flex items-center mb-4\">\r\n              <Avatar \r\n                className=\"w-12 h-12 mr-3 border-2 border-white cursor-pointer hover:ring-2 hover:ring-cyan-400 transition-all\"\r\n                onClick={() => !currentVideo.isSample && currentVideo.user?.id && navigate(`/profile/${currentVideo.user.id}`)}\r\n              >\r\n                <AvatarImage src={currentVideo.user?.profile_image || currentVideo.user?.profilePicture} />\r\n                <AvatarFallback>{(currentVideo.user?.display_name || currentVideo.user?.displayName || 'U').charAt(0)}</AvatarFallback>\r\n              </Avatar>\r\n              <div className=\"flex-1\">\r\n                <h3 className=\"text-xl font-bold\">\r\n                  @{currentVideo.user?.display_name || currentVideo.user?.displayName || 'Unknown User'}\r\n                </h3>\r\n                <Badge className={\r\n                  currentVideo.user?.role === 'employer' ?\r\n                  'bg-green-600' : 'bg-blue-600'\r\n                }>\r\n                  {currentVideo.user?.role || currentVideo.video_type}\r\n                </Badge>\r\n              </div>\r\n              {!currentVideo.isSample && currentVideo.user?.id && (\r\n                <Button\r\n                  size=\"sm\"\r\n                  variant=\"outline\"\r\n                  onClick={() => navigate(`/profile/${currentVideo.user.id}`)}\r\n                  className=\"bg-white/10 backdrop-blur-md border-white/20 text-white hover:bg-white/20\"\r\n                >\r\n                  <User className=\"h-4 w-4 mr-1\" />\r\n                  View Profile\r\n                </Button>\r\n              )}\r\n            </div>\r\n\r\n            <h2 className=\"text-3xl font-bold mb-2\">{currentVideo.video_title}</h2>\r\n            <p className=\"text-lg mb-3 opacity-90\">{currentVideo.hashtags}</p>\r\n\r\n            <div className=\"flex gap-6 text-sm opacity-80\">\r\n              <span className=\"flex items-center gap-1\">\r\n                <Eye className=\"h-4 w-4\" />\r\n                {currentVideo.views_count || 0}\r\n              </span>\r\n              <span className=\"flex items-center gap-1\">\r\n                <Heart className=\"h-4 w-4\" />\r\n                {currentVideo.likes_count || 0}\r\n              </span>\r\n              <span className=\"flex items-center gap-1\">\r\n                <Clock className=\"h-4 w-4\" />\r\n                {Math.round(currentVideo.video_duration || 0)}s\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"absolute right-4 bottom-24 flex flex-col gap-4 z-10\">\r\n            <Button\r\n              size=\"icon\"\r\n              onClick={() => handleLike(currentVideo.id)}\r\n              className=\"w-14 h-14 rounded-full bg-black/40 backdrop-blur-md border border-white/10 hover:bg-black/60 hover:scale-110 transition-all\"\r\n            >\r\n              <Heart\r\n                className={`h-6 w-6 ${likedVideos.has(currentVideo.id) ? 'fill-red-500 text-red-500' : 'text-white'}`}\r\n              />\r\n            </Button>\r\n\r\n            <Button\r\n              size=\"icon\"\r\n              className=\"w-14 h-14 rounded-full bg-black/40 backdrop-blur-md border border-white/10 hover:bg-black/60 hover:scale-110 transition-all\"\r\n            >\r\n              <MessageCircle className=\"h-6 w-6 text-white\" />\r\n            </Button>\r\n\r\n            <Button\r\n              size=\"icon\"\r\n              onClick={() => handleSave(currentVideo.id)}\r\n              className=\"w-14 h-14 rounded-full bg-black/40 backdrop-blur-md border border-white/10 hover:bg-black/60 hover:scale-110 transition-all\"\r\n            >\r\n              <Bookmark\r\n                className={`h-6 w-6 ${savedVideos.has(currentVideo.id) ? 'fill-yellow-500 text-yellow-500' : 'text-white'}`}\r\n              />\r\n            </Button>\r\n\r\n            <Button\r\n              size=\"icon\"\r\n              onClick={() => handleShare(currentVideo)}\r\n              className=\"w-14 h-14 rounded-full bg-black/40 backdrop-blur-md border border-white/10 hover:bg-black/60 hover:scale-110 transition-all\"\r\n            >\r\n              <Share2 className=\"h-6 w-6 text-white\" />\r\n            </Button>\r\n\r\n            <Button\r\n              size=\"icon\"\r\n              onClick={() => handleConnect(currentVideo)}\r\n              className=\"w-14 h-14 rounded-full bg-black/40 backdrop-blur-md border border-white/10 hover:bg-black/60 hover:scale-110 transition-all\"\r\n            >\r\n              <UserPlus className=\"h-6 w-6 text-white\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Navigation Controls */}\r\n      <div className=\"fixed right-4 top-1/2 -translate-y-1/2 flex flex-col gap-2 z-10\">\r\n        <Button\r\n          size=\"icon\"\r\n          onClick={() => goToVideo(currentVideoIndex - 1)}\r\n          disabled={currentVideoIndex === 0}\r\n          className=\"w-12 h-12 rounded-full bg-black/40 backdrop-blur-md border border-white/10 hover:bg-black/60 disabled:opacity-30\"\r\n        >\r\n          <ChevronUp className=\"h-6 w-6 text-white\" />\r\n        </Button>\r\n\r\n        <Button\r\n          size=\"icon\"\r\n          onClick={togglePlayPause}\r\n          className=\"w-12 h-12 rounded-full bg-black/40 backdrop-blur-md border border-white/10 hover:bg-black/60\"\r\n        >\r\n          {isPlaying ? <Pause className=\"h-6 w-6 text-white\" /> : <Play className=\"h-6 w-6 text-white\" />}\r\n        </Button>\r\n\r\n        <Button\r\n          size=\"icon\"\r\n          onClick={toggleMute}\r\n          className=\"w-12 h-12 rounded-full bg-black/40 backdrop-blur-md border border-white/10 hover:bg-black/60\"\r\n        >\r\n          {isMuted ? <VolumeX className=\"h-6 w-6 text-white\" /> : <Volume2 className=\"h-6 w-6 text-white\" />}\r\n        </Button>\r\n\r\n        <Button\r\n          size=\"icon\"\r\n          onClick={() => goToVideo(currentVideoIndex + 1)}\r\n          disabled={currentVideoIndex === allVideos.length - 1}\r\n          className=\"w-12 h-12 rounded-full bg-black/40 backdrop-blur-md border border-white/10 hover:bg-black/60 disabled:opacity-30\"\r\n        >\r\n          <ChevronDown className=\"h-6 w-6 text-white\" />\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AllVideosPage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\AllVideosPage_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useTheme' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 7,
        "column": 44,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 7,
        "endColumn": 52,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useTheme"
            },
            "fix": {
              "range": [
                353,
                363
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useTheme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useMediaQuery' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 12,
        "column": 19,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 12,
        "endColumn": 32,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useMediaQuery"
            },
            "fix": {
              "range": [
                588,
                603
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useMediaQuery'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useSearchParams' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 14,
        "column": 36,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 14,
        "endColumn": 51,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useSearchParams"
            },
            "fix": {
              "range": [
                679,
                696
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useSearchParams'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 31,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 31,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                1430,
                1465
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'likeVideo' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 36,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 36,
        "endColumn": 12,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "likeVideo"
            },
            "fix": {
              "range": [
                1546,
                1560
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'likeVideo'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'saveVideo' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 37,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 37,
        "endColumn": 12,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "saveVideo"
            },
            "fix": {
              "range": [
                1560,
                1574
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'saveVideo'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'connectWithUser' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 38,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 38,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "connectWithUser"
            },
            "fix": {
              "range": [
                1574,
                1594
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'connectWithUser'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'addVideoComment' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 39,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 39,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "addVideoComment"
            },
            "fix": {
              "range": [
                1594,
                1614
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'addVideoComment'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getVideoComments' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 40,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 40,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "getVideoComments"
            },
            "fix": {
              "range": [
                1614,
                1635
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'getVideoComments'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 113,
        "column": 39,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 113,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                4021,
                4030
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 165,
        "column": 44,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 165,
        "endColumn": 49,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                5298,
                5307
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'filterType' is assigned a value but never used. Allowed unused args must match /^_/u.",
        "line": 227,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 227,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "filterType"
            },
            "fix": {
              "range": [
                7006,
                7139
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'filterType'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'showSidebar' is assigned a value but never used. Allowed unused args must match /^_/u.",
        "line": 228,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 228,
        "endColumn": 14,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "showSidebar"
            },
            "fix": {
              "range": [
                7139,
                7162
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'showSidebar'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'showHeader' is assigned a value but never used. Allowed unused args must match /^_/u.",
        "line": 229,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 229,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "showHeader"
            },
            "fix": {
              "range": [
                7162,
                7184
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'showHeader'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'fullScreen' is assigned a value but never used. Allowed unused args must match /^_/u.",
        "line": 230,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 230,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "fullScreen"
            },
            "fix": {
              "range": [
                7184,
                7207
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'fullScreen'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'localVideos' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 233,
        "column": 19,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 233,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "localVideos"
            },
            "fix": {
              "range": [
                7256,
                7306
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'localVideos'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchServerVideos'. Either include it or remove the dependency array.",
        "line": 345,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 345,
        "endColumn": 25,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [pagetype, context, fetchServerVideos]",
            "fix": {
              "range": [
                11561,
                11580
              ],
              "text": "[pagetype, context, fetchServerVideos]"
            }
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has missing dependencies: 'toggleMute' and 'togglePlayPause'. Either include them or remove the dependency array.",
        "line": 440,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 440,
        "endColumn": 36,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [currentVideoIndex, goToVideo, toggleMute, togglePlayPause]",
            "fix": {
              "range": [
                14476,
                14506
              ],
              "text": "[currentVideoIndex, goToVideo, toggleMute, togglePlayPause]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 16,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿// AllVideosPage.jsx - Enhanced TikTok Style Vertical Video Feed\r\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { useVideoContext } from '@/contexts/VideoContext';\r\nimport { styled } from \"@mui/material/styles\";\r\nimport {\r\n  Box, Typography, IconButton, Fab, Snackbar, Alert,\r\n  CircularProgress, Avatar, Chip, Tooltip, useTheme,\r\n  Dialog, DialogTitle, DialogContent, DialogActions,\r\n  Button, TextField, List, ListItem, ListItemText,\r\n  ListItemAvatar, Divider, Menu, MenuItem, Paper,\r\n  Stack, Grid, Drawer, FormControl, InputLabel,\r\n  Select, Slider, useMediaQuery, Fade, Backdrop\r\n} from '@mui/material';\r\nimport { useNavigate, useLocation, useSearchParams } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  PlayArrow, Pause, VolumeOff, VolumeUp, Share, Favorite,\r\n  FavoriteBorder, Bookmark, BookmarkBorder, PersonAdd,\r\n  ArrowUpward, ArrowDownward, Home, Close, MoreVert,\r\n  Send, Comment, Repeat, FilterList, Search,\r\n  Work, Business, School, LocationOn, SkipNext,\r\n  SkipPrevious, Fullscreen, FullscreenExit,\r\n  WhatsApp, Twitter, LinkedIn, Facebook,\r\n  Link as LinkIcon, Report, Block, Download,\r\n  Visibility, AccessTime, Settings, Tune,\r\n  PersonSearch, Explore\r\n} from '@mui/icons-material';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\nimport { \r\n  getAllVideos, \r\n  getEmployerPublicVideos, \r\n  getJobSeekersVideos,\r\n  likeVideo,\r\n  saveVideo,\r\n  connectWithUser,\r\n  addVideoComment,\r\n  getVideoComments,\r\n  searchVideos\r\n} from '@/services/api';\r\n\r\n// Sample videos data generator function (will be called after t is available)\r\nconst getSampleVideos = (t) => [\r\n  {\r\n    id: '2b1f4b8e-9f3c-4d2a-9c6b-1a2d3e4f5a61',\r\n    video_title: t('sampleVideos.softwareEngineerResume'),\r\n    video_url: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4',\r\n    video_type: t('sampleVideos.jobSeeker'),\r\n    video_duration: 30,\r\n    user: {\r\n      displayName: t('sampleVideos.ahmedHassan'),\r\n      profile_image: null,\r\n      role: 'jobseeker'\r\n    },\r\n    hashtags: '#SoftwareEngineer #React #JavaScript',\r\n    isSample: true,\r\n    likes_count: 245,\r\n    views_count: 1200\r\n  },\r\n  {\r\n    id: '3c2e5a9d-6b4f-4e1a-8d7c-2b3a4f6e7d82',\r\n    video_title: t('sampleVideos.marketingManagerPosition'),\r\n    video_url: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4',\r\n    video_type: t('sampleVideos.jobSeeker'),\r\n    video_duration: 25,\r\n    user: {\r\n      displayName: t('sampleVideos.saraAhmed'),\r\n      profile_image: null,\r\n      role: 'jobseeker'\r\n    },\r\n    hashtags: '#Marketing #Manager #Creative',\r\n    isSample: true,\r\n    likes_count: 189,\r\n    views_count: 890\r\n  },\r\n  {\r\n    id: '4d3f6b0a-7c5e-4f2b-9e8a-3c4b5a6d8e93',\r\n    video_title: t('sampleVideos.techCompanyHiring'),\r\n    video_url: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4',\r\n    video_type: t('sampleVideos.employer'),\r\n    video_duration: 35,\r\n    user: {\r\n      displayName: t('sampleVideos.techCorpSolutions'),\r\n      profile_image: null,\r\n      role: 'employer'\r\n    },\r\n    hashtags: '#Hiring #TechJobs #Innovation',\r\n    isSample: true,\r\n    likes_count: 312,\r\n    views_count: 1500\r\n  },\r\n  {\r\n    id: '5e4a7c1b-8d6f-4a3c-0f9b-4d5c6b7a9f04',\r\n    video_title: t('sampleVideos.dataScientistResume'),\r\n    video_url: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4',\r\n    video_type: t('sampleVideos.jobSeeker'),\r\n    video_duration: 28,\r\n    user: {\r\n      displayName: t('sampleVideos.omarKhaled'),\r\n      profile_image: null,\r\n      role: 'jobseeker'\r\n    },\r\n    hashtags: '#DataScience #Python #AI',\r\n    isSample: true,\r\n    likes_count: 156,\r\n    views_count: 720\r\n  }\r\n];\r\n\r\n// Styled components for TikTok-like interface\r\nconst VideoContainer = styled(Box)(({ theme }) => ({\r\n  position: 'relative',\r\n  width: '100vw',\r\n  height: '100vh',\r\n  backgroundColor: '#000',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  overflow: 'hidden',\r\n  scrollSnapAlign: 'start',\r\n}));\r\n\r\nconst VideoElement = styled('video')({\r\n  width: '100%',\r\n  height: '100%',\r\n  objectFit: 'cover',\r\n  outline: 'none',\r\n});\r\n\r\nconst VideoOverlay = styled(Box)({\r\n  position: 'absolute',\r\n  top: 0,\r\n  left: 0,\r\n  right: 0,\r\n  bottom: 0,\r\n  background: 'linear-gradient(to bottom, rgba(0,0,0,0.3) 0%, transparent 20%, transparent 80%, rgba(0,0,0,0.6) 100%)',\r\n  pointerEvents: 'none',\r\n});\r\n\r\nconst VideoInfo = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  bottom: 0,\r\n  left: 0,\r\n  right: 80,\r\n  padding: theme.spacing(3),\r\n  color: 'white',\r\n  zIndex: 2,\r\n  // Stronger text shadow for better legibility\r\n  textShadow: '2px 2px 8px rgba(0,0,0,0.9), 1px 1px 2px rgba(255,255,255,0.3)',\r\n}));\r\n\r\nconst ActionButtons = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  right: theme.spacing(2),\r\n  bottom: theme.spacing(15),\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  gap: theme.spacing(2),\r\n  zIndex: 2,\r\n}));\r\n\r\n// Updated ActionButton style for better visibility\r\nconst ActionButton = styled(IconButton)(({ theme }) => ({\r\n  backgroundColor: 'rgba(0, 0, 0, 0.4)',\r\n  color: 'white',\r\n  backdropFilter: 'blur(10px)',\r\n  border: '1px solid rgba(255, 255, 255, 0.1)',\r\n  width: 56,\r\n  height: 56,\r\n  '&:hover': {\r\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\r\n    transform: 'scale(1.1)',\r\n    borderColor: 'rgba(255, 255, 255, 0.8)',\r\n  },\r\n  transition: 'all 0.2s ease-in-out',\r\n}));\r\n\r\nconst NavigationButtons = styled(Box)(({ theme }) => ({\r\n  position: 'fixed',\r\n  right: theme.spacing(2),\r\n  top: '50%',\r\n  transform: 'translate(-8px, -69%)',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  gap: theme.spacing(1),\r\n  zIndex: 10,\r\n  [theme.breakpoints.down('sm')]: {\r\n    transform: 'translate(-8px, -144%)',\r\n  },\r\n}));\r\n\r\nconst TopBar = styled(Box)(({ theme }) => ({\r\n  position: 'fixed',\r\n  top: 0,\r\n  left: 0,\r\n  right: 0,\r\n  padding: theme.spacing(2),\r\n  display: 'flex',\r\n  justifyContent: 'space-between',\r\n  alignItems: 'center',\r\n  background: 'linear-gradient(to bottom, rgba(0,0,0,0.5), transparent)',\r\n  zIndex: 10,\r\n  color: 'white',\r\n  // Stronger text shadow for better legibility\r\n  textShadow: '2px 2px 8px rgba(0,0,0,0.9), 1px 1px 2px rgba(255,255,255,0.3)',\r\n}));\r\n\r\n// Updated StyledIconButton style for better visibility\r\nconst StyledIconButton = styled(IconButton)({\r\n  backgroundColor: 'rgba(0, 0, 0, 0.4)',\r\n  color: 'white',\r\n  border: '1px solid rgba(255, 255, 255, 0.1)',\r\n  backdropFilter: 'blur(10px)',\r\n  '&:disabled': { opacity: 0.3, color: 'rgba(255, 255, 255, 0.5)' },\r\n  '&:hover': {\r\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\r\n    borderColor: 'rgba(255, 255, 255, 0.8)',\r\n  },\r\n});\r\n\r\nconst AllVideosPage = ({ \r\n  pagetype: propPagetype, \r\n  onClose,\r\n  context = 'general', // general, my-videos, saved-videos, liked-videos, candidate-videos, company-videos, jobseeker-feed, analytics\r\n  filterType = null,\r\n  showSidebar = true,\r\n  showHeader = true,\r\n  fullScreen = false \r\n}) => {\r\n  const { t } = useTranslation();\r\n  const { videos: localVideos } = useVideoContext();\r\n  const [serverVideos, setServerVideos] = useState([]);\r\n  const [currentVideoIndex, setCurrentVideoIndex] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [isPlaying, setIsPlaying] = useState(true);\r\n  const [isMuted, setIsMuted] = useState(true);\r\n  const [likedVideos, setLikedVideos] = useState(new Set());\r\n  const [savedVideos, setSavedVideos] = useState(new Set());\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'success' });\r\n\r\n  const containerRef = useRef(null);\r\n  const videoRefs = useRef({});\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { pagetype: urlPagetype } = useParams();\r\n  const pagetype = propPagetype || urlPagetype;\r\n  const { user } = useAuth();\r\n  // const theme = useTheme(); // Removed: unused variable\n\r\n  // Get context from navigation state (from VideoGridPage)\r\n  const navigationContext = location.state?.context;\r\n  const contextVideos = location.state?.videos;\r\n  const initialVideoId = location.state?.videoId;\r\n\r\n  // Fetch videos from server based on context\r\n  const fetchServerVideos = async () => {\r\n    try {\r\n      setLoading(true);\r\n      let response;\r\n      \r\n      // If we have context from VideoGridPage, use those videos\r\n      if (contextVideos && contextVideos.length > 0) {\r\n        setServerVideos(contextVideos);\r\n        \r\n        // Set initial video index if specified\r\n        if (initialVideoId) {\r\n          const initialIndex = contextVideos.findIndex(video => video.id === initialVideoId);\r\n          if (initialIndex !== -1) {\r\n            setCurrentVideoIndex(initialIndex);\r\n          }\r\n        }\r\n        \r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      // If we have navigation context, fetch videos with those filters\r\n      if (navigationContext) {\r\n        const params = {\r\n          category: navigationContext.category,\r\n          subcategory: navigationContext.subcategory,\r\n          search: navigationContext.search,\r\n          sort: navigationContext.sort,\r\n          page: 1,\r\n          limit: 50,\r\n        };\r\n        response = await searchVideos(params);\r\n      } else {\r\n        // Determine API call based on context\r\n        switch (context) {\r\n          case 'my-videos':\r\n            // Fetch user's own videos\r\n            response = await getAllVideos(1, 50, { userId: user?.id });\r\n            break;\r\n          case 'saved-videos':\r\n            // Fetch saved videos (would need API endpoint)\r\n            response = await getAllVideos(1, 50, { saved: true });\r\n            break;\r\n          case 'liked-videos':\r\n            // Fetch liked videos (would need API endpoint)\r\n            response = await getAllVideos(1, 50, { liked: true });\r\n            break;\r\n          case 'candidate-videos':\r\n            response = await getJobSeekersVideos(1, 50);\r\n            break;\r\n          case 'company-videos':\r\n            response = await getEmployerPublicVideos(1, 50);\r\n            break;\r\n          case 'jobseeker-feed':\r\n            response = await getJobSeekersVideos(1, 50);\r\n            break;\r\n          case 'analytics':\r\n            response = await getAllVideos(1, 50, { analytics: true });\r\n            break;\r\n          default:\r\n            // Use pagetype for backward compatibility\r\n            if (propPagetype === 'all' || urlPagetype === 'all') {\r\n              response = await getAllVideos(1, 50);\r\n            } else if (propPagetype === 'jobseekers' || urlPagetype === 'jobseekers') {\r\n              response = await getJobSeekersVideos(1, 50);\r\n            } else if (propPagetype === 'employers' || urlPagetype === 'employers') {\r\n              response = await getEmployerPublicVideos(1, 50);\r\n            } else {\r\n              response = await getAllVideos(1, 50);\r\n            }\r\n        }\r\n      }\r\n\r\n      const fetchedVideos = response.data.videos || [];\r\n      setServerVideos(fetchedVideos);\r\n      setError(null);\r\n    } catch (err) {\r\n      console.error('Failed to fetch videos:', err);\r\n      setError('Failed to load videos. Please try again later.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchServerVideos();\r\n  }, [pagetype, context]);\r\n\r\n  // Combine real videos with sample videos based on count\r\n  const allVideos = React.useMemo(() => {\r\n    const realVideos = [\r\n      ...serverVideos.map(v => ({ ...v, isLocal: false, status: v.status || 'completed' }))\r\n    ];\r\n\r\n    // Show sample videos if we have fewer than 5 real videos\r\n    if (realVideos.length < 5) {\r\n      // Get sample videos with translations\r\n      const sampleVideos = getSampleVideos(t);\r\n      \r\n      // Filter sample videos based on page type\r\n      let filteredSamples = sampleVideos;\r\n      if (pagetype === 'jobseekers') {\r\n        filteredSamples = sampleVideos.filter(v => v.user.role === 'jobseeker');\r\n      } else if (pagetype === 'employers') {\r\n        filteredSamples = sampleVideos.filter(v => v.user.role === 'employer');\r\n      }\r\n\r\n      // Mix real videos with samples\r\n      return [...realVideos, ...filteredSamples];\r\n    }\r\n\r\n    return realVideos;\r\n  }, [serverVideos, pagetype, t]);\r\n\r\n  // Handle video navigation\r\n  const goToVideo = useCallback((index) => {\r\n    if (index >= 0 && index < allVideos.length) {\r\n      setCurrentVideoIndex(index);\r\n\r\n      // Pause current video\r\n      const currentVideo = videoRefs.current[allVideos[currentVideoIndex]?.id];\r\n      if (currentVideo) {\r\n        currentVideo.pause();\r\n      }\r\n\r\n      // Play new video after a short delay\r\n      setTimeout(() => {\r\n        const newVideo = videoRefs.current[allVideos[index]?.id];\r\n        if (newVideo) {\r\n          newVideo.currentTime = 0;\r\n          newVideo.muted = isMuted;\r\n          if (isPlaying) {\r\n            newVideo.play().catch(e => console.log('Autoplay prevented:', e));\r\n          }\r\n        }\r\n      }, 100);\r\n    }\r\n  }, [allVideos, currentVideoIndex, isMuted, isPlaying]);\r\n\r\n  // Handle scroll navigation\r\n  useEffect(() => {\r\n    const handleWheel = (e) => {\r\n      e.preventDefault();\r\n      if (e.deltaY > 0) {\r\n        // Scroll down - next video\r\n        goToVideo(currentVideoIndex + 1);\r\n      } else {\r\n        // Scroll up - previous video\r\n        goToVideo(currentVideoIndex - 1);\r\n      }\r\n    };\r\n\r\n    const handleKeyDown = (e) => {\r\n      switch (e.key) {\r\n        case 'ArrowUp':\r\n          e.preventDefault();\r\n          goToVideo(currentVideoIndex - 1);\r\n          break;\r\n        case 'ArrowDown':\r\n          e.preventDefault();\r\n          goToVideo(currentVideoIndex + 1);\r\n          break;\r\n        case ' ':\r\n          e.preventDefault();\r\n          togglePlayPause();\r\n          break;\r\n        case 'm':\r\n        case 'M':\r\n          e.preventDefault();\r\n          toggleMute();\r\n          break;\r\n      }\r\n    };\r\n\r\n    window.addEventListener('wheel', handleWheel, { passive: false });\r\n    window.addEventListener('keydown', handleKeyDown);\r\n\r\n    return () => {\r\n      window.removeEventListener('wheel', handleWheel);\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [currentVideoIndex, goToVideo]);\r\n\r\n  // Auto-play current video\r\n  useEffect(() => {\r\n    const currentVideo = videoRefs.current[allVideos[currentVideoIndex]?.id];\r\n    if (currentVideo && isPlaying) {\r\n      currentVideo.muted = isMuted;\r\n      currentVideo.play().catch(e => console.log('Autoplay prevented:', e));\r\n    }\r\n  }, [currentVideoIndex, allVideos, isPlaying, isMuted]);\r\n\r\n  const togglePlayPause = () => {\r\n    const currentVideo = videoRefs.current[allVideos[currentVideoIndex]?.id];\r\n    if (currentVideo) {\r\n      if (currentVideo.paused) {\r\n        currentVideo.play();\r\n        setIsPlaying(true);\r\n      } else {\r\n        currentVideo.pause();\r\n        setIsPlaying(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const toggleMute = () => {\r\n    const currentVideo = videoRefs.current[allVideos[currentVideoIndex]?.id];\r\n    if (currentVideo) {\r\n      currentVideo.muted = !currentVideo.muted;\r\n      setIsMuted(currentVideo.muted);\r\n    }\r\n  };\r\n\r\n  const handleLike = (videoId) => {\r\n    setLikedVideos(prev => {\r\n      const newSet = new Set(prev);\r\n      if (newSet.has(videoId)) {\r\n        newSet.delete(videoId);\r\n        setSnackbar({ open: true, message: t(\"videos.removedFromLikes\"), severity: \"info\" });\r\n      } else {\r\n        newSet.add(videoId);\r\n        setSnackbar({ open: true, message: t(\"videos.addedToLikes\"), severity: \"success\" });\r\n      }\r\n      return newSet;\r\n    });\r\n  };\r\n\r\n  const handleSave = (videoId) => {\r\n    setSavedVideos(prev => {\r\n      const newSet = new Set(prev);\r\n      if (newSet.has(videoId)) {\r\n        newSet.delete(videoId);\r\n        setSnackbar({ open: true, message: t(\"videos.removedFromSaved\"), severity: \"info\" });\r\n      } else {\r\n        newSet.add(videoId);\r\n        setSnackbar({ open: true, message: t(\"videos.savedToCollection\"), severity: \"success\" });\r\n      }\r\n      return newSet;\r\n    });\r\n  };\r\n\r\n  const handleShare = (video) => {\r\n    if (navigator.share) {\r\n      navigator.share({\r\n        title: video.video_title,\r\n        text: t(\"videos.checkOutThisVideo\", { videoTitle: video.video_title }),\r\n        url: window.location.href,\r\n      });\r\n    } else {\r\n      navigator.clipboard.writeText(window.location.href);\r\n      setSnackbar({ open: true, message: t(\"videos.linkCopied\"), severity: \"success\" });\r\n    }\r\n  };\r\n\r\n  const handleConnect = (video) => {\r\n    if (video.isSample) {\r\n      setSnackbar({ open: true, message: t(\"videos.sampleVideoMessage\"), severity: \"info\" });\r\n      return;\r\n    }\r\n    // Navigate to user profile or send connection request\r\n    setSnackbar({ open: true, message: t(\"videos.connectionRequestSent\"), severity: \"success\" });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box sx={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        height: '100vh',\r\n        backgroundColor: '#000',\r\n        color: 'white'\r\n      }}>\r\n        <CircularProgress color=\"primary\" size={60} />\r\n        <Typography variant=\"h6\" sx={{ ml: 2, textShadow: '2px 2px 8px rgba(0,0,0,0.9)', fontWeight: 'bold' }}>{t('videos.loadingVideos')}</Typography>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  if (error || allVideos.length === 0) {\r\n    return (\r\n      <Box sx={{\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        height: '100vh',\r\n        backgroundColor: '#000',\r\n        color: 'white',\r\n        textAlign: 'center',\r\n        p: 3\r\n      }}>\r\n        <Typography variant=\"h4\" sx={{ mb: 2, fontWeight: 'bold', textShadow: '2px 2px 8px rgba(0,0,0,0.9)' }}>\r\n          {error ? t('videos.oops') : t('videos.noVideosYet')}\r\n        </Typography>\r\n        <Typography variant=\"body1\" sx={{ mb: 4, opacity: 0.8, textShadow: '2px 2px 8px rgba(0,0,0,0.9)' }}>\r\n          {error || t('videos.beTheFirstToShare')}\r\n        </Typography>\r\n        <Fab\r\n          color=\"primary\"\r\n          variant=\"extended\"\r\n          onClick={() => navigate('/video-upload')}\r\n          sx={{\r\n            borderRadius: '25px',\r\n            px: 4,\r\n            py: 1.5,\r\n            fontSize: '1.1rem',\r\n            fontWeight: 'bold'\r\n          }}\r\n        >\r\n          <PlayArrow sx={{ mr: 1 }} />\r\n          {t('videos.uploadVideo')}\r\n        </Fab>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  const currentVideo = allVideos[currentVideoIndex];\r\n\r\n  return (\r\n    <Box sx={{\r\n      position: 'relative',\r\n      width: '100vw',\r\n      height: '100vh',\r\n      overflow: 'hidden',\r\n      backgroundColor: '#000'\r\n    }}>\r\n      {/* Top Bar */}\r\n      <TopBar>\r\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n          {onClose ? (\r\n            // Render Close icon when the onClose prop is provided\r\n            <IconButton onClick={onClose} sx={{ color: 'white' }}>\r\n              <CloseIcon  />\r\n            </IconButton>\r\n          ) : (\r\n            // Render Home icon and navigate when onClose is not provided\r\n            <IconButton onClick={() => navigate('/')} sx={{ color: 'white' }}>\r\n              <Home />\r\n            </IconButton>\r\n          )}\r\n\r\n          <Typography variant=\"h6\" sx={{ fontWeight: 'bold' }}>\r\n            {pagetype === 'all' ? 'All Videos' :\r\n             pagetype === 'jobseekers' ? 'Job Seekers' : 'Employers'}\r\n          </Typography>\r\n          {currentVideo?.isSample && (\r\n            <Chip\r\n              label=\"Sample\"\r\n              size=\"small\"\r\n              sx={{\r\n                backgroundColor: 'rgba(255, 193, 7, 0.8)',\r\n                color: 'black',\r\n                fontWeight: 'bold'\r\n              }}\r\n            />\r\n          )}\r\n        </Box>\r\n        <Typography variant=\"body2\" sx={{ opacity: 0.8, fontWeight: 'bold' }}>\r\n          {currentVideoIndex + 1} / {allVideos.length}\r\n        </Typography>\r\n      </TopBar>\r\n\r\n      {/* Video Container */}\r\n      <VideoContainer ref={containerRef}>\r\n        {currentVideo && (\r\n          <>\r\n            <VideoElement\r\n              ref={el => videoRefs.current[currentVideo.id] = el}\r\n              src={currentVideo.video_url}\r\n              loop\r\n              playsInline\r\n              muted={isMuted}\r\n              onClick={togglePlayPause}\r\n            />\r\n            <VideoOverlay />\r\n\r\n            {/* Video Info */}\r\n            <VideoInfo>\r\n              <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n                <Avatar\r\n                  src={currentVideo.user?.profile_image}\r\n                  sx={{ width: 48, height: 48, mr: 2, border: '2px solid white' }}\r\n                >\r\n                  {currentVideo.user?.displayName?.charAt(0) || 'U'}\r\n                </Avatar>\r\n                <Box>\r\n                  <Typography variant=\"h5\" sx={{ fontWeight: 'bold', mb: 0.5 }}>\r\n                    @{currentVideo.user?.display_name || 'Unknown User'}\r\n                  </Typography>\r\n                  <Chip\r\n                    label={currentVideo.user?.role || currentVideo.video_type}\r\n                    size=\"small\"\r\n                    sx={{\r\n                      backgroundColor: currentVideo.user?.role === 'employer' ?\r\n                        'rgba(76, 175, 80, 0.8)' : 'rgba(33, 150, 243, 0.8)',\r\n                      color: 'white',\r\n                      fontWeight: 'bold'\r\n                    }}\r\n                  />\r\n                </Box>\r\n              </Box>\r\n\r\n              <Typography variant=\"h4\" sx={{ fontWeight: 'bold', mb: 1 }}>\r\n                {currentVideo.video_title}\r\n              </Typography>\r\n\r\n              <Typography variant=\"body1\" sx={{ mb: 2, opacity: 0.9 }}>\r\n                {currentVideo.hashtags}\r\n              </Typography>\r\n\r\n              <Box sx={{ display: 'flex', gap: 3, opacity: 0.8 }}>\r\n                <Typography variant=\"body2\" sx={{ fontWeight: 'bold' }}>\r\n                  ðŸ‘ {currentVideo.views_count || 0} views\r\n                </Typography>\r\n                <Typography variant=\"body2\" sx={{ fontWeight: 'bold' }}>\r\n                  â¤ï¸ {currentVideo.likes_count || 0} likes\r\n                </Typography>\r\n                <Typography variant=\"body2\" sx={{ fontWeight: 'bold' }}>\r\n                  â± {Math.round(currentVideo.video_duration || 0)}s\r\n                </Typography>\r\n              </Box>\r\n            </VideoInfo>\r\n\r\n            {/* Action Buttons */}\r\n            <ActionButtons>\r\n              <Tooltip title={likedVideos.has(currentVideo.id) ? \"Unlike\" : \"Like\"} placement=\"left\">\r\n                <ActionButton onClick={() => handleLike(currentVideo.id)}>\r\n                  {likedVideos.has(currentVideo.id) ?\r\n                    <Favorite sx={{ color: '#ff4458' }} /> :\r\n                    <FavoriteBorder />\r\n                  }\r\n                </ActionButton>\r\n              </Tooltip>\r\n\r\n              <Tooltip title=\"Comment\" placement=\"left\">\r\n                <ActionButton>\r\n                  <Comment />\r\n                </ActionButton>\r\n              </Tooltip>\r\n\r\n              <Tooltip title={savedVideos.has(currentVideo.id) ? \"Unsave\" : \"Save\"} placement=\"left\">\r\n                <ActionButton onClick={() => handleSave(currentVideo.id)}>\r\n                  {savedVideos.has(currentVideo.id) ?\r\n                    <Bookmark sx={{ color: '#ffc107' }} /> :\r\n                    <BookmarkBorder />\r\n                  }\r\n                </ActionButton>\r\n              </Tooltip>\r\n\r\n              <Tooltip title=\"Share\" placement=\"left\">\r\n                <ActionButton onClick={() => handleShare(currentVideo)}>\r\n                  <Share />\r\n                </ActionButton>\r\n              </Tooltip>\r\n\r\n              <Tooltip title=\"Connect\" placement=\"left\">\r\n                <ActionButton onClick={() => handleConnect(currentVideo)}>\r\n                  <PersonAdd />\r\n                </ActionButton>\r\n              </Tooltip>\r\n            </ActionButtons>\r\n          </>\r\n        )}\r\n      </VideoContainer>\r\n\r\n      {/* Navigation Buttons */}\r\n      <NavigationButtons>\r\n        <Tooltip title=\"Previous video (â†‘)\" placement=\"left\">\r\n          <StyledIconButton\r\n            onClick={() => goToVideo(currentVideoIndex - 1)}\r\n            disabled={currentVideoIndex === 0}\r\n\r\n          >\r\n            <ArrowUpward />\r\n          </StyledIconButton>\r\n        </Tooltip>\r\n\r\n        <Tooltip title={isPlaying ? \"Pause (Space)\" : \"Play (Space)\"} placement=\"left\">\r\n          <StyledIconButton\r\n            onClick={togglePlayPause}\r\n\r\n          >\r\n            {isPlaying ? <Pause /> : <PlayArrow />}\r\n          </StyledIconButton>\r\n        </Tooltip>\r\n\r\n        <Tooltip title={isMuted ? \"Unmute (M)\" : \"Mute (M)\"} placement=\"left\">\r\n          <StyledIconButton\r\n            onClick={toggleMute}\r\n\r\n          >\r\n            {isMuted ? <VolumeOff /> : <VolumeUp />}\r\n          </StyledIconButton>\r\n        </Tooltip>\r\n\r\n        <Tooltip title=\"Next video (â†“)\" placement=\"left\">\r\n          <StyledIconButton\r\n            onClick={() => goToVideo(currentVideoIndex + 1)}\r\n            disabled={currentVideoIndex === allVideos.length - 1}\r\n\r\n          >\r\n            <ArrowDownward />\r\n          </StyledIconButton>\r\n        </Tooltip>\r\n      </NavigationButtons>\r\n\r\n      {/* Snackbar for notifications */}\r\n      <Snackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={3000}\r\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n      >\r\n        <Alert\r\n          onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n          severity={snackbar.severity}\r\n          sx={{ width: '100%' }}\r\n        >\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AllVideosPage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\AnalyticsAdmin.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 24,
        "column": 20,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 24,
        "endColumn": 21
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function AnalyticsAdmin() {\r\n  const [stats, setStats] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetch = async () => {\r\n      try {\r\n        setLoading(true);\r\n        // try a few sensible endpoints; admin may not have a dedicated one\r\n        const endpoints = [\r\n          '/api/admin/analytics',\r\n          '/api/analytics/site-stats',\r\n          '/api/analytics/overview'\r\n        ];\r\n        let resp = null;\r\n        for (const ep of endpoints) {\r\n          try {\r\n            const r = await axios.get(ep);\r\n            if (r && r.data) { resp = r; break; }\r\n          } catch (e) {\r\n            // ignore and try next\r\n          }\r\n        }\r\n        if (!resp) throw new Error('No admin analytics endpoint found');\r\n        setStats(resp.data || resp.data.stats || {});\r\n      } catch (e) {\r\n        setError(e.message || 'Failed to load');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetch();\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ padding: 24 }}>\r\n      <h2>Admin Analytics</h2>\r\n      {loading && <div>Loading...</div>}\r\n      {error && <div style={{ color: 'red' }}>{error}</div>}\r\n      {!loading && !error && (\r\n        <pre style={{ whiteSpace: 'pre-wrap' }}>{JSON.stringify(stats, null, 2)}</pre>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\AnalyticsEmployer.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\AnalyticsJobseeker.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\ApplicationTrackingPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useAuth' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 57,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 57,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useAuth"
            },
            "fix": {
              "range": [
                927,
                976
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useAuth'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 58,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 58,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                978,
                1013
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'filterApplications'. Either include it or remove the dependency array.",
        "line": 100,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 100,
        "endColumn": 59,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [applications, selectedTab, searchTerm, statusFilter, filterApplications]",
            "fix": {
              "range": [
                2866,
                2919
              ],
              "text": "[applications, selectedTab, searchTerm, statusFilter, filterApplications]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Container,\r\n  Grid,\r\n  Typography,\r\n  useTheme,\r\n  CircularProgress,\r\n  Alert,\r\n  Chip,\r\n  Avatar,\r\n  LinearProgress,\r\n  Stepper,\r\n  Step,\r\n  StepLabel,\r\n  StepContent,\r\n  Timeline,\r\n  TimelineItem,\r\n  TimelineSeparator,\r\n  TimelineConnector,\r\n  TimelineContent,\r\n  TimelineDot,\r\n  TimelineOppositeContent,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Tabs,\r\n  Tab,\r\n  Menu,\r\n  MenuItem,\r\n  IconButton,\r\n  Divider\r\n} from \"@mui/material\";\r\nimport { \r\n  Work,\r\n  Schedule,\r\n  CheckCircle,\r\n  Cancel,\r\n  Pending,\r\n  Visibility,\r\n  Message,\r\n  MoreVert,\r\n  FilterList,\r\n  Search,\r\n  Business,\r\n  LocationOn,\r\n  CalendarToday,\r\n  TrendingUp,\r\n  Assessment\r\n} from \"@mui/icons-material\";\r\nimport { getUserApplications, withdrawApplication, getApplicationDetails } from '@/services/api';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\n\r\nconst applicationStatuses = {\r\n  'submitted': { label: 'Submitted', color: 'info', icon: <Pending /> },\r\n  'under_review': { label: 'Under Review', color: 'warning', icon: <Schedule /> },\r\n  'interview_scheduled': { label: 'Interview Scheduled', color: 'primary', icon: <CalendarToday /> },\r\n  'interview_completed': { label: 'Interview Completed', color: 'secondary', icon: <CheckCircle /> },\r\n  'offer_extended': { label: 'Offer Extended', color: 'success', icon: <TrendingUp /> },\r\n  'accepted': { label: 'Accepted', color: 'success', icon: <CheckCircle /> },\r\n  'rejected': { label: 'Rejected', color: 'error', icon: <Cancel /> },\r\n  'withdrawn': { label: 'Withdrawn', color: 'default', icon: <Cancel /> }\r\n};\r\n\r\nexport default function ApplicationTrackingPage() {\r\n  const theme = useTheme();\r\n  // const { user } = useAuth(); // Removed: unused variable\n  \r\n  const [applications, setApplications] = useState([]);\r\n  const [filteredApplications, setFilteredApplications] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [selectedTab, setSelectedTab] = useState(0);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [statusFilter, setStatusFilter] = useState('all');\r\n  const [selectedApplication, setSelectedApplication] = useState(null);\r\n  const [detailsDialog, setDetailsDialog] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [menuApplication, setMenuApplication] = useState(null);\r\n\r\n  const tabFilters = [\r\n    { label: 'All Applications', value: 'all' },\r\n    { label: 'Active', value: 'active' },\r\n    { label: 'Interview Stage', value: 'interview' },\r\n    { label: 'Completed', value: 'completed' }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchApplications();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    filterApplications();\r\n  }, [applications, selectedTab, searchTerm, statusFilter]);\r\n\r\n  const fetchApplications = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await getUserApplications();\r\n      setApplications(response.data.applications || []);\r\n    } catch (error) {\r\n      console.error('Error fetching applications:', error);\r\n      setError('Failed to load applications. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const filterApplications = () => {\r\n    let filtered = [...applications];\r\n\r\n    // Filter by search term\r\n    if (searchTerm) {\r\n      filtered = filtered.filter(app => \r\n        app.jobTitle?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        app.company?.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    }\r\n\r\n    // Filter by status\r\n    if (statusFilter !== 'all') {\r\n      filtered = filtered.filter(app => app.status === statusFilter);\r\n    }\r\n\r\n    // Filter by tab\r\n    const tabFilter = tabFilters[selectedTab].value;\r\n    if (tabFilter !== 'all') {\r\n      switch (tabFilter) {\r\n        case 'active':\r\n          filtered = filtered.filter(app => \r\n            !['accepted', 'rejected', 'withdrawn'].includes(app.status)\r\n          );\r\n          break;\r\n        case 'interview':\r\n          filtered = filtered.filter(app => \r\n            ['interview_scheduled', 'interview_completed'].includes(app.status)\r\n          );\r\n          break;\r\n        case 'completed':\r\n          filtered = filtered.filter(app => \r\n            ['accepted', 'rejected', 'withdrawn'].includes(app.status)\r\n          );\r\n          break;\r\n      }\r\n    }\r\n\r\n    // Sort by application date (newest first)\r\n    filtered.sort((a, b) => new Date(b.appliedAt) - new Date(a.appliedAt));\r\n\r\n    setFilteredApplications(filtered);\r\n  };\r\n\r\n  const handleViewDetails = async (application) => {\r\n    try {\r\n      const response = await getApplicationDetails(application.id);\r\n      setSelectedApplication(response.data);\r\n      setDetailsDialog(true);\r\n    } catch (error) {\r\n      console.error('Error fetching application details:', error);\r\n    }\r\n    handleMenuClose();\r\n  };\r\n\r\n  const handleWithdraw = async (applicationId) => {\r\n    try {\r\n      await withdrawApplication(applicationId);\r\n      setApplications(prev => \r\n        prev.map(app => \r\n          app.id === applicationId \r\n            ? { ...app, status: 'withdrawn' }\r\n            : app\r\n        )\r\n      );\r\n    } catch (error) {\r\n      console.error('Error withdrawing application:', error);\r\n    }\r\n    handleMenuClose();\r\n  };\r\n\r\n  const handleMenuOpen = (event, application) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setMenuApplication(application);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n    setMenuApplication(null);\r\n  };\r\n\r\n  const getApplicationProgress = (status) => {\r\n    const statusOrder = [\r\n      'submitted', 'under_review', 'interview_scheduled', \r\n      'interview_completed', 'offer_extended', 'accepted'\r\n    ];\r\n    const currentIndex = statusOrder.indexOf(status);\r\n    return currentIndex >= 0 ? ((currentIndex + 1) / statusOrder.length) * 100 : 0;\r\n  };\r\n\r\n  const ApplicationCard = ({ application }) => {\r\n    const statusInfo = applicationStatuses[application.status] || applicationStatuses['submitted'];\r\n    const progress = getApplicationProgress(application.status);\r\n\r\n    return (\r\n      <Card \r\n        sx={{ \r\n          mb: 2,\r\n          transition: 'transform 0.2s, box-shadow 0.2s',\r\n          '&:hover': {\r\n            transform: 'translateY(-2px)',\r\n            boxShadow: theme.shadows[4]\r\n          }\r\n        }}\r\n      >\r\n        <CardContent>\r\n          <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"flex-start\" mb={2}>\r\n            <Box display=\"flex\" alignItems=\"center\" flexGrow={1}>\r\n              <Avatar\r\n                src={application.companyLogo}\r\n                sx={{ width: 50, height: 50, mr: 2 }}\r\n              >\r\n                {application.company?.[0]}\r\n              </Avatar>\r\n              <Box flexGrow={1}>\r\n                <Typography variant=\"h6\" fontWeight=\"bold\">\r\n                  {application.jobTitle}\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  {application.company}\r\n                </Typography>\r\n                <Box display=\"flex\" alignItems=\"center\" mt={0.5}>\r\n                  <LocationOn sx={{ fontSize: 16, mr: 0.5, color: 'text.secondary' }} />\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    {application.location}\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n            </Box>\r\n            \r\n            <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n              <Chip\r\n                label={statusInfo.label}\r\n                color={statusInfo.color}\r\n                size=\"small\"\r\n                icon={statusInfo.icon}\r\n              />\r\n              <IconButton\r\n                size=\"small\"\r\n                onClick={(e) => handleMenuOpen(e, application)}\r\n              >\r\n                <MoreVert />\r\n              </IconButton>\r\n            </Box>\r\n          </Box>\r\n\r\n          <Box mb={2}>\r\n            <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={1}>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Application Progress\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                {Math.round(progress)}%\r\n              </Typography>\r\n            </Box>\r\n            <LinearProgress \r\n              variant=\"determinate\" \r\n              value={progress} \r\n              sx={{ height: 6, borderRadius: 3 }}\r\n            />\r\n          </Box>\r\n\r\n          <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              Applied on {new Date(application.appliedAt).toLocaleDateString()}\r\n            </Typography>\r\n            \r\n            <Box display=\"flex\" gap={1}>\r\n              <Button\r\n                size=\"small\"\r\n                startIcon={<Visibility />}\r\n                onClick={() => handleViewDetails(application)}\r\n              >\r\n                View Details\r\n              </Button>\r\n              {application.interviewId && (\r\n                <Button\r\n                  size=\"small\"\r\n                  variant=\"outlined\"\r\n                  startIcon={<CalendarToday />}\r\n                  onClick={() => window.open(`/interviews/${application.interviewId}`, '_blank')}\r\n                >\r\n                  Interview\r\n                </Button>\r\n              )}\r\n            </Box>\r\n          </Box>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  };\r\n\r\n  const ApplicationTimeline = ({ application }) => {\r\n    if (!application.timeline) return null;\r\n\r\n    return (\r\n      <Timeline>\r\n        {application.timeline.map((event, index) => {\r\n          const statusInfo = applicationStatuses[event.status] || applicationStatuses['submitted'];\r\n          return (\r\n            <TimelineItem key={index}>\r\n              <TimelineOppositeContent color=\"text.secondary\">\r\n                {new Date(event.timestamp).toLocaleDateString()}\r\n              </TimelineOppositeContent>\r\n              <TimelineSeparator>\r\n                <TimelineDot color={statusInfo.color}>\r\n                  {statusInfo.icon}\r\n                </TimelineDot>\r\n                {index < application.timeline.length - 1 && <TimelineConnector />}\r\n              </TimelineSeparator>\r\n              <TimelineContent>\r\n                <Typography variant=\"h6\" component=\"span\">\r\n                  {statusInfo.label}\r\n                </Typography>\r\n                {event.note && (\r\n                  <Typography color=\"text.secondary\">\r\n                    {event.note}\r\n                  </Typography>\r\n                )}\r\n              </TimelineContent>\r\n            </TimelineItem>\r\n          );\r\n        })}\r\n      </Timeline>\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container maxWidth=\"lg\" sx={{ py: 4 }}>\r\n        <Box display=\"flex\" justifyContent=\"center\" py={8}>\r\n          <CircularProgress size={60} />\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\r\n      <Typography variant=\"h4\" fontWeight=\"bold\" mb={4}>\r\n        Application Tracking\r\n      </Typography>\r\n\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Summary Cards */}\r\n      <Grid container spacing={3} mb={4}>\r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <Card>\r\n            <CardContent>\r\n              <Box display=\"flex\" alignItems=\"center\">\r\n                <Assessment sx={{ fontSize: 40, color: 'primary.main', mr: 2 }} />\r\n                <Box>\r\n                  <Typography variant=\"h4\" fontWeight=\"bold\">\r\n                    {applications.length}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Total Applications\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        \r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <Card>\r\n            <CardContent>\r\n              <Box display=\"flex\" alignItems=\"center\">\r\n                <Schedule sx={{ fontSize: 40, color: 'warning.main', mr: 2 }} />\r\n                <Box>\r\n                  <Typography variant=\"h4\" fontWeight=\"bold\">\r\n                    {applications.filter(app => \r\n                      !['accepted', 'rejected', 'withdrawn'].includes(app.status)\r\n                    ).length}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Active Applications\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        \r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <Card>\r\n            <CardContent>\r\n              <Box display=\"flex\" alignItems=\"center\">\r\n                <CalendarToday sx={{ fontSize: 40, color: 'info.main', mr: 2 }} />\r\n                <Box>\r\n                  <Typography variant=\"h4\" fontWeight=\"bold\">\r\n                    {applications.filter(app => \r\n                      ['interview_scheduled', 'interview_completed'].includes(app.status)\r\n                    ).length}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Interview Stage\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        \r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <Card>\r\n            <CardContent>\r\n              <Box display=\"flex\" alignItems=\"center\">\r\n                <CheckCircle sx={{ fontSize: 40, color: 'success.main', mr: 2 }} />\r\n                <Box>\r\n                  <Typography variant=\"h4\" fontWeight=\"bold\">\r\n                    {applications.filter(app => app.status === 'accepted').length}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Offers Received\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {/* Filters and Search */}\r\n      <Card sx={{ mb: 3 }}>\r\n        <CardContent>\r\n          <Grid container spacing={2} alignItems=\"center\">\r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                fullWidth\r\n                placeholder=\"Search by job title or company...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                InputProps={{\r\n                  startAdornment: <Search sx={{ mr: 1, color: 'text.secondary' }} />\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={3}>\r\n              <TextField\r\n                fullWidth\r\n                select\r\n                label=\"Status Filter\"\r\n                value={statusFilter}\r\n                onChange={(e) => setStatusFilter(e.target.value)}\r\n              >\r\n                <MenuItem value=\"all\">All Statuses</MenuItem>\r\n                {Object.entries(applicationStatuses).map(([key, status]) => (\r\n                  <MenuItem key={key} value={key}>\r\n                    {status.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Tabs */}\r\n      <Tabs \r\n        value={selectedTab} \r\n        onChange={(e, newValue) => setSelectedTab(newValue)}\r\n        sx={{ mb: 3 }}\r\n      >\r\n        {tabFilters.map((tab, index) => (\r\n          <Tab key={index} label={tab.label} />\r\n        ))}\r\n      </Tabs>\r\n\r\n      {/* Applications List */}\r\n      {filteredApplications.length === 0 ? (\r\n        <Box textAlign=\"center\" py={8}>\r\n          <Typography variant=\"h6\" color=\"text.secondary\" mb={2}>\r\n            No applications found\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"text.secondary\" mb={3}>\r\n            {applications.length === 0 \r\n              ? \"You haven't applied to any jobs yet. Start exploring opportunities!\"\r\n              : \"Try adjusting your filters to see more results.\"\r\n            }\r\n          </Typography>\r\n          {applications.length === 0 && (\r\n            <Button\r\n              variant=\"contained\"\r\n              onClick={() => window.location.href = '/job-search'}\r\n            >\r\n              Search Jobs\r\n            </Button>\r\n          )}\r\n        </Box>\r\n      ) : (\r\n        filteredApplications.map((application) => (\r\n          <ApplicationCard key={application.id} application={application} />\r\n        ))\r\n      )}\r\n\r\n      {/* Context Menu */}\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleMenuClose}\r\n      >\r\n        <MenuItem onClick={() => handleViewDetails(menuApplication)}>\r\n          <Visibility sx={{ mr: 1 }} />\r\n          View Details\r\n        </MenuItem>\r\n        <MenuItem onClick={() => window.open(`/jobs/${menuApplication?.jobId}`, '_blank')}>\r\n          <Work sx={{ mr: 1 }} />\r\n          View Job Posting\r\n        </MenuItem>\r\n        {menuApplication?.interviewId && (\r\n          <MenuItem onClick={() => window.open(`/interviews/${menuApplication.interviewId}`, '_blank')}>\r\n            <CalendarToday sx={{ mr: 1 }} />\r\n            View Interview\r\n          </MenuItem>\r\n        )}\r\n        <Divider />\r\n        {!['accepted', 'rejected', 'withdrawn'].includes(menuApplication?.status) && (\r\n          <MenuItem \r\n            onClick={() => handleWithdraw(menuApplication?.id)}\r\n            sx={{ color: 'error.main' }}\r\n          >\r\n            <Cancel sx={{ mr: 1 }} />\r\n            Withdraw Application\r\n          </MenuItem>\r\n        )}\r\n      </Menu>\r\n\r\n      {/* Application Details Dialog */}\r\n      <Dialog \r\n        open={detailsDialog} \r\n        onClose={() => setDetailsDialog(false)}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>\r\n          Application Details\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          {selectedApplication && (\r\n            <Box>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                {selectedApplication.jobTitle} at {selectedApplication.company}\r\n              </Typography>\r\n              \r\n              <ApplicationTimeline application={selectedApplication} />\r\n              \r\n              {selectedApplication.notes && (\r\n                <Box mt={3}>\r\n                  <Typography variant=\"subtitle1\" gutterBottom>\r\n                    Application Notes\r\n                  </Typography>\r\n                  <Typography variant=\"body2\">\r\n                    {selectedApplication.notes}\r\n                  </Typography>\r\n                </Box>\r\n              )}\r\n            </Box>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDetailsDialog(false)}>\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Container>\r\n  );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\AuthPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 75,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 75,
        "endColumn": 17
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 112,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 112,
        "endColumn": 17
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 127,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 127,
        "endColumn": 17
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 142,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 142,
        "endColumn": 17
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import React, { useState, useEffect } from 'react';\r\nimport { Eye, EyeOff, Mail, Lock, User, Building2, AlertCircle, Chrome, Linkedin, X, Loader2 } from 'lucide-react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { homeThemeColors } from '@/config/theme-colors-home';\r\nimport './AuthPage.css';\r\n\r\nconst AuthPage = ({ initialTab = 0, open = true, onClose, redirectPath: propRedirectPath }) => {\r\n  const { t } = useTranslation(['auth', 'common']);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { loginByEmailAndPassword, registerByEmailAndPassword, authenticateWithGoogle, authenticateWithLinkedIn } = useAuth();\r\n\r\n  const [activeTab, setActiveTab] = useState(initialTab || 0);\r\n  const [formData, setFormData] = useState({ email: '', password: '', confirmPassword: '', firstName: '', lastName: '', role: '' });\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [loading, setLoading] = useState({ email: false, google: false, linkedin: false });\r\n  const [error, setError] = useState('');\r\n  const [showRoleMenu, setShowRoleMenu] = useState({ google: false, linkedin: false });\r\n\r\n  const redirectPath = propRedirectPath || (location && location.state && location.state.redirectPath) || null;\r\n\r\n  useEffect(() => {\r\n    setActiveTab(initialTab || 0);\r\n  }, [initialTab]);\r\n\r\n  // (Note) previous MUI overrides removed â€” this file uses Tailwind inputs now\r\n\r\n  if (open === false) return null;\r\n\r\n  const getDefaultRoute = (role) => {\r\n    const effectiveRole = Array.isArray(role) ? role[0] : role;\r\n    switch (effectiveRole) {\r\n      case 'job_seeker':\r\n      case 'employee': return '/jobseeker-tabs';\r\n      case 'employer':\r\n      case 'recruiter': return '/employer-tabs';\r\n      case 'admin': return '/admin-tabs';\r\n      default: return '/';\r\n    }\r\n  };\r\n\r\n  const handleTabChange = (newValue) => {\r\n    setActiveTab(newValue);\r\n    setError('');\r\n    setFormData({ email: '', password: '', confirmPassword: '', firstName: '', lastName: '', role: '' });\r\n  };\r\n\r\n  const close = () => {\r\n    if (onClose) return onClose();\r\n    navigate(-1);\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleRoleSelect = (role) => setFormData({ ...formData, role });\r\n\r\n  const handleEmailSignIn = async (e) => {\r\n    e.preventDefault();\r\n    setLoading({ ...loading, email: true });\r\n    setError('');\r\n    try {\r\n      const result = await loginByEmailAndPassword(formData.email, formData.password);\r\n      if (result?.error) {\r\n        setError(result.message);\r\n      } else if (result?.user && result.user.role && result.user.role !== 'no role') {\r\n        navigate(redirectPath || getDefaultRoute(result.user.role));\r\n      } else {\r\n        setError('Sign-in successful but user role is not set. Please contact support.');\r\n      }\r\n    } catch (err) {\r\n      setError('An unexpected error occurred. Please try again.');\r\n    } finally {\r\n      setLoading({ ...loading, email: false });\r\n    }\r\n  };\r\n\r\n  const handleEmailSignUp = async (e) => {\r\n    e.preventDefault();\r\n    setLoading({ ...loading, email: true });\r\n    setError('');\r\n    if (!formData.role) {\r\n      setError(t('auth:errors.selectRole'));\r\n      setLoading({ ...loading, email: false });\r\n      return;\r\n    }\r\n    if (formData.password !== formData.confirmPassword) {\r\n      setError(t('auth:errors.passwordMismatch'));\r\n      setLoading({ ...loading, email: false });\r\n      return;\r\n    }\r\n    try {\r\n      const result = await registerByEmailAndPassword(\r\n        formData.email,\r\n        formData.password,\r\n        formData.firstName,\r\n        formData.lastName,\r\n        formData.role\r\n      );\r\n      if (result?.error) {\r\n        setError(result.message);\r\n      } else {\r\n        close();\r\n        const userRole = result?.user?.role || result?.role;\r\n        if (userRole) navigate(getDefaultRoute(userRole));\r\n        else setError('Sign-up successful but unable to determine user role.');\r\n      }\r\n    } catch (err) {\r\n      setError('An unexpected error occurred. Please try again.');\r\n    } finally {\r\n      setLoading({ ...loading, email: false });\r\n    }\r\n  };\r\n\r\n  const handleGoogleSignInWithRole = async (nextRole) => {\r\n    setShowRoleMenu({ ...showRoleMenu, google: false });\r\n    setLoading({ ...loading, google: true });\r\n    setError('');\r\n    try {\r\n      const result = await authenticateWithGoogle({ role: nextRole });\r\n      if (result?.error && !result.redirect) setError(result.message);\r\n      else if (!result?.redirect && result.user && result.user.role) navigate(getDefaultRoute(result.user.role));\r\n    } catch (err) {\r\n      setError('Google sign-in failed. Please try again.');\r\n    } finally {\r\n      setLoading({ ...loading, google: false });\r\n    }\r\n  };\r\n\r\n  const handleLinkedInSignInWithRole = async (role) => {\r\n    setShowRoleMenu({ ...showRoleMenu, linkedin: false });\r\n    setLoading({ ...loading, linkedin: true });\r\n    setError('');\r\n    try {\r\n      const result = await authenticateWithLinkedIn(role);\r\n      if (result?.error) setError(result.message);\r\n      else if (result?.user && result.user.role) navigate(getDefaultRoute(result.user.role));\r\n    } catch (err) {\r\n      setError('LinkedIn sign-in failed. Please try again.');\r\n    } finally {\r\n      setLoading({ ...loading, linkedin: false });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 z-[99999] bg-black/40 backdrop-blur-sm\"\r\n      onClick={close}\r\n    >\r\n      {/* Modal centered in the viewport (fixed + transform) */}\r\n      {/* Dialog Container (fixed to viewport) */}\r\n      <div\r\n        className=\"fixed left-[50vw] top-[50vh] z-[100000] w-full max-w-md p-4 transform -translate-x-1/2 -translate-y-1/2\"\r\n      >\r\n        <div\r\n          className=\"relative w-full bg-white rounded-3xl shadow-2xl overflow-hidden animate-scale-in border border-gray-100 max-h-[95vh] overflow-y-auto\"\r\n          onClick={(e) => e.stopPropagation()}\r\n        >\r\n        {/* Close Button */}\r\n        <button\r\n          onClick={close}\r\n          className=\"absolute top-4 right-4 z-10 p-2.5 rounded-full bg-gray-100 hover:bg-red-500 hover:text-white transition-all duration-300 shadow-md hover:shadow-lg group\"\r\n        >\r\n          <X className=\"w-5 h-5 text-gray-600 group-hover:text-white group-hover:rotate-90 transition-all duration-300\" />\r\n        </button>\r\n\r\n        {/* Content */}\r\n        <div className=\"p-8\">\r\n          {/* Logo/Brand */}\r\n          <div className=\"flex flex-col items-center mb-6\">\r\n            <div \r\n              className=\"relative w-20 h-20 rounded-2xl flex items-center justify-center mb-4 shadow-xl animate-float overflow-hidden\"\r\n              style={{ background: homeThemeColors.gradients.button }}\r\n            >\r\n              {/* Animated gradient overlay */}\r\n              <div className=\"absolute inset-0 bg-gradient-to-br from-white/20 via-transparent to-transparent animate-shimmer\"></div>\r\n              \r\n              {/* Logo */}\r\n              <img \r\n                src=\"/swipescout.svg\" \r\n                alt=\"SwipeScout\" \r\n                className=\"w-12 h-12 object-contain drop-shadow-lg\"\r\n              />\r\n            </div>\r\n            <h2 \r\n              className=\"text-3xl font-bold bg-clip-text text-transparent mb-1\"\r\n              style={{ backgroundImage: homeThemeColors.gradients.button }}\r\n            >\r\n              Welcome Back\r\n            </h2>\r\n            <p className=\"text-sm text-gray-500\">Sign in to continue to SwipeScout</p>\r\n          </div>\r\n\r\n          {/* Tabs */}\r\n          <div className=\"flex gap-2 mb-6 p-1 bg-gray-100 rounded-xl\">\r\n            <button\r\n              onClick={() => handleTabChange(0)}\r\n              className={`flex-1 py-2.5 px-4 rounded-lg font-semibold text-sm transition-all duration-300 ${\r\n                activeTab === 0\r\n                  ? 'bg-white shadow-md'\r\n                  : 'text-gray-600 hover:text-gray-800'\r\n              }`}\r\n              style={activeTab === 0 ? { color: homeThemeColors.brand.primary } : {}}\r\n            >\r\n              {t('auth:tabs.login')}\r\n            </button>\r\n            <button\r\n              onClick={() => handleTabChange(1)}\r\n              className={`flex-1 py-2.5 px-4 rounded-lg font-semibold text-sm transition-all duration-300 ${\r\n                activeTab === 1\r\n                  ? 'bg-white shadow-md'\r\n                  : 'text-gray-600 hover:text-gray-800'\r\n              }`}\r\n              style={activeTab === 1 ? { color: homeThemeColors.brand.primary } : {}}\r\n            >\r\n              {t('auth:tabs.signUp')}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Forms */}\r\n          {activeTab === 0 ? (\r\n            // Login Form\r\n            <form onSubmit={handleEmailSignIn} className=\"space-y-4\">\r\n              {/* Email */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  {t('auth:fields.email')}\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <Mail className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    value={formData.email}\r\n                    onChange={handleChange}\r\n                    required\r\n                    className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 text-gray-800\"\r\n                    placeholder=\"you@example.com\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Password */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  {t('auth:fields.password')}\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n                  <input\r\n                    type={showPassword ? 'text' : 'password'}\r\n                    name=\"password\"\r\n                    value={formData.password}\r\n                    onChange={handleChange}\r\n                    required\r\n                    className=\"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 text-gray-800\"\r\n                    placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowPassword(!showPassword)}\r\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                  >\r\n                    {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Forgot Password */}\r\n              <div className=\"text-right\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => navigate('/forgot-password')}\r\n                  className=\"text-sm font-medium\"\r\n                  style={{ color: homeThemeColors.brand.primary }}\r\n                >\r\n                  {t('auth:labels.forgotPassword')}\r\n                </button>\r\n              </div>\r\n\r\n              {/* Submit Button */}\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading.email}\r\n                className=\"w-full py-3 px-4 text-white font-semibold rounded-lg focus:ring-4 focus:ring-indigo-200 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 shadow-lg shadow-indigo-500/50\"\r\n              >\r\n                {loading.email ? (\r\n                  <>\r\n                    <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                    <span>{t('auth:messages.signingIn', { defaultValue: 'Signing in...' })}</span>\r\n                  </>\r\n                ) : (\r\n                  t('auth:buttons.logIn', { defaultValue: 'Log in' })\r\n                )}\r\n              </button>\r\n            </form>\r\n          ) : (\r\n            // Sign Up Form\r\n            <form onSubmit={handleEmailSignUp} className=\"space-y-4\">\r\n              {/* Name Fields */}\r\n              <div className=\"grid grid-cols-2 gap-3\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    {t('auth:fields.firstName')}\r\n                  </label>\r\n                  <div className=\"relative\">\r\n                    <User className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"firstName\"\r\n                      value={formData.firstName}\r\n                      onChange={handleChange}\r\n                      required\r\n                      className=\"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 text-gray-800\"\r\n                      placeholder=\"John\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    {t('auth:fields.lastName')}\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"lastName\"\r\n                    value={formData.lastName}\r\n                    onChange={handleChange}\r\n                    required\r\n                    className=\"w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 text-gray-800\"\r\n                    placeholder=\"Doe\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Role Selection */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  {t('auth:labels.signingUpAs')}\r\n                </label>\r\n                <div className=\"grid grid-cols-2 gap-3\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => handleRoleSelect('employer')}\r\n                    className={`flex items-center justify-center gap-2 py-3 px-4 border-2 rounded-lg font-medium transition-all duration-200 ${\r\n                      formData.role === 'employer'\r\n                        ? 'bg-indigo-50'\r\n                        : 'border-gray-300 text-gray-600'\r\n                    }`}\r\n                    style={formData.role === 'employer' ? { \r\n                      borderColor: homeThemeColors.brand.primary,\r\n                      color: homeThemeColors.brand.primary \r\n                    } : {}}\r\n                  >\r\n                    <Building2 className=\"w-5 h-5\" />\r\n                    <span>{t('auth:labels.employer')}</span>\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => handleRoleSelect('job_seeker')}\r\n                    className={`flex items-center justify-center gap-2 py-3 px-4 border-2 rounded-lg font-medium transition-all duration-200 ${\r\n                      formData.role === 'job_seeker'\r\n                        ? 'bg-indigo-50'\r\n                        : 'border-gray-300 text-gray-600'\r\n                    }`}\r\n                    style={formData.role === 'job_seeker' ? { \r\n                      borderColor: homeThemeColors.brand.primary,\r\n                      color: homeThemeColors.brand.primary \r\n                    } : {}}\r\n                  >\r\n                    <User className=\"w-5 h-5\" />\r\n                    <span>{t('auth:labels.jobSeeker')}</span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Email */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  {t('auth:fields.email')}\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <Mail className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    value={formData.email}\r\n                    onChange={handleChange}\r\n                    required\r\n                    className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 text-gray-800\"\r\n                    placeholder=\"you@example.com\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Password */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  {t('auth:fields.password')}\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n                  <input\r\n                    type={showPassword ? 'text' : 'password'}\r\n                    name=\"password\"\r\n                    value={formData.password}\r\n                    onChange={handleChange}\r\n                    required\r\n                    className=\"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 text-gray-800\"\r\n                    placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowPassword(!showPassword)}\r\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                  >\r\n                    {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Confirm Password */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  {t('auth:fields.confirmPassword')}\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n                  <input\r\n                    type={showConfirmPassword ? 'text' : 'password'}\r\n                    name=\"confirmPassword\"\r\n                    value={formData.confirmPassword}\r\n                    onChange={handleChange}\r\n                    required\r\n                    className=\"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 text-gray-800\"\r\n                    placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                  >\r\n                    {showConfirmPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Submit Button */}\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading.email}\r\n                className=\"w-full py-3 px-4 text-white font-semibold rounded-lg focus:ring-4 focus:ring-indigo-200 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 shadow-lg shadow-indigo-500/50\"\r\n              >\r\n                {loading.email ? (\r\n                  <>\r\n                    <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                    <span>{t('auth:messages.creatingAccount', { defaultValue: 'Creating account...' })}</span>\r\n                  </>\r\n                ) : (\r\n                  t('auth:buttons.signUp', { defaultValue: 'Sign up' })\r\n                )}\r\n              </button>\r\n            </form>\r\n          )}\r\n\r\n          {/* Divider */}\r\n          <div className=\"relative my-6\">\r\n            <div className=\"absolute inset-0 flex items-center\">\r\n              <div className=\"w-full border-t-2 border-gray-200\"></div>\r\n            </div>\r\n            <div className=\"relative flex justify-center text-sm\">\r\n              <span className=\"px-4 py-1 bg-white text-gray-500 font-medium rounded-full\">{t('auth:labels.orContinueWith')}</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Social Login Buttons */}\r\n          <div className=\"grid grid-cols-2 gap-3\">\r\n            {/* Google */}\r\n            <div className=\"relative\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowRoleMenu({ ...showRoleMenu, google: !showRoleMenu.google })}\r\n                disabled={loading.google}\r\n                className=\"w-full flex items-center justify-center gap-2 py-3 px-4 border-2 border-gray-200 rounded-lg font-medium text-gray-700 hover:border-indigo-300 hover:bg-indigo-50/50 hover:shadow-md transition-all duration-300 disabled:opacity-50 group\"\r\n              >\r\n                {loading.google ? (\r\n                  <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                ) : (\r\n                  <>\r\n                    <Chrome className=\"w-5 h-5 text-red-500 group-hover:scale-110 transition-transform duration-300\" />\r\n                    <span className=\"text-sm font-semibold\">{t('auth:buttons.google', { defaultValue: 'Google' })}</span>\r\n                  </>\r\n                )}\r\n              </button>\r\n              {showRoleMenu.google && (\r\n                <div className=\"absolute z-10 top-full mt-2 w-full bg-white border-2 border-indigo-200 rounded-lg shadow-xl py-1 animate-scale-in\">\r\n                  <button\r\n                    onClick={() => handleGoogleSignInWithRole('job_seeker')}\r\n                    className=\"w-full px-4 py-2.5 text-left text-sm text-gray-700 hover:bg-indigo-50 transition-colors duration-200 flex items-center gap-2\"\r\n                  >\r\n                    <User className=\"w-4 h-4\" />\r\n                    {t('auth:menu.signUpAsJobSeeker')}\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleGoogleSignInWithRole('employer')}\r\n                    className=\"w-full px-4 py-2.5 text-left text-sm text-gray-700 hover:bg-indigo-50 transition-colors duration-200 flex items-center gap-2\"\r\n                  >\r\n                    <Building2 className=\"w-4 h-4\" />\r\n                    {t('auth:menu.signUpAsEmployer')}\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* LinkedIn */}\r\n            <div className=\"relative\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowRoleMenu({ ...showRoleMenu, linkedin: !showRoleMenu.linkedin })}\r\n                disabled={loading.linkedin}\r\n                className=\"w-full flex items-center justify-center gap-2 py-3 px-4 border-2 border-gray-200 rounded-lg font-medium text-gray-700 hover:border-blue-300 hover:bg-blue-50/50 hover:shadow-md transition-all duration-300 disabled:opacity-50 group\"\r\n              >\r\n                {loading.linkedin ? (\r\n                  <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                ) : (\r\n                  <>\r\n                    <Linkedin className=\"w-5 h-5 text-blue-600 group-hover:scale-110 transition-transform duration-300\" />\r\n                    <span className=\"text-sm font-semibold\">{t('auth:buttons.linkedin', { defaultValue: 'LinkedIn' })}</span>\r\n                  </>\r\n                )}\r\n              </button>\r\n              {showRoleMenu.linkedin && (\r\n                <div className=\"absolute z-10 top-full mt-2 w-full bg-white border-2 border-blue-200 rounded-lg shadow-xl py-1 animate-scale-in\">\r\n                  <button\r\n                    onClick={() => handleLinkedInSignInWithRole('job_seeker')}\r\n                    className=\"w-full px-4 py-2.5 text-left text-sm text-gray-700 hover:bg-blue-50 transition-colors duration-200 flex items-center gap-2\"\r\n                  >\r\n                    <User className=\"w-4 h-4\" />\r\n                    {t('auth:menu.signUpAsJobSeeker')}\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleLinkedInSignInWithRole('employer')}\r\n                    className=\"w-full px-4 py-2.5 text-left text-sm text-gray-700 hover:bg-blue-50 transition-colors duration-200 flex items-center gap-2\"\r\n                  >\r\n                    <Building2 className=\"w-4 h-4\" />\r\n                    {t('auth:menu.signUpAsEmployer')}\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Error Message */}\r\n          {error && (\r\n            <div className=\"mt-4 p-4 bg-gradient-to-r from-red-50 to-pink-50 border-2 border-red-200 rounded-xl flex items-start gap-3 animate-shake shadow-lg\">\r\n              <div className=\"p-1 bg-red-100 rounded-full\">\r\n                <AlertCircle className=\"w-5 h-5 text-red-600 flex-shrink-0\" />\r\n              </div>\r\n              <p className=\"text-sm text-red-700 font-medium leading-relaxed\">{error}</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      </div>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default AuthPage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\BlogDetailPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setRelatedBlogs' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 31,
        "column": 24,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 31,
        "endColumn": 39,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setRelatedBlogs"
            },
            "fix": {
              "range": [
                1032,
                1049
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setRelatedBlogs'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchBlog'. Either include it or remove the dependency array.",
        "line": 35,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 35,
        "endColumn": 10,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchBlog, id]",
            "fix": {
              "range": [
                1114,
                1118
              ],
              "text": "[fetchBlog, id]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 102,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 102,
        "endColumn": 19
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 107,
        "column": 18,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 107,
        "endColumn": 19
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport {\r\n  Calendar,\r\n  Eye,\r\n  Clock,\r\n  User,\r\n  Tag as TagIcon,\r\n  Share2,\r\n  ArrowLeft,\r\n  Bookmark,\r\n} from 'lucide-react';\r\nimport localize from '@/utils/localize';\r\nimport { toast } from 'react-toastify';\r\nimport { getBlog, saveBlog, unsaveBlog, checkBlogSaved } from '@/services/api';\r\nimport ReportButton from '@/components/ReportButton.jsx';\r\nimport { Card, CardContent } from '@/components/UI/card.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport ReactMarkdown from 'react-markdown';\r\n\r\nconst BlogDetailPage = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { t, i18n } = useTranslation();\r\n\r\n  const [blog, setBlog] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [relatedBlogs, setRelatedBlogs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchBlog();\r\n  }, [id]);\r\n\r\n  const fetchBlog = async () => {\r\n    try {\r\n      setLoading(true);\r\n  const response = await getBlog(id);\r\n  setBlog(response.data);\r\n      // Fetch related blogs based on category/tags\r\n      // TODO: Implement related blogs API call\r\n    } catch (error) {\r\n      // Handle 404 (not found) gracefully and avoid noisy object logs\r\n      if (error?.response?.status === 404) {\r\n        console.warn(`Blog not found: ${id}`);\r\n        setBlog(null);\r\n      } else {\r\n        console.error('Failed to fetch blog:', error?.message || error);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getLocalizedField = (item, field) => {\r\n    if (!item) return '';\r\n    const lang = i18n.language;\r\n    if (lang === 'ar' && item[`${field}Ar`]) return item[`${field}Ar`];\r\n    if (lang === 'zh' && item[`${field}Zh`]) return item[`${field}Zh`];\r\n    return item[field] || '';\r\n  };\r\n\r\n  const formatDate = (date) => {\r\n    return new Date(date).toLocaleDateString(i18n.language, {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n    });\r\n  };\r\n\r\n  const handleShare = async () => {\r\n    // Open the SharePage (centralized share UI) in a new window/tab so the user can choose platform\r\n    try {\r\n      const shareUrl = blog?.canonicalUrl || window.location.href;\r\n      const sharePage = `${window.location.origin}/share?link=${encodeURIComponent(shareUrl)}`;\r\n      window.open(sharePage, '_blank', 'noopener,noreferrer,width=800,height=600');\r\n    } catch (error) {\r\n      console.error('Error opening share page:', error);\r\n      // Fallback: copy to clipboard\r\n      try {\r\n        await navigator.clipboard.writeText(window.location.href);\r\n        toast.success(t('blog.link_copied', 'Link copied to clipboard!'));\r\n      } catch (err) {\r\n        console.error('Failed to copy to clipboard:', err);\r\n        toast.error(t('blog.link_copy_failed', 'Failed to copy link'));\r\n      }\r\n    }\r\n  };\r\n\r\n  // Save / bookmark handling via API (with localStorage fallback if API fails)\r\n  const [isSaved, setIsSaved] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const check = async () => {\r\n      if (!blog?.id) return setIsSaved(false);\r\n      try {\r\n        const resp = await checkBlogSaved(blog.id);\r\n        if (resp?.data?.saved) setIsSaved(true);\r\n        else setIsSaved(false);\r\n      } catch (err) {\r\n        // fallback to localStorage when API unreachable\r\n        try {\r\n          const saved = JSON.parse(localStorage.getItem('savedBlogs') || '[]');\r\n          setIsSaved(Array.isArray(saved) ? saved.includes(blog.id) : false);\r\n        } catch (e) {\r\n          setIsSaved(false);\r\n        }\r\n      }\r\n    };\r\n    check();\r\n  }, [blog?.id]);\r\n\r\n  const toggleSave = async () => {\r\n    if (!blog?.id) return;\r\n    try {\r\n      if (!isSaved) {\r\n        await saveBlog(blog.id);\r\n        setIsSaved(true);\r\n        toast.success(t('blog.saved_success', 'Saved for later'));\r\n      } else {\r\n        await unsaveBlog(blog.id);\r\n        setIsSaved(false);\r\n        toast.info(t('blog.unsaved', 'Removed from saved'));\r\n      }\r\n    } catch (err) {\r\n      console.error('Error toggling save via API:', err);\r\n      // If user is not authenticated (401) or API returns 403, fallback to local save and inform user\r\n      const status = err?.response?.status;\r\n      if (status === 401 || status === 403) {\r\n        try {\r\n          const raw = localStorage.getItem('savedBlogs');\r\n          const arr = raw ? JSON.parse(raw) : [];\r\n          const idx = arr.indexOf(blog.id);\r\n          if (idx === -1) {\r\n            arr.push(blog.id);\r\n            localStorage.setItem('savedBlogs', JSON.stringify(arr));\r\n            setIsSaved(true);\r\n            toast.info(t('blog.saved_local', 'You are not logged in â€” saved locally'));\r\n          } else {\r\n            arr.splice(idx, 1);\r\n            localStorage.setItem('savedBlogs', JSON.stringify(arr));\r\n            setIsSaved(false);\r\n            toast.info(t('blog.unsaved_local', 'Removed local saved post'));\r\n          }\r\n          return;\r\n        } catch (e) {\r\n          console.error('Local fallback failed:', e);\r\n        }\r\n      }\r\n      // other errors: try previous localStorage fallback behavior\r\n      try {\r\n        const raw = localStorage.getItem('savedBlogs');\r\n        const arr = raw ? JSON.parse(raw) : [];\r\n        const idx = arr.indexOf(blog.id);\r\n        if (idx === -1) {\r\n          arr.push(blog.id);\r\n          localStorage.setItem('savedBlogs', JSON.stringify(arr));\r\n          setIsSaved(true);\r\n          toast.success(t('blog.saved_success', 'Saved for later'));\r\n        } else {\r\n          arr.splice(idx, 1);\r\n          localStorage.setItem('savedBlogs', JSON.stringify(arr));\r\n          setIsSaved(false);\r\n          toast.info(t('blog.unsaved', 'Removed from saved'));\r\n        }\r\n      } catch (e) {\r\n        console.error('Local fallback failed:', e);\r\n        toast.error(t('blog.save_failed', 'Failed to update saved state'));\r\n      }\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!blog) {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col items-center justify-center\">\r\n        <h1 className=\"text-2xl font-bold mb-4\">{t('blog.not_found', 'Blog post not found')}</h1>\r\n        <Button onClick={() => navigate('/blog')}>\r\n          {t('blog.back_to_list', 'Back to Blog')}\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const title = getLocalizedField(blog, 'title');\r\n  const content = getLocalizedField(blog, 'content');\r\n  const excerpt = getLocalizedField(blog, 'excerpt');\r\n  const metaTitle = getLocalizedField(blog, 'metaTitle') || title;\r\n  const metaDescription = getLocalizedField(blog, 'metaDescription') || excerpt;\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{metaTitle}</title>\r\n        <meta name=\"description\" content={metaDescription} />\r\n        <meta name=\"keywords\" content={blog.metaKeywords?.join(', ')} />\r\n        \r\n        {/* Open Graph */}\r\n        <meta property=\"og:title\" content={blog.socialMedia?.ogTitle || metaTitle} />\r\n        <meta property=\"og:description\" content={blog.socialMedia?.ogDescription || metaDescription} />\r\n        <meta property=\"og:image\" content={blog.socialMedia?.ogImage || blog.featuredImage} />\r\n        <meta property=\"og:type\" content=\"article\" />\r\n        \r\n        {/* Twitter Card */}\r\n        <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n        <meta name=\"twitter:title\" content={blog.socialMedia?.twitterTitle || metaTitle} />\r\n        <meta name=\"twitter:description\" content={blog.socialMedia?.twitterDescription || metaDescription} />\r\n        <meta name=\"twitter:image\" content={blog.socialMedia?.twitterImage || blog.featuredImage} />\r\n        \r\n        {/* Canonical URL */}\r\n        {blog.canonicalUrl && <link rel=\"canonical\" href={blog.canonicalUrl} />}\r\n        \r\n        {/* JSON-LD for better SEO */}\r\n        <script type=\"application/ld+json\">\r\n          {JSON.stringify({\r\n            \"@context\": \"https://schema.org\",\r\n            \"@type\": \"BlogPosting\",\r\n            \"headline\": title,\r\n            \"description\": excerpt,\r\n            \"image\": blog.featuredImage,\r\n            \"datePublished\": blog.publishedAt,\r\n            \"dateModified\": blog.updatedAt,\r\n            \"author\": {\r\n              \"@type\": \"Person\",\r\n              \"name\": blog.author ? `${blog.author.firstName} ${blog.author.lastName}` : \"SwipeScout Team\"\r\n            },\r\n            \"publisher\": {\r\n              \"@type\": \"Organization\",\r\n              \"name\": \"SwipeScout\",\r\n              \"logo\": {\r\n                \"@type\": \"ImageObject\",\r\n                \"url\": `${window.location.origin}/logo.png`\r\n              }\r\n            }\r\n          })}\r\n        </script>\r\n      </Helmet>\r\n\r\n      <div className=\"min-h-screen bg-gray-50\">\r\n        <div className=\"container mx-auto px-4 py-8 max-w-4xl\">\r\n          {/* Back Button */}\r\n          <Button\r\n            variant=\"ghost\"\r\n            onClick={() => navigate('/blog')}\r\n            className=\"mb-6\"\r\n          >\r\n            <ArrowLeft className=\"mr-2 h-4 w-4\" />\r\n            {t('blog.back_to_list', 'Back to Blog')}\r\n          </Button>\r\n\r\n          <Card>\r\n            <CardContent className=\"p-8\">\r\n              {/* Featured Image */}\r\n              {blog.featuredImage && (\r\n                <img\r\n                  src={blog.featuredImage}\r\n                  alt={title}\r\n                  className=\"w-full h-96 object-cover rounded-lg mb-8\"\r\n                />\r\n              )}\r\n\r\n              {/* Category Badge */}\r\n              {blog.category && (\r\n                <Badge className=\"mb-4\" style={{ backgroundColor: blog.category.color }}>\r\n                  {getLocalizedField(blog.category, 'name')}\r\n                </Badge>\r\n              )}\r\n\r\n              {/* Title */}\r\n              <h1 className=\"text-4xl font-bold mb-6\">{title}</h1>\r\n\r\n              {/* Meta Information */}\r\n              <div className=\"flex flex-wrap items-center gap-6 text-gray-600 mb-8 pb-8 border-b\">\r\n                {blog.author && (\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <User className=\"h-4 w-4\" />\r\n                    <span>{blog.author.firstName} {blog.author.lastName}</span>\r\n                  </div>\r\n                )}\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Calendar className=\"h-4 w-4\" />\r\n                  <span>{formatDate(blog.publishedAt)}</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Clock className=\"h-4 w-4\" />\r\n                  <span>{blog.readingTime} {t('blog.min_read', 'min read')}</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Eye className=\"h-4 w-4\" />\r\n                  <span>{blog.viewCount} {t('blog.views', 'views')}</span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Excerpt */}\r\n              {excerpt && (\r\n                <div className=\"bg-blue-50 border-l-4 border-blue-500 p-6 mb-8 rounded\">\r\n                  <p className=\"text-lg text-gray-700 italic\">{excerpt}</p>\r\n                </div>\r\n              )}\r\n\r\n              {/* Content */}\r\n              <div className=\"prose prose-lg max-w-none mb-8\">\r\n                <ReactMarkdown>{content}</ReactMarkdown>\r\n              </div>\r\n\r\n              {/* Related Job Info */}\r\n              {(blog.relatedJobTitles?.length > 0 || blog.relatedSkills?.length > 0) && (\r\n                <div className=\"bg-gray-50 p-6 rounded-lg mb-8\">\r\n                  <h3 className=\"font-bold text-lg mb-4\">{t('blog.related_careers', 'Related Careers')}</h3>\r\n                  {blog.relatedJobTitles?.length > 0 && (\r\n                    <div className=\"mb-4\">\r\n                      <p className=\"font-semibold mb-2\">{t('blog.job_titles', 'Relevant Job Titles')}:</p>\r\n                      <div className=\"flex flex-wrap gap-2\">\r\n                        {blog.relatedJobTitles.map((title, index) => (\r\n              <Badge key={title || index} variant=\"outline\">{localize(title)}</Badge>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  {blog.relatedSkills?.length > 0 && (\r\n                    <div>\r\n                      <p className=\"font-semibold mb-2\">{t('blog.skills', 'Key Skills')}:</p>\r\n                      <div className=\"flex flex-wrap gap-2\">\r\n                        {blog.relatedSkills.map((skill, index) => (\r\n                          <Badge key={skill || index} variant=\"secondary\">{localize(skill)}</Badge>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Tags */}\r\n              {blog.blogTags?.length > 0 && (\r\n                <div className=\"flex items-center gap-3 mb-8\">\r\n                  <TagIcon className=\"h-5 w-5 text-gray-500\" />\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {blog.blogTags.map((blogTag) => (\r\n                      <Badge\r\n                        key={blogTag.tag.id}\r\n                        variant=\"outline\"\r\n                        className=\"cursor-pointer\"\r\n                        onClick={() => navigate(`/blog?tag=${blogTag.tag.slug}`)}\r\n                      >\r\n                        {localize(blogTag.tag.name)}\r\n                      </Badge>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Action Buttons */}\r\n              <div className=\"flex gap-4 pt-8 border-t\">\r\n                <Button onClick={handleShare} variant=\"outline\">\r\n                  <Share2 className=\"mr-2 h-4 w-4\" />\r\n                  {t('blog.share', 'Share')}\r\n                </Button>\r\n                <Button onClick={toggleSave} variant={isSaved ? 'default' : 'outline'}>\r\n                  <Bookmark className={`mr-2 h-4 w-4 ${isSaved ? 'text-white' : ''}`} />\r\n                  {isSaved ? t('blog.saved', 'Saved') : t('blog.save', 'Save for Later')}\r\n                </Button>\r\n                <ReportButton contentType=\"blog\" contentId={blog.id} className=\"ml-2\" />\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Related Articles */}\r\n          {relatedBlogs.length > 0 && (\r\n            <div className=\"mt-12\">\r\n              <h2 className=\"text-2xl font-bold mb-6\">{t('blog.related_articles', 'Related Articles')}</h2>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                {relatedBlogs.map((relatedBlog) => (\r\n                  <Card\r\n                    key={relatedBlog.id}\r\n                    className=\"cursor-pointer hover:shadow-lg transition-shadow\"\r\n                    onClick={() => navigate(`/blog/${relatedBlog.id}`)}\r\n                  >\r\n                    {relatedBlog.featuredImage && (\r\n                      <img\r\n                        src={relatedBlog.featuredImage}\r\n                        alt={getLocalizedField(relatedBlog, 'title')}\r\n                        className=\"w-full h-40 object-cover rounded-t-lg\"\r\n                      />\r\n                    )}\r\n                    <CardContent className=\"pt-4\">\r\n                      <h3 className=\"font-bold mb-2 line-clamp-2\">\r\n                        {getLocalizedField(relatedBlog, 'title')}\r\n                      </h3>\r\n                      <p className=\"text-sm text-gray-600 line-clamp-2\">\r\n                        {getLocalizedField(relatedBlog, 'excerpt')}\r\n                      </p>\r\n                    </CardContent>\r\n                  </Card>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BlogDetailPage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\CandidateSearchPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useAuth' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 3,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 3,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useAuth"
            },
            "fix": {
              "range": [
                145,
                194
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useAuth'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'filterOptions' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 46,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 46,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "filterOptions"
            },
            "fix": {
              "range": [
                1926,
                1939
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'filterOptions'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchCandidates'. Either include it or remove the dependency array.",
        "line": 67,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 67,
        "endColumn": 8,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchCandidates]",
            "fix": {
              "range": [
                2703,
                2705
              ],
              "text": "[fetchCandidates]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { searchCandidates, connectWithCandidate, getFilterOptions } from '@/services/api';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/UI/card.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Input } from '@/components/UI/input.jsx';\r\nimport { Label } from '@/components/UI/label.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/UI/avatar.jsx';\r\nimport { Alert, AlertDescription } from '@/components/UI/alert.jsx';\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/UI/dialog.jsx';\r\nimport { Textarea } from '@/components/UI/textarea.jsx';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/UI/select.jsx';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport {\r\n  MapPin,\r\n  Search,\r\n  Play,\r\n  Briefcase,\r\n  Mail,\r\n  Phone,\r\n  Linkedin,\r\n  GraduationCap,\r\n  Star,\r\n  Handshake,\r\n  Eye,\r\n  UserPlus,\r\n  Loader2,\r\n  AlertCircle\r\n} from 'lucide-react';\r\nimport themeColors from '@/config/theme-colors';\r\n\r\nexport default function CandidateSearchPage() {\r\n  // const { user } = useAuth(); // Removed: unused variable\n  const { toast } = useToast();\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [skills, setSkills] = useState(\"\");\r\n  const [experienceLevel, setExperienceLevel] = useState(\"any\");\r\n  const [location, setLocation] = useState(\"\");\r\n  const [educationLevel, setEducationLevel] = useState(\"any\");\r\n  const [candidates, setCandidates] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [page, setPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [filterOptions, setFilterOptions] = useState({});\r\n  const [connectDialog, setConnectDialog] = useState({ open: false, candidate: null });\r\n  const [connectMessage, setConnectMessage] = useState(\"\");\r\n\r\n  const experienceLevelOptions = [\r\n    { value: \"any\", label: \"Any Experience\" },\r\n    { value: \"entry\", label: \"Entry Level (0-2 years)\" },\r\n    { value: \"mid\", label: \"Mid Level (3-5 years)\" },\r\n    { value: \"senior\", label: \"Senior Level (6+ years)\" }\r\n  ];\r\n\r\n  const educationLevelOptions = [\r\n    { value: \"any\", label: \"Any Education\" },\r\n    { value: \"bachelor\", label: \"Bachelor's Degree\" },\r\n    { value: \"master\", label: \"Master's Degree\" },\r\n    { value: \"phd\", label: \"PhD\" }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    loadFilterOptions();\r\n    fetchCandidates();\r\n  }, []);\r\n\r\n  const loadFilterOptions = async () => {\r\n    try {\r\n      const response = await getFilterOptions();\r\n      setFilterOptions(response.data);\r\n    } catch (error) {\r\n      console.error('Error loading filter options:', error);\r\n    }\r\n  };\r\n\r\n  const fetchCandidates = async (currentPage = 1) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const searchParams = {\r\n        q: searchTerm,\r\n        skills: skills || undefined,\r\n        experienceLevel: experienceLevel === \"any\" ? undefined : experienceLevel,\r\n        location: location || undefined,\r\n        educationLevel: educationLevel === \"any\" ? undefined : educationLevel,\r\n        page: currentPage,\r\n        limit: 12\r\n      };\r\n\r\n      const response = await searchCandidates(searchParams);\r\n      setCandidates(response.data.candidates || []);\r\n      setTotalPages(response.data.totalPages || 1);\r\n      setPage(currentPage);\r\n    } catch (error) {\r\n      console.error('Error fetching candidates:', error);\r\n      setError('Failed to fetch candidates. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    setPage(1);\r\n    fetchCandidates(1);\r\n  };\r\n\r\n  const handlePageChange = (event, newPage) => {\r\n    fetchCandidates(newPage);\r\n  };\r\n\r\n  const handleConnect = async (candidate) => {\r\n    setConnectDialog({ open: true, candidate });\r\n    setConnectMessage(`Hi ${candidate.firstName}, I'm interested in discussing potential opportunities with you.`);\r\n  };\r\n\r\n  const handleSendConnection = async () => {\r\n    try {\r\n      await connectWithCandidate(connectDialog.candidate.id, connectMessage);\r\n      toast({\r\n        title: \"Success!\",\r\n        description: \"Connection request sent successfully!\",\r\n      });\r\n      setConnectDialog({ open: false, candidate: null });\r\n      setConnectMessage(\"\");\r\n    } catch (error) {\r\n      console.error('Error sending connection:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to send connection request. Please try again.\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const CandidateCard = ({ candidate }) => (\r\n    <Card className=\"h-full flex flex-col hover:shadow-lg transition-all duration-200 border-l-4 border-l-purple-500\">\r\n      <CardContent className=\"flex-grow p-6\">\r\n        <div className=\"flex items-center gap-3 mb-4\">\r\n          <Avatar className=\"h-16 w-16\">\r\n            <AvatarImage src={candidate.profileImage} />\r\n            <AvatarFallback className=\"bg-gradient-to-br from-purple-500 to-cyan-500 text-white\">\r\n              {candidate.firstName?.[0]}{candidate.lastName?.[0]}\r\n            </AvatarFallback>\r\n          </Avatar>\r\n          <div className=\"flex-grow\">\r\n            <h3 className=\"font-bold text-lg\">{candidate.firstName} {candidate.lastName}</h3>\r\n            <p className=\"text-sm text-muted-foreground\">{candidate.title || 'Job Seeker'}</p>\r\n            {candidate.rating && (\r\n              <div className=\"flex items-center gap-1 mt-1\">\r\n                <Star className=\"h-4 w-4 fill-yellow-400 text-yellow-400\" />\r\n                <span className=\"text-sm font-medium\">{candidate.rating}/5</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {candidate.summary && (\r\n          <p className=\"text-sm text-muted-foreground mb-4 line-clamp-3\">\r\n            {candidate.summary}\r\n          </p>\r\n        )}\r\n\r\n        <div className=\"space-y-2 mb-4\">\r\n          {candidate.location && (\r\n            <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n              <MapPin className=\"h-4 w-4\" />\r\n              <span>{candidate.location}</span>\r\n            </div>\r\n          )}\r\n\r\n          {candidate.experience && (\r\n            <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n              <Briefcase className=\"h-4 w-4\" />\r\n              <span>{candidate.experience} years experience</span>\r\n            </div>\r\n          )}\r\n\r\n          {candidate.education && (\r\n            <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n              <GraduationCap className=\"h-4 w-4\" />\r\n              <span>{candidate.education}</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {candidate.skills && candidate.skills.length > 0 && (\r\n          <div className=\"mb-4\">\r\n            <p className=\"text-sm font-medium mb-2\">Skills:</p>\r\n            <div className=\"flex flex-wrap gap-1\">\r\n              {candidate.skills.slice(0, 4).map((skill, index) => (\r\n                <Badge key={index} variant=\"outline\" className=\"text-xs\">\r\n                  {skill.name || skill}\r\n                </Badge>\r\n              ))}\r\n              {candidate.skills.length > 4 && (\r\n                <Badge variant=\"outline\" className=\"text-xs\">\r\n                  +{candidate.skills.length - 4} more\r\n                </Badge>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"flex gap-2 mt-auto\">\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            className=\"flex-1\"\r\n            onClick={() => window.open(`/candidate/${candidate.id}`, '_blank')}\r\n          >\r\n            <Eye className=\"h-4 w-4 mr-1\" />\r\n            View\r\n          </Button>\r\n          <Button\r\n            variant=\"default\"\r\n            size=\"sm\"\r\n            className={`${themeColors.buttons.primary} text-white flex-1 `}\r\n            onClick={() => handleConnect(candidate)}\r\n          >\r\n            <Handshake className=\"h-4 w-4 mr-1\" />\r\n            Connect\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            size=\"sm\"\r\n            className=\"flex-1\"\r\n            onClick={() => window.open(`/recruit/${candidate.id}`, '_blank')}\r\n          >\r\n            <UserPlus className=\"h-4 w-4 mr-1\" />\r\n            Recruit\r\n          </Button>\r\n        </div>\r\n\r\n        {candidate.videoResume && (\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            className=\"w-full mt-2\"\r\n            onClick={() => window.open(candidate.videoResume, '_blank')}\r\n          >\r\n            <Play className=\"h-4 w-4 mr-1\" />\r\n            Watch Video Resume\r\n          </Button>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-6 px-4 max-w-7xl\">\r\n      <h1 className={`${themeColors.text.gradient} text-4xl font-bold mb-6 `}>\r\n        Find Talented Candidates\r\n      </h1>\r\n\r\n      {/* Search Filters */}\r\n      <Card className=\"mb-6\">\r\n        <CardContent className=\"p-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-6 gap-4\">\r\n            <div className=\"md:col-span-2\">\r\n              <Label htmlFor=\"search\">Search candidates</Label>\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n                <Input\r\n                  id=\"search\"\r\n                  placeholder=\"Job title, company, keywords...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  className=\"pl-9\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"skills\">Skills</Label>\r\n              <Input\r\n                id=\"skills\"\r\n                placeholder=\"React, Python, etc.\"\r\n                value={skills}\r\n                onChange={(e) => setSkills(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"experience\">Experience Level</Label>\r\n              <Select value={experienceLevel} onValueChange={setExperienceLevel}>\r\n                <SelectTrigger id=\"experience\">\r\n                  <SelectValue placeholder=\"Any Experience\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {experienceLevelOptions.map((option) => (\r\n                    <SelectItem key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"location\">Location</Label>\r\n              <Input\r\n                id=\"location\"\r\n                placeholder=\"City, State, Country\"\r\n                value={location}\r\n                onChange={(e) => setLocation(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"education\">Education</Label>\r\n              <Select value={educationLevel} onValueChange={setEducationLevel}>\r\n                <SelectTrigger id=\"education\">\r\n                  <SelectValue placeholder=\"Any Education\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {educationLevelOptions.map((option) => (\r\n                    <SelectItem key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mt-4\">\r\n            <Button\r\n              onClick={handleSearch}\r\n              disabled={loading}\r\n              className={`${themeColors.buttons.primary} text-white `}\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                  Searching...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Search className=\"mr-2 h-4 w-4\" />\r\n                  Search Candidates\r\n                </>\r\n              )}\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Error Alert */}\r\n      {error && (\r\n        <Alert variant=\"destructive\" className=\"mb-6\">\r\n          <AlertCircle className=\"h-4 w-4\" />\r\n          <AlertDescription>{error}</AlertDescription>\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Results */}\r\n      {loading ? (\r\n        <div className=\"flex justify-center py-12\">\r\n          <Loader2 className={`h-12 w-12 animate-spin ${themeColors.iconBackgrounds.primary.split(' ')[1]}`} />\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <h2 className=\"text-2xl font-semibold mb-4\">\r\n            {candidates.length > 0 \r\n              ? `Found ${candidates.length} candidates` \r\n              : 'No candidates found'\r\n            }\r\n          </h2>\r\n\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {candidates.map((candidate) => (\r\n              <CandidateCard key={candidate.id} candidate={candidate} />\r\n            ))}\r\n          </div>\r\n\r\n          {/* Pagination */}\r\n          {totalPages > 1 && (\r\n            <div className=\"flex justify-center gap-2 mt-8\">\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => handlePageChange(null, page - 1)}\r\n                disabled={page === 1}\r\n              >\r\n                Previous\r\n              </Button>\r\n              <span className=\"flex items-center px-4 text-sm text-muted-foreground\">\r\n                Page {page} of {totalPages}\r\n              </span>\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => handlePageChange(null, page + 1)}\r\n                disabled={page === totalPages}\r\n              >\r\n                Next\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* Connect Dialog */}\r\n      <Dialog \r\n        open={connectDialog.open} \r\n        onOpenChange={(open) => !open && setConnectDialog({ open: false, candidate: null })}\r\n      >\r\n        <DialogContent className=\"sm:max-w-[500px]\">\r\n          <DialogHeader>\r\n            <DialogTitle>\r\n              Connect with {connectDialog.candidate?.firstName} {connectDialog.candidate?.lastName}\r\n            </DialogTitle>\r\n            <DialogDescription>\r\n              Send a personalized message to start the conversation.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <div className=\"py-4\">\r\n            <Label htmlFor=\"message\">Message</Label>\r\n            <Textarea\r\n              id=\"message\"\r\n              placeholder=\"Write a personalized message...\"\r\n              value={connectMessage}\r\n              onChange={(e) => setConnectMessage(e.target.value)}\r\n              rows={4}\r\n              className=\"mt-2\"\r\n            />\r\n          </div>\r\n          <DialogFooter>\r\n            <Button \r\n              variant=\"outline\" \r\n              onClick={() => setConnectDialog({ open: false, candidate: null })}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button \r\n              onClick={handleSendConnection}\r\n              disabled={!connectMessage.trim()}\r\n              className={`${themeColors.buttons.primary} text-white `}\r\n            >\r\n              Send Connection Request\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\CandidateSearchPage2.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\CandidateSearchPage_temp.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useAuth' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 3,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 3,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useAuth"
            },
            "fix": {
              "range": [
                145,
                194
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useAuth'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'filterOptions' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 45,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 45,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "filterOptions"
            },
            "fix": {
              "range": [
                1876,
                1889
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'filterOptions'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchCandidates'. Either include it or remove the dependency array.",
        "line": 66,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 66,
        "endColumn": 8,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchCandidates]",
            "fix": {
              "range": [
                2653,
                2655
              ],
              "text": "[fetchCandidates]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { searchCandidates, connectWithCandidate, getFilterOptions } from '@/services/api';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/UI/card.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Input } from '@/components/UI/input.jsx';\r\nimport { Label } from '@/components/UI/label.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/UI/avatar.jsx';\r\nimport { Alert, AlertDescription } from '@/components/UI/alert.jsx';\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/UI/dialog.jsx';\r\nimport { Textarea } from '@/components/UI/textarea.jsx';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/UI/select.jsx';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport {\r\n  MapPin,\r\n  Search,\r\n  Play,\r\n  Briefcase,\r\n  Mail,\r\n  Phone,\r\n  Linkedin,\r\n  GraduationCap,\r\n  Star,\r\n  Handshake,\r\n  Eye,\r\n  UserPlus,\r\n  Loader2,\r\n  AlertCircle\r\n} from 'lucide-react';\r\n\r\nexport default function CandidateSearchPage() {\r\n  // const { user } = useAuth(); // Removed: unused variable\n  const { toast } = useToast();\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [skills, setSkills] = useState(\"\");\r\n  const [experienceLevel, setExperienceLevel] = useState(\"any\");\r\n  const [location, setLocation] = useState(\"\");\r\n  const [educationLevel, setEducationLevel] = useState(\"any\");\r\n  const [candidates, setCandidates] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [page, setPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [filterOptions, setFilterOptions] = useState({});\r\n  const [connectDialog, setConnectDialog] = useState({ open: false, candidate: null });\r\n  const [connectMessage, setConnectMessage] = useState(\"\");\r\n\r\n  const experienceLevelOptions = [\r\n    { value: \"any\", label: \"Any Experience\" },\r\n    { value: \"entry\", label: \"Entry Level (0-2 years)\" },\r\n    { value: \"mid\", label: \"Mid Level (3-5 years)\" },\r\n    { value: \"senior\", label: \"Senior Level (6+ years)\" }\r\n  ];\r\n\r\n  const educationLevelOptions = [\r\n    { value: \"any\", label: \"Any Education\" },\r\n    { value: \"bachelor\", label: \"Bachelor's Degree\" },\r\n    { value: \"master\", label: \"Master's Degree\" },\r\n    { value: \"phd\", label: \"PhD\" }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    loadFilterOptions();\r\n    fetchCandidates();\r\n  }, []);\r\n\r\n  const loadFilterOptions = async () => {\r\n    try {\r\n      const response = await getFilterOptions();\r\n      setFilterOptions(response.data);\r\n    } catch (error) {\r\n      console.error('Error loading filter options:', error);\r\n    }\r\n  };\r\n\r\n  const fetchCandidates = async (currentPage = 1) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const searchParams = {\r\n        q: searchTerm,\r\n        skills: skills || undefined,\r\n        experienceLevel: experienceLevel === \"any\" ? undefined : experienceLevel,\r\n        location: location || undefined,\r\n        educationLevel: educationLevel === \"any\" ? undefined : educationLevel,\r\n        page: currentPage,\r\n        limit: 12\r\n      };\r\n\r\n      const response = await searchCandidates(searchParams);\r\n      setCandidates(response.data.candidates || []);\r\n      setTotalPages(response.data.totalPages || 1);\r\n      setPage(currentPage);\r\n    } catch (error) {\r\n      console.error('Error fetching candidates:', error);\r\n      setError('Failed to fetch candidates. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    setPage(1);\r\n    fetchCandidates(1);\r\n  };\r\n\r\n  const handlePageChange = (event, newPage) => {\r\n    fetchCandidates(newPage);\r\n  };\r\n\r\n  const handleConnect = async (candidate) => {\r\n    setConnectDialog({ open: true, candidate });\r\n    setConnectMessage(`Hi ${candidate.firstName}, I'm interested in discussing potential opportunities with you.`);\r\n  };\r\n\r\n  const handleSendConnection = async () => {\r\n    try {\r\n      await connectWithCandidate(connectDialog.candidate.id, connectMessage);\r\n      toast({\r\n        title: \"Success!\",\r\n        description: \"Connection request sent successfully!\",\r\n      });\r\n      setConnectDialog({ open: false, candidate: null });\r\n      setConnectMessage(\"\");\r\n    } catch (error) {\r\n      console.error('Error sending connection:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to send connection request. Please try again.\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const CandidateCard = ({ candidate }) => (\r\n    <Card className=\"h-full flex flex-col hover:shadow-lg transition-all duration-200 border-l-4 border-l-purple-500\">\r\n      <CardContent className=\"flex-grow p-6\">\r\n        <div className=\"flex items-center gap-3 mb-4\">\r\n          <Avatar className=\"h-16 w-16\">\r\n            <AvatarImage src={candidate.profileImage} />\r\n            <AvatarFallback className=\"bg-gradient-to-br from-purple-500 to-cyan-500 text-white\">\r\n              {candidate.firstName?.[0]}{candidate.lastName?.[0]}\r\n            </AvatarFallback>\r\n          </Avatar>\r\n          <div className=\"flex-grow\">\r\n            <h3 className=\"font-bold text-lg\">{candidate.firstName} {candidate.lastName}</h3>\r\n            <p className=\"text-sm text-muted-foreground\">{candidate.title || 'Job Seeker'}</p>\r\n            {candidate.rating && (\r\n              <div className=\"flex items-center gap-1 mt-1\">\r\n                <Star className=\"h-4 w-4 fill-yellow-400 text-yellow-400\" />\r\n                <span className=\"text-sm font-medium\">{candidate.rating}/5</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {candidate.summary && (\r\n          <p className=\"text-sm text-muted-foreground mb-4 line-clamp-3\">\r\n            {candidate.summary}\r\n          </p>\r\n        )}\r\n\r\n        <div className=\"space-y-2 mb-4\">\r\n          {candidate.location && (\r\n            <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n              <MapPin className=\"h-4 w-4\" />\r\n              <span>{candidate.location}</span>\r\n            </div>\r\n          )}\r\n\r\n          {candidate.experience && (\r\n            <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n              <Briefcase className=\"h-4 w-4\" />\r\n              <span>{candidate.experience} years experience</span>\r\n            </div>\r\n          )}\r\n\r\n          {candidate.education && (\r\n            <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n              <GraduationCap className=\"h-4 w-4\" />\r\n              <span>{candidate.education}</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {candidate.skills && candidate.skills.length > 0 && (\r\n          <div className=\"mb-4\">\r\n            <p className=\"text-sm font-medium mb-2\">Skills:</p>\r\n            <div className=\"flex flex-wrap gap-1\">\r\n              {candidate.skills.slice(0, 4).map((skill, index) => (\r\n                <Badge key={index} variant=\"outline\" className=\"text-xs\">\r\n                  {skill.name || skill}\r\n                </Badge>\r\n              ))}\r\n              {candidate.skills.length > 4 && (\r\n                <Badge variant=\"outline\" className=\"text-xs\">\r\n                  +{candidate.skills.length - 4} more\r\n                </Badge>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"flex gap-2 mt-auto\">\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            className=\"flex-1\"\r\n            onClick={() => window.open(`/candidate/${candidate.id}`, '_blank')}\r\n          >\r\n            <Eye className=\"h-4 w-4 mr-1\" />\r\n            View\r\n          </Button>\r\n          <Button\r\n            variant=\"default\"\r\n            size=\"sm\"\r\n            className=\"flex-1 `+themeColors.buttons.primary.replace('bg-gradient-to-r ', '')+` \"\r\n            onClick={() => handleConnect(candidate)}\r\n          >\r\n            <Handshake className=\"h-4 w-4 mr-1\" />\r\n            Connect\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            size=\"sm\"\r\n            className=\"flex-1\"\r\n            onClick={() => window.open(`/recruit/${candidate.id}`, '_blank')}\r\n          >\r\n            <UserPlus className=\"h-4 w-4 mr-1\" />\r\n            Recruit\r\n          </Button>\r\n        </div>\r\n\r\n        {candidate.videoResume && (\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            className=\"w-full mt-2\"\r\n            onClick={() => window.open(candidate.videoResume, '_blank')}\r\n          >\r\n            <Play className=\"h-4 w-4 mr-1\" />\r\n            Watch Video Resume\r\n          </Button>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-6 px-4 max-w-7xl\">\r\n      <h1 className=\"text-4xl font-bold mb-6 bg-gradient-to-r `+themeColors.gradients.primary+` bg-clip-text text-transparent\">\r\n        Find Talented Candidates\r\n      </h1>\r\n\r\n      {/* Search Filters */}\r\n      <Card className=\"mb-6\">\r\n        <CardContent className=\"p-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-6 gap-4\">\r\n            <div className=\"md:col-span-2\">\r\n              <Label htmlFor=\"search\">Search candidates</Label>\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n                <Input\r\n                  id=\"search\"\r\n                  placeholder=\"Job title, company, keywords...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  className=\"pl-9\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"skills\">Skills</Label>\r\n              <Input\r\n                id=\"skills\"\r\n                placeholder=\"React, Python, etc.\"\r\n                value={skills}\r\n                onChange={(e) => setSkills(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"experience\">Experience Level</Label>\r\n              <Select value={experienceLevel} onValueChange={setExperienceLevel}>\r\n                <SelectTrigger id=\"experience\">\r\n                  <SelectValue placeholder=\"Any Experience\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {experienceLevelOptions.map((option) => (\r\n                    <SelectItem key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"location\">Location</Label>\r\n              <Input\r\n                id=\"location\"\r\n                placeholder=\"City, State, Country\"\r\n                value={location}\r\n                onChange={(e) => setLocation(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"education\">Education</Label>\r\n              <Select value={educationLevel} onValueChange={setEducationLevel}>\r\n                <SelectTrigger id=\"education\">\r\n                  <SelectValue placeholder=\"Any Education\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {educationLevelOptions.map((option) => (\r\n                    <SelectItem key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mt-4\">\r\n            <Button\r\n              onClick={handleSearch}\r\n              disabled={loading}\r\n              className=\"bg-gradient-to-r `+themeColors.gradients.primary+` hover:from-purple-700 hover:to-cyan-700\"\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                  Searching...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Search className=\"mr-2 h-4 w-4\" />\r\n                  Search Candidates\r\n                </>\r\n              )}\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Error Alert */}\r\n      {error && (\r\n        <Alert variant=\"destructive\" className=\"mb-6\">\r\n          <AlertCircle className=\"h-4 w-4\" />\r\n          <AlertDescription>{error}</AlertDescription>\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Results */}\r\n      {loading ? (\r\n        <div className=\"flex justify-center py-12\">\r\n          <Loader2 className=\"h-12 w-12 animate-spin `+themeColors.iconBackgrounds.primary.split(' ')[1]+`\" />\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <h2 className=\"text-2xl font-semibold mb-4\">\r\n            {candidates.length > 0 \r\n              ? `Found ${candidates.length} candidates` \r\n              : 'No candidates found'\r\n            }\r\n          </h2>\r\n\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {candidates.map((candidate) => (\r\n              <CandidateCard key={candidate.id} candidate={candidate} />\r\n            ))}\r\n          </div>\r\n\r\n          {/* Pagination */}\r\n          {totalPages > 1 && (\r\n            <div className=\"flex justify-center gap-2 mt-8\">\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => handlePageChange(null, page - 1)}\r\n                disabled={page === 1}\r\n              >\r\n                Previous\r\n              </Button>\r\n              <span className=\"flex items-center px-4 text-sm text-muted-foreground\">\r\n                Page {page} of {totalPages}\r\n              </span>\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => handlePageChange(null, page + 1)}\r\n                disabled={page === totalPages}\r\n              >\r\n                Next\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* Connect Dialog */}\r\n      <Dialog \r\n        open={connectDialog.open} \r\n        onOpenChange={(open) => !open && setConnectDialog({ open: false, candidate: null })}\r\n      >\r\n        <DialogContent className=\"sm:max-w-[500px]\">\r\n          <DialogHeader>\r\n            <DialogTitle>\r\n              Connect with {connectDialog.candidate?.firstName} {connectDialog.candidate?.lastName}\r\n            </DialogTitle>\r\n            <DialogDescription>\r\n              Send a personalized message to start the conversation.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <div className=\"py-4\">\r\n            <Label htmlFor=\"message\">Message</Label>\r\n            <Textarea\r\n              id=\"message\"\r\n              placeholder=\"Write a personalized message...\"\r\n              value={connectMessage}\r\n              onChange={(e) => setConnectMessage(e.target.value)}\r\n              rows={4}\r\n              className=\"mt-2\"\r\n            />\r\n          </div>\r\n          <DialogFooter>\r\n            <Button \r\n              variant=\"outline\" \r\n              onClick={() => setConnectDialog({ open: false, candidate: null })}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button \r\n              onClick={handleSendConnection}\r\n              disabled={!connectMessage.trim()}\r\n              className=\"`+themeColors.buttons.primary.replace('bg-gradient-to-r ', '')+` \"\r\n            >\r\n              Send Connection Request\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\CareerAdvicePage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'selectedPath' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 62,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 62,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "selectedPath"
            },
            "fix": {
              "range": [
                1337,
                1349
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'selectedPath'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleBookmark' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 73,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 73,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleBookmark"
            },
            "fix": {
              "range": [
                1799,
                2020
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleBookmark'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'isBookmarked' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 82,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 82,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "isBookmarked"
            },
            "fix": {
              "range": [
                2026,
                2131
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'isBookmarked'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { getCareerAdvice } from '../services/api';\r\nimport {\r\n  BookOpen,\r\n  Video,\r\n  Users,\r\n  Lightbulb,\r\n  Globe,\r\n  User,\r\n  MessageCircle,\r\n  TrendingUp,\r\n  Briefcase,\r\n  Award,\r\n  Search,\r\n  Clock,\r\n  Eye,\r\n  Heart,\r\n  Share2,\r\n  Play,\r\n  ArrowRight\r\n} from 'lucide-react';\r\n\r\nconst QuickTipIcons = {\r\n  User,\r\n  MessageCircle,\r\n  TrendingUp,\r\n  Users,\r\n  Lightbulb,\r\n};\r\n\r\nconst CareerAdvicePage = () => {\r\n  const [adviceData, setAdviceData] = useState({\r\n    articles: [],\r\n    videos: [],\r\n    paths: [],\r\n    tips: [],\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchAdviceData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await getCareerAdvice();\r\n        setAdviceData(response.data);\r\n        setError(null);\r\n      } catch (err) {\r\n        setError('Failed to load career advice content. Please try again later.');\r\n        console.error(err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchAdviceData();\r\n  }, []);\r\n\r\n  const [activeCategory, setActiveCategory] = useState('all');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [bookmarkedItems, setBookmarkedItems] = useState([]);\r\n  const [selectedPath, setSelectedPath] = useState(null);\r\n\r\n  const categories = [\r\n    { id: 'all', label: 'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹', icon: Globe },\r\n    { id: 'video-tips', label: 'Ù†ØµØ§Ø¦Ø­ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ', icon: Video },\r\n    { id: 'skills', label: 'ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª', icon: TrendingUp },\r\n    { id: 'interview', label: 'Ù…Ù‚Ø§Ø¨Ù„Ø§Øª Ø§Ù„Ø¹Ù…Ù„', icon: Users },\r\n    { id: 'career', label: 'Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ù‡Ù†ÙŠ', icon: Briefcase },\r\n    { id: 'salary', label: 'Ø§Ù„Ø±Ø§ØªØ¨ ÙˆØ§Ù„Ù…Ø²Ø§ÙŠØ§', icon: Award }\r\n  ];\r\n\r\n  const handleBookmark = (itemId, type) => {\r\n    const key = `${type}-${itemId}`;\r\n    setBookmarkedItems(prev => \r\n      prev.includes(key) \r\n        ? prev.filter(id => id !== key)\r\n        : [...prev, key]\r\n    );\r\n  };\r\n\r\n  const isBookmarked = (itemId, type) => {\r\n    return bookmarkedItems.includes(`${type}-${itemId}`);\r\n  };\r\n\r\n  const getDifficultyColor = (difficulty) => {\r\n    switch (difficulty) {\r\n      case 'Ù…Ø¨ØªØ¯Ø¦': return 'bg-green-100 text-green-800';\r\n      case 'Ù…ØªÙˆØ³Ø·': return 'bg-yellow-100 text-yellow-800';\r\n      case 'Ù…ØªÙ‚Ø¯Ù…': return 'bg-red-100 text-red-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  const getDemandColor = (demand) => {\r\n    switch (demand) {\r\n      case 'Ø¹Ø§Ù„ÙŠ Ø¬Ø¯Ø§Ù‹': return 'bg-red-100 text-red-800';\r\n      case 'Ø¹Ø§Ù„ÙŠ': return 'bg-orange-100 text-orange-800';\r\n      case 'Ù…ØªÙˆØ³Ø· Ø¥Ù„Ù‰ Ø¹Ø§Ù„ÙŠ': return 'bg-yellow-100 text-yellow-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-16\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"text-center\">\r\n            <h1 className=\"text-4xl font-bold mb-4\">\r\n              Ù…Ø±ÙƒØ² Ø§Ù„Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ù…Ù‡Ù†ÙŠØ©\r\n            </h1>\r\n            <p className=\"text-xl opacity-90 mb-8 max-w-3xl mx-auto\">\r\n              Ø§ÙƒØªØ´Ù Ø£Ø­Ø¯Ø« Ø§Ù„Ù†ØµØ§Ø¦Ø­ ÙˆØ§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ù„ØªØ·ÙˆÙŠØ± Ù…Ø³ÙŠØ±ØªÙƒ Ø§Ù„Ù…Ù‡Ù†ÙŠØ© ÙˆØªØ­Ù‚ÙŠÙ‚ Ø£Ù‡Ø¯Ø§ÙÙƒ\r\n            </p>\r\n            \r\n            {/* Search Bar */}\r\n            <div className=\"max-w-2xl mx-auto relative\">\r\n              <Search className=\"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù†ØµØ§Ø¦Ø­ ÙˆØ§Ù„Ù…Ù‚Ø§Ù„Ø§Øª...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                className=\"w-full pr-12 pl-4 py-4 rounded-lg text-gray-900 placeholder-gray-500 focus:ring-2 focus:ring-white focus:ring-opacity-50\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Categories */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex flex-wrap gap-4 justify-center\">\r\n            {categories.map((category) => {\r\n              const Icon = category.icon;\r\n              return (\r\n                <button\r\n                  key={category.id}\r\n                  onClick={() => setActiveCategory(category.id)}\r\n                  className={`flex items-center space-x-2 space-x-reverse px-6 py-3 rounded-full transition-colors ${\r\n                    activeCategory === category.id\r\n                      ? 'bg-blue-600 text-white'\r\n                      : 'bg-white text-gray-700 hover:bg-gray-50 border border-gray-200'\r\n                  }`}\r\n                >\r\n                  <Icon className=\"h-5 w-5\" />\r\n                  <span className=\"font-medium\">{category.label}</span>\r\n                </button>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {loading && <div className=\"text-center py-12\">Loading content...</div>}\r\n        {error && <div className=\"text-center py-12 text-red-500\">{error}</div>}\r\n\r\n        {!loading && !error && (\r\n          <>\r\n            {/* Quick Tips */}\r\n            <div className=\"mb-12\">\r\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Ù†ØµØ§Ø¦Ø­ Ø³Ø±ÙŠØ¹Ø©</h2>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n                {adviceData.tips.map((tip) => {\r\n                  const Icon = QuickTipIcons[tip.metadata.icon] || Lightbulb;\r\n                  return (\r\n                    <div key={tip.id} className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow\">\r\n                      <div className=\"flex items-center mb-4\">\r\n                        <div className=\"p-2 bg-blue-100 rounded-lg\">\r\n                          <Icon className=\"h-6 w-6 text-blue-600\" />\r\n                        </div>\r\n                        <span className=\"mr-3 text-sm text-gray-600\">{tip.category}</span>\r\n                      </div>\r\n                      <h3 className=\"font-semibold text-gray-900 mb-2\">{tip.title}</h3>\r\n                      <p className=\"text-gray-600 text-sm\">{tip.description}</p>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Featured Articles */}\r\n            <div className=\"mb-12\">\r\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ù…ÙŠØ²Ø©</h2>\r\n              <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n                {adviceData.articles.map((article) => (\r\n                  <div key={article.id} className=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow\">\r\n                    <div className=\"relative\">\r\n                      <img\r\n                        src={article.metadata.image}\r\n                        alt={article.title}\r\n                        className=\"w-full h-48 object-cover\"\r\n                      />\r\n                      <div className=\"absolute top-4 left-4\">\r\n                        <span className=\"px-3 py-1 bg-yellow-400 text-gray-900 text-sm font-semibold rounded-full\">\r\n                          Ù…Ù…ÙŠØ²\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"absolute bottom-4 right-4\">\r\n                        <span className={`px-2 py-1 text-xs rounded-full ${getDifficultyColor(article.metadata.difficulty)}`}>\r\n                          {article.metadata.difficulty}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"p-6\">\r\n                      <div className=\"flex items-center justify-between mb-3\">\r\n                        <span className=\"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full\">\r\n                          {article.category}\r\n                        </span>\r\n                        <div className=\"flex items-center space-x-4 space-x-reverse text-sm text-gray-500\">\r\n                          <div className=\"flex items-center space-x-1 space-x-reverse\">\r\n                            <Clock className=\"h-4 w-4\" />\r\n                            <span>{article.metadata.readTime}</span>\r\n                          </div>\r\n                          <div className=\"flex items-center space-x-1 space-x-reverse\">\r\n                            <Eye className=\"h-4 w-4\" />\r\n                            <span>{article.metadata.views?.toLocaleString() || 0}</span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <h3 className=\"text-lg font-semibold text-gray-900 mb-2 line-clamp-2\">\r\n                        {article.title}\r\n                      </h3>\r\n                      <p className=\"text-gray-600 mb-4 line-clamp-3\">\r\n                        {article.description}\r\n                      </p>\r\n                      \r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center space-x-3 space-x-reverse\">\r\n                          <div className=\"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-bold\">\r\n                            {article.metadata.author?.charAt(0)}\r\n                          </div>\r\n                          <div>\r\n                            <p className=\"text-sm font-medium text-gray-900\">{article.metadata.author}</p>\r\n                            <p className=\"text-xs text-gray-500\">{article.metadata.authorRole}</p>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex items-center space-x-3 space-x-reverse\">\r\n                          <button className=\"flex items-center space-x-1 space-x-reverse text-gray-600 hover:text-red-500 transition-colors\">\r\n                            <Heart className=\"h-4 w-4\" />\r\n                            <span className=\"text-sm\">{article.metadata.likes || 0}</span>\r\n                          </button>\r\n                          <button className=\"text-gray-600 hover:text-blue-500 transition-colors\">\r\n                            <Share2 className=\"h-4 w-4\" />\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div className=\"mt-4 pt-4 border-t border-gray-100\">\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                          {article.metadata.tags?.map((tag, index) => (\r\n                            <span key={index} className=\"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded\">\r\n                              {tag}\r\n                            </span>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Video Tutorials */}\r\n            <div className=\"mb-12\">\r\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Ø´Ø±ÙˆØ­Ø§Øª ÙÙŠØ¯ÙŠÙˆ</h2>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                {adviceData.videos.map((video) => (\r\n                  <div key={video.id} className=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow\">\r\n                    <div className=\"relative\">\r\n                      <img\r\n                        src={video.metadata.thumbnail}\r\n                        alt={video.title}\r\n                        className=\"w-full h-40 object-cover\"\r\n                      />\r\n                      <div className=\"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center\">\r\n                        <button className=\"w-12 h-12 bg-white bg-opacity-30 rounded-full flex items-center justify-center text-white hover:bg-opacity-50 transition-all\">\r\n                          <Play className=\"h-6 w-6\" />\r\n                        </button>\r\n                      </div>\r\n                      <div className=\"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white text-sm px-2 py-1 rounded\">\r\n                        {video.metadata.duration}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"p-4\">\r\n                      <div className=\"flex items-center justify-between mb-2\">\r\n                        <span className=\"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full\">\r\n                          {video.category}\r\n                        </span>\r\n                        <span className={`px-2 py-1 text-xs rounded-full ${getDifficultyColor(video.metadata.level)}`}>\r\n                          {video.metadata.level}\r\n                        </span>\r\n                      </div>\r\n                      \r\n                      <h3 className=\"font-semibold text-gray-900 mb-2 line-clamp-2\">\r\n                        {video.title}\r\n                      </h3>\r\n                      <p className=\"text-gray-600 text-sm mb-3 line-clamp-2\">\r\n                        {video.description}\r\n                      </p>\r\n                      \r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center space-x-2 space-x-reverse\">\r\n                          <div className=\"w-6 h-6 bg-gradient-to-br from-green-500 to-blue-600 rounded-full flex items-center justify-center text-white text-xs font-bold\">\r\n                            {video.metadata.instructor?.charAt(0)}\r\n                          </div>\r\n                          <span className=\"text-sm text-gray-700\">{video.metadata.instructor}</span>\r\n                        </div>\r\n                        <div className=\"flex items-center space-x-1 space-x-reverse text-gray-500\">\r\n                          <Eye className=\"h-4 w-4\" />\r\n                          <span className=\"text-sm\">{video.metadata.views?.toLocaleString() || 0}</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Career Paths */}\r\n            <div className=\"mb-12\">\r\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Ù…Ø³Ø§Ø±Ø§Øª Ù…Ù‡Ù†ÙŠØ© Ù…Ù‚ØªØ±Ø­Ø©</h2>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                {adviceData.paths.map((path) => (\r\n                  <div key={path.id} className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow\">\r\n                    <div className=\"text-center mb-4\">\r\n                      <div className=\"text-4xl mb-3\">{path.metadata.icon || 'ðŸ’¼'}</div>\r\n                      <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">{path.title}</h3>\r\n                      <p className=\"text-gray-600 text-sm\">{path.description}</p>\r\n                    </div>\r\n                    \r\n                    <div className=\"space-y-3 mb-6\">\r\n                      <div className=\"flex items-center justify-between text-sm\">\r\n                        <span className=\"text-gray-600\">Ø¹Ø¯Ø¯ Ø§Ù„Ø®Ø·ÙˆØ§Øª:</span>\r\n                        <span className=\"font-medium\">{path.metadata.steps} Ø®Ø·ÙˆØ§Øª</span>\r\n                      </div>\r\n                      <div className=\"flex items-center justify-between text-sm\">\r\n                        <span className=\"text-gray-600\">Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©:</span>\r\n                        <span className=\"font-medium\">{path.metadata.duration}</span>\r\n                      </div>\r\n                      <div className=\"flex items-center justify-between text-sm\">\r\n                        <span className=\"text-gray-600\">Ø§Ù„Ù…Ø³ØªÙˆÙ‰:</span>\r\n                        <span className={`px-2 py-1 text-xs rounded-full ${getDifficultyColor(path.metadata.difficulty)}`}>\r\n                          {path.metadata.difficulty}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"flex items-center justify-between text-sm\">\r\n                        <span className=\"text-gray-600\">Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹:</span>\r\n                        <span className=\"font-medium text-green-600\">{path.metadata.salary}</span>\r\n                      </div>\r\n                      <div className=\"flex items-center justify-between text-sm\">\r\n                        <span className=\"text-gray-600\">Ø§Ù„Ø·Ù„Ø¨ ÙÙŠ Ø§Ù„Ø³ÙˆÙ‚:</span>\r\n                        <span className={`px-2 py-1 text-xs rounded-full ${getDemandColor(path.metadata.demand)}`}>\r\n                          {path.metadata.demand}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"mb-6\">\r\n                      <h4 className=\"font-medium text-gray-900 mb-3\">Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:</h4>\r\n                      <div className=\"flex flex-wrap gap-2\">\r\n                        {path.metadata.skills.map((skill, index) => (\r\n                          <span key={index} className=\"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded\">\r\n                            {skill}\r\n                          </span>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <button\r\n                      onClick={() => setSelectedPath(path)}\r\n                      className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2 space-x-reverse\"\r\n                    >\r\n                      <span>Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø³Ø§Ø±</span>\r\n                      <ArrowRight className=\"h-4 w-4\" />\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Newsletter Signup */}\r\n            <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-8 text-white text-center\">\r\n              <h3 className=\"text-2xl font-bold mb-4\">Ø§Ø´ØªØ±Ùƒ ÙÙŠ Ø§Ù„Ù†Ø´Ø±Ø© Ø§Ù„Ø¥Ø®Ø¨Ø§Ø±ÙŠØ©</h3>\r\n              <p className=\"mb-6 opacity-90\">\r\n                Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø£Ø­Ø¯Ø« Ø§Ù„Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ù…Ù‡Ù†ÙŠØ© ÙˆØ§Ù„ÙØ±Øµ Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ© Ù…Ø¨Ø§Ø´Ø±Ø© ÙÙŠ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ\r\n              </p>\r\n              <div className=\"max-w-md mx-auto flex gap-4\">\r\n                <input\r\n                  type=\"email\"\r\n                  placeholder=\"Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ\"\r\n                  className=\"flex-1 px-4 py-2 rounded-md text-gray-900\"\r\n                />\r\n                <button className=\"bg-white text-blue-600 px-6 py-2 rounded-md hover:bg-gray-100 transition-colors font-medium\">\r\n                  Ø§Ø´ØªØ±Ùƒ\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CareerAdvicePage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\Chat.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'formatDistanceToNow' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 16,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 16,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "formatDistanceToNow"
            },
            "fix": {
              "range": [
                428,
                475
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'formatDistanceToNow'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'authLoading' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 27,
        "column": 26,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 27,
        "endColumn": 37,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "authLoading"
            },
            "fix": {
              "range": [
                943,
                965
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'authLoading'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'isTyping' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 40,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 40,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "isTyping"
            },
            "fix": {
              "range": [
                1696,
                1704
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'isTyping'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setIsTyping' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 40,
        "column": 20,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 40,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setIsTyping"
            },
            "fix": {
              "range": [
                1704,
                1717
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setIsTyping'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'typingTimeoutRef' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 45,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 45,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "typingTimeoutRef"
            },
            "fix": {
              "range": [
                1914,
                1952
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'typingTimeoutRef'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 69,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 69,
        "endColumn": 15
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'normalizeConversation'. Either include it or remove the dependency array.",
        "line": 225,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 225,
        "endColumn": 16,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [normalizeConversation, user?.id]",
            "fix": {
              "range": [
                7816,
                7826
              ],
              "text": "[normalizeConversation, user?.id]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect, useRef } from 'react';\r\nimport {\r\n  Search, Send, ArrowLeft, MoreVertical, Check, CheckCheck,\r\n  RefreshCw, Loader2\r\n} from 'lucide-react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport {\r\n  getConversations,\r\n  getMessages,\r\n  sendMessage,\r\n  markAsRead,\r\n  startConversation,\r\n  getAllUsers\r\n} from '../services/chatService';\r\nimport { useSocket } from '../hooks/useSocket';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/UI/avatar.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Input } from '@/components/UI/input.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport localize from '@/utils/localize';\r\nimport { ScrollArea } from '@/components/UI/scroll-area.jsx';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport { cn } from '@/lib/utils';\r\n\r\nconst Chat = () => {\r\n  const { user, loading: authLoading } = useAuth();\r\n  const { toast } = useToast();\r\n  const [conversations, setConversations] = useState([]);\r\n  const [activeConversation, setActiveConversation] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [loading, setLoading] = useState({ conversations: true, messages: false });\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [showConversations, setShowConversations] = useState(true);\r\n  const [showAllUsers, setShowAllUsers] = useState(false);\r\n  const [allUsers, setAllUsers] = useState([]);\r\n  const [usersLoading, setUsersLoading] = useState(false);\r\n  const [onlineUsers, setOnlineUsers] = useState(new Set());\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [otherUserTyping, setOtherUserTyping] = useState(false);\r\n  const [pendingMessages, setPendingMessages] = useState({});\r\n  \r\n  const messagesEndRef = useRef(null);\r\n  const typingTimeoutRef = useRef(null);\r\n  const socket = useSocket();\r\n  const isMobile = window.innerWidth < 960;\r\n\r\n  const formatMessageTime = (timestamp) => {\r\n    if (!timestamp) return '';\r\n    try {\r\n      const date = new Date(timestamp);\r\n      const now = new Date();\r\n      const seconds = Math.floor((now - date) / 1000);\r\n      \r\n      if (seconds < 60) return 'just now';\r\n      if (seconds < 3600) return `${Math.floor(seconds / 60)}m ago`;\r\n      if (seconds < 86400) return `${Math.floor(seconds / 3600)}h ago`;\r\n      \r\n      const yesterday = new Date(now);\r\n      yesterday.setDate(yesterday.getDate() - 1);\r\n      if (date.toDateString() === yesterday.toDateString()) return 'yesterday';\r\n      \r\n      return date.toLocaleDateString('en-US', { \r\n        month: 'short', \r\n        day: 'numeric',\r\n        year: now.getFullYear() !== date.getFullYear() ? 'numeric' : undefined\r\n      });\r\n    } catch (e) {\r\n      return '';\r\n    }\r\n  };\r\n\r\n  const normalizeUser = (u) => ({\r\n    ...u,\r\n    display_name: u.display_name || u.displayName,\r\n    photo_url: u.photo_url || u.photoUrl || u.photoURL,\r\n  });\r\n\r\n  const normalizeMessage = (m) => ({\r\n    ...m,\r\n    id: m.id,\r\n    content: m.content || m.text || m.body,\r\n    sender_id: m.sender_id || m.senderId,\r\n    receiver_id: m.receiver_id || m.receiverId,\r\n    conversation_id: m.conversation_id || m.conversationId,\r\n    created_at: m.created_at || m.createdAt,\r\n    read: !!m.read,\r\n  });\r\n\r\n  const normalizeConversation = (c) => ({\r\n    ...c,\r\n    id: c.id,\r\n    other_user: c.other_user ? normalizeUser(c.other_user) : (c.otherUser ? normalizeUser(c.otherUser) : null),\r\n    last_message: c.last_message ? normalizeMessage(c.last_message) : (c.lastMessage ? normalizeMessage(c.lastMessage) : null),\r\n    unread_count: c.unread_count ?? c.unreadCount ?? 0,\r\n  });\r\n\r\n  const fetchAllUsers = async () => {\r\n    try {\r\n      setUsersLoading(true);\r\n      const response = await getAllUsers();\r\n      const users = (response.data.users || []).map(normalizeUser);\r\n      setAllUsers(users);\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error);\r\n    } finally {\r\n      setUsersLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleStartConversation = async (otherUser) => {\r\n    try {\r\n      const response = await startConversation(otherUser.id);\r\n      const newConv = normalizeConversation(response.data.conversation || response.conversation);\r\n      \r\n      setConversations(prev => {\r\n        const exists = prev.find(c => c.id === newConv.id);\r\n        return exists ? prev : [newConv, ...prev];\r\n      });\r\n      \r\n      setActiveConversation(newConv);\r\n      setShowAllUsers(false);\r\n      setShowConversations(false);\r\n      await fetchMessages(newConv.id);\r\n    } catch (error) {\r\n      console.error('Error starting conversation:', error);\r\n      toast({ description: \"Failed to start conversation\", variant: \"destructive\" });\r\n    }\r\n  };\r\n\r\n  const fetchMessages = async (conversationId) => {\r\n    try {\r\n      setLoading(prev => ({ ...prev, messages: true }));\r\n      const response = await getMessages(conversationId);\r\n      const msgs = (response.data.messages || []).map(normalizeMessage);\r\n      setMessages(msgs);\r\n      \r\n      msgs.forEach(msg => {\r\n        if (!msg.read && msg.sender_id !== user.id) {\r\n          markAsRead(msg.id).catch(console.error);\r\n        }\r\n      });\r\n    } catch (error) {\r\n      console.error('Error fetching messages:', error);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, messages: false }));\r\n    }\r\n  };\r\n\r\n  const handleSendMessage = async (e) => {\r\n    e.preventDefault();\r\n    if (!newMessage.trim() || !activeConversation) return;\r\n\r\n    const tempId = `temp_${Date.now()}`;\r\n    const tempMessage = {\r\n      id: tempId,\r\n      content: newMessage,\r\n      sender_id: user.id,\r\n      conversation_id: activeConversation.id,\r\n      created_at: new Date().toISOString(),\r\n      read: false,\r\n      pending: true\r\n    };\r\n\r\n    setMessages(prev => [...prev, tempMessage]);\r\n    setPendingMessages(prev => ({ ...prev, [tempId]: true }));\r\n    setNewMessage('');\r\n\r\n    try {\r\n      const response = await sendMessage(activeConversation.id, newMessage);\r\n      const sentMessage = normalizeMessage(response.data.message || response.message);\r\n      \r\n      setMessages(prev => prev.map(msg => \r\n        msg.id === tempId ? sentMessage : msg\r\n      ));\r\n      setPendingMessages(prev => {\r\n        const updated = { ...prev };\r\n        delete updated[tempId];\r\n        return updated;\r\n      });\r\n      \r\n      if (socket) {\r\n        socket.emit('send_message', sentMessage);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n      setMessages(prev => prev.filter(msg => msg.id !== tempId));\r\n      setPendingMessages(prev => {\r\n        const updated = { ...prev };\r\n        delete updated[tempId];\r\n        return updated;\r\n      });\r\n      toast({ description: \"Failed to send message\", variant: \"destructive\" });\r\n    }\r\n  };\r\n\r\n  const handleSelectConversation = async (conversation) => {\r\n    setActiveConversation(conversation);\r\n    setShowConversations(false);\r\n    await fetchMessages(conversation.id);\r\n    \r\n    setConversations(prev => prev.map(c =>\r\n      c.id === conversation.id ? { ...c, unread_count: 0 } : c\r\n    ));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchConversations = async () => {\r\n      try {\r\n        setLoading(prev => ({ ...prev, conversations: true }));\r\n        const response = await getConversations();\r\n        const convs = (response.data.conversations || []).map(normalizeConversation);\r\n        setConversations(convs);\r\n      } catch (error) {\r\n        console.error('Error fetching conversations:', error);\r\n      } finally {\r\n        setLoading(prev => ({ ...prev, conversations: false }));\r\n      }\r\n    };\r\n\r\n    if (user?.id) {\r\n      fetchConversations();\r\n    }\r\n  }, [user?.id]);\r\n\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  useEffect(() => {\r\n    if (!socket || !user?.id) return;\r\n\r\n    socket.connect();\r\n    socket.emit('register', String(user.id));\r\n\r\n    socket.on('user_status_update', ({ userId, isOnline }) => {\r\n      setOnlineUsers(prev => {\r\n        const updated = new Set(prev);\r\n        isOnline ? updated.add(userId) : updated.delete(userId);\r\n        return updated;\r\n      });\r\n    });\r\n\r\n    socket.on('new_message', (message) => {\r\n      const normalizedMessage = normalizeMessage(message);\r\n      if (activeConversation && normalizedMessage.conversation_id === activeConversation.id) {\r\n        setMessages(prev => [...prev, normalizedMessage]);\r\n        markAsRead(normalizedMessage.id);\r\n      }\r\n    });\r\n\r\n    socket.on('typing', ({ userId, isTyping: typing }) => {\r\n      if (activeConversation && userId === activeConversation.other_user?.id) {\r\n        setOtherUserTyping(typing);\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.off('user_status_update');\r\n      socket.off('new_message');\r\n      socket.off('typing');\r\n      socket.disconnect();\r\n    };\r\n  }, [socket, user?.id, activeConversation]);\r\n\r\n  const filteredConversations = conversations.filter(conv =>\r\n    conv.other_user?.display_name?.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  const filteredUsers = allUsers.filter(u =>\r\n    u.id !== user?.id &&\r\n    u.display_name?.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div className=\"flex h-[calc(100vh-64px)] bg-gray-50\">\r\n      {/* Conversations List */}\r\n      <div className={cn(\r\n        \"w-full md:w-80 bg-white border-r flex flex-col\",\r\n        !showConversations && isMobile && \"hidden\"\r\n      )}>\r\n        <div className=\"p-4 border-b\">\r\n          <div className=\"flex items-center gap-2 mb-3\">\r\n            <Input\r\n              placeholder=\"Search conversations...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              className=\"flex-1\"\r\n              icon={<Search className=\"h-4 w-4\" />}\r\n            />\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <Button\r\n              variant={!showAllUsers ? \"default\" : \"outline\"}\r\n              size=\"sm\"\r\n              onClick={() => setShowAllUsers(false)}\r\n              className=\"flex-1\"\r\n            >\r\n              Conversations\r\n            </Button>\r\n            <Button\r\n              variant={showAllUsers ? \"default\" : \"outline\"}\r\n              size=\"sm\"\r\n              onClick={() => {\r\n                setShowAllUsers(true);\r\n                if (allUsers.length === 0) fetchAllUsers();\r\n              }}\r\n              className=\"flex-1\"\r\n            >\r\n              All Users\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        <ScrollArea className=\"flex-1\">\r\n          {showAllUsers ? (\r\n            usersLoading ? (\r\n              <div className=\"flex justify-center py-8\">\r\n                <Loader2 className=\"h-6 w-6 animate-spin\" />\r\n              </div>\r\n            ) : (\r\n              <div className=\"divide-y\">\r\n                {filteredUsers.map(otherUser => (\r\n                  <div\r\n                    key={otherUser.id}\r\n                    onClick={() => handleStartConversation(otherUser)}\r\n                    className=\"p-3 hover:bg-gray-50 cursor-pointer flex items-center gap-3\"\r\n                  >\r\n                    <div className=\"relative\">\r\n                      <Avatar>\r\n                        <AvatarImage src={otherUser.photo_url} />\r\n                        <AvatarFallback>{otherUser.display_name?.charAt(0) || 'U'}</AvatarFallback>\r\n                      </Avatar>\r\n                      {onlineUsers.has(otherUser.id) && (\r\n                        <div className=\"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white\" />\r\n                      )}\r\n                    </div>\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <p className=\"font-medium truncate\">{otherUser.display_name}</p>\r\n                      <p className=\"text-xs text-gray-500\">{otherUser.role}</p>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )\r\n          ) : loading.conversations ? (\r\n            <div className=\"flex justify-center py-8\">\r\n              <Loader2 className=\"h-6 w-6 animate-spin\" />\r\n            </div>\r\n          ) : (\r\n            <div className=\"divide-y\">\r\n              {filteredConversations.map(conv => (\r\n                <div\r\n                  key={conv.id}\r\n                  onClick={() => handleSelectConversation(conv)}\r\n                  className={cn(\r\n                    \"p-3 hover:bg-gray-50 cursor-pointer flex items-center gap-3\",\r\n                    activeConversation?.id === conv.id && \"bg-purple-50\"\r\n                  )}\r\n                >\r\n                  <div className=\"relative\">\r\n                    <Avatar>\r\n                      <AvatarImage src={conv.other_user?.photo_url} />\r\n                      <AvatarFallback>{conv.other_user?.display_name?.charAt(0) || 'U'}</AvatarFallback>\r\n                    </Avatar>\r\n                    {onlineUsers.has(conv.other_user?.id) && (\r\n                      <div className=\"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white\" />\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex justify-between items-baseline\">\r\n                      <p className=\"font-medium truncate\">{conv.other_user?.display_name}</p>\r\n                      <span className=\"text-xs text-gray-500\">\r\n                        {formatMessageTime(conv.last_message?.created_at)}\r\n                      </span>\r\n                    </div>\r\n                    <p className=\"text-sm text-gray-600 truncate\">{conv.last_message?.content || 'No messages yet'}</p>\r\n                  </div>\r\n                  {conv.unread_count > 0 && (\r\n                    <Badge className=\"bg-purple-600\">{localize(conv.unread_count)}</Badge>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </ScrollArea>\r\n      </div>\r\n\r\n      {/* Message Area */}\r\n      <div className={cn(\r\n        \"flex-1 flex flex-col bg-gradient-to-b from-gray-50 to-gray-100\",\r\n        showConversations && isMobile && \"hidden\"\r\n      )}>\r\n        {activeConversation ? (\r\n          <>\r\n            {/* Header */}\r\n            <div className=\"bg-white border-b p-4 flex items-center gap-3\">\r\n              {isMobile && (\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  onClick={() => setShowConversations(true)}\r\n                >\r\n                  <ArrowLeft className=\"h-5 w-5\" />\r\n                </Button>\r\n              )}\r\n              <Avatar>\r\n                <AvatarImage src={activeConversation.other_user?.photo_url} />\r\n                <AvatarFallback>{activeConversation.other_user?.display_name?.charAt(0) || 'U'}</AvatarFallback>\r\n              </Avatar>\r\n              <div className=\"flex-1\">\r\n                <p className=\"font-semibold\">{activeConversation.other_user?.display_name}</p>\r\n                {onlineUsers.has(activeConversation.other_user?.id) && (\r\n                  <p className=\"text-xs text-green-600\">â— Online</p>\r\n                )}\r\n              </div>\r\n              <Button variant=\"ghost\" size=\"icon\">\r\n                <MoreVertical className=\"h-5 w-5\" />\r\n              </Button>\r\n            </div>\r\n\r\n            {/* Messages */}\r\n            <ScrollArea className=\"flex-1 p-4\">\r\n              {loading.messages ? (\r\n                <div className=\"flex justify-center py-8\">\r\n                  <Loader2 className=\"h-8 w-8 animate-spin text-purple-600\" />\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-4\">\r\n                  {messages.map((msg) => {\r\n                    const isOwn = msg.sender_id === user.id;\r\n                    const isPending = pendingMessages[msg.id];\r\n                    \r\n                    return (\r\n                      <div\r\n                        key={msg.id}\r\n                        className={cn(\"flex\", isOwn ? \"justify-end\" : \"justify-start\")}\r\n                      >\r\n                        <div className={cn(\"max-w-[75%] space-y-1\")}>\r\n                          <div\r\n                            className={cn(\r\n                              \"px-4 py-2 rounded-2xl\",\r\n                              isOwn\r\n                                ? \"bg-gradient-to-r from-purple-600 to-cyan-600 text-white rounded-br-sm\"\r\n                                : \"bg-white text-gray-800 rounded-bl-sm shadow\",\r\n                              isPending && \"opacity-70\"\r\n                            )}\r\n                          >\r\n                            <p className=\"text-sm break-words\">{msg.content}</p>\r\n                          </div>\r\n                          <div className={cn(\"flex items-center gap-1 text-xs text-gray-500\", isOwn && \"justify-end\")}>\r\n                            <span>{formatMessageTime(msg.created_at)}</span>\r\n                            {isOwn && (\r\n                              isPending ? (\r\n                                <Loader2 className=\"h-3 w-3 animate-spin\" />\r\n                              ) : msg.read ? (\r\n                                <CheckCheck className=\"h-3 w-3 text-cyan-600\" />\r\n                              ) : (\r\n                                <Check className=\"h-3 w-3\" />\r\n                              )\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                  {otherUserTyping && (\r\n                    <div className=\"flex justify-start\">\r\n                      <div className=\"bg-white px-4 py-2 rounded-2xl rounded-bl-sm shadow\">\r\n                        <div className=\"flex gap-1\">\r\n                          <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" />\r\n                          <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }} />\r\n                          <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }} />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  <div ref={messagesEndRef} />\r\n                </div>\r\n              )}\r\n            </ScrollArea>\r\n\r\n            {/* Input */}\r\n            <form onSubmit={handleSendMessage} className=\"bg-white border-t p-4 flex items-center gap-2\">\r\n              <Input\r\n                placeholder=\"Type a message...\"\r\n                value={newMessage}\r\n                onChange={(e) => setNewMessage(e.target.value)}\r\n                className=\"flex-1\"\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                disabled={!newMessage.trim()}\r\n                className=\"bg-gradient-to-r from-purple-600 to-cyan-600 hover:from-purple-700 hover:to-cyan-700\"\r\n              >\r\n                <Send className=\"h-4 w-4\" />\r\n              </Button>\r\n            </form>\r\n          </>\r\n        ) : (\r\n          <div className=\"flex-1 flex items-center justify-center text-gray-500\">\r\n            <div className=\"text-center\">\r\n              <p className=\"text-lg font-semibold mb-2\">Select a conversation</p>\r\n              <p className=\"text-sm\">Choose a conversation to start messaging</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\Chat_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'formatDistanceToNow' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 42,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 42,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "formatDistanceToNow"
            },
            "fix": {
              "range": [
                1194,
                1241
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'formatDistanceToNow'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'enUS' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 43,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 43,
        "endColumn": 14,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "enUS"
            },
            "fix": {
              "range": [
                1322,
                1361
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'enUS'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'isConnected' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 248,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 248,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "isConnected"
            },
            "fix": {
              "range": [
                8929,
                8940
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'isConnected'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 329,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 329,
        "endColumn": 17
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'normalizeConversation'. Either include it or remove the dependency array.",
        "line": 411,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 411,
        "endColumn": 16,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [normalizeConversation, user.id]",
            "fix": {
              "range": [
                14905,
                14915
              ],
              "text": "[normalizeConversation, user.id]"
            }
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'socket'. Either include it or remove the dependency array.",
        "line": 440,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 440,
        "endColumn": 16,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [socket, user.id]",
            "fix": {
              "range": [
                15565,
                15575
              ],
              "text": "[socket, user.id]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'receiverId' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 459,
        "column": 13,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 459,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "receiverId"
            },
            "fix": {
              "range": [
                16209,
                16258
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'receiverId'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'handleTyping'. Either include it or remove the dependency array.",
        "line": 508,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 508,
        "endColumn": 40,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [socket, user, activeConversation, handleTyping]",
            "fix": {
              "range": [
                18046,
                18080
              ],
              "text": "[socket, user, activeConversation, handleTyping]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿//complete Chat.jsx file with all the requested enhancements, incorporating better contrast, improved message time display, distinct sent/read indicators, refined online status presentation, and clear background differentiation for conversation and user lists.\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport {\r\n  Box,\r\n  Grid,\r\n  Paper,\r\n  Typography,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemAvatar,\r\n  Avatar,\r\n  TextField,\r\n  IconButton,\r\n  Badge,\r\n  Divider,\r\n  CircularProgress,\r\n  InputAdornment,\r\n  Tooltip , alpha\r\n} from '@mui/material';\r\nimport Button from '@mui/material/Button';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n  Send as SendIcon,\r\n  Search as SearchIcon,\r\n  MoreVert as MoreVertIcon,\r\n  ArrowBack as ArrowBackIcon,\r\n  Done as DoneIcon, // For sent\r\n  DoneAll as DoneAllIcon, // For read\r\n  Refresh as RefreshIcon // For retry failed message\r\n} from '@mui/icons-material';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport {\r\n  getConversations,\r\n  getMessages,\r\n  sendMessage,\r\n  markAsRead,\r\n  startConversation,\r\n  getAllUsers\r\n} from '../services/chatService';\r\nimport { useSocket } from '../hooks/useSocket';\r\nimport { formatDistanceToNow } from 'date-fns'; // Still useful for general relative time, but replaced by custom for messages\r\nimport { enUS } from 'date-fns/locale';\r\nimport { Weight } from 'lucide-react';\r\n\r\n// Styled components with beautiful design\r\nconst ChatContainer = styled(Box)(({ theme }) => ({\r\n  height: 'calc(100vh - 64px)',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  \r\n  backgroundColor: 'primary.background', // Light background for the overall chat area\r\n  [theme.breakpoints.down('md')]: {\r\n    height: 'calc(100vh - 56px)',\r\n  },\r\n}));\r\n\r\nconst ConversationList = styled(Paper)(({ theme, showConversations, showAllUsers }) => ({\r\n  height: '100%',\r\n  width: '100%',\r\n  overflow: 'hidden',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  borderRight: `10px solid ${theme.palette.divider}`,\r\n  // Different background for \"All Users\" vs. \"Conversations\"\r\n  backgroundColor: showAllUsers ? '#edf2f7' : '#819cb8ff',\r\n  [theme.breakpoints.down('md')]: {\r\n    display: showConversations ? 'flex' : 'none',\r\n    position: 'absolute',\r\n    width: '100%',\r\n    zIndex: 10,\r\n    height: 'calc(100vh - 56px)',\r\n  },\r\n}));\r\n\r\nconst MessageArea = styled(Paper)(({ theme, showConversations }) => ({\r\n  height: '100%',\r\n  width: '100%',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  backgroundColor: `background.paper2`, // Light background for message area\r\n  position: 'relative',\r\n  [theme.breakpoints.down('md')]: {\r\n    display: showConversations ? 'none' : 'flex',\r\n    height: 'calc(100vh - 56px)',\r\n    marginLeft: showConversations ? 0 : '0px', // Adjust margin for mobile when conversation is active\r\n    transition: 'margin-left 0.3s ease',\r\n  },\r\n}));\r\n\r\nconst MessageList = styled(Box)(({ theme }) => ({\r\n  flex: 1,\r\n  overflowY: 'auto',\r\n  padding: theme.spacing(2),\r\n  background: 'linear-gradient(135deg, #f5f7fa 0%, #e4e8eb 100%)', // Gradient background for message list\r\n  '&::-webkit-scrollbar': {\r\n    width: '8px',\r\n  },\r\n  '&::-webkit-scrollbar-thumb': {\r\n    backgroundColor: '#c1c1c1', // Scrollbar thumb color\r\n    borderRadius: '4px',\r\n  },\r\n  '&::-webkit-scrollbar-track': {\r\n    backgroundColor: '#f1f1f1', // Scrollbar track color\r\n  },\r\n}));\r\n\r\nconst MessageItem = styled(Box)(({ theme, isOwn }) => ({\r\n  display: 'flex',\r\n  flexDirection: isOwn ? 'row-reverse' : 'row',\r\n  marginBottom: theme.spacing(1.5), // Slightly reduced margin for a tighter feel\r\n  width: '100%',\r\n  alignItems: 'flex-end',\r\n  // Removed transition from here as bubble itself handles its transitions\r\n}));\r\n\r\n// MessageBubble controls the background, border, and text color\r\nconst MessageBubble = styled(Box)(({ theme, isOwn, isPending, hasError }) => ({\r\n  maxWidth: '75%', // Slightly reduced max-width for better multi-line readability\r\n  minWidth: '250px', // Allow it to shrink below 120px for very short messages\r\n  padding: '10px 14px', // Slightly adjusted padding\r\n  borderRadius: isOwn ? '20px 4px 20px 20px' : '4px 20px 20px 20px', // More rounded corners, distinctive sent/received\r\n  wordBreak: 'break-word',\r\n  display: 'inline-block', // Keep inline-block for fitting content\r\n  position: 'relative', // For potential future absolute positioning of indicators\r\n  transition: 'all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)', // Smooth transition for all properties\r\n  \r\n  // Background Colors\r\n  backgroundColor: isOwn\r\n    ? (isPending ? alpha('rgb(145, 207, 187)', 0.7) : (hasError ? theme.palette.error.dark : 'rgb(107, 161, 185)'))\r\n    : (isPending ? alpha(theme.palette.grey[200], 0.7) : (hasError ? theme.palette.error.light : 'rgb(84, 179, 147)')),\r\n  \r\n  // Text Colors\r\n  color: isOwn \r\n    ? 'rgb(12, 55, 73)' // White for own messages\r\n    : (hasError ? theme.palette.error.contrastText : 'rgb(13, 57, 77)'), // Darker text for received, contrast for error\r\n  \r\n  // Box Shadow\r\n  boxShadow: isPending || hasError\r\n    ? '0 0 8px rgba(0,0,0,0.1)' // More subtle shadow for pending/error\r\n    : theme.shadows[3], // Slightly elevated shadow for normal messages\r\n  \r\n  // Margins to align bubbles\r\n  marginLeft: isOwn ? 'auto' : theme.spacing(1),\r\n  marginRight: isOwn ? theme.spacing(1) : 'auto',\r\n  \r\n  // Border for received messages (optional, can be removed if a strong shadow is enough)\r\n  border: isOwn ? 'none' : `1px solid ${theme.palette.grey[300]}`,\r\n  \r\n  // Opacity for pending/error states\r\n  opacity: isPending ? 0.7 : (hasError ? 0.9 : 1),\r\n\r\n  // Hover Effect\r\n  '&:hover': {\r\n    boxShadow: isPending || hasError \r\n      ? '0 0 10px rgba(0,0,0,0.15)' \r\n      : theme.shadows[6], // More pronounced shadow on hover\r\n    transform: 'translateY(-2px)', // Subtle lift on hover\r\n  },\r\n\r\n  // Specific styles for error messages\r\n  ...(hasError && {\r\n    border: `1px solid ${theme.palette.error.main}`,\r\n    animation: 'shake 0.82s cubic-bezier(.36,.07,.19,.97) both', // Subtle shake animation for errors\r\n    transformOrigin: '50% 100%',\r\n    '@keyframes shake': {\r\n      '10%, 90%': { transform: 'translate3d(-1px, 0, 0)' },\r\n      '20%, 80%': { transform: 'translate3d(2px, 0, 0)' },\r\n      '30%, 50%, 70%': { transform: 'translate3d(-4px, 0, 0)' },\r\n      '40%, 60%': { transform: 'translate3d(4px, 0, 0)' },\r\n    },\r\n  }),\r\n}));\r\n\r\nconst MessageTime = styled(Typography)(({ isOwn }) => ({\r\n  fontSize: '0.65rem', // Smaller font size for message time\r\n  color: isOwn ? 'rgba(22, 22, 73, 0.7)' : 'rgba(22, 22, 73, 0.7)', // Consistent color, slightly transparent for own\r\n  marginTop: '4px',\r\n  textAlign: isOwn ? 'right' : 'left',\r\n  paddingLeft: isOwn ? 0 : '8px',\r\n  paddingRight: isOwn ? '8px' : 0,\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  gap: '4px', // Space between time and status icon\r\n  fontFamily: 'inherit', // Inherit font for consistency\r\n}));\r\n\r\nconst MessageInput = styled(Box)(({ theme }) => ({\r\n  display: 'flex',\r\n  padding: theme.spacing(2),\r\n  borderTop: '1px solid #e5e7eb', // Border above input\r\n  backgroundColor: '#ffffff', // White background for input area\r\n  alignItems: 'center',\r\n}));\r\n\r\nconst UserStatusBadge = styled('span')(({ theme }) => ({\r\n  color: '#10b981', // Green for online status\r\n  fontSize: '0.75rem',\r\n  marginLeft: theme.spacing(0.5),\r\n  display: 'inline-flex',\r\n  alignItems: 'center',\r\n  fontWeight: 500,\r\n  '&::before': {\r\n    content: '\"â€¢\"', // Dot for online status\r\n    marginRight: '2px',\r\n  },\r\n}));\r\n\r\nconst MessageStatusIcon = styled(Box)(({ read, isOwn }) => ({\r\n  display: 'inline-flex',\r\n  alignItems: 'center',\r\n  marginLeft: '4px',\r\n  '& .MuiSvgIcon-root': {\r\n    fontSize: '0.85rem', // Smaller icon size\r\n    color: read ? '#a5d6a7' : (isOwn ? 'rgba(255,255,255,0.6)' : '#9ca3af'), // Greenish for read, greyish for sent\r\n  },\r\n}));\r\n\r\nconst BackButton = styled(IconButton)(({ theme }) => ({\r\n  position: 'absolute',\r\n  left: '-50px', // Position off-screen for mobile\r\n  top: '12px',\r\n  backgroundColor: '#ffffff',\r\n  boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\r\n  '&:hover': {\r\n    backgroundColor: '#f3f4f6',\r\n  },\r\n  [theme.breakpoints.up('md')]: {\r\n    display: 'none', // Hide on larger screens\r\n  },\r\n}));\r\n\r\nconst Chat = () => {\r\n  const { user, loading: authLoading } = useAuth();\r\n  const [conversations, setConversations] = useState([]);\r\n  const [activeConversation, setActiveConversation] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [loading, setLoading] = useState({\r\n    conversations: true,\r\n    messages: false\r\n  });\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [showConversations, setShowConversations] = useState(true);\r\n  const messagesEndRef = useRef(null);\r\n  const messageListRef = useRef(null); // Reference for message list scroll\r\n  const socket = useSocket();\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [otherUserTyping, setOtherUserTyping] = useState(false);\r\n  const [onlineUsers, setOnlineUsers] = useState(new Set());\r\n  const typingTimeoutRef = useRef(null);\r\n  const [showAllUsers, setShowAllUsers] = useState(false);\r\n  const [allUsers, setAllUsers] = useState([]);\r\n  const [usersLoading, setUsersLoading] = useState(false);\r\n  const [startingConversation, setStartingConversation] = useState(false);\r\n  const [pendingMessages, setPendingMessages] = useState({}); // To track messages being sent\r\n  const [failedMessages, setFailedMessages] = useState({}); // To track messages that failed to send\r\n  const [textToggel, setTextToggel] = useState('All Users'); \r\n\r\n  const isMobile = window.innerWidth < 960;\r\n\r\n  // Improved time formatting function for brevity and clarity\r\n  const formatMessageTime = (timestamp) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const seconds = Math.floor((now - date) / 1000);\r\n    \r\n    if (seconds < 60) return 'just now';\r\n    if (seconds < 3600) return `${Math.floor(seconds / 60)}m ago`;\r\n    if (seconds < 86400) return `${Math.floor(seconds / 3600)}h ago`;\r\n    \r\n    const yesterday = new Date(now);\r\n    yesterday.setDate(yesterday.getDate() - 1);\r\n    if (date.toDateString() === yesterday.toDateString()) return 'yesterday';\r\n    \r\n    return date.toLocaleDateString('en-US', { \r\n      month: 'short', \r\n      day: 'numeric',\r\n      year: now.getFullYear() !== date.getFullYear() ? 'numeric' : undefined // Show year only if different\r\n    });\r\n  };\r\n\r\n  const fetchAllUsers = async () => {\r\n    try {\r\n      setUsersLoading(true);\r\n      const response = await getAllUsers();\r\n      // Normalize backend user fields (displayName/photoUrl -> display_name/photo_url)\r\n      const users = (response.data.users || []).map(u => ({\r\n        id: u.id,\r\n        display_name: u.display_name || u.displayName || u.displayName || u.displayName,\r\n        photo_url: u.photo_url || u.photoUrl || u.photoURL || u.photo_url,\r\n        role: u.role,\r\n        // copy other fields if present\r\n        ...u\r\n      }));\r\n      setAllUsers(users);\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error);\r\n    } finally {\r\n      setUsersLoading(false);\r\n    }\r\n  };\r\n\r\n  // Helpers to normalize server responses (camelCase -> snake_case) used by the UI\r\n  const normalizeUser = (u) => ({\r\n    ...u,\r\n    display_name: u.display_name || u.displayName || u.displayName || u.displayName,\r\n    photo_url: u.photo_url || u.photoUrl || u.photoURL || u.photo_url,\r\n  });\r\n\r\n  const normalizeMessage = (m) => ({\r\n    ...m,\r\n    id: m.id,\r\n    content: m.content || m.text || m.body,\r\n    sender_id: m.sender_id || m.senderId || m.sender || (m.sender && m.sender.id),\r\n    receiver_id: m.receiver_id || m.receiverId || m.receiver || (m.receiver && m.receiver.id),\r\n    conversation_id: m.conversation_id || m.conversationId || m.conversation_id,\r\n    created_at: (() => {\r\n      const raw = m.created_at || m.createdAt || m.createdAt || m.created_at;\r\n      if (!raw) return raw;\r\n      try {\r\n        // If it's a Date object\r\n        if (raw instanceof Date) return raw.toISOString();\r\n        // If it's a number (timestamp)\r\n        if (typeof raw === 'number') return new Date(raw).toISOString();\r\n        // Assume string\r\n        return String(raw);\r\n      } catch (e) {\r\n        return String(raw);\r\n      }\r\n    })(),\r\n    read: typeof m.read === 'boolean' ? m.read : !!m.read,\r\n  });\r\n\r\n  const normalizeConversation = (c) => ({\r\n    ...c,\r\n    id: c.id,\r\n    other_user: c.other_user ? normalizeUser(c.other_user) : (c.otherUser ? normalizeUser(c.otherUser) : null),\r\n    last_message: c.last_message ? normalizeMessage(c.last_message) : (c.lastMessage ? normalizeMessage(c.lastMessage) : null),\r\n    unread_count: c.unread_count ?? c.unreadCount ?? 0,\r\n    created_at: c.created_at || c.createdAt || c.created_at,\r\n    updated_at: c.updated_at || c.updatedAt || c.updated_at,\r\n  });\r\n\r\n  const handleTyping = (data) => {\r\n    if (\r\n      data.conversationId === activeConversation?.id &&\r\n      data.userId !== user.id\r\n    ) {\r\n      setOtherUserTyping(data.isTyping);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const value = e.target.value;\r\n    setNewMessage(value);\r\n\r\n    if (typingTimeoutRef.current) {\r\n      clearTimeout(typingTimeoutRef.current);\r\n    }\r\n\r\n    const trimmed = value.trim();\r\n\r\n    if (trimmed) {\r\n      if (!isTyping) {\r\n        setIsTyping(true);\r\n        socket.emit('typing', {\r\n          conversationId: activeConversation?.id,\r\n          userId: String(user.id),\r\n          otherUserId: String(activeConversation?.other_user?.id),\r\n          isTyping: true,\r\n        });\r\n      }\r\n\r\n      typingTimeoutRef.current = setTimeout(() => {\r\n        setIsTyping(false);\r\n        socket.emit('typing', {\r\n          conversationId: activeConversation?.id,\r\n          userId: String(user.id),\r\n          otherUserId: String(activeConversation?.other_user?.id),\r\n          isTyping: false,\r\n        });\r\n      }, 1300);\r\n    } else if (isTyping) {\r\n      setIsTyping(false);\r\n      socket.emit('typing', {\r\n        conversationId: activeConversation?.id,\r\n        userId: String(user.id),\r\n        otherUserId: String(activeConversation?.other_user?.id),\r\n        isTyping: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchConversations = async () => {\r\n      try {\r\n        setLoading(prev => ({ ...prev, conversations: true }));\r\n        const response = await getConversations();\r\n        const convs = (response.data.conversations || []).map(normalizeConversation);\r\n        setConversations(convs);\r\n      } catch (error) {\r\n        console.error('Error fetching conversations:', error);\r\n      } finally {\r\n        setLoading(prev => ({ ...prev, conversations: false }));\r\n      }\r\n    };\r\n\r\n    fetchConversations();\r\n  }, [user?.id]); // Depend on user.id to refetch if user changes\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (typingTimeoutRef.current) {\r\n        clearTimeout(typingTimeoutRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!user?.id) return;\r\n\r\n    socket.connect();\r\n\r\n    socket.on('connect', () => {\r\n      setIsConnected(true);\r\n      socket.emit('register', String(user.id)); // Register user with socket server\r\n    });\r\n\r\n    socket.on('disconnect', () => {\r\n      setIsConnected(false);\r\n    });\r\n\r\n    return () => {\r\n      socket.off('connect');\r\n      socket.off('disconnect');\r\n      socket.disconnect();\r\n    };\r\n  }, [user?.id]);\r\n\r\n  useEffect(() => {\r\n    if (!socket || !user?.id) return;\r\n\r\n    // Listen for user online/offline status (server emits user_status_update)\r\n    socket.on('user_status_update', ({ userId: uid, isOnline }) => {\r\n      setOnlineUsers(prev => {\r\n        const updated = new Set(prev);\r\n        if (isOnline) updated.add(uid);\r\n        else updated.delete(uid);\r\n        return updated;\r\n      });\r\n    });\r\n\r\n    const handleNewMessage = (message) => {\r\n      const normalizedMessage = normalizeMessage(message);\r\n      const convId = normalizedMessage.conversation_id;\r\n      const senderId = normalizedMessage.sender_id;\r\n      const receiverId = normalizedMessage.receiver_id;\r\n\r\n      if (activeConversation && convId === activeConversation.id) {\r\n        setMessages(prev => [...prev, normalizedMessage]); // Add to messages displayed\r\n        markAsRead(normalizedMessage.id); // Mark as read via API\r\n        socket.emit('mark_as_read', { messageId: normalizedMessage.id, readerId: String(user.id), senderId: String(senderId) }); // Emit read event\r\n      }\r\n\r\n      setConversations(prev => {\r\n        const updated = [...prev];\r\n  const index = updated.findIndex(c => c.id === convId);\r\n\r\n        if (index !== -1) {\r\n          const conversation = { ...updated[index], last_message: normalizeMessage(message) };\r\n\r\n          if (activeConversation?.id !== convId) {\r\n            conversation.unread_count = (conversation.unread_count || 0) + 1; // Increment unread if not active\r\n          } else {\r\n            conversation.unread_count = 0; // Reset unread if active\r\n          }\r\n\r\n          updated.splice(index, 1); // Remove old position\r\n          updated.unshift(conversation); // Move to top\r\n        }\r\n        return updated;\r\n      });\r\n    };\r\n\r\n    const handleMessageRead = (messageId) => {\r\n      setMessages(prev =>\r\n        prev.map(msg =>\r\n          msg.id === messageId ? { ...msg, read: true } : msg // Update read status of message\r\n        )\r\n      );\r\n    };\r\n\r\n    // Attach socket listeners\r\n  socket.on('new_message', handleNewMessage);\r\n    socket.on('message_read', handleMessageRead);\r\n    socket.on('typing', handleTyping);\r\n\r\n    // Clean up listeners on component unmount\r\n    return () => {\r\n      socket.off('new_message', handleNewMessage);\r\n      socket.off('message_read', handleMessageRead);\r\n      socket.off('typing', handleTyping);\r\n      socket.off('user_online');\r\n      socket.off('user_offline');\r\n    };\r\n  }, [socket, user, activeConversation]); // Re-run if socket, user, or active conversation changes\r\n\r\n  useEffect(() => {\r\n    const fetchMessages = async () => {\r\n      if (!activeConversation) return;\r\n\r\n      try {\r\n        setLoading(prev => ({ ...prev, messages: true }));\r\n        const response = await getMessages(activeConversation.id);\r\n        const fetchedMessages = response.data.messages || [];\r\n  const msgs = fetchedMessages.map(normalizeMessage);\r\n  setMessages(msgs);\r\n\r\n        // Mark all newly fetched unread messages as read when conversation is opened\r\n        const unreadMessagesInActiveConv = fetchedMessages.filter(\r\n          (msg) => msg.receiver_id === user?.id && !msg.read\r\n        );\r\n        if (unreadMessagesInActiveConv.length > 0) {\r\n          unreadMessagesInActiveConv.forEach(async (msg) => {\r\n            const norm = normalizeMessage(msg);\r\n            await markAsRead(norm.id); // Call API to mark as read\r\n            socket.emit('mark_as_read', { messageId: norm.id, readerId: String(user.id), senderId: String(norm.sender_id) }); // Notify other users\r\n          });\r\n        }\r\n\r\n        // Reset unread count for the active conversation in the conversations list\r\n        setConversations(prev =>\r\n          prev.map(conv =>\r\n            conv.id === activeConversation.id\r\n              ? { ...conv, unread_count: 0 }\r\n              : conv\r\n          )\r\n        );\r\n      } catch (error) {\r\n        console.error('Error fetching messages:', error);\r\n      } finally {\r\n        setLoading(prev => ({ ...prev, messages: false }));\r\n      }\r\n    };\r\n\r\n    fetchMessages();\r\n\r\n  \r\n  }, [activeConversation, isMobile, user?.id, socket]); // Dependencies for message fetching\r\n\r\n  useEffect(() => {\r\n    // Scroll to the bottom of the message list when messages update, unless there are pending messages\r\n    // This prevents auto-scrolling when a pending message is added, allowing user to type\r\n    if (messages.length > 0 && messagesEndRef.current && !Object.keys(pendingMessages).length) {\r\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n  }, [messages, pendingMessages]); // Depend on messages and pendingMessages\r\n\r\n  const handleSendMessage = async (e) => {\r\n    e.preventDefault();\r\n    if (!newMessage.trim() || !activeConversation) return;\r\n\r\n    // Create a temporary message with a unique ID for optimistic UI update\r\n    const tempId = `temp-${Date.now()}`;\r\n    const tempMessage = {\r\n      id: tempId,\r\n      content: newMessage,\r\n      sender_id: user.id,\r\n      receiver_id: activeConversation.other_user.id,\r\n      conversation_id: activeConversation.id,\r\n      created_at: new Date().toISOString(),\r\n      read: false,\r\n      isPending: true // Custom flag for pending state\r\n    };\r\n\r\n    // Add to pending messages tracker\r\n    setPendingMessages(prev => ({ ...prev, [tempId]: tempMessage }));\r\n    \r\n    // Update UI immediately with the temporary message\r\n    setMessages(prev => [...prev, tempMessage]);\r\n    setNewMessage(''); // Clear input field\r\n    setShowAllUsers(false);\r\n\r\n    try {\r\n      const response = await sendMessage(activeConversation.id, newMessage);\r\n  const sentMessage = normalizeMessage(response.data.message);\r\n\r\n      // Clear typing timeout if message was sent while typing\r\n      if (typingTimeoutRef.current) {\r\n        clearTimeout(typingTimeoutRef.current);\r\n      }\r\n      \r\n      // Emit stop typing if currently typing\r\n      if (isTyping) {\r\n        setIsTyping(false);\r\n        socket.emit('typing', {\r\n          conversationId: activeConversation.id,\r\n          userId: String(user.id),\r\n          isTyping: false,\r\n        });\r\n      }\r\n\r\n      // Replace the temporary message with the actual sent message\r\n      setPendingMessages(prev => {\r\n        const { [tempId]: _, ...rest } = prev; // Remove from pending\r\n        return rest;\r\n      });\r\n      \r\n      setMessages(prev => \r\n        prev.map(msg => msg.id === tempId ? sentMessage : msg)\r\n      );\r\n\r\n      // Update conversations list with the last message\r\n      setConversations(prev => {\r\n        const updated = [...prev];\r\n        const index = updated.findIndex(c => c.id === activeConversation.id);\r\n\r\n        if (index !== -1) {\r\n          const conversation = { ...updated[index], last_message: sentMessage };\r\n          updated.splice(index, 1);\r\n          updated.unshift(conversation);\r\n        }\r\n\r\n        return updated;\r\n      });\r\n\r\n      // Emit message via socket\r\n      if (socket) {\r\n        socket.emit('send_message', {\r\n          receiverId: activeConversation.other_user.id,\r\n          message: sentMessage\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n      // Mark as failed\r\n      setPendingMessages(prev => {\r\n        const { [tempId]: _, ...rest } = prev;\r\n        return rest;\r\n      });\r\n      setFailedMessages(prev => ({ ...prev, [tempId]: tempMessage })); // Add to failed messages\r\n      \r\n      setMessages(prev => \r\n        prev.map(msg => \r\n          msg.id === tempId \r\n            ? { ...msg, isPending: false, hasError: true } // Update status flags for UI\r\n            : msg\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleRetryMessage = async (tempId) => {\r\n    const failedMsg = failedMessages[tempId];\r\n    if (!failedMsg) return;\r\n\r\n    try {\r\n      // Move from failed back to pending state for UI feedback\r\n      setFailedMessages(prev => {\r\n        const { [tempId]: _, ...rest } = prev;\r\n        return rest;\r\n      });\r\n      setPendingMessages(prev => ({ ...prev, [tempId]: failedMsg }));\r\n      \r\n      setMessages(prev => \r\n        prev.map(msg => \r\n          msg.id === tempId \r\n            ? { ...msg, isPending: true, hasError: false } \r\n            : msg\r\n        )\r\n      );\r\n\r\n      // Retry sending the message\r\n  const response = await sendMessage(activeConversation.id, failedMsg.content);\r\n  const sentMessage = normalizeMessage(response.data.message);\r\n\r\n      // Replace pending message with successful message\r\n      setPendingMessages(prev => {\r\n        const { [tempId]: _, ...rest } = prev;\r\n        return rest;\r\n      });\r\n      \r\n      setMessages(prev => \r\n        prev.map(msg => msg.id === tempId ? sentMessage : msg)\r\n      );\r\n\r\n      // Update conversations list\r\n      setConversations(prev => {\r\n        const updated = [...prev];\r\n        const index = updated.findIndex(c => c.id === activeConversation.id);\r\n\r\n        if (index !== -1) {\r\n          const conversation = { ...updated[index], last_message: sentMessage };\r\n          updated.splice(index, 1);\r\n          updated.unshift(conversation);\r\n        }\r\n\r\n        return updated;\r\n      });\r\n\r\n      // Emit message via socket\r\n      if (socket) {\r\n        socket.emit('send_message', {\r\n          receiverId: activeConversation.other_user.id,\r\n          message: sentMessage\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error retrying message:', error);\r\n      // If retry fails, mark as failed again\r\n      setPendingMessages(prev => {\r\n        const { [tempId]: _, ...rest } = prev;\r\n        return rest;\r\n      });\r\n      setFailedMessages(prev => ({ ...prev, [tempId]: failedMsg }));\r\n      \r\n      setMessages(prev => \r\n        prev.map(msg => \r\n          msg.id === tempId \r\n            ? { ...msg, isPending: false, hasError: true } \r\n            : msg\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const filteredConversations = conversations.filter(conversation =>\r\n    conversation.other_user?.display_name?.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  const handleBackToConversations = () => {\r\n    setShowConversations(true);\r\n  };\r\n\r\n  const renderUsersList = () => {\r\n    if (usersLoading) {\r\n      return (\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', p: 3 }}>\r\n          <CircularProgress size={24} />\r\n        </Box>\r\n      );\r\n    }\r\n  \r\n    return (\r\n      <List sx={{ overflow: 'auto', flex: 1, bgcolor: `background.paper2` , pl: isMobile ? 0 : 2,}}> {/* Background for All Users list */}\r\n        {allUsers.length === 0 ? (\r\n          <ListItem>\r\n            <ListItemText primary=\"No users found\" />\r\n          </ListItem>\r\n        ) : (\r\n          allUsers\r\n            .filter(u => u.id !== user?.id) // Filter out current user\r\n            .map((userItem) => {\r\n              const existingConv = conversations.find(c => \r\n                c.other_user?.id === userItem.id\r\n              );\r\n  \r\n              return (\r\n                <React.Fragment key={userItem.id}>\r\n                  <ListItem\r\n                    button\r\n                    onClick={async () => {\r\n                      setStartingConversation(true);\r\n                      try {\r\n                        if (existingConv) {\r\n                          setActiveConversation(existingConv);\r\n                          setShowConversations(false);\r\n                        } else {\r\n                          const response = await startConversation(\r\n                            userItem.id, \r\n                            `Hi ${userItem.display_name}, \\nI'd like to connect with you!`\r\n                          );\r\n                          const newConv = normalizeConversation(response.data.conversation);\r\n                          setConversations(prev => [newConv, ...prev]); // Add new conversation\r\n                          setActiveConversation(newConv);\r\n                          setShowConversations(false);\r\n                        }\r\n                      } catch (error) {\r\n                        console.error('Error starting conversation:', error);\r\n                      } finally {\r\n                        setStartingConversation(false);\r\n                      }\r\n                    }}\r\n                    disabled={startingConversation}\r\n                    sx={{\r\n                      '&:hover': { backgroundColor: `background.hover` }, // Hover effect\r\n                      '&.Mui-selected': { backgroundColor: `background.selected`} // Selected state\r\n                    }}\r\n                  >\r\n                    {startingConversation && existingConv?.other_user?.id === userItem.id ? (\r\n                      <CircularProgress size={24} sx={{ mr: 2 }} />\r\n                    ) : (\r\n                      <ListItemAvatar>\r\n                        <Badge\r\n                          overlap=\"circular\"\r\n                          anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\r\n                          variant=\"dot\"\r\n                          color=\"success\"\r\n                          invisible={!onlineUsers.has(userItem.id)}\r\n                        >\r\n                          <Avatar \r\n                            src={userItem.photo_url}\r\n                            sx={{ bgcolor: '#3f51b5', width: 40, height: 40 }}\r\n                          >\r\n                            {userItem.display_name?.charAt(0)}\r\n                          </Avatar>\r\n                        </Badge>\r\n                      </ListItemAvatar>\r\n                    )}\r\n                    <ListItemText\r\n                      primary={\r\n                        <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                          <Typography sx={{ fontWeight: 500 }}>\r\n                            {userItem.display_name}\r\n                          </Typography>\r\n                          {onlineUsers.has(userItem.id) && (\r\n                            <UserStatusBadge>Online</UserStatusBadge>\r\n                          )}\r\n                        </Box>\r\n                      }\r\n                      secondary={\r\n                        existingConv ? (\r\n                          <Typography\r\n                            component=\"span\"\r\n                            variant=\"body2\"\r\n                            color=\"textSecondary\"\r\n                            noWrap\r\n                            sx={{\r\n                              display: 'inline-block',\r\n                              maxWidth: '180px',\r\n                              fontWeight: existingConv.unread_count > 0 ? 600 : 400\r\n                            }}\r\n                          >\r\n                            {existingConv.last_message\r\n                              ? existingConv.last_message.content\r\n                              : \"Existing conversation\"}\r\n                          </Typography>\r\n                        ) : (\r\n                          \"Click to start conversation\"\r\n                        )\r\n                      }\r\n                    />\r\n                    {existingConv && existingConv.last_message && (\r\n                      <Typography variant=\"caption\" color=\"textSecondary\">\r\n                        {formatMessageTime(existingConv.last_message.created_at)}\r\n                      </Typography>\r\n                    )}\r\n                  </ListItem>\r\n                  <Divider />\r\n                </React.Fragment>\r\n              );\r\n            })\r\n        )}\r\n      </List>\r\n    );\r\n  };\r\n\r\n  if (authLoading) {\r\n    return (\r\n      <Box sx={{ \r\n        display: 'flex', \r\n        justifyContent: 'center', \r\n        alignItems: 'center', \r\n        height: '100%',\r\n        bgcolor: 'background.default'\r\n      }}>\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <ChatContainer sx={{ width: '100%' }}>\r\n      <Grid container sx={{ height: '100%', width: '100%' }}>\r\n        {/* Conversations List */}\r\n        <Grid item xs={12} md={4} sx={{ height: '100%' }}>\r\n          <ConversationList\r\n            elevation={0}\r\n            showConversations={showConversations}\r\n            showAllUsers={showAllUsers}\r\n          >\r\n          <Box sx={{ \r\n            p: 2, \r\n            borderBottom: '1px solid #e5e7eb',\r\n            bgcolor: 'background.paper'\r\n          }}>\r\n            <Box sx={{ \r\n              display: 'flex', \r\n              alignItems: 'center', \r\n              mb: 2,\r\n              ml: isMobile ? 0 : 6, \r\n            }}>\r\n                {isMobile && !showConversations && (\r\n                  <IconButton\r\n                    \r\n                    onClick={handleBackToConversations}\r\n                    sx={{ \r\n                      paddingLeft: 0,  \r\n                      marginRight: 2, \r\n                      position: 'relative', \r\n                      zIndex: 1, \r\n                    }}\r\n                  >\r\n                    <ArrowBackIcon    />\r\n                  </IconButton>\r\n                )}\r\n                <Typography variant=\"h6\" sx={{ ml:4,flexGrow: 1, fontWeight: 600 }}>\r\n                  Messages\r\n                </Typography>\r\n              </Box>\r\n              <TextField\r\n                fullWidth\r\n                placeholder=\"Search conversations...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <SearchIcon />\r\n                    </InputAdornment>\r\n                  ),\r\n                  sx: {\r\n                    borderRadius: '12px',\r\n                    bgcolor: '#1b3363ff' // Light grey background for search input\r\n                  }\r\n                }}\r\n                size=\"small\"\r\n                sx={{ mb: 2 }}\r\n              />\r\n\r\n              <Box sx={{ \r\n                display: 'flex', \r\n                justifyContent: 'space-between', \r\n                alignItems: 'center', \r\n                mb: 1 \r\n              }}>\r\n                <Typography variant=\"subtitle1\" sx={{ \r\n                  fontWeight: 600,\r\n                  color: 'primary.main',\r\n                  px: 1,\r\n                  py: 0.5,\r\n                  borderRadius: '6px',\r\n                  // Different background for active mode\r\n                  bgcolor: showAllUsers ? 'rgba(63, 81, 181, 0.1)' : 'rgba(63, 81, 181, 0.08)'\r\n                }}>\r\n                  {showAllUsers ? 'All Users' : 'Conversations'}\r\n                </Typography>\r\n                <Typography \r\n                  variant=\"outlined\" \r\n                  size=\"small\"\r\n                 \r\n                  onClick={() => {\r\n                    setShowAllUsers(!showAllUsers);\r\n                    console.log(\"setShowAllUsers:::\", showAllUsers)\r\n                    showAllUsers?setTextToggel(\"All Users\"):setTextToggel(\"Conversations\");\r\n                    console.log(\"text:::\", textToggel)\r\n                    if (!showAllUsers && allUsers.length === 0) {\r\n                      fetchAllUsers(); // Fetch all users only when switching to that view\r\n                    }\r\n                  }}\r\n                  sx={{\r\n                    textTransform: 'none',\r\n                    borderRadius: '12px',\r\n                    px: 3,\r\n                    py: 0.4,\r\n                     bgcolor:'rgba(53, 84, 150, 0.1)',\r\n                  \r\n                    color: 'primary.contrastText',\r\n                    border:'1px solid rgb(41, 91, 190)',\r\n                    '&:hover': {\r\n                      borderColor: '#3f51b5',\r\n                      color: '#3f51b5'\r\n                    }\r\n                  }}\r\n                >\r\n                  {(textToggel ? textToggel : textToggel)}\r\n                  \r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n                               \r\n            {showAllUsers ? renderUsersList() : ( \r\n              <List sx={{ overflow: 'auto', flex: 1, bgcolor: 'background.paper' }}> {/* Background for Conversations list */}\r\n                {loading.conversations && conversations.length === 0 ? (\r\n                  <Box sx={{ display: 'flex', justifyContent: 'center', p: 3 }}>\r\n                    <CircularProgress size={24} />\r\n                  </Box>\r\n                ) : filteredConversations.length === 0 ? (\r\n                  <ListItem>\r\n                    <ListItemText\r\n                      primary=\"No conversations found\"\r\n                      secondary={searchQuery ? \"Try a different search term\" : \"Start a new conversation\"}\r\n                    />\r\n                  </ListItem>\r\n                ) : (\r\n                  filteredConversations.map((conversation) => (\r\n                    <React.Fragment key={conversation.id}>\r\n                      <ListItem\r\n                        button\r\n                        selected={activeConversation?.id === conversation.id}\r\n                        onClick={() => {\r\n                          setActiveConversation(conversation);\r\n                          if (isMobile) setShowConversations(false); // Hide list on mobile when selected\r\n                        }}\r\n                        sx={{\r\n                          '&:hover': { bgcolor: '#324b7cff' }, // Hover effect\r\n                          '&.Mui-selected': {\r\n                            bgcolor: '#e5e7eb', // Selected background\r\n                            '&:hover': { bgcolor: '#e5e7eb' }\r\n                          },\r\n                        }}\r\n                      >\r\n                        <ListItemAvatar>\r\n                          <Badge\r\n                            color=\"primary\"\r\n                            badgeContent={conversation.unread_count}\r\n                            invisible={!conversation.unread_count}\r\n                          >\r\n                            <Avatar \r\n                              src={conversation.other_user?.photo_url}\r\n                              sx={{ \r\n                                bgcolor: '#3f51b5', \r\n                                width: isMobile?40:20, \r\n                                height: isMobile?40:20,\r\n                                boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n                              }}\r\n                            >\r\n                              {conversation.other_user?.display_name?.charAt(0)}\r\n                            </Avatar>\r\n                          </Badge>\r\n                        </ListItemAvatar>\r\n                        \r\n                        <ListItemText\r\n                          primary={\r\n                            <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                              <Typography sx={{ fontWeight: 500 }}>\r\n                                {conversation.other_user?.display_name}\r\n                              </Typography>\r\n                              {onlineUsers.has(conversation.other_user?.id) && (\r\n                                <UserStatusBadge>Online</UserStatusBadge>\r\n                              )}\r\n                            </Box>\r\n                          }\r\n                          secondary={\r\n                            conversation.last_message ? (\r\n                              <Typography\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                                color=\"textSecondary\"\r\n                                noWrap\r\n                                sx={{\r\n                                  display: 'inline-block',\r\n                                  maxWidth: '180px',\r\n                                  fontWeight: conversation.unread_count > 0 ? 600 : 400\r\n                                }}\r\n                              >\r\n                                {conversation.last_message.content}\r\n                              </Typography>\r\n                            ) : \"No messages yet\"\r\n                          }\r\n                        />\r\n                        {conversation.last_message && (\r\n                          <Typography variant=\"caption\" color=\"textSecondary\">\r\n                            {formatMessageTime(conversation.last_message.created_at)}\r\n                          </Typography>\r\n                        )}\r\n                      </ListItem>\r\n                      \r\n                      <Divider />\r\n                    </React.Fragment>\r\n                  ))\r\n                )}\r\n              </List>\r\n            )}\r\n          </ConversationList>\r\n        </Grid>\r\n\r\n        {/* Message Area */}\r\n        <Grid item xs={12} md={8} sx={{ height: '100%', flexGrow: 2 }}>\r\n          <MessageArea\r\n            elevation={0}\r\n            showConversations={showConversations}\r\n          >\r\n            {isMobile && !showConversations && (\r\n              <BackButton onClick={handleBackToConversations}>\r\n                <ArrowBackIcon />\r\n              </BackButton>\r\n            )}\r\n            \r\n            {activeConversation ? (\r\n              <>\r\n                {/* Conversation Header */}\r\n                <Box sx={{\r\n                  p: 2,\r\n                  borderBottom: '1px solid #7e93bdff',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  bgcolor: 'background.paper',\r\n                  position: 'sticky',\r\n                  top: 0,\r\n                  zIndex: 1,\r\n                  boxShadow: '0 1px 3px rgba(0,0,0,0.1)' // Shadow for header\r\n                }}>\r\n                  {isMobile && (\r\n                    <IconButton\r\n                      edge=\"start\" \r\n                      onClick={handleBackToConversations}\r\n                      sx={{ ml: 4 ,mr:2 ,Weight:'bold', color:'rgb(16, 63, 70)'}}\r\n                    >\r\n                      <ArrowBackIcon />\r\n                    </IconButton>\r\n                  )}\r\n                  <Avatar\r\n                    src={activeConversation.other_user?.photo_url}\r\n                    sx={{ \r\n                      mr: 2, \r\n                      width: 40, \r\n                      height: 40,\r\n                      bgcolor: '#3f51b5',\r\n                      boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n                    }}\r\n                  >\r\n                    {activeConversation.other_user?.display_name?.charAt(0)}\r\n                  </Avatar>\r\n                  <Box sx={{ flex: 1 }}>\r\n                    <Typography variant=\"subtitle1\" sx={{ fontWeight: 600 }}>\r\n                      {activeConversation.other_user?.display_name}\r\n                      {onlineUsers.has(activeConversation.other_user?.id) && (\r\n                        <UserStatusBadge sx={{ ml: 1 }}>Online</UserStatusBadge>\r\n                      )}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\">\r\n                      {activeConversation.other_user?.role === 'employer' ? 'Employer' : 'Job Seeker'}\r\n                    </Typography>\r\n                  </Box>\r\n                  <IconButton>\r\n                    <MoreVertIcon />\r\n                  </IconButton>\r\n                </Box>\r\n\r\n                {/* Messages */}\r\n                <MessageList ref={messageListRef}>\r\n                  {loading.messages ? (\r\n                    <Box sx={{ display: 'flex', justifyContent: 'center', p: 3 }}>\r\n                      <CircularProgress />\r\n                    </Box>\r\n                  ) : messages.length === 0 ? (\r\n                    <Box sx={{\r\n                      display: 'flex',\r\n                      flexDirection: 'column',\r\n                      alignItems: 'center',\r\n                      justifyContent: 'center',\r\n                      height: '100%',\r\n                      textAlign: 'center',\r\n                      p: 3\r\n                    }}>\r\n                      <Typography variant=\"body1\" color=\"textSecondary\" gutterBottom>\r\n                        No messages yet\r\n                      </Typography>\r\n                      <Typography variant=\"body2\" color=\"textSecondary\">\r\n                        Start the conversation by sending a message\r\n                      </Typography>\r\n                    </Box>\r\n                  ) : (\r\n                    messages.map((message) => {\r\n                      if (!message.sender_id || !user?.id) return null;\r\n                      const isOwn = message.sender_id === user?.id;\r\n                      const isPending = message.isPending; // Check if message is pending\r\n                      const hasError = message.hasError; // Check if message failed\r\n\r\n                      return (\r\n                        <MessageItem key={message.id} isOwn={isOwn}>\r\n                          {!isOwn && (\r\n                            <Avatar\r\n                              src={activeConversation.other_user?.photo_url}\r\n                              sx={{ \r\n                                mr: 1, \r\n                                width: 32, \r\n                                height: 32,\r\n                                bgcolor: '#3f51b5',\r\n                                boxShadow: '0 1px 3px rgba(0,0,0,0.1)'\r\n                              }}\r\n                            >\r\n                              {activeConversation.other_user?.display_name?.charAt(0)}\r\n                            </Avatar>\r\n                          )}\r\n                          <Box sx={{ maxWidth: 'calc(100% - 48px)' }}>\r\n                            <MessageBubble \r\n                              isOwn={isOwn} \r\n                              isPending={isPending}\r\n                              hasError={hasError}\r\n                            >\r\n                              <Typography variant=\"body1\" sx={{ lineHeight: 1.4 }}>\r\n                                {message.content}\r\n                              </Typography>\r\n                            </MessageBubble>\r\n                            <MessageTime variant=\"caption\" isOwn={isOwn}>\r\n                              {formatMessageTime(message.created_at)}\r\n                              {isOwn && !isPending && !hasError && ( // Show status icons only if not pending or failed\r\n                                <MessageStatusIcon read={message.read} isOwn={isOwn}>\r\n                                  {message.read ? <DoneAllIcon /> : <DoneIcon />}\r\n                                </MessageStatusIcon>\r\n                              )}\r\n                              {hasError && ( // Show retry icon for failed messages\r\n                                <Tooltip title=\"Failed to send. Click to retry\">\r\n                                  <IconButton\r\n                                    size=\"small\"\r\n                                    sx={{ \r\n                                      ml: 0.5,\r\n                                      color: isOwn ? 'rgba(255,255,255,0.7)' : '#6b7280',\r\n                                      p: 0.5\r\n                                    }}\r\n                                    onClick={() => handleRetryMessage(message.id)}\r\n                                  >\r\n                                    <RefreshIcon fontSize=\"inherit\" />\r\n                                  </IconButton>\r\n                                </Tooltip>\r\n                              )}\r\n                              {isPending && ( // Show loading spinner for pending messages\r\n                                <CircularProgress \r\n                                  size={12} \r\n                                  thickness={4}\r\n                                  sx={{ \r\n                                    ml: 0.5,\r\n                                    color: isOwn ? 'rgba(255,255,255,0.7)' : '#6b7280',\r\n                                  }} \r\n                                />\r\n                              )}\r\n                            </MessageTime>\r\n                          </Box>\r\n                        </MessageItem>\r\n                      );\r\n                    })\r\n                  )}\r\n                  \r\n                  \r\n                  {otherUserTyping && ( // Display typing indicator\r\n                    <Typography \r\n                      variant=\"caption\" \r\n                      sx={{\r\n                        color: \"#3f51b5\", // Distinct color for typing indicator\r\n                        pb: 2,\r\n                        pl: 1,\r\n                        display: 'block'\r\n                      }}\r\n                    >\r\n                      {activeConversation.other_user?.display_name} is typing...\r\n                    </Typography>\r\n                  )}\r\n                      <div ref={messagesEndRef} />\r\n\r\n                </MessageList>\r\n\r\n                {/* Message Input */}\r\n                <MessageInput component=\"form\" onSubmit={handleSendMessage}>\r\n                  <TextField\r\n                    fullWidth\r\n                    placeholder=\"Type a message...\"\r\n                    value={newMessage}\r\n                    onChange={handleChange}\r\n                    variant=\"outlined\"\r\n                    size=\"small\"\r\n                    autoComplete=\"off\"\r\n                    sx={{\r\n                      '& .MuiOutlinedInput-root': {\r\n                        borderRadius: 20, // Rounded input field\r\n                        backgroundColor: 'background.paper',\r\n                      }\r\n                    }}\r\n                  />\r\n                  <IconButton\r\n                    color=\"primary\"\r\n                    type=\"submit\"\r\n                    disabled={!newMessage.trim()}\r\n                    sx={{ \r\n                      ml: 1,\r\n                      backgroundColor: 'primary.main',\r\n                      color: 'primary.contrastText',\r\n                      '&:hover': {\r\n                        backgroundColor: 'primary.dark',\r\n                      },\r\n                      '&:disabled': {\r\n                        backgroundColor: 'action.disabledBackground',\r\n                        color: 'action.disabled'\r\n                      }\r\n                    }}\r\n                  >\r\n                    <SendIcon />\r\n                  </IconButton>\r\n                </MessageInput>\r\n              </>\r\n            ) : (\r\n              <Box sx={{\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                height: '100%',\r\n                p: 3,\r\n                textAlign: 'center'\r\n              }}>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Select a conversation\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\">\r\n                  Choose a conversation from the list to start chatting\r\n                </Typography>\r\n              </Box>\r\n            )}\r\n          </MessageArea>\r\n        </Grid>\r\n      </Grid>\r\n    </ChatContainer> \r\n  );\r\n};\r\n\r\nexport default Chat;\r\n// No code changes required in this frontend file for CORS fix.\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\CompanyVideoPreviewPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useTheme' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 9,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 9,
        "endColumn": 11,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useTheme"
            },
            "fix": {
              "range": [
                133,
                146
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useTheme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useAuth' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 50,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 50,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useAuth"
            },
            "fix": {
              "range": [
                819,
                868
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useAuth'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 51,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 51,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                870,
                905
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'isPlaying' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 61,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 61,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "isPlaying"
            },
            "fix": {
              "range": [
                1270,
                1279
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'isPlaying'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setIsPlaying' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 61,
        "column": 21,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 61,
        "endColumn": 33,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setIsPlaying"
            },
            "fix": {
              "range": [
                1279,
                1293
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setIsPlaying'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'isMuted' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 62,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 62,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "isMuted"
            },
            "fix": {
              "range": [
                1324,
                1331
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'isMuted'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setIsMuted' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 62,
        "column": 19,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 62,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setIsMuted"
            },
            "fix": {
              "range": [
                1331,
                1343
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setIsMuted'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setRelatedJobs' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 66,
        "column": 23,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 66,
        "endColumn": 37,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setRelatedJobs"
            },
            "fix": {
              "range": [
                1559,
                1575
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setRelatedJobs'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchVideoData'. Either include it or remove the dependency array.",
        "line": 72,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 72,
        "endColumn": 15,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchVideoData, videoId]",
            "fix": {
              "range": [
                1674,
                1683
              ],
              "text": "[fetchVideoData, videoId]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used.",
        "line": 133,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 133,
        "endColumn": 19
      }
    ],
    "suppressedMessages": [],
    "errorCount": 9,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Container,\r\n  Typography,\r\n  useTheme,\r\n  CircularProgress,\r\n  Alert,\r\n  Chip,\r\n  Avatar,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  IconButton,\r\n  Grid,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemAvatar,\r\n  Paper\r\n} from \"@mui/material\";\r\nimport { \r\n  PlayArrow,\r\n  Pause,\r\n  VolumeUp,\r\n  VolumeOff,\r\n  Fullscreen,\r\n  Close,\r\n  Business,\r\n  LocationOn,\r\n  People,\r\n  Language,\r\n  Work,\r\n  Star,\r\n  Favorite,\r\n  FavoriteBorder,\r\n  Share,\r\n  Bookmark,\r\n  BookmarkBorder,\r\n  Comment,\r\n  Send\r\n} from \"@mui/icons-material\";\r\nimport { useParams } from 'react-router-dom';\r\nimport { getCompanyVideo, likeVideo, unlikeVideo, saveVideo, unsaveVideo } from '@/services/api';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\n\r\nexport default function CompanyVideoPreviewPage() {\r\n  // const theme = useTheme(); // Removed: unused variable\n  const { videoId } = useParams();\r\n  // const { user } = useAuth(); // Removed: unused variable\n  \r\n  const [video, setVideo] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [isLiked, setIsLiked] = useState(false);\r\n  const [isSaved, setIsSaved] = useState(false);\r\n  const [showFullDescription, setShowFullDescription] = useState(false);\r\n  const [relatedJobs, setRelatedJobs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (videoId) {\r\n      fetchVideoData();\r\n    }\r\n  }, [videoId]);\r\n\r\n  const fetchVideoData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await getCompanyVideo(videoId);\r\n      setVideo(response.data);\r\n      setIsLiked(response.data.isLiked || false);\r\n      setIsSaved(response.data.isSaved || false);\r\n      \r\n      // Fetch related jobs from the same company\r\n      if (response.data.companyId) {\r\n        // This would be a separate API call\r\n        // const jobsResponse = await getCompanyJobs(response.data.companyId);\r\n        // setRelatedJobs(jobsResponse.data.jobs || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching video:', error);\r\n      setError('Failed to load video. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLike = async () => {\r\n    try {\r\n      if (isLiked) {\r\n        await unlikeVideo(videoId);\r\n        setIsLiked(false);\r\n        setVideo(prev => ({ ...prev, likes: (prev.likes || 0) - 1 }));\r\n      } else {\r\n        await likeVideo(videoId);\r\n        setIsLiked(true);\r\n        setVideo(prev => ({ ...prev, likes: (prev.likes || 0) + 1 }));\r\n      }\r\n    } catch (error) {\r\n      console.error('Error liking video:', error);\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      if (isSaved) {\r\n        await unsaveVideo(videoId);\r\n        setIsSaved(false);\r\n      } else {\r\n        await saveVideo(videoId);\r\n        setIsSaved(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error saving video:', error);\r\n    }\r\n  };\r\n\r\n  const handleShare = async () => {\r\n    try {\r\n      await navigator.share({\r\n        title: video.title,\r\n        text: `Check out this company video from ${video.company}`,\r\n        url: window.location.href\r\n      });\r\n    } catch (error) {\r\n      // Fallback to copying to clipboard\r\n      navigator.clipboard.writeText(window.location.href);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container maxWidth=\"lg\" sx={{ py: 4 }}>\r\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\r\n          <CircularProgress size={60} />\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (error || !video) {\r\n    return (\r\n      <Container maxWidth=\"lg\" sx={{ py: 4 }}>\r\n        <Alert severity=\"error\">{error || 'Video not found'}</Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\r\n      <Grid container spacing={4}>\r\n        {/* Video Player Section */}\r\n        <Grid item xs={12} md={8}>\r\n          <Card sx={{ mb: 3 }}>\r\n            <Box position=\"relative\" sx={{ paddingTop: '56.25%', bgcolor: 'black' }}>\r\n              {video.videoUrl ? (\r\n                <video\r\n                  src={video.videoUrl}\r\n                  poster={video.thumbnail}\r\n                  controls\r\n                  style={{\r\n                    position: 'absolute',\r\n                    top: 0,\r\n                    left: 0,\r\n                    width: '100%',\r\n                    height: '100%',\r\n                    objectFit: 'contain'\r\n                  }}\r\n                />\r\n              ) : (\r\n                <Box\r\n                  position=\"absolute\"\r\n                  top={0}\r\n                  left={0}\r\n                  width=\"100%\"\r\n                  height=\"100%\"\r\n                  display=\"flex\"\r\n                  alignItems=\"center\"\r\n                  justifyContent=\"center\"\r\n                  sx={{ bgcolor: 'grey.900' }}\r\n                >\r\n                  <Typography color=\"white\">Video not available</Typography>\r\n                </Box>\r\n              )}\r\n            </Box>\r\n          </Card>\r\n\r\n          {/* Video Info */}\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"h5\" fontWeight=\"bold\" gutterBottom>\r\n                {video.title}\r\n              </Typography>\r\n\r\n              <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\" mb={2}>\r\n                <Box display=\"flex\" alignItems=\"center\">\r\n                  <Avatar\r\n                    src={video.companyLogo}\r\n                    sx={{ width: 40, height: 40, mr: 2 }}\r\n                  >\r\n                    {video.company?.[0]}\r\n                  </Avatar>\r\n                  <Box>\r\n                    <Typography variant=\"h6\">{video.company}</Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      {video.views || 0} views â€¢ {new Date(video.createdAt).toLocaleDateString()}\r\n                    </Typography>\r\n                  </Box>\r\n                </Box>\r\n\r\n                <Box display=\"flex\" gap={1}>\r\n                  <Button\r\n                    variant={isLiked ? \"contained\" : \"outlined\"}\r\n                    startIcon={isLiked ? <Favorite /> : <FavoriteBorder />}\r\n                    onClick={handleLike}\r\n                    size=\"small\"\r\n                  >\r\n                    {video.likes || 0}\r\n                  </Button>\r\n                  <IconButton onClick={handleSave} color={isSaved ? \"primary\" : \"default\"}>\r\n                    {isSaved ? <Bookmark /> : <BookmarkBorder />}\r\n                  </IconButton>\r\n                  <IconButton onClick={handleShare}>\r\n                    <Share />\r\n                  </IconButton>\r\n                </Box>\r\n              </Box>\r\n\r\n              <Divider sx={{ my: 2 }} />\r\n\r\n              {/* Company Info */}\r\n              <Box mb={3}>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  About {video.company}\r\n                </Typography>\r\n                \r\n                <Grid container spacing={2} mb={2}>\r\n                  {video.location && (\r\n                    <Grid item xs={12} sm={6}>\r\n                      <Box display=\"flex\" alignItems=\"center\">\r\n                        <LocationOn sx={{ mr: 1, color: 'text.secondary' }} />\r\n                        <Typography variant=\"body2\">{video.location}</Typography>\r\n                      </Box>\r\n                    </Grid>\r\n                  )}\r\n                  {video.companySize && (\r\n                    <Grid item xs={12} sm={6}>\r\n                      <Box display=\"flex\" alignItems=\"center\">\r\n                        <People sx={{ mr: 1, color: 'text.secondary' }} />\r\n                        <Typography variant=\"body2\">{video.companySize} employees</Typography>\r\n                      </Box>\r\n                    </Grid>\r\n                  )}\r\n                  {video.industry && (\r\n                    <Grid item xs={12} sm={6}>\r\n                      <Box display=\"flex\" alignItems=\"center\">\r\n                        <Business sx={{ mr: 1, color: 'text.secondary' }} />\r\n                        <Typography variant=\"body2\">{video.industry}</Typography>\r\n                      </Box>\r\n                    </Grid>\r\n                  )}\r\n                  {video.website && (\r\n                    <Grid item xs={12} sm={6}>\r\n                      <Box display=\"flex\" alignItems=\"center\">\r\n                        <Language sx={{ mr: 1, color: 'text.secondary' }} />\r\n                        <Typography \r\n                          variant=\"body2\" \r\n                          component=\"a\" \r\n                          href={video.website}\r\n                          target=\"_blank\"\r\n                          sx={{ textDecoration: 'none', color: 'primary.main' }}\r\n                        >\r\n                          Company Website\r\n                        </Typography>\r\n                      </Box>\r\n                    </Grid>\r\n                  )}\r\n                </Grid>\r\n\r\n                {video.description && (\r\n                  <Box>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      {showFullDescription \r\n                        ? video.description \r\n                        : `${video.description.substring(0, 200)}${video.description.length > 200 ? '...' : ''}`\r\n                      }\r\n                    </Typography>\r\n                    {video.description.length > 200 && (\r\n                      <Button\r\n                        size=\"small\"\r\n                        onClick={() => setShowFullDescription(!showFullDescription)}\r\n                        sx={{ mt: 1 }}\r\n                      >\r\n                        {showFullDescription ? 'Show Less' : 'Show More'}\r\n                      </Button>\r\n                    )}\r\n                  </Box>\r\n                )}\r\n              </Box>\r\n\r\n              {/* Tags */}\r\n              {video.tags && video.tags.length > 0 && (\r\n                <Box>\r\n                  <Typography variant=\"subtitle2\" gutterBottom>\r\n                    Tags:\r\n                  </Typography>\r\n                  <Box display=\"flex\" flexWrap=\"wrap\" gap={0.5}>\r\n                    {video.tags.map((tag, index) => (\r\n                      <Chip\r\n                        key={index}\r\n                        label={tag}\r\n                        size=\"small\"\r\n                        variant=\"outlined\"\r\n                        clickable\r\n                      />\r\n                    ))}\r\n                  </Box>\r\n                </Box>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n\r\n        {/* Sidebar */}\r\n        <Grid item xs={12} md={4}>\r\n          {/* Company Stats */}\r\n          <Card sx={{ mb: 3 }}>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Company Highlights\r\n              </Typography>\r\n              \r\n              <Box mb={2}>\r\n                <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n                  Company Rating\r\n                </Typography>\r\n                <Box display=\"flex\" alignItems=\"center\">\r\n                  <Star sx={{ color: '#ffc107', mr: 0.5 }} />\r\n                  <Typography variant=\"h6\">\r\n                    {video.companyRating || 'N/A'}\r\n                  </Typography>\r\n                  {video.reviewCount && (\r\n                    <Typography variant=\"body2\" color=\"text.secondary\" sx={{ ml: 1 }}>\r\n                      ({video.reviewCount} reviews)\r\n                    </Typography>\r\n                  )}\r\n                </Box>\r\n              </Box>\r\n\r\n              {video.benefits && video.benefits.length > 0 && (\r\n                <Box mb={2}>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n                    Benefits\r\n                  </Typography>\r\n                  <Box display=\"flex\" flexWrap=\"wrap\" gap={0.5}>\r\n                    {video.benefits.slice(0, 3).map((benefit, index) => (\r\n                      <Chip\r\n                        key={index}\r\n                        label={benefit}\r\n                        size=\"small\"\r\n                        color=\"primary\"\r\n                        variant=\"outlined\"\r\n                      />\r\n                    ))}\r\n                    {video.benefits.length > 3 && (\r\n                      <Chip\r\n                        label={`+${video.benefits.length - 3} more`}\r\n                        size=\"small\"\r\n                        variant=\"outlined\"\r\n                      />\r\n                    )}\r\n                  </Box>\r\n                </Box>\r\n              )}\r\n\r\n              <Button\r\n                variant=\"contained\"\r\n                fullWidth\r\n                startIcon={<Work />}\r\n                onClick={() => window.open(`/company/${video.companyId}/jobs`, '_blank')}\r\n              >\r\n                View Open Positions\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Related Jobs */}\r\n          {relatedJobs.length > 0 && (\r\n            <Card sx={{ mb: 3 }}>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Open Positions at {video.company}\r\n                </Typography>\r\n                \r\n                <List dense>\r\n                  {relatedJobs.slice(0, 5).map((job) => (\r\n                    <ListItem\r\n                      key={job.id}\r\n                      button\r\n                      onClick={() => window.open(`/jobs/${job.id}`, '_blank')}\r\n                      sx={{ px: 0 }}\r\n                    >\r\n                      <ListItemText\r\n                        primary={job.title}\r\n                        secondary={`${job.location} â€¢ ${job.type}`}\r\n                      />\r\n                    </ListItem>\r\n                  ))}\r\n                </List>\r\n\r\n                {relatedJobs.length > 5 && (\r\n                  <Button\r\n                    size=\"small\"\r\n                    onClick={() => window.open(`/company/${video.companyId}/jobs`, '_blank')}\r\n                  >\r\n                    View All {relatedJobs.length} Positions\r\n                  </Button>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n\r\n          {/* Similar Companies */}\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Similar Companies\r\n              </Typography>\r\n              \r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Discover more companies in {video.industry || 'this industry'}\r\n              </Typography>\r\n              \r\n              <Button\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                sx={{ mt: 2 }}\r\n                onClick={() => window.open('/company-videos', '_blank')}\r\n              >\r\n                Explore Companies\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\CompanyVideos.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'shareVideo' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 8,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 8,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "shareVideo"
            },
            "fix": {
              "range": [
                163,
                180
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'shareVideo'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useAuth' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 13,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 13,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useAuth"
            },
            "fix": {
              "range": [
                280,
                329
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useAuth'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'themeColors' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 44,
        "column": 8,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 44,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "themeColors"
            },
            "fix": {
              "range": [
                1366,
                1383
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'themeColors'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchVideos'. Either include it or remove the dependency array.",
        "line": 92,
        "column": 8,
        "nodeType": "ArrayExpression",
        "endLine": 92,
        "endColumn": 77,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [selectedCategory, selectedLocation, selectedCompanySize, searchTerm, fetchVideos]",
            "fix": {
              "range": [
                3517,
                3586
              ],
              "text": "[selectedCategory, selectedLocation, selectedCompanySize, searchTerm, fetchVideos]"
            }
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'setDrawerOpen' is not defined.",
        "line": 334,
        "column": 40,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 334,
        "endColumn": 53
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'setAnchorEl' is not defined.",
        "line": 390,
        "column": 53,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 390,
        "endColumn": 64
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'setMenuVideo' is not defined.",
        "line": 391,
        "column": 53,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 391,
        "endColumn": 65
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'drawerOpen' is not defined.",
        "line": 511,
        "column": 27,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 511,
        "endColumn": 37
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'setDrawerOpen' is not defined.",
        "line": 512,
        "column": 36,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 512,
        "endColumn": 49
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'anchorEl' is not defined.",
        "line": 613,
        "column": 31,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 613,
        "endColumn": 39
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'anchorEl' is not defined.",
        "line": 614,
        "column": 35,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 614,
        "endColumn": 43
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'setAnchorEl' is not defined.",
        "line": 615,
        "column": 36,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 615,
        "endColumn": 47
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'menuVideo' is not defined.",
        "line": 617,
        "column": 59,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 617,
        "endColumn": 68
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'menuVideo' is not defined.",
        "line": 621,
        "column": 70,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 621,
        "endColumn": 79
      }
    ],
    "suppressedMessages": [],
    "errorCount": 13,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { \r\n    getEmployerPublicVideos, \r\n    likeVideo, \r\n    unlikeVideo, \r\n    saveVideo, \r\n    unsaveVideo,\r\n    shareVideo,\r\n    addVideoComment,\r\n    getVideoComments,\r\n    connectWithCandidate\r\n} from '@/services/api';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/UI/card.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Input } from '@/components/UI/input.jsx';\r\nimport { Label } from '@/components/UI/label.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/UI/avatar.jsx';\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/UI/dialog.jsx';\r\nimport { Textarea } from '@/components/UI/textarea.jsx';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/UI/select.jsx';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport {\r\n    Play,\r\n    Filter,\r\n    Search,\r\n    Building2,\r\n    MapPin,\r\n    Users,\r\n    Globe,\r\n    Tag,\r\n    Heart,\r\n    Bookmark,\r\n    BookmarkCheck,\r\n    Share2,\r\n    MessageCircle,\r\n    Eye,\r\n    MoreVertical,\r\n    Handshake,\r\n    Loader2,\r\n    PlayCircle\r\n} from 'lucide-react';\r\nimport themeColors from '@/config/theme-colors';\r\n\r\nexport default function CompanyVideos() {\r\n  // const { user } = useAuth(); // Removed: unused variable\n    const { toast } = useToast();\r\n    const [videos, setVideos] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [selectedCategory, setSelectedCategory] = useState('all');\r\n    const [selectedLocation, setSelectedLocation] = useState('all');\r\n    const [selectedCompanySize, setSelectedCompanySize] = useState('all');\r\n    const [selectedVideo, setSelectedVideo] = useState(null);\r\n    const [videoDialog, setVideoDialog] = useState(false);\r\n    const [commentDialog, setCommentDialog] = useState({ open: false, video: null });\r\n    const [newComment, setNewComment] = useState('');\r\n    const [comments, setComments] = useState([]);\r\n    const [likedVideos, setLikedVideos] = useState(new Set());\r\n    const [savedVideos, setSavedVideos] = useState(new Set());\r\n    const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'info' });\r\n\r\n    const categories = [\r\n        { value: 'all', label: 'All Categories' },\r\n        { value: 'technology', label: 'Technology' },\r\n        { value: 'finance', label: 'Finance' },\r\n        { value: 'healthcare', label: 'Healthcare' },\r\n        { value: 'education', label: 'Education' },\r\n        { value: 'retail', label: 'Retail' },\r\n        { value: 'manufacturing', label: 'Manufacturing' }\r\n    ];\r\n\r\n    const locations = [\r\n        { value: 'all', label: 'All Locations' },\r\n        { value: 'remote', label: 'Remote' },\r\n        { value: 'new-york', label: 'New York' },\r\n        { value: 'san-francisco', label: 'San Francisco' },\r\n        { value: 'london', label: 'London' },\r\n        { value: 'toronto', label: 'Toronto' }\r\n    ];\r\n\r\n    const companySizes = [\r\n        { value: 'all', label: 'All Company Sizes' },\r\n        { value: 'startup', label: 'Startup (1-50)' },\r\n        { value: 'medium', label: 'Medium (51-500)' },\r\n        { value: 'large', label: 'Large (500+)' }\r\n    ];\r\n\r\n    useEffect(() => {\r\n        fetchVideos();\r\n    }, [selectedCategory, selectedLocation, selectedCompanySize, searchTerm]);\r\n\r\n    const fetchVideos = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const response = await getEmployerPublicVideos(1, 20);\r\n            setVideos(response.data.videos || []);\r\n        } catch (error) {\r\n            console.error('Error fetching company videos:', error);\r\n            toast({\r\n                title: \"Error\",\r\n                description: \"Failed to load company videos\",\r\n                variant: \"destructive\",\r\n            });\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleVideoClick = (video) => {\r\n        setSelectedVideo(video);\r\n        setVideoDialog(true);\r\n    };\r\n\r\n    const handleLike = async (videoId, event) => {\r\n        event.stopPropagation();\r\n        try {\r\n            if (likedVideos.has(videoId)) {\r\n                await unlikeVideo(videoId);\r\n                setLikedVideos(prev => {\r\n                    const newSet = new Set(prev);\r\n                    newSet.delete(videoId);\r\n                    return newSet;\r\n                });\r\n            } else {\r\n                await likeVideo(videoId);\r\n                setLikedVideos(prev => new Set(prev).add(videoId));\r\n            }\r\n        } catch (error) {\r\n            console.error('Error liking video:', error);\r\n            toast({\r\n                title: \"Error\",\r\n                description: \"Failed to like video\",\r\n                variant: \"destructive\",\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleSave = async (videoId, event) => {\r\n        event.stopPropagation();\r\n        try {\r\n            if (savedVideos.has(videoId)) {\r\n                await unsaveVideo(videoId);\r\n                setSavedVideos(prev => {\r\n                    const newSet = new Set(prev);\r\n                    newSet.delete(videoId);\r\n                    return newSet;\r\n                });\r\n                toast({\r\n                    description: \"Video removed from saved list\",\r\n                });\r\n            } else {\r\n                await saveVideo(videoId);\r\n                setSavedVideos(prev => new Set(prev).add(videoId));\r\n                toast({\r\n                    title: \"Saved!\",\r\n                    description: \"Video saved successfully\",\r\n                });\r\n            }\r\n        } catch (error) {\r\n            console.error('Error saving video:', error);\r\n            toast({\r\n                title: \"Error\",\r\n                description: \"Failed to save video\",\r\n                variant: \"destructive\",\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleShare = async (video, event) => {\r\n        event.stopPropagation();\r\n        try {\r\n            if (navigator.share) {\r\n                await navigator.share({\r\n                    title: video.title,\r\n                    text: `Check out this company video from ${video.company}`,\r\n                    url: window.location.href\r\n                });\r\n            } else {\r\n                await navigator.clipboard.writeText(window.location.href);\r\n                toast({\r\n                    description: \"Link copied to clipboard\",\r\n                });\r\n                setSnackbar({\r\n                    open: true,\r\n                    message: 'Link copied to clipboard',\r\n                    severity: 'success'\r\n                });\r\n            }\r\n        } catch (error) {\r\n            console.error('Error sharing video:', error);\r\n            toast({\r\n                title: \"Error\",\r\n                description: \"Failed to share the video\",\r\n                variant: \"destructive\",\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleComment = async (video) => {\r\n        setCommentDialog({ open: true, video });\r\n        try {\r\n            const response = await getVideoComments(video.id);\r\n            setComments(response.data || []);\r\n        } catch (error) {\r\n            console.error('Error fetching comments:', error);\r\n        }\r\n    };\r\n\r\n    const handleAddComment = async () => {\r\n        if (!newComment.trim()) return;\r\n        \r\n        try {\r\n            await addVideoComment(commentDialog.video.id, newComment);\r\n            setNewComment('');\r\n            // Refresh comments\r\n            const response = await getVideoComments(commentDialog.video.id);\r\n            setComments(response.data || []);\r\n            setSnackbar({\r\n                open: true,\r\n                message: 'Comment added successfully',\r\n                severity: 'success'\r\n            });\r\n        } catch (error) {\r\n            console.error('Error adding comment:', error);\r\n            setSnackbar({\r\n                open: true,\r\n                message: 'Failed to add comment',\r\n                severity: 'error'\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleConnect = async (video) => {\r\n        try {\r\n            await connectWithCandidate(video.userId, `Hi! I'm interested in learning more about ${video.company}. Your company video was very impressive!`);\r\n            setSnackbar({\r\n                open: true,\r\n                message: 'Connection request sent successfully',\r\n                severity: 'success'\r\n            });\r\n        } catch (error) {\r\n            console.error('Error connecting:', error);\r\n            setSnackbar({\r\n                open: true,\r\n                message: 'Failed to send connection request',\r\n                severity: 'error'\r\n            });\r\n        }\r\n    };\r\n\r\n    const filteredVideos = videos.filter(video => {\r\n        const matchesSearch = video.title?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                            video.company?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                            video.description?.toLowerCase().includes(searchTerm.toLowerCase());\r\n        const matchesCategory = selectedCategory === 'all' || video.category === selectedCategory;\r\n        const matchesLocation = selectedLocation === 'all' || video.location === selectedLocation;\r\n        const matchesSize = selectedCompanySize === 'all' || video.companySize === selectedCompanySize;\r\n        \r\n        return matchesSearch && matchesCategory && matchesLocation && matchesSize;\r\n    });\r\n\r\n    const FilterSidebar = () => (\r\n        <Box sx={{ width: 280, p: 3 }}>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n                Filters\r\n            </Typography>\r\n            \r\n            <Box mb={3}>\r\n                <Typography variant=\"subtitle2\" gutterBottom>\r\n                    Category\r\n                </Typography>\r\n                {categories.map((category) => (\r\n                    <Button\r\n                        key={category.value}\r\n                        fullWidth\r\n                        variant={selectedCategory === category.value ? 'contained' : 'text'}\r\n                        onClick={() => setSelectedCategory(category.value)}\r\n                        sx={{ justifyContent: 'flex-start', mb: 0.5 }}\r\n                    >\r\n                        {category.label}\r\n                    </Button>\r\n                ))}\r\n            </Box>\r\n\r\n            <Box mb={3}>\r\n                <Typography variant=\"subtitle2\" gutterBottom>\r\n                    Location\r\n                </Typography>\r\n                {locations.map((location) => (\r\n                    <Button\r\n                        key={location.value}\r\n                        fullWidth\r\n                        variant={selectedLocation === location.value ? 'contained' : 'text'}\r\n                        onClick={() => setSelectedLocation(location.value)}\r\n                        sx={{ justifyContent: 'flex-start', mb: 0.5 }}\r\n                    >\r\n                        {location.label}\r\n                    </Button>\r\n                ))}\r\n            </Box>\r\n\r\n            <Box mb={3}>\r\n                <Typography variant=\"subtitle2\" gutterBottom>\r\n                    Company Size\r\n                </Typography>\r\n                {companySizes.map((size) => (\r\n                    <Button\r\n                        key={size.value}\r\n                        fullWidth\r\n                        variant={selectedCompanySize === size.value ? 'contained' : 'text'}\r\n                        onClick={() => setSelectedCompanySize(size.value)}\r\n                        sx={{ justifyContent: 'flex-start', mb: 0.5 }}\r\n                    >\r\n                        {size.label}\r\n                    </Button>\r\n                ))}\r\n            </Box>\r\n        </Box>\r\n    );\r\n\r\n    return (\r\n        <Container maxWidth=\"xl\">\r\n            <CompanyVideosContainer>\r\n                {/* Header */}\r\n                <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={4}>\r\n                    <Typography variant=\"h4\" fontWeight=\"bold\">\r\n                        Company Videos\r\n                    </Typography>\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        startIcon={<FilterList />}\r\n                        onClick={() => setDrawerOpen(true)}\r\n                    >\r\n                        Filters\r\n                    </Button>\r\n                </Box>\r\n\r\n                {/* Search */}\r\n                <TextField\r\n                    fullWidth\r\n                    placeholder=\"Search companies, videos, or descriptions...\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                    InputProps={{\r\n                        startAdornment: (\r\n                            <InputAdornment position=\"start\">\r\n                                <Search />\r\n                            </InputAdornment>\r\n                        ),\r\n                    }}\r\n                    sx={{ mb: 4 }}\r\n                />\r\n\r\n                {/* Videos Grid */}\r\n                {loading ? (\r\n                    <Box display=\"flex\" justifyContent=\"center\" py={8}>\r\n                        <CircularProgress size={60} />\r\n                    </Box>\r\n                ) : (\r\n                    <Grid container spacing={3}>\r\n                        {filteredVideos.map((video) => (\r\n                            <Grid item xs={12} sm={6} md={4} lg={3} key={video.id}>\r\n                                <VideoCard onClick={() => handleVideoClick(video)}>\r\n                                    <Box position=\"relative\">\r\n                                        <CardMedia\r\n                                            component=\"img\"\r\n                                            height=\"200\"\r\n                                            image={video.thumbnail || '/placeholder-video.jpg'}\r\n                                            alt={video.title}\r\n                                        />\r\n                                        <PlayButton>\r\n                                            <PlayArrow fontSize=\"large\" />\r\n                                        </PlayButton>\r\n                                        \r\n                                        {/* Video Actions */}\r\n                                        <Box\r\n                                            position=\"absolute\"\r\n                                            top={8}\r\n                                            right={8}\r\n                                            display=\"flex\"\r\n                                            flexDirection=\"column\"\r\n                                            gap={1}\r\n                                        >\r\n                                            <IconButton\r\n                                                size=\"small\"\r\n                                                onClick={(e) => {\r\n                                                    e.stopPropagation();\r\n                                                    setAnchorEl(e.currentTarget);\r\n                                                    setMenuVideo(video);\r\n                                                }}\r\n                                                sx={{ \r\n                                                    backgroundColor: 'rgba(0,0,0,0.5)', \r\n                                                    color: 'white',\r\n                                                    '&:hover': { backgroundColor: 'rgba(0,0,0,0.7)' }\r\n                                                }}\r\n                                            >\r\n                                                <MoreVert />\r\n                                            </IconButton>\r\n                                        </Box>\r\n\r\n                                        {/* Video Stats */}\r\n                                        <Box\r\n                                            position=\"absolute\"\r\n                                            bottom={8}\r\n                                            left={8}\r\n                                            display=\"flex\"\r\n                                            gap={1}\r\n                                        >\r\n                                            <Chip\r\n                                                size=\"small\"\r\n                                                label={`${video.views || 0} views`}\r\n                                                sx={{ \r\n                                                    backgroundColor: 'rgba(0,0,0,0.7)', \r\n                                                    color: 'white',\r\n                                                    fontSize: '0.75rem'\r\n                                                }}\r\n                                            />\r\n                                        </Box>\r\n                                    </Box>\r\n                                    \r\n                                    <CardContent>\r\n                                        <Box display=\"flex\" alignItems=\"center\" mb={1}>\r\n                                            <Avatar\r\n                                                src={video.companyLogo}\r\n                                                sx={{ width: 32, height: 32, mr: 1 }}\r\n                                            >\r\n                                                {video.company?.[0]}\r\n                                            </Avatar>\r\n                                            <Typography variant=\"h6\" noWrap>\r\n                                                {video.company}\r\n                                            </Typography>\r\n                                        </Box>\r\n                                        \r\n                                        <Typography variant=\"body1\" fontWeight=\"medium\" gutterBottom>\r\n                                            {video.title}\r\n                                        </Typography>\r\n                                        \r\n                                        <Typography \r\n                                            variant=\"body2\" \r\n                                            color=\"text.secondary\" \r\n                                            sx={{ \r\n                                                display: '-webkit-box',\r\n                                                WebkitLineClamp: 2,\r\n                                                WebkitBoxOrient: 'vertical',\r\n                                                overflow: 'hidden'\r\n                                            }}\r\n                                        >\r\n                                            {video.description}\r\n                                        </Typography>\r\n\r\n                                        {video.location && (\r\n                                            <Box display=\"flex\" alignItems=\"center\" mt={1}>\r\n                                                <LocationOn sx={{ fontSize: 16, mr: 0.5, color: 'text.secondary' }} />\r\n                                                <Typography variant=\"caption\" color=\"text.secondary\">\r\n                                                    {video.location}\r\n                                                </Typography>\r\n                                            </Box>\r\n                                        )}\r\n\r\n                                        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mt={2}>\r\n                                            <Box display=\"flex\" gap={1}>\r\n                                                <IconButton\r\n                                                    size=\"small\"\r\n                                                    onClick={(e) => handleLike(video.id, e)}\r\n                                                    color={likedVideos.has(video.id) ? \"error\" : \"default\"}\r\n                                                >\r\n                                                    {likedVideos.has(video.id) ? <Favorite /> : <FavoriteBorder />}\r\n                                                </IconButton>\r\n                                                <IconButton\r\n                                                    size=\"small\"\r\n                                                    onClick={(e) => handleSave(video.id, e)}\r\n                                                    color={savedVideos.has(video.id) ? \"primary\" : \"default\"}\r\n                                                >\r\n                                                    {savedVideos.has(video.id) ? <Bookmark /> : <BookmarkBorder />}\r\n                                                </IconButton>\r\n                                                <IconButton\r\n                                                    size=\"small\"\r\n                                                    onClick={(e) => {\r\n                                                        e.stopPropagation();\r\n                                                        handleComment(video);\r\n                                                    }}\r\n                                                >\r\n                                                    <Comment />\r\n                                                </IconButton>\r\n                                            </Box>\r\n                                            \r\n                                            <Button\r\n                                                size=\"small\"\r\n                                                variant=\"contained\"\r\n                                                startIcon={<Connect />}\r\n                                                onClick={(e) => {\r\n                                                    e.stopPropagation();\r\n                                                    handleConnect(video);\r\n                                                }}\r\n                                            >\r\n                                                Connect\r\n                                            </Button>\r\n                                        </Box>\r\n                                    </CardContent>\r\n                                </VideoCard>\r\n                            </Grid>\r\n                        ))}\r\n                    </Grid>\r\n                )}\r\n\r\n                {/* Filter Drawer */}\r\n                <Drawer\r\n                    anchor=\"right\"\r\n                    open={drawerOpen}\r\n                    onClose={() => setDrawerOpen(false)}\r\n                >\r\n                    <FilterSidebar />\r\n                </Drawer>\r\n\r\n                {/* Video Dialog */}\r\n                <Dialog\r\n                    open={videoDialog}\r\n                    onClose={() => setVideoDialog(false)}\r\n                    maxWidth=\"md\"\r\n                    fullWidth\r\n                >\r\n                    {selectedVideo && (\r\n                        <>\r\n                            <DialogContent sx={{ p: 0 }}>\r\n                                <video\r\n                                    width=\"100%\"\r\n                                    height=\"400\"\r\n                                    controls\r\n                                    autoPlay\r\n                                    src={selectedVideo.videoUrl}\r\n                                />\r\n                                <Box p={3}>\r\n                                    <Typography variant=\"h5\" gutterBottom>\r\n                                        {selectedVideo.title}\r\n                                    </Typography>\r\n                                    <Typography variant=\"body1\" color=\"text.secondary\" gutterBottom>\r\n                                        {selectedVideo.company}\r\n                                    </Typography>\r\n                                    <Typography variant=\"body2\">\r\n                                        {selectedVideo.description}\r\n                                    </Typography>\r\n                                </Box>\r\n                            </DialogContent>\r\n                            <DialogActions>\r\n                                <Button onClick={() => setVideoDialog(false)}>\r\n                                    Close\r\n                                </Button>\r\n                                <Button variant=\"contained\" onClick={() => handleConnect(selectedVideo)}>\r\n                                    Connect with Company\r\n                                </Button>\r\n                            </DialogActions>\r\n                        </>\r\n                    )}\r\n                </Dialog>\r\n\r\n                {/* Comment Dialog */}\r\n                <Dialog\r\n                    open={commentDialog.open}\r\n                    onClose={() => setCommentDialog({ open: false, video: null })}\r\n                    maxWidth=\"sm\"\r\n                    fullWidth\r\n                >\r\n                    <DialogTitle>\r\n                        Comments - {commentDialog.video?.title}\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        <Box mb={2}>\r\n                            <TextField\r\n                                fullWidth\r\n                                multiline\r\n                                rows={3}\r\n                                placeholder=\"Add a comment...\"\r\n                                value={newComment}\r\n                                onChange={(e) => setNewComment(e.target.value)}\r\n                            />\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                onClick={handleAddComment}\r\n                                sx={{ mt: 1 }}\r\n                                disabled={!newComment.trim()}\r\n                            >\r\n                                Add Comment\r\n                            </Button>\r\n                        </Box>\r\n                        \r\n                        <Divider sx={{ my: 2 }} />\r\n                        \r\n                        <List>\r\n                            {comments.map((comment, index) => (\r\n                                <ListItem key={index} alignItems=\"flex-start\">\r\n                                    <Avatar sx={{ mr: 2 }}>\r\n                                        {comment.author?.[0]}\r\n                                    </Avatar>\r\n                                    <ListItemText\r\n                                        primary={comment.author}\r\n                                        secondary={comment.text}\r\n                                    />\r\n                                </ListItem>\r\n                            ))}\r\n                        </List>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={() => setCommentDialog({ open: false, video: null })}>\r\n                            Close\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n\r\n                {/* Action Menu */}\r\n                <Menu\r\n                    anchorEl={anchorEl}\r\n                    open={Boolean(anchorEl)}\r\n                    onClose={() => setAnchorEl(null)}\r\n                >\r\n                    <MenuItem onClick={(e) => handleShare(menuVideo, e)}>\r\n                        <ListItemIcon><Share /></ListItemIcon>\r\n                        <ListItemText>Share</ListItemText>\r\n                    </MenuItem>\r\n                    <MenuItem onClick={() => window.open(`/company/${menuVideo?.companyId}`, '_blank')}>\r\n                        <ListItemIcon><Visibility /></ListItemIcon>\r\n                        <ListItemText>View Company Profile</ListItemText>\r\n                    </MenuItem>\r\n                </Menu>\r\n\r\n                {/* Snackbar */}\r\n                <Snackbar\r\n                    open={snackbar.open}\r\n                    autoHideDuration={6000}\r\n                    onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n                >\r\n                    <Alert \r\n                        onClose={() => setSnackbar({ ...snackbar, open: false })} \r\n                        severity={snackbar.severity}\r\n                    >\r\n                        {snackbar.message}\r\n                    </Alert>\r\n                </Snackbar>\r\n            </CompanyVideosContainer>\r\n        </Container>\r\n    );\r\n}   \r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\ContactPage.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\CreditsPage.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\CustomerSupportPage.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\DashboardJobSeeker.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\EditEmployerProfilePage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'navigate' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 138,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 138,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "navigate"
            },
            "fix": {
              "range": [
                3154,
                3185
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'navigate'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used.",
        "line": 293,
        "column": 26,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 293,
        "endColumn": 31
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'createStarterProfile'. Either include it or remove the dependency array.",
        "line": 363,
        "column": 4,
        "nodeType": "ArrayExpression",
        "endLine": 363,
        "endColumn": 6,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [createStarterProfile]",
            "fix": {
              "range": [
                10087,
                10089
              ],
              "text": "[createStarterProfile]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'profileToUpdate' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 399,
        "column": 19,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 399,
        "endColumn": 34,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "profileToUpdate"
            },
            "fix": {
              "range": [
                10812,
                10852
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'profileToUpdate'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'response' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 402,
        "column": 13,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 402,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "response"
            },
            "fix": {
              "range": [
                10931,
                10985
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'response'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState, useEffect, useRef  } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Grid,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Avatar,\r\n  Chip,\r\n  IconButton,\r\n  Paper,\r\n  Divider,\r\n  Tab,\r\n  Tabs,\r\n  Card,\r\n  CardContent,\r\n  CardMedia,\r\n  CardActions,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  FormHelperText,\r\n  CircularProgress,\r\n  Snackbar,\r\n  Alert,\r\n  styled,\r\n  useTheme,\r\n  useMediaQuery,\r\n  InputAdornment,\r\n  Checkbox,\r\n  FormControlLabel \r\n} from '@mui/material';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport {\r\n  Edit as EditIcon,\r\n  Save as SaveIcon,\r\n  PhotoCamera as PhotoCameraIcon,\r\n  Business as BusinessIcon,\r\n  LocationOn as LocationIcon,\r\n  Email as EmailIcon,\r\n  Phone as PhoneIcon,\r\n  Language as LanguageIcon,\r\n  LinkedIn as LinkedInIcon,\r\n  Facebook as FacebookIcon,\r\n  Twitter as TwitterIcon,\r\n  Public as PublicIcon,\r\n  Category as CategoryIcon,\r\n  Group as GroupIcon,\r\n  Event as EventIcon,\r\n} from '@mui/icons-material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { \r\n  getEmployerProfile, \r\n  updateEmployerProfile, \r\n  uploadCompanyLogo,\r\n  getEmployerCategories,\r\n  addEmployerCategory,\r\n  deleteEmployerCategory,\r\n  getCategories,\r\n  createEmployerProfile\r\n} from '@/services/api';\r\n\r\n// Styled components\r\nconst ProfileContainer = styled(Box)(({ theme }) => ({\r\n  backgroundColor: theme.palette.background.default,\r\n  minHeight: '100vh',\r\n  paddingTop: theme.spacing(3),\r\n  paddingBottom: theme.spacing(4)\r\n}));\r\n\r\nconst VITE_API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:5000';\r\n\r\nconst CompanyLogo = styled(Avatar)(({ theme }) => ({\r\n  width: 120,\r\n  height: 120,\r\n  border: `4px solid ${theme.palette.primary.main}`,\r\n  margin: '0 auto',\r\n  position: 'relative',\r\n}));\r\n\r\nconst LogoUploadButton = styled(IconButton)(({ theme }) => ({\r\n  position: 'absolute',\r\n  bottom: 0,\r\n  right: 0,\r\n  backgroundColor: theme.palette.primary.main,\r\n  color: theme.palette.primary.contrastText,\r\n  '&:hover': {\r\n    backgroundColor: theme.palette.primary.dark,\r\n  },\r\n}));\r\n\r\nconst SectionPaper = styled(Paper)(({ theme }) => ({\r\n  padding: theme.spacing(3),\r\n  marginBottom: theme.spacing(3),\r\n  borderRadius: theme.shape.borderRadius * 2,\r\n  boxShadow: theme.shadows[2],\r\n}));\r\n\r\nconst CategoryChip = styled(Chip)(({ theme }) => ({\r\n  margin: theme.spacing(0.5),\r\n  backgroundColor: theme.palette.primary.light,\r\n  color: theme.palette.primary.contrastText,\r\n  '&:hover': {\r\n    backgroundColor: theme.palette.primary.main,\r\n  }\r\n}));\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`profile-tabpanel-${index}`}\r\n      aria-labelledby={`profile-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>\r\n          {children}\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst EditEmployerProfilePage = () => {\r\n  const theme = useTheme();\r\n  const navigate = useNavigate();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\r\n  const [categories, setCategories] = useState([]);\r\nconst [availableCategories, setAvailableCategories] = useState([]);\r\nconst [selectedCategory, setSelectedCategory] = useState('');\r\n\r\n  // State for tabs\r\n  const [tabValue, setTabValue] = useState(0);\r\n  \r\n  // State for employer data\r\n  const [profile, setProfile] = useState({\r\n    name: '',\r\n    industry: '',\r\n    location: '',\r\n    description: '',\r\n    email: '',\r\n    phone: '',\r\n    website: '',\r\n    logo: null,\r\n    establish_year: null,\r\n    size: '',\r\n    social: {\r\n      linkedin: '',\r\n      facebook: '',\r\n      twitter: ''\r\n    }\r\n  });\r\n\r\n  const [companyLogoPicture, setCompanyLogoPicture] = useState('');\r\n  const [categoryDialogOpen, setCategoryDialogOpen] = useState(false);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n  const [snackbar, setSnackbar] = useState({\r\n    open: false,\r\n    message: '',\r\n    severity: 'success'\r\n  });\r\n  const fileInputRef = useRef(null);\r\n\r\n  const verifyImageAvailability = (url) => {\r\n    return new Promise((resolve, reject) => {\r\n      if (!url) reject(new Error('Empty URL'));\r\n\r\n      const img = new Image();\r\n      let timer = setTimeout(() => {\r\n        img.onload = img.onerror = null;\r\n        reject(new Error('Image load timeout'));\r\n      }, 5000);\r\n\r\n      img.onload = () => {\r\n        clearTimeout(timer);\r\n        if (img.width > 0 && img.height > 0) {\r\n          resolve();\r\n        } else {\r\n          reject(new Error('Zero dimensions'));\r\n        }\r\n      };\r\n      img.onerror = () => {\r\n        clearTimeout(timer);\r\n        reject(new Error('Failed to load'));\r\n      };\r\n      img.src = url;\r\n    });\r\n  };\r\n\r\n  const handleSaveCategory = async () => {\r\n  if (!selectedCategory) return;\r\n  \r\n  try {\r\n    setSaving(true);\r\n    console.log(\"selcted catg:::::\");\r\n    console.log(selectedCategory);\r\n    await addEmployerCategory(selectedCategory);\r\n    \r\n    // Find the added category\r\n    const addedCategory = availableCategories.find(cat => cat.id === selectedCategory);\r\n    \r\n    if (addedCategory) {\r\n      // Update categories list\r\n      setCategories([...categories, addedCategory]);\r\n      \r\n      // Remove from available categories\r\n      setAvailableCategories(availableCategories.filter(cat => cat.id !== selectedCategory));\r\n    }\r\n    \r\n    showSnackbar('Category added successfully', 'success');\r\n    setSelectedCategory('');\r\n    handleCloseCategoryDialog();\r\n  } catch (error) {\r\n    console.error('Error saving category:', error);\r\n    showSnackbar('Error saving category', 'error');\r\n  } finally {\r\n    setSaving(false);\r\n  }\r\n};\r\n\r\n  const handleDeleteCategory = async (categoryId) => {\r\n  try {\r\n    setSaving(true);\r\n    await deleteEmployerCategory(categoryId);\r\n    \r\n    // Update local state\r\n    setCategories(categories.filter(cat => cat.id !== categoryId));\r\n    \r\n    // Add the deleted category back to available options\r\n    const deletedCategory = categories.find(cat => cat.id === categoryId);\r\n    if (deletedCategory) {\r\n      setAvailableCategories([...availableCategories, deletedCategory]);\r\n    }\r\n    \r\n    showSnackbar('Category removed successfully', 'success');\r\n  } catch (error) {\r\n    console.error('Error deleting category:', error);\r\n    showSnackbar('Error deleting category', 'error');\r\n  } finally {\r\n    setSaving(false);\r\n  }\r\n};\r\n\r\n  \r\n    const createStarterProfile = async () => {\r\n      setSaving(true);\r\n      setProfile({\r\n        ...profile,\r\n        name: ' ',\r\n        industry:' '\r\n      });\r\n      console.log(\"profile::::::::::::::\");\r\n      console.log(profile);\r\n      await createEmployerProfile(profile);\r\n      setSaving(false);\r\n    }\r\n  // Fetch employer data\r\n// In your useEffect where you fetch data:\r\n  useEffect(() => {\r\n    let profileResponse;\r\n  const fetchEmployerData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      try{\r\n              profileResponse = await getEmployerProfile();\r\n              } catch(error) {\r\n              if (error.status === 404) {\r\n                try {\r\n                  await createStarterProfile();\r\n                  profileResponse = await getEmployerProfile();\r\n                  console.log('profile::::1111',profileResponse.data);\r\n                  setProfile(profileResponse.data);\r\n                  setSnackbar({\r\n                    open: true,\r\n                    message: 'Starter profile created..',\r\n                    severity: 'success'\r\n                  });\r\n                } catch (error) {\r\n                  setSnackbar({\r\n                    open: true,\r\n                    message: 'Failed to create starter profile ..',\r\n                    severity: 'error'\r\n                  });\r\n                }\r\n              }     \r\n            }\r\n      const [categoriesResponse, allCategoriesResponse] = await Promise.all([\r\n        getEmployerCategories(),\r\n        getCategories()\r\n      ]);\r\n      \r\n\r\n      // Handle profile data\r\n      const employerData = profileResponse.data;\r\n      setProfile({\r\n        name: employerData.name || '',\r\n        industry: employerData.industry || '',\r\n        location: employerData.location || '',\r\n        description: employerData.description || '',\r\n        email: employerData.email || '',\r\n        phone: employerData.phone || '',\r\n        website: employerData.website || '',\r\n        logo: employerData.logo || null,\r\n        establish_year: employerData.establish_year || null,\r\n        size: employerData.size || '',\r\n        social: employerData.social || {\r\n          linkedin: '',\r\n          facebook: '',\r\n          twitter: ''\r\n        }\r\n      });\r\n\r\n      // Handle employer categories\r\n      // setCategories(categoriesResponse.data?.categories || []);\r\n\r\n      // Handle all available categories\r\n      // setAvailableCategories(allCategoriesResponse.data?.categories || []);\r\n\r\n      const companyCategoryIds = categoriesResponse.data?.categories?.map(c => c.id) || [];\r\nconst filteredAvailableCategories = allCategoriesResponse.data?.categories?.filter(\r\n  cat => !companyCategoryIds.includes(cat.id)\r\n) || [];\r\n\r\nsetCategories(categoriesResponse.data?.categories || []);\r\nsetAvailableCategories(filteredAvailableCategories);\r\n\r\n      // Handle logo\r\n      if (employerData.logo) {\r\n        const logoUrl = `${VITE_API_BASE_URL}${employerData.logo}?t=${Date.now()}`;\r\n        try {\r\n          await verifyImageAvailability(logoUrl);\r\n          setCompanyLogoPicture(logoUrl);\r\n        } catch (error) {\r\n          console.error('Company logo image not available:', error);\r\n          setCompanyLogoPicture('');\r\n        }\r\n      }\r\n      \r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching employer data:', error);\r\n      \r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  fetchEmployerData();\r\n}, []);\r\n  const handleTabChange = (event, newValue) => {\r\n    setTabValue(newValue);\r\n  };\r\n  \r\n  const handleProfileChange = (e) => {\r\n    const { name, value } = e.target;\r\n    \r\n    if (name.includes('.')) {\r\n      const [parent, child] = name.split('.');\r\n      setProfile({\r\n        ...profile,\r\n        [parent]: {\r\n          ...profile[parent],\r\n          [child]: value\r\n        }\r\n      });\r\n    } else {\r\n      setProfile({\r\n        ...profile,\r\n        [name]: value\r\n      });\r\n    }\r\n  };\r\n\r\n  const showSnackbar = (message, severity) => {\r\n    setSnackbar({\r\n      open: true,\r\n      message,\r\n      severity\r\n    });\r\n  };\r\n  \r\n  const handleSaveProfile = async () => {\r\n    try {\r\n      setSaving(true);\r\n      const {  ...profileToUpdate } = profile;\r\n      console.log(\"profile:::::::::::\");\r\n      console.log(profile);\r\n      const response = await updateEmployerProfile(profile);\r\n      \r\n      showSnackbar('Profile updated successfully', 'success');\r\n      \r\n      setSaving(false);\r\n    } catch (error) {\r\n      console.error('Error updating profile:', error);\r\n      showSnackbar('Error updating profile', 'error');\r\n      setSaving(false);\r\n    }\r\n  };\r\n  \r\n  const handleLogoUpload = async (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n\r\n    try {\r\n      setSaving(true);\r\n      \r\n      // Create FormData and append the file\r\n      const formData = new FormData();\r\n      formData.append('logo', file); // Match the field name expected by the backend\r\n\r\n      // Show instant preview\r\n      const tempPreviewUrl = URL.createObjectURL(file);\r\n      setCompanyLogoPicture(tempPreviewUrl);\r\n\r\n      // Upload to server\r\n      const response = await uploadCompanyLogo(formData);\r\n\r\n      // Server returns the FINAL URL (must be immediately accessible)\r\n      const serverUrl = `${VITE_API_BASE_URL}${response.data.logo_url}?t=${Date.now()}`;\r\n\r\n      // Verify the image is truly ready (with retries)\r\n      let loaded = false;\r\n      for (let i = 0; i < 3; i++) {\r\n        try {\r\n          await verifyImageAvailability(serverUrl);\r\n          loaded = true;\r\n          break;\r\n        } catch {\r\n          await new Promise(resolve => setTimeout(resolve, 1000));\r\n        }\r\n      }\r\n\r\n      if (loaded) {\r\n        setProfile(prev => ({ ...prev, logo: response.data.logo_url }));\r\n        setCompanyLogoPicture(serverUrl);\r\n        showSnackbar(\"Company logo updated!\", \"success\");\r\n      } else {\r\n        showSnackbar(\"Uploaded! Refresh to see changes.\", \"info\");\r\n      }\r\n\r\n      // Clean up preview\r\n      URL.revokeObjectURL(tempPreviewUrl);\r\n\r\n    } catch (error) {\r\n      console.error('Error uploading logo:', error);\r\n      showSnackbar(\"Upload failed. Please try again.\", \"error\");\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n  \r\n  const handleOpenCategoryDialog = () => {\r\n    setCategoryDialogOpen(true);\r\n  };\r\n  \r\n  const handleCloseCategoryDialog = () => {\r\n    setCategoryDialogOpen(false);\r\n    setSelectedCategory('');\r\n  };\r\n  \r\n\r\n  \r\n\r\n\r\n  const handleCloseSnackbar = () => {\r\n    setSnackbar({ ...snackbar, open: false });\r\n  };\r\n\r\n  return (\r\n    <ProfileContainer sx={{\r\n      \r\n      padding: 0,\r\n      minHeight: 'calc(100vh - 64px)', // Adjust for header\r\n      mt: 0,\r\n      pt: 2,\r\n      pb: 4,\r\n    }}>\r\n      <Container maxWidth=\"lg\">\r\n        {/* Page Header */}\r\n        <Box sx={{ mb: 4, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n          <Typography variant=\"h4\" component=\"h1\" fontWeight=\"bold\">\r\n            Edit Company Profile\r\n          </Typography>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            startIcon={<SaveIcon />}\r\n            onClick={handleSaveProfile}\r\n            disabled={saving}\r\n            sx={{ borderRadius: '20px', px: 3 }}\r\n          >\r\n            {saving ? 'Saving...' : 'Save Profile'}\r\n          </Button>\r\n        </Box>\r\n\r\n        {loading ? (\r\n          <Box sx={{ display: 'flex', justifyContent: 'center', my: 4 }}>\r\n            <CircularProgress />\r\n          </Box>\r\n        ) : (\r\n          <>\r\n            {/* Company Logo Section */}\r\n            <SectionPaper elevation={1}>\r\n              <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n                <Box sx={{ position: 'relative' }}>\r\n                  <CompanyLogo \r\n                    src={companyLogoPicture} \r\n                    alt={profile.name} \r\n                    sx={{ '& .MuiAvatar-img': { display: companyLogoPicture ? 'block' : 'none' } }}\r\n                    imgProps={{\r\n                      onError: (e) => {\r\n                        e.target.style.display = 'none';\r\n                        if (companyLogoPicture && companyLogoPicture.startsWith(VITE_API_BASE_URL)) {\r\n                          setTimeout(() => {\r\n                            setCompanyLogoPicture(`${companyLogoPicture.split('?')[0]}?retry=${Date.now()}`);\r\n                          }, 2000);\r\n                        }\r\n                      }\r\n                    }}\r\n                  >\r\n                    {!companyLogoPicture && profile.name?.charAt(0)}\r\n                  </CompanyLogo>\r\n                  <input\r\n                    accept=\"image/*\"\r\n                    style={{ display: 'none' }}\r\n                    id=\"logo\"\r\n                    type=\"file\"\r\n                    name=\"logo\"\r\n                    onChange={handleLogoUpload}\r\n                    ref={fileInputRef}\r\n                  />\r\n                  <label htmlFor=\"logo\">\r\n                    <LogoUploadButton component=\"span\" size=\"small\">\r\n                      <PhotoCameraIcon fontSize=\"small\" />\r\n                    </LogoUploadButton>\r\n                  </label>\r\n                </Box>\r\n                <Typography variant=\"h6\" sx={{ mt: 2, fontWeight: 'bold' }}>\r\n                  {profile.name}\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\">\r\n                  {profile.industry}\r\n                </Typography>\r\n              </Box>\r\n            </SectionPaper>\r\n\r\n            {/* Tabs Navigation */}\r\n            <Paper sx={{ mb: 3, borderRadius: '16px', overflow: 'hidden' }}>\r\n              <Tabs\r\n                value={tabValue}\r\n                onChange={handleTabChange}\r\n                indicatorColor=\"primary\"\r\n                textColor=\"primary\"\r\n                variant={isMobile ? \"scrollable\" : \"fullWidth\"}\r\n                scrollButtons={isMobile ? \"auto\" : false}\r\n                centered={!isMobile}\r\n                sx={{ '& .MuiTab-root': { minHeight: 64, ...(isMobile ? { minWidth: 'auto', px: 1 } : {}) } }}\r\n              >\r\n                <Tab icon={<BusinessIcon />} label=\"Company Details\" />\r\n                <Tab icon={<CategoryIcon />} label=\"Categories\" />\r\n              </Tabs>\r\n\r\n              {/* Company Details Tab */}\r\n              <TabPanel value={tabValue} index={0}>\r\n                <Grid container spacing={3}>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <TextField\r\n                      fullWidth\r\n                      label=\"Company Name\"\r\n                      name=\"name\"\r\n                      value={profile.name || ''}\r\n                      onChange={handleProfileChange}\r\n                      required\r\n                      InputProps={{\r\n                        startAdornment: (\r\n                          <InputAdornment position=\"start\">\r\n                            <BusinessIcon color=\"action\" />\r\n                          </InputAdornment>\r\n                        ),\r\n                      }}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <TextField\r\n                      fullWidth\r\n                      label=\"Industry\"\r\n                      name=\"industry\"\r\n                      value={profile.industry || ''}\r\n                      onChange={handleProfileChange}\r\n                      required\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <TextField\r\n                      fullWidth\r\n                      label=\"Location\"\r\n                      name=\"location\"\r\n                      value={profile.location || ''}\r\n                      onChange={handleProfileChange}\r\n                      placeholder=\"City, Country\"\r\n                      InputProps={{\r\n                        startAdornment: (\r\n                          <InputAdornment position=\"start\">\r\n                            <LocationIcon color=\"action\" />\r\n                          </InputAdornment>\r\n                        ),\r\n                      }}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <TextField\r\n                      fullWidth\r\n                      label=\"Description\"\r\n                      name=\"description\"\r\n                      value={profile.description || ''}\r\n                      onChange={handleProfileChange}\r\n                      multiline\r\n                      rows={4}\r\n                      placeholder=\"Tell job seekers about your company and what you do\"\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <TextField\r\n                      fullWidth\r\n                      label=\"Email\"\r\n                      name=\"email\"\r\n                      type=\"email\"\r\n                      value={profile.email || ''}\r\n                      onChange={handleProfileChange}\r\n                      InputProps={{\r\n                        startAdornment: (\r\n                          <InputAdornment position=\"start\">\r\n                            <EmailIcon color=\"action\" />\r\n                          </InputAdornment>\r\n                        ),\r\n                      }}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <TextField\r\n                      fullWidth\r\n                      label=\"Phone\"\r\n                      name=\"phone\"\r\n                      value={profile.phone || ''}\r\n                      onChange={handleProfileChange}\r\n                      InputProps={{\r\n                        startAdornment: (\r\n                          <InputAdornment position=\"start\">\r\n                            <PhoneIcon color=\"action\" />\r\n                          </InputAdornment>\r\n                        ),\r\n                      }}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <TextField\r\n                      fullWidth\r\n                      label=\"Website\"\r\n                      name=\"website\"\r\n                      value={profile.website || ''}\r\n                      onChange={handleProfileChange}\r\n                      InputProps={{\r\n                        startAdornment: (\r\n                          <InputAdornment position=\"start\">\r\n                            <PublicIcon color=\"action\" />\r\n                          </InputAdornment>\r\n                        ),\r\n                      }}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <TextField\r\n                      fullWidth\r\n                      label=\"Founded Year\"\r\n                      name=\"establish_year\"\r\n                      value={profile.establish_year || ''}\r\n                      onChange={handleProfileChange}\r\n                      type=\"number\"\r\n                      InputProps={{\r\n                        startAdornment: (\r\n                          <InputAdornment position=\"start\">\r\n                            <EventIcon color=\"action\" />\r\n                          </InputAdornment>\r\n                        ),\r\n                      }}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <TextField\r\n                      fullWidth\r\n                      label=\"Company Size\"\r\n                      name=\"size\"\r\n                      value={profile.size || ''}\r\n                      onChange={handleProfileChange}\r\n                      InputProps={{\r\n                        startAdornment: (\r\n                          <InputAdornment position=\"start\">\r\n                            <GroupIcon color=\"action\" />\r\n                          </InputAdornment>\r\n                        ),\r\n                      }}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <Typography variant=\"h6\" gutterBottom sx={{ mt: 2 }}>Social Media</Typography>\r\n                    <Grid container spacing={2}>\r\n                      <Grid item xs={12} sm={4}>\r\n                        <TextField\r\n                          fullWidth\r\n                          label=\"LinkedIn URL\"\r\n                          name=\"social.linkedin\"\r\n                          value={profile.social?.linkedin || ''}\r\n                          onChange={handleProfileChange}\r\n                          InputProps={{\r\n                            startAdornment: (\r\n                              <InputAdornment position=\"start\">\r\n                                <LinkedInIcon color=\"action\" />\r\n                              </InputAdornment>\r\n                            ),\r\n                          }}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={4}>\r\n                        <TextField\r\n                          fullWidth\r\n                          label=\"Facebook URL\"\r\n                          name=\"social.facebook\"\r\n                          value={profile.social?.facebook || ''}\r\n                          onChange={handleProfileChange}\r\n                          InputProps={{\r\n                            startAdornment: (\r\n                              <InputAdornment position=\"start\">\r\n                                <FacebookIcon color=\"action\" />\r\n                              </InputAdornment>\r\n                            ),\r\n                          }}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={4}>\r\n                        <TextField\r\n                          fullWidth\r\n                          label=\"Twitter URL\"\r\n                          name=\"social.twitter\"\r\n                          value={profile.social?.twitter || ''}\r\n                          onChange={handleProfileChange}\r\n                          InputProps={{\r\n                            startAdornment: (\r\n                              <InputAdornment position=\"start\">\r\n                                <TwitterIcon color=\"action\" />\r\n                              </InputAdornment>\r\n                            ),\r\n                          }}\r\n                        />\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n              </TabPanel>\r\n\r\n              {/* Categories Tab */}\r\n              <TabPanel value={tabValue} index={1}>\r\n  <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n    <Typography variant=\"h6\">Company Categories</Typography>\r\n    <Button\r\n      variant=\"contained\"\r\n      color=\"primary\"\r\n      startIcon={<AddIcon />}\r\n      onClick={handleOpenCategoryDialog}\r\n      disabled={availableCategories.length === 0}\r\n    >\r\n      Add Category\r\n    </Button>\r\n  </Box>\r\n  <Divider sx={{ mb: 2 }} />\r\n  <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\r\n    {categories.length > 0 ? (\r\n      categories.map((category) => (\r\n        <Chip\r\n          key={category.id}\r\n          label={category.name}\r\n          onDelete={() => handleDeleteCategory(category.id)}\r\n          color=\"primary\"\r\n          variant=\"outlined\"\r\n          deleteIcon={<CloseIcon />}\r\n          sx={{ \r\n            '& .MuiChip-deleteIcon': {\r\n              color: 'primary.main',\r\n              '&:hover': {\r\n                color: 'primary.dark'\r\n              }\r\n            }\r\n          }}\r\n        />\r\n      ))\r\n    ) : (\r\n      <Typography variant=\"body2\" color=\"textSecondary\">\r\n        No categories added yet.\r\n      </Typography>\r\n    )}\r\n  </Box>\r\n</TabPanel>\r\n            </Paper>\r\n          </>\r\n        )}\r\n\r\n\r\n<Dialog open={categoryDialogOpen} onClose={handleCloseCategoryDialog} fullWidth maxWidth=\"sm\">\r\n  <DialogTitle>Add Category to Company</DialogTitle>\r\n  <DialogContent>\r\n    <FormControl fullWidth margin=\"normal\">\r\n      <InputLabel id=\"select-category-label\">Available Categories</InputLabel>\r\n      <Select\r\n        labelId=\"select-category-label\"\r\n        id=\"select-category\"\r\n        value={selectedCategory}\r\n        label=\"Available Categories\"\r\n        onChange={(e) => setSelectedCategory(e.target.value)}\r\n      >\r\n        {availableCategories.map((cat) => (\r\n          <MenuItem key={cat.id} value={cat.id}>\r\n            {cat.name}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n      <FormHelperText>\r\n        {availableCategories.length === 0 ? \r\n          \"No more categories available to add\" : \r\n          \"Select a category to add to your company\"}\r\n      </FormHelperText>\r\n    </FormControl>\r\n  </DialogContent>\r\n  <DialogActions>\r\n    <Button onClick={handleCloseCategoryDialog} color=\"inherit\">\r\n      Cancel\r\n    </Button>\r\n    <Button \r\n      onClick={handleSaveCategory} \r\n      color=\"primary\"\r\n      disabled={saving || !selectedCategory}\r\n    >\r\n      {saving ? 'Adding...' : 'Add Category'}\r\n    </Button>\r\n  </DialogActions>\r\n</Dialog>\r\n\r\n        \r\n        {/* Snackbar for notifications */}\r\n        <Snackbar\r\n          open={snackbar.open}\r\n          autoHideDuration={6000}\r\n          onClose={handleCloseSnackbar}\r\n          anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\r\n        >\r\n          <Alert \r\n            onClose={handleCloseSnackbar} \r\n            severity={snackbar.severity}\r\n            sx={{ width: '100%' }}\r\n            elevation={6}\r\n            variant=\"filled\"\r\n          >\r\n            {snackbar.message}\r\n          </Alert>\r\n        </Snackbar>\r\n      </Container>\r\n    </ProfileContainer>\r\n  );\r\n};\r\n\r\nexport default EditEmployerProfilePage;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\EditeVideoPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useTheme' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 14,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 14,
        "endColumn": 11,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useTheme"
            },
            "fix": {
              "range": [
                209,
                222
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useTheme'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState, useEffect, useRef  } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Grid,\r\n  Typography,\r\n  Button,\r\n  TextField,\r\n  Chip,\r\n  IconButton,\r\n  Divider,\r\n  Paper,\r\n  styled,\r\n  useTheme,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  Avatar,\r\n  Card,\r\n  CardContent\r\n} from '@mui/material';\r\nimport {\r\n  Edit as EditIcon,\r\n  PlayArrow as PlayArrowIcon,\r\n  Pause as PauseIcon,\r\n  VolumeUp as VolumeUpIcon,\r\n  VolumeOff as VolumeOffIcon,\r\n  Save as SaveIcon,\r\n  Cancel as CancelIcon,\r\n  Delete as DeleteIcon,\r\n  Add as AddIcon,\r\n  Close as CloseIcon\r\n} from '@mui/icons-material';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { getVideoResume, updateUserVideo } from '../services/api.js';\r\n\r\n// Styled components to match JobSeekerProfile style\r\nconst EditVideoContainer = styled(Box)(({ theme }) => ({\r\n  backgroundColor: theme.palette.background.default,\r\n  minHeight: '100vh',\r\n  paddingTop: theme.spacing(4),\r\n  paddingBottom: theme.spacing(4),\r\n  backgroundImage: 'linear-gradient(rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.05))'\r\n}));\r\n\r\nconst VideoPreviewContainer = styled(Box)(({ theme }) => ({\r\n  width: '100%',\r\n  height: 400,\r\n  borderRadius: theme.spacing(1),\r\n  overflow: 'hidden',\r\n  position: 'relative',\r\n  backgroundColor: '#000',\r\n  marginBottom: theme.spacing(3)\r\n}));\r\n\r\nconst VideoControls = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  bottom: 0,\r\n  left: 0,\r\n  right: 0,\r\n  color: '#fff',\r\n  padding: theme.spacing(1),\r\n  backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'space-between',\r\n}));\r\n\r\nconst FormCard = styled(Card)(({ theme }) => ({\r\n  padding: theme.spacing(3),\r\n  marginBottom: theme.spacing(3),\r\n  backgroundColor: theme.palette.background.paper,\r\n  borderRadius: theme.spacing(1),\r\n  boxShadow: theme.shadows[3]\r\n}));\r\n\r\nconst EditVideoPage = () => {\r\n  const { videoId } = useParams();\r\n  const navigate = useNavigate();\r\n  // const theme = useTheme(); // Removed: unused variable\n  \r\n  // State\r\n  const [video, setVideo] = useState({\r\n    video_url: '',\r\n    video_position: '',\r\n    video_title: '',\r\n    video_duration: 0,\r\n    views: 0,\r\n    video_type: '',\r\n    hashtags: [],\r\n    status: ''\r\n  });\r\n  const [newHashtag, setNewHashtag] = useState('');\r\n  const [videoState, setVideoState] = useState({\r\n    isPlaying: false,\r\n    isMuted: false \r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  \r\n  // Refs\r\n  const videoRef = useRef(null);\r\n  \r\n  // Fetch video data\r\n  useEffect(() => {\r\n    const fetchVideoData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await getVideoResume(videoId);\r\n        setVideo({\r\n          ...response.data,\r\n          hashtags: response.data.hashtags || []\r\n        });\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error('Error fetching video data:', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchVideoData();\r\n  }, [videoId]);\r\n  \r\n  // Toggle video playback\r\n  const togglePlayback = () => {\r\n    if (videoRef.current) {\r\n      if (videoState.isPlaying) {\r\n        videoRef.current.pause();\r\n      } else {\r\n        videoRef.current.play();\r\n      }\r\n      setVideoState(prev => ({\r\n        ...prev,\r\n        isPlaying: !prev.isPlaying\r\n      }));\r\n    }\r\n  };\r\n  \r\n  // Toggle video mute\r\n  const toggleMute = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.muted = !videoRef.current.muted;\r\n      setVideoState(prev => ({\r\n        ...prev,\r\n        isMuted: !prev.isMuted\r\n      }));\r\n    }\r\n  };\r\n  \r\n  // Handle video ended\r\n  const handleVideoEnded = () => {\r\n    setVideoState(prev => ({\r\n      ...prev,\r\n      isPlaying: false\r\n    }));\r\n  };\r\n  \r\n  // Handle form input changes\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setVideo(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n  \r\n  // Add new hashtag\r\n  const handleAddHashtag = () => {\r\n    if (newHashtag.trim() && !video.hashtags.includes(newHashtag.trim())) {\r\n      setVideo(prev => ({\r\n        ...prev,\r\n        hashtags: [...prev.hashtags, newHashtag.trim()]\r\n      }));\r\n      setNewHashtag('');\r\n    }\r\n  };\r\n  \r\n  // Remove hashtag\r\n  const handleRemoveHashtag = (tagToRemove) => {\r\n    setVideo(prev => ({\r\n      ...prev,\r\n      hashtags: prev.hashtags.filter(tag => tag !== tagToRemove)\r\n    }));\r\n  };\r\n  \r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setLoading(true);\r\n      await updateUserVideo(videoId, video);\r\n      navigate(-1); // Go back to previous page\r\n    } catch (error) {\r\n      console.error('Error updating video:', error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Handle cancel\r\n  const handleCancel = () => {\r\n    navigate(-1); // Go back to previous page\r\n  };\r\n  \r\n  // Handle delete video\r\n  const handleDelete = async () => {\r\n    if (window.confirm('Are you sure you want to delete this video?')) {\r\n      try {\r\n        setLoading(true);\r\n        // await deleteUserVideo(videoId); // Uncomment when you have delete API\r\n        navigate('/job-seeker-profile'); // Redirect to profile\r\n      } catch (error) {\r\n        console.error('Error deleting video:', error);\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <EditVideoContainer>\r\n      <Container maxWidth=\"lg\">\r\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\r\n          <Typography variant=\"h4\" component=\"h1\">\r\n            Edit Video\r\n          </Typography>\r\n          <Box>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              startIcon={<CancelIcon />}\r\n              onClick={handleCancel}\r\n              sx={{ mr: 2 }}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              startIcon={<SaveIcon />}\r\n              onClick={handleSubmit}\r\n              disabled={loading}\r\n            >\r\n              Save Changes\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n        \r\n        <Divider sx={{ mb: 4 }} />\r\n        \r\n        <Grid container spacing={4}>\r\n          <Grid item xs={12} md={8}>\r\n            <FormCard>\r\n              <Typography variant=\"h6\" gutterBottom sx={{ mb: 3 }}>\r\n                Video Information\r\n              </Typography>\r\n              \r\n              <Grid container spacing={3}>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Video Title\"\r\n                    name=\"video_title\"\r\n                    value={video.video_title}\r\n                    onChange={handleInputChange}\r\n                    variant=\"outlined\"\r\n                  />\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} sm={6}>\r\n                  <FormControl fullWidth>\r\n                    <InputLabel>Video Position</InputLabel>\r\n                    <Select\r\n                      name=\"video_position\"\r\n                      value={video.video_position}\r\n                      onChange={handleInputChange}\r\n                      label=\"Video Position\"\r\n                    >\r\n                      <MenuItem value=\"main\">Main Video</MenuItem>\r\n                      <MenuItem value=\"intro\">Introduction</MenuItem>\r\n                      <MenuItem value=\"outro\">Outro</MenuItem>\r\n                      <MenuItem value=\"other\">Other</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} sm={6}>\r\n                  <FormControl fullWidth>\r\n                    <InputLabel>Video Type</InputLabel>\r\n                    <Select\r\n                      name=\"video_type\"\r\n                      value={video.video_type}\r\n                      onChange={handleInputChange}\r\n                      label=\"Video Type\"\r\n                    >\r\n                      <MenuItem value=\"interview\">Interview</MenuItem>\r\n                      <MenuItem value=\"presentation\">Presentation</MenuItem>\r\n                      <MenuItem value=\"demo\">Demo</MenuItem>\r\n                      <MenuItem value=\"other\">Other</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Video Duration (seconds)\"\r\n                    name=\"video_duration\"\r\n                    type=\"number\"\r\n                    value={video.video_duration}\r\n                    onChange={handleInputChange}\r\n                    variant=\"outlined\"\r\n                  />\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Views\"\r\n                    name=\"views\"\r\n                    type=\"number\"\r\n                    value={video.views}\r\n                    onChange={handleInputChange}\r\n                    variant=\"outlined\"\r\n                  />\r\n                </Grid>\r\n                \r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Video URL\"\r\n                    name=\"video_url\"\r\n                    value={video.video_url}\r\n                    onChange={handleInputChange}\r\n                    variant=\"outlined\"\r\n                  />\r\n                </Grid>\r\n                \r\n                <Grid item xs={12}>\r\n                  <FormControl fullWidth>\r\n                    <InputLabel>Status</InputLabel>\r\n                    <Select\r\n                      name=\"status\"\r\n                      value={video.status}\r\n                      onChange={handleInputChange}\r\n                      label=\"Status\"\r\n                    >\r\n                      <MenuItem value=\"new\">New</MenuItem>\r\n                      <MenuItem value=\"old\">Old</MenuItem>\r\n                      <MenuItem value=\"archived\">Archived</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n              </Grid>\r\n            </FormCard>\r\n            \r\n            <FormCard>\r\n              <Typography variant=\"h6\" gutterBottom sx={{ mb: 3 }}>\r\n                Hashtags\r\n              </Typography>\r\n              \r\n              <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Add Hashtag\"\r\n                  value={newHashtag}\r\n                  onChange={(e) => setNewHashtag(e.target.value)}\r\n                  variant=\"outlined\"\r\n                  onKeyPress={(e) => e.key === 'Enter' && handleAddHashtag()}\r\n                />\r\n                <IconButton\r\n                  color=\"primary\"\r\n                  onClick={handleAddHashtag}\r\n                  disabled={!newHashtag.trim()}\r\n                  sx={{ ml: 1 }}\r\n                >\r\n                  <AddIcon />\r\n                </IconButton>\r\n              </Box>\r\n              \r\n              <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\r\n                {video.hashtags.map((tag, index) => (\r\n                  <Chip\r\n                    key={index}\r\n                    label={tag}\r\n                    onDelete={() => handleRemoveHashtag(tag)}\r\n                    deleteIcon={<CloseIcon />}\r\n                    variant=\"outlined\"\r\n                  />\r\n                ))}\r\n              </Box>\r\n            </FormCard>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} md={4}>\r\n            <FormCard>\r\n              <Typography variant=\"h6\" gutterBottom sx={{ mb: 3 }}>\r\n                Video Preview\r\n              </Typography>\r\n              \r\n              <VideoPreviewContainer>\r\n                <video\r\n                  ref={videoRef}\r\n                  src={video.video_url}\r\n                  width=\"100%\"\r\n                  height=\"100%\"\r\n                  onEnded={handleVideoEnded}\r\n                  onClick={togglePlayback}\r\n                  style={{ objectFit: 'cover' }}\r\n                  muted={videoState.isMuted}\r\n                />\r\n                \r\n                <VideoControls>\r\n                  <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                    <IconButton size=\"small\" color=\"inherit\" onClick={togglePlayback}>\r\n                      {videoState.isPlaying ? <PauseIcon /> : <PlayArrowIcon />}\r\n                    </IconButton>\r\n                    <IconButton size=\"small\" color=\"inherit\" onClick={toggleMute}>\r\n                      {videoState.isMuted ? <VolumeOffIcon /> : <VolumeUpIcon />}\r\n                    </IconButton>\r\n                  </Box>\r\n                  <Typography variant=\"caption\" color=\"inherit\">\r\n                    {video.video_title || 'Preview'}\r\n                  </Typography>\r\n                </VideoControls>\r\n              </VideoPreviewContainer>\r\n              \r\n              <Box sx={{ mt: 2 }}>\r\n                <Typography variant=\"subtitle1\" gutterBottom>\r\n                  Video Details\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\">\r\n                  Duration: {video.video_duration} seconds\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\">\r\n                  Views: {video.views}\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\">\r\n                  Position: {video.video_position || 'Not specified'}\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\">\r\n                  Type: {video.video_type || 'Not specified'}\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\">\r\n                  Status: {video.status || 'Not specified'}\r\n                </Typography>\r\n              </Box>\r\n            </FormCard>\r\n            \r\n            <Button\r\n              variant=\"outlined\"\r\n              color=\"error\"\r\n              startIcon={<DeleteIcon />}\r\n              onClick={handleDelete}\r\n              fullWidth\r\n              sx={{ mt: 2 }}\r\n            >\r\n              Delete Video\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </EditVideoContainer>\r\n  );\r\n};\r\n\r\nexport default EditVideoPage;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\EditJobSeekerProfile.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setSkillSearchLoading' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 97,
        "column": 30,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 97,
        "endColumn": 51,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setSkillSearchLoading"
            },
            "fix": {
              "range": [
                3012,
                3035
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setSkillSearchLoading'."
          }
        ]
      },
      {
        "ruleId": "no-prototype-builtins",
        "severity": 2,
        "message": "Do not access Object.prototype method 'hasOwnProperty' from target object.",
        "line": 345,
        "column": 18,
        "nodeType": "CallExpression",
        "messageId": "prototypeBuildIn",
        "endLine": 345,
        "endColumn": 32,
        "suggestions": [
          {
            "messageId": "callObjectPrototype",
            "data": {
              "prop": "hasOwnProperty"
            },
            "fix": {
              "range": [
                12360,
                12382
              ],
              "text": "Object.prototype.hasOwnProperty.call(tabMap, "
            },
            "desc": "Call Object.prototype.hasOwnProperty explicitly."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has missing dependencies: 'handleUploadVideo' and 'location'. Either include them or remove the dependency array.",
        "line": 370,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 370,
        "endColumn": 40,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [location.search, openTab, action, location, handleUploadVideo]",
            "fix": {
              "range": [
                13412,
                13446
              ],
              "text": "[location.search, openTab, action, location, handleUploadVideo]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 517,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 517,
        "endColumn": 15
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 565,
        "column": 95,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 565,
        "endColumn": 96
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 1133,
        "column": 26,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1133,
        "endColumn": 27
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect, useRef  } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport {\r\n  getUserProfile,\r\n  updateUserProfile,\r\n  getUserSkills,\r\n  addUserSkill,\r\n  \r\n  deleteUserSkill,\r\n  getUserExperiences,\r\n  addUserExperience,\r\n  updateUserExperience,\r\n  deleteUserExperience,\r\n  getUserEducation,\r\n  addUserEducation,\r\n  updateUserEducation,\r\n  deleteUserEducation,\r\n  getUserVideos,\r\n  deleteUserVideo,\r\n  uploadProfileImage,\r\n  getSkills,\r\n} from '@/services/api';\r\nimport dayjs from 'dayjs';\r\nimport localize from '@/utils/localize';\r\n\r\n\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/UI/card.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Input } from '@/components/UI/input.jsx';\r\nimport { Label } from '@/components/UI/label.jsx';\r\nimport { Textarea } from '@/components/UI/textarea.jsx';\r\nimport { Avatar, AvatarImage, AvatarFallback } from '@/components/UI/avatar.jsx';\r\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from '@/components/UI/tabs.jsx';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter, DialogDescription } from '@/components/UI/dialog.jsx';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/UI/select.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { Progress } from '@/components/UI/progress.jsx';\r\nimport {\r\n  User,\r\n  MapPin,\r\n  Mail,\r\n  Phone,\r\n  Camera,\r\n  Video,\r\n  Play,\r\n  Pause,\r\n  Plus,\r\n  Edit,\r\n  Trash,\r\n  Save,\r\n  X,\r\n  RefreshCw\r\n} from 'lucide-react';\r\nimport themeColors from '@/config/theme-colors-jobseeker';\r\n\r\nconst VITE_API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:5000';\r\n\r\n// A tiny wrapper used by MUI-based code earlier. We use shadcn Tabs below instead.\r\n\r\nconst EditJobSeekerProfile = ({ initialProfile = null, onClose = () => {}, onSaved = () => {}, openTab = null, action = null }) => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  // State for tabs\r\n  const [tabValue, setTabValue] = useState(0);\r\n\r\n  // State for profile data\r\n  const [profile, setProfile] = useState({\r\n    first_name: '',\r\n    Second_name: '',\r\n    last_name: '',\r\n    title: '',\r\n    location: '',\r\n    bio: '',\r\n    email: '',\r\n    phone: '',\r\n    mobile: '',\r\n    website: '',\r\n    profile_pic: '',\r\n    address: '',\r\n    preferred_job_title: '',\r\n    social: {\r\n      linkedin_url: '',\r\n      github: '',\r\n      twitter: ''\r\n    }\r\n  });\r\n\r\n  // State for skills\r\n  const [skills, setSkills] = useState([]);\r\n  const [availableSkills, setAvailableSkills] = useState([]);\r\n  const [skillDialogOpen, setSkillDialogOpen] = useState(false);\r\n  const [selectedSkill, setSelectedSkill] = useState('');\r\n  const [selectedSkillName, setSelectedSkillName] = useState('');\r\n  const [skillCategories, setSkillCategories] = useState([]);\r\n  const [selectedCategory, setSelectedCategory] = useState(null);\r\n  const [skillSearchLoading, setSkillSearchLoading] = useState(false);\r\n  const [avatarPicture, setAvatarPicture] = useState('');\r\n  // New states for skill level and years when adding a skill\r\n  const [selectedSkillLevel, setSelectedSkillLevel] = useState('Intermediate');\r\n  const [selectedSkillYears, setSelectedSkillYears] = useState(1);\r\n\r\n\r\n  // State for experiences\r\n  const [experiences, setExperiences] = useState([]);\r\n  const [experienceDialogOpen, setExperienceDialogOpen] = useState(false);\r\n  const [experienceForm, setExperienceForm] = useState({\r\n    company_name: '',\r\n    position: '',\r\n    location: '',\r\n    start_date: '',\r\n    end_date: '',\r\n    currently_working: false,\r\n    description: ''\r\n  });\r\n\r\n  // State for education\r\n  const [education, setEducation] = useState([]);\r\n  const [educationDialogOpen, setEducationDialogOpen] = useState(false);\r\n  const [educationForm, setEducationForm] = useState({\r\n    institution: '',\r\n    degree: '',\r\n    field: '',\r\n    location: '',\r\n    startDate: '',\r\n    endDate: '',\r\n    description: ''\r\n  });\r\n\r\n  // State for videos\r\n  const [videos, setVideos] = useState([]);\r\n\r\n  // Use `localize` utility to pick the right language string from localized fields\r\n  const renderSkillName = (skill) => {\r\n    const val = skill == null ? '' : (skill.name ?? skill);\r\n    return localize(val);\r\n  };\r\n\r\n  // Helper to get a stable skill id from different shapes\r\n  const getSkillId = (s) => s?.id ?? s?.skill_id ?? s?._id ?? s?.skillId ?? null;\r\n\r\n  // Helper to test whether a suggestion is already added\r\n  const isSkillAlreadyAdded = (sugg) => {\r\n    const sid = getSkillId(sugg);\r\n    if (!sid) return false;\r\n    return (skills || []).some(sk => getSkillId(sk) === sid);\r\n  };\r\n\r\n  // UI state\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n  const [snackbar, setSnackbar] = useState({\r\n    open: false,\r\n    message: '',\r\n    severity: 'success'\r\n  });\r\n  \r\n  const fileInputRef = useRef(null);\r\n\r\n  // Add this helper function somewhere in your component (outside the main function)\r\n  const verifyImageAvailability = (url) => {\r\n    return new Promise((resolve, reject) => {\r\n      if (!url) reject(new Error('Empty URL'));\r\n\r\n      const img = new Image();\r\n      let timer = setTimeout(() => {\r\n        img.onload = img.onerror = null;\r\n        reject(new Error('Image load timeout'));\r\n      }, 5000);\r\n\r\n      img.onload = () => {\r\n        clearTimeout(timer);\r\n        if (img.width > 0 && img.height > 0) {\r\n          resolve();\r\n        } else {\r\n          reject(new Error('Zero dimensions'));\r\n        }\r\n      };\r\n      img.onerror = () => {\r\n        clearTimeout(timer);\r\n        reject(new Error('Failed to load'));\r\n      };\r\n      img.src = url;\r\n    });\r\n  };\r\n\r\n  const createStarterProfile = async () => {\r\n    setSaving(true);\r\n    const starterProfile = { first_name: '' };\r\n    try {\r\n      const resp = await updateUserProfile(starterProfile);\r\n      // update local state with server response if provided, otherwise use starterProfile\r\n      const newProfile = resp?.data || starterProfile;\r\n      setProfile(newProfile);\r\n      setSaving(false);\r\n      return newProfile;\r\n    } catch (err) {\r\n      setSaving(false);\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  // Normalize backend profile response so UI fields (snake_case) are present\r\n  const normalizeProfile = (p = {}) => {\r\n    if (!p || typeof p !== 'object') return p || {};\r\n    const normalized = {\r\n      ...p,\r\n      first_name: p.first_name ?? p.firstName ?? p.first ?? p.name ?? '',\r\n      Second_name: p.Second_name ?? p.second_name ?? p.secondName ?? '',\r\n      last_name: p.last_name ?? p.lastName ?? p.last ?? '',\r\n      title: p.title ?? p.professional_title ?? p.professionalTitle ?? '',\r\n      location: p.location ?? p.city ?? '',\r\n      bio: p.bio ?? p.description ?? p.about ?? '',\r\n      email: p.email ?? p.emailAddress ?? '',\r\n      phone: p.phone ?? p.phoneNumber ?? '',\r\n      mobile: p.mobile ?? p.mobileNumber ?? '',\r\n      website: p.website ?? p.websiteUrl ?? '',\r\n      profile_pic: p.profile_pic ?? p.profilePicture ?? p.profile_picture_url ?? p.logo_url ?? '',\r\n      address: p.address ?? p.street ?? '',\r\n      preferred_job_title: p.preferred_job_title ?? p.preferredJobTitle ?? '',\r\n      social: {\r\n        linkedin_url: p.social?.linkedin_url ?? p.social?.linkedin ?? p.linkedin_url ?? p.linkedin ?? '',\r\n        github: p.social?.github ?? p.social?.github_url ?? p.github ?? '',\r\n        twitter: p.social?.twitter ?? p.social?.twitter_url ?? p.twitter ?? ''\r\n      }\r\n    };\r\n    return normalized;\r\n  };\r\n\r\n  // Fetch user data (or use initialProfile passed by parent)\r\n  useEffect(() => {\r\n    const fetchUserData = async () => {\r\n      if (initialProfile) {\r\n          const norm = normalizeProfile(initialProfile);\r\n          setProfile(norm);\r\n          setAvatarPicture(norm.profile_pic ? `${VITE_API_BASE_URL}${norm.profile_pic}?t=${Date.now()}` : '');\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n      let profileResponse;\r\n      try {\r\n        setLoading(true);\r\n        try {\r\n          profileResponse = await getUserProfile();\r\n        } catch (error) {\r\n          if (error?.status === 404) {\r\n            try {\r\n              await createStarterProfile();\r\n              profileResponse = await getUserProfile();\r\n              setSnackbar({ open: true, message: 'Starter profile created..', severity: 'success' });\r\n            } catch (err) {\r\n              console.error('Failed to create starter profile:', err);\r\n              setSnackbar({ open: true, message: 'Failed to create starter profile ..', severity: 'error' });\r\n            }\r\n          } else {\r\n            throw error;\r\n          }\r\n        }\r\n\r\n        const allResults = await Promise.allSettled([\r\n          getUserSkills(),\r\n          getSkills(),\r\n          getUserExperiences(),\r\n          getUserEducation(),\r\n          getUserVideos()\r\n        ]);\r\n\r\n        // Map settled results to expected response-shape, falling back to empty lists when a call failed\r\n        const [\r\n          skillsResult,\r\n          availableSkillsResult,\r\n          experiencesResult,\r\n          educationResult,\r\n          videosResult\r\n        ] = allResults;\r\n\r\n        const skillsResponse = skillsResult.status === 'fulfilled' ? skillsResult.value : { data: { skills: [] } };\r\n        const availableSkillsResponse = availableSkillsResult.status === 'fulfilled' ? availableSkillsResult.value : { data: { skills: [] } };\r\n        const experiencesResponse = experiencesResult.status === 'fulfilled' ? experiencesResult.value : { data: { experiences: [] } };\r\n        const educationResponse = educationResult.status === 'fulfilled' ? educationResult.value : { data: { educations: [] } };\r\n        const videosResponse = videosResult.status === 'fulfilled' ? videosResult.value : { data: { videos: [] } };\r\n\r\n        // Log any rejected results for easier debugging\r\n        allResults.forEach((r, idx) => {\r\n          if (r.status === 'rejected') {\r\n            const names = ['getUserSkills','getSkills','getUserExperiences','getUserEducation','getUserVideos'];\r\n            console.error(`Failed to fetch ${names[idx]}:`, r.reason || r);\r\n          }\r\n        });\r\n\r\n        // Some backend responses wrap the actual profile under `data.profile`.\r\n        // Accept both shapes: `response.data` or `response.data.profile`.\r\n        const rawProfile = profileResponse?.data?.profile ?? profileResponse?.data ?? {};\r\n        const normProfile = normalizeProfile(rawProfile);\r\n        setProfile(normProfile);\r\n        setSkills(skillsResponse.data?.skills || []);\r\n        setAvailableSkills(availableSkillsResponse.data?.skills || []);\r\n        setExperiences(experiencesResponse.data?.experiences || []);\r\n        setEducation(educationResponse.data?.educations || []);\r\n        setVideos(videosResponse.data?.videos || []);\r\n        \r\n  const initialAvatarUrl = normProfile?.profile_pic ? `${VITE_API_BASE_URL}${normProfile.profile_pic}?t=${Date.now()}` : '';\r\n        try {\r\n          if (initialAvatarUrl) await verifyImageAvailability(initialAvatarUrl);\r\n          setAvatarPicture(initialAvatarUrl);\r\n        } catch (err) {\r\n          console.error('Avatar image not available:', err);\r\n          setAvatarPicture('');\r\n        }\r\n\r\n          setLoading(false);\r\n      } catch (error) {\r\n        console.error('Error fetching user data:', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchUserData();\r\n  }, [initialProfile]);\r\n\r\n  // Listen for query params so other pages can link directly to a tab or open a dialog\r\n  useEffect(() => {\r\n    if (!location) return;\r\n    const params = new URLSearchParams(location.search);\r\n    // prefer props passed in (openTab/action) so parent components can control the inner tab/dialog\r\n    const tabParam = (openTab || params.get('openTab') || params.get('tab') || '').toLowerCase();\r\n    const actionParam = (action || params.get('action') || params.get('open') || '').toLowerCase();\r\n\r\n    const tabMap = {\r\n      'basic': 0,\r\n      'info': 0,\r\n      'profile': 0,\r\n      'skills': 1,\r\n      'experience': 2,\r\n      'education': 3,\r\n      'videos': 4,\r\n      'video-upload': 4,\r\n      'video_upload': 4,\r\n      'video': 4\r\n    };\r\n\r\n    let targetTab;\r\n    if (tabParam) {\r\n      if (tabMap.hasOwnProperty(tabParam)) targetTab = tabMap[tabParam];\r\n      else if (!Number.isNaN(parseInt(tabParam, 10))) targetTab = parseInt(tabParam, 10);\r\n    }\r\n\r\n    if (typeof targetTab === 'number') {\r\n      setTabValue(targetTab);\r\n    }\r\n\r\n    // Open specific dialogs when asked\r\n    if (tabParam === 'add-skill' || actionParam === 'add-skill' || (tabParam === 'skills' && actionParam === 'add')) {\r\n      setSkillDialogOpen(true);\r\n    }\r\n\r\n    if (tabParam === 'add-experience' || actionParam === 'add-experience' || (tabParam === 'experience' && actionParam === 'add')) {\r\n      handleOpenExperienceDialog();\r\n    }\r\n\r\n    if (tabParam === 'add-education' || actionParam === 'add-education' || (tabParam === 'education' && actionParam === 'add')) {\r\n      handleOpenEducationDialog();\r\n    }\r\n\r\n    if (tabParam === 'video-upload' || actionParam === 'upload-video' || (tabParam === 'videos' && actionParam === 'upload')) {\r\n      // trigger upload flow (existing helper will navigate to upload route)\r\n      handleUploadVideo();\r\n    }\r\n  }, [location.search, openTab, action]);\r\n\r\n  // Handle tab change (shadcn Tabs uses value strings)\r\n  const handleTabChange = (value) => setTabValue(value);\r\n\r\n  // Handle profile form change (compatible with Input/Textarea components)\r\n  const handleProfileChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    if (name && name.includes('.')) {\r\n      const [parent, child] = name.split('.');\r\n      setProfile({\r\n        ...profile,\r\n        [parent]: {\r\n          ...profile[parent],\r\n          [child]: value\r\n        }\r\n      });\r\n    } else if (name) {\r\n      setProfile({ ...profile, [name]: value });\r\n    }\r\n  };\r\n\r\n  // Handle profile save\r\n  const handleSaveProfile = async () => {\r\n    try {\r\n      setSaving(true);\r\n      console.log(\"profile::::22222\",profile);\r\n      const response = await updateUserProfile(profile);\r\n  let updatedProfile = response?.data || response;\r\n  updatedProfile = normalizeProfile(updatedProfile);\r\n      // Normalize backend picture field to frontend expected field\r\n      if (updatedProfile && updatedProfile.profile_picture_url && !updatedProfile.profile_pic) {\r\n        updatedProfile = { ...updatedProfile, profile_pic: updatedProfile.profile_picture_url };\r\n      }\r\n\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Profile updated successfully',\r\n        severity: 'success'\r\n      });\r\n\r\n      // Update local state and inform parent so the profile page refreshes\r\n      setSaving(false);\r\n  setProfile(updatedProfile);\r\n      try {\r\n        onSaved && onSaved(updatedProfile);\r\n      } catch {\r\n        /* ignore callback errors */\r\n      }\r\n      try {\r\n        onClose && onClose();\r\n      } catch {\r\n        /* ignore */\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating profile:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Error updating profile',\r\n        severity: 'error'\r\n      });\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n\r\n  // Handle avatar upload\r\n  const handleAvatarUpload = async (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n\r\n    try {\r\n      setSaving(true);\r\n\r\n      // 1. Show instant preview\r\n      const tempPreviewUrl = URL.createObjectURL(file);\r\n      setAvatarPicture(tempPreviewUrl);\r\n\r\n      // 2. Upload to server\r\n      const response = await uploadProfileImage(file);\r\n\r\n      // 3. Server returns the FINAL URL (must be immediately accessible)\r\n      const serverUrl = `${VITE_API_BASE_URL}${response.data.logo_url}?t=${Date.now()}`;\r\n\r\n      // 4. Verify the image is truly ready (with retries)\r\n      let loaded = false;\r\n      for (let i = 0; i < 3; i++) {\r\n        try {\r\n          await verifyImageAvailability(serverUrl);\r\n          loaded = true;\r\n          break;\r\n        } catch {\r\n          await new Promise(resolve => setTimeout(resolve, 1000)); // Wait 1s between retries\r\n        }\r\n      }\r\n\r\n      if (loaded) {\r\n        const newPic = response.data?.profile?.profile_pic || response.data.logo_url;\r\n        if (newPic) setProfile(prev => ({ ...prev, profile_pic: newPic }));\r\n        setAvatarPicture(serverUrl);\r\n        setSnackbar({ open: true, message: 'Profile picture updated!', severity: 'success' });\r\n      } else {\r\n        setSnackbar({ open: true, message: 'Uploaded! Refresh to see changes.', severity: 'info' });\r\n      }\r\n\r\n      // Clean up preview\r\n      URL.revokeObjectURL(tempPreviewUrl);\r\n\r\n    } catch (error) {\r\n      console.error('Avatar upload error:', error);\r\n      setSnackbar({ open: true, message: 'Upload failed. Please try again.', severity: 'error' });\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  // Skill dialog handlers\r\n  const handleOpenSkillDialog = () => {\r\n    // prepare suggestion list and categories from availableSkills\r\n    setSelectedSkill('');\r\n    setSelectedSkillName('');\r\n    setSelectedCategory(null);\r\n    // set defaults for new skill entries\r\n    setSelectedSkillLevel('Intermediate');\r\n    setSelectedSkillYears(1);\r\n    try {\r\n      // Build categories from availableSkills but prefer category objects whose types include 'skill'.\r\n      const catsSet = new Set();\r\n      (availableSkills || []).forEach(s => {\r\n        if (!s) return;\r\n        const rawCat = s.category ?? s.group ?? s.rawCategory ?? null;\r\n        if (!rawCat) return;\r\n\r\n        // If category is an object try to use name only when it is intended for skills\r\n        if (typeof rawCat === 'object') {\r\n          const cName = rawCat.name ?? rawCat.title ?? null;\r\n          const types = rawCat.types ?? rawCat.type ?? null;\r\n          if (cName && (!types || (Array.isArray(types) ? types.includes('skill') : String(types).toLowerCase() === 'skill'))) {\r\n            catsSet.add(cName);\r\n          }\r\n        } else if (typeof rawCat === 'string') {\r\n          // Keep string categories\r\n          catsSet.add(rawCat);\r\n        }\r\n      });\r\n      setSkillCategories(Array.from(catsSet));\r\n    } catch (e) {\r\n      setSkillCategories([]);\r\n    }\r\n    setSkillDialogOpen(true);\r\n  };\r\n\r\n  const handleCloseSkillDialog = () => {\r\n    setSkillDialogOpen(false);\r\n    setSelectedSkill('');\r\n    // reset temp fields\r\n    setSelectedSkillLevel('Intermediate');\r\n    setSelectedSkillYears(1);\r\n  };\r\n\r\n\r\n  const handleSaveSkill = async () => {\r\n    if (!selectedSkill) return;\r\n\r\n    try {\r\n      setSaving(true);\r\n      // include level and years of experience (default years = 1)\r\n      const payload = {\r\n        skill_id: selectedSkill,\r\n        level: selectedSkillLevel,\r\n        years_experience: Number(selectedSkillYears) || 1\r\n      };\r\n      await addUserSkill(payload);\r\n\r\n      // Refresh skills\r\n      const response = await getUserSkills() || [];\r\n      setSkills(response.data.skills);\r\n\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Skill added successfully',\r\n        severity: 'success'\r\n      });\r\n\r\n      handleCloseSkillDialog();\r\n      setSaving(false);\r\n    } catch (error) {\r\n      console.error('Error saving skill:', error);\r\n      // Try to provide a friendlier message when backend rejects duplicate\r\n      const status = error?.response?.status || error?.status;\r\n      const msg = error?.response?.data?.message || error?.message || '';\r\n      if (status === 400 && /exist|already|duplicate|added/i.test(msg)) {\r\n        setSnackbar({ open: true, message: 'Skill already added to your profile', severity: 'info' });\r\n        // refresh skills list to ensure UI is up-to-date\r\n        try { const resp = await getUserSkills(); setSkills(resp.data.skills || []); } catch (e) { /* ignore */ }\r\n        handleCloseSkillDialog();\r\n      } else {\r\n        setSnackbar({ open: true, message: 'Error saving skill', severity: 'error' });\r\n      }\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteSkill = async (skill_id) => {\r\n    try {\r\n      setSaving(true);\r\n      await deleteUserSkill(skill_id);\r\n\r\n      setSkills(skills.filter(skill => skill.skill_id !== skill_id));\r\n\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Skill deleted successfully',\r\n        severity: 'success'\r\n      });\r\n\r\n      setSaving(false);\r\n    } catch (error) {\r\n      console.error('Error deleting skill:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Error deleting skill',\r\n        severity: 'error'\r\n      });\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  // Experience dialog handlers\r\n  const handleOpenExperienceDialog = (experience = null) => {\r\n    if (experience) {\r\n      setExperienceForm({\r\n        id: experience.id,\r\n        company_name: experience.company_name,\r\n        position: experience.position,\r\n        location: experience.location,\r\n        start_date: experience.start_date,\r\n        end_date: experience.end_date || '',\r\n        currently_working: experience.currently_working || false,\r\n        description: experience.description\r\n      });\r\n    } else {\r\n      setExperienceForm({\r\n        company_name: '',\r\n        position: '',\r\n        location: '',\r\n        start_date: '',\r\n        end_date: '',\r\n        currently_working: false,\r\n        description: ''\r\n      });\r\n    }\r\n    setExperienceDialogOpen(true);\r\n  };\r\n\r\n  const handleCloseExperienceDialog = () => {\r\n    setExperienceDialogOpen(false);\r\n  };\r\n\r\n  const handleExperienceFormChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setExperienceForm({\r\n      ...experienceForm,\r\n      [name]: type === 'checkbox' ? checked : value\r\n    });\r\n  };\r\n\r\n  const handleSaveExperience = async () => {\r\n    try {\r\n      setSaving(true);\r\n      let edited = false;\r\n      if (experienceForm.id) {\r\n\r\n        // Update existing experience\r\n        await updateUserExperience(experienceForm.id, experienceForm);\r\n        edited = true;\r\n      } else if (edited != true) {\r\n        // Add new experience\r\n        await addUserExperience(experienceForm);\r\n      }\r\n\r\n      // Refresh experiences\r\n      const response = await getUserExperiences() || [];\r\n      setExperiences(response.data.experiences);\r\n\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Experience saved successfully',\r\n        severity: 'success'\r\n      });\r\n\r\n      handleCloseExperienceDialog();\r\n      edited = false;\r\n      setSaving(false);\r\n    } catch (error) {\r\n      console.error('Error saving experience:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Error saving experience',\r\n        severity: 'error'\r\n      });\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteExperience = async (experienceId) => {\r\n    try {\r\n      setSaving(true);\r\n      await deleteUserExperience(experienceId);\r\n\r\n      setExperiences(experiences.filter(exp => exp.id !== experienceId));\r\n\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Experience deleted successfully',\r\n        severity: 'success'\r\n      });\r\n\r\n      setSaving(false);\r\n    } catch (error) {\r\n      console.error('Error deleting experience:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Error deleting experience',\r\n        severity: 'error'\r\n      });\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  // Education dialog handlers\r\n  const handleOpenEducationDialog = (education = null) => {\r\n    if (education) {\r\n      setEducationForm({\r\n        id: education.id,\r\n        institution: education.institution,\r\n        degree: education.degree,\r\n        field: education.field,\r\n        location: education.location,\r\n        startDate: education.startDate,\r\n        endDate: education.endDate || '',\r\n        description: education.description\r\n      });\r\n    } else {\r\n      setEducationForm({\r\n        institution: '',\r\n        degree: '',\r\n        field: '',\r\n        location: '',\r\n        startDate: '',\r\n        endDate: '',\r\n        description: ''\r\n      });\r\n    }\r\n    setEducationDialogOpen(true);\r\n  };\r\n\r\n  const handleCloseEducationDialog = () => {\r\n    setEducationDialogOpen(false);\r\n  };\r\n\r\n  const handleEducationFormChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setEducationForm({\r\n      ...educationForm,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  const handleSaveEducation = async () => {\r\n    try {\r\n      setSaving(true);\r\n\r\n      if (educationForm.id) {\r\n        // Update existing education\r\n        await updateUserEducation(educationForm.id, educationForm);\r\n      } else {\r\n        // Add new education\r\n        await addUserEducation(educationForm);\r\n      }\r\n\r\n      // Refresh education\r\n      const response = await getUserEducation() || [];\r\n      setEducation(response.data.educations || []);\r\n\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Education saved successfully',\r\n        severity: 'success'\r\n      });\r\n\r\n      handleCloseEducationDialog();\r\n      setSaving(false);\r\n    } catch (error) {\r\n      console.error('Error saving education:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Error saving education',\r\n        severity: 'error'\r\n      });\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteEducation = async (educationId) => {\r\n    try {\r\n      setSaving(true);\r\n      await deleteUserEducation(educationId);\r\n\r\n      setEducation(education.filter(edu => edu.id !== educationId));\r\n\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Education deleted successfully',\r\n        severity: 'success'\r\n      });\r\n\r\n      setSaving(false);\r\n    } catch (error) {\r\n      console.error('Error deleting education:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Error deleting education',\r\n        severity: 'error'\r\n      });\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  // Video handlers\r\n  const handleDeleteVideo = async (videoId) => {\r\n    try {\r\n      setSaving(true);\r\n      await deleteUserVideo(videoId);\r\n\r\n      setVideos(videos.filter(video => video.id !== videoId));\r\n\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Video deleted successfully',\r\n        severity: 'success'\r\n      });\r\n\r\n      setSaving(false);\r\n    } catch (error) {\r\n      console.error('Error deleting video:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Error deleting video',\r\n        severity: 'error'\r\n      });\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleUploadVideo = () => {\r\n    // navigate('/video-upload');\r\n    navigate('/jobseeker-tabs?group=profileContent&tab=video-upload');\r\n  };\r\n\r\n  const handleEditVideo = (videoId) => {\r\n    navigate(`/jobseeker-tabs?page=edit-video/${videoId}`);\r\n  };\r\n\r\n  // Format date for display\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'Present';\r\n    return dayjs(dateString).format('MMM YYYY');\r\n  };\r\n\r\n  // Close snackbar\r\n  const handleCloseSnackbar = () => {\r\n    setSnackbar({ ...snackbar, open: false });\r\n  };\r\n  return (\r\n    <div className=\"container mx-auto py-6 px-4 max-w-6xl\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div>\r\n          <h1 className={`text-3xl font-bold mb-1 ${themeColors.text.gradient}`}>Edit My Profile</h1>\r\n          <p className=\"text-sm text-muted-foreground\">Update your profile details, skills, experience and videos.</p>\r\n        </div>\r\n\r\n        <Button onClick={handleSaveProfile} className={`rounded-full px-4 ${themeColors.buttons.primary}`} disabled={saving}>\r\n          <Save className=\"h-4 w-4 mr-2\" />\r\n          {saving ? 'Saving...' : 'Save Profile'}\r\n        </Button>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"flex justify-center py-20\">\r\n          <div className=\"animate-spin h-8 w-8 rounded-full border-4 border-gray-200 border-t-indigo-600\"></div>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {/* Avatar Section */}\r\n          <Card className=\"mb-6\">\r\n            <CardContent className=\"flex flex-col items-center gap-3 py-8\">\r\n              <div className=\"relative\">\r\n                <Avatar className=\"h-28 w-28\">\r\n                  {avatarPicture ? (\r\n                    <AvatarImage src={avatarPicture} alt={`${profile.first_name} ${profile.last_name}`} />\r\n                  ) : (\r\n                    <AvatarFallback className=\"text-3xl bg-gradient-to-br from-indigo-600 via-purple-600 to-blue-600 text-white\">\r\n                      {`${(profile.first_name||'')?.charAt(0)}${(profile.last_name||'')?.charAt(0)}` || 'U'}\r\n                    </AvatarFallback>\r\n                  )}\r\n                </Avatar>\r\n\r\n                <input id=\"avatar-upload\" accept=\"image/*\" type=\"file\" className=\"hidden\" ref={fileInputRef} onChange={handleAvatarUpload} />\r\n                <label htmlFor=\"avatar-upload\" className=\"absolute -bottom-2 -right-2\">\r\n                  <Button size=\"icon\" variant=\"outline\" asChild>\r\n                    <span>\r\n                      <Camera className=\"h-4 w-4\" />\r\n                    </span>\r\n                  </Button>\r\n                </label>\r\n              </div>\r\n\r\n              <div className=\"text-center\">\r\n                <div className=\"text-xl font-semibold\">{profile.first_name} {profile.last_name}</div>\r\n                <div className=\"text-sm text-muted-foreground\">{profile.title}</div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Tabs */}\r\n          <Tabs value={tabValue} onValueChange={handleTabChange} className=\"space-y-4\">\r\n            <TabsList className=\"grid grid-cols-5 gap-2\">\r\n              <TabsTrigger value={0}>Basic Info</TabsTrigger>\r\n              <TabsTrigger value={1}>Skills</TabsTrigger>\r\n              <TabsTrigger value={2}>Experience</TabsTrigger>\r\n              <TabsTrigger value={3}>Education</TabsTrigger>\r\n              <TabsTrigger value={4}>Videos</TabsTrigger>\r\n            </TabsList>\r\n\r\n            {/* Basic Info */}\r\n            <TabsContent value={0}>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <Label htmlFor=\"first_name\">First Name</Label>\r\n                  <Input id=\"first_name\" name=\"first_name\" value={profile.first_name || ''} onChange={handleProfileChange} />\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"Second_name\">Second Name</Label>\r\n                  <Input id=\"Second_name\" name=\"Second_name\" value={profile.Second_name || ''} onChange={handleProfileChange} />\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"last_name\">Last Name</Label>\r\n                  <Input id=\"last_name\" name=\"last_name\" value={profile.last_name || ''} onChange={handleProfileChange} />\r\n                </div>\r\n\r\n                <div className=\"md:col-span-2\">\r\n                  <Label htmlFor=\"title\">Professional Title</Label>\r\n                  <Input id=\"title\" name=\"title\" value={profile.title || ''} onChange={handleProfileChange} />\r\n                </div>\r\n\r\n                <div className=\"md:col-span-2\">\r\n                  <Label htmlFor=\"location\">Location</Label>\r\n                  <Input id=\"location\" name=\"location\" value={profile.location || ''} onChange={handleProfileChange} placeholder=\"City, Country\" />\r\n                </div>\r\n\r\n                <div className=\"md:col-span-2\">\r\n                  <Label htmlFor=\"bio\">Bio</Label>\r\n                  <Textarea id=\"bio\" name=\"bio\" value={profile.bio || ''} onChange={handleProfileChange} rows={4} placeholder=\"Tell employers about yourself\" />\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"email\">Email</Label>\r\n                  <Input id=\"email\" name=\"email\" type=\"email\" value={profile.email || ''} onChange={handleProfileChange} />\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"phone\">Phone</Label>\r\n                  <Input id=\"phone\" name=\"phone\" value={profile.phone || ''} onChange={handleProfileChange} />\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"mobile\">Mobile</Label>\r\n                  <Input id=\"mobile\" name=\"mobile\" value={profile.mobile || ''} onChange={handleProfileChange} />\r\n                </div>\r\n              </div>\r\n            </TabsContent>\r\n\r\n            {/* Skills */}\r\n            <TabsContent value={1}>\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-lg font-semibold\">Your Skills</h3>\r\n                <Button onClick={handleOpenSkillDialog} className={`rounded-full ${themeColors.buttons.secondary}`}>\r\n                  <Plus className=\"h-4 w-4 mr-2\" /> Add Skill\r\n                </Button>\r\n              </div>\r\n\r\n              {skills.length === 0 ? (\r\n                <div className=\"border-2 border-dashed rounded-md p-8 text-center text-muted-foreground\">No skills added yet. Click &quot;Add Skill&quot; to showcase your expertise.</div>\r\n              ) : (\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {skills.map((skill) => (\r\n                    <Badge key={skill.skill_id} className=\"px-3 py-1 rounded-md bg-indigo-100 text-indigo-800 inline-flex items-center gap-2\">\r\n                      {renderSkillName(skill)}\r\n                      <button onClick={() => handleDeleteSkill(skill.skill_id)} className=\"text-indigo-600\"><Trash className=\"h-4 w-4\" /></button>\r\n                    </Badge>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </TabsContent>\r\n\r\n            {/* Experience */}\r\n            <TabsContent value={2}>\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-lg font-semibold\">Work Experience</h3>\r\n                <Button onClick={() => handleOpenExperienceDialog()} className={`rounded-full ${themeColors.buttons.secondary}`}>\r\n                  <Plus className=\"h-4 w-4 mr-2\" /> Add Experience\r\n                </Button>\r\n              </div>\r\n\r\n              {experiences.length === 0 ? (\r\n                <div className=\"border-2 border-dashed rounded-md p-8 text-center text-muted-foreground\">No work experience added yet. Click &quot;Add Experience&quot; to get started.</div>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  {experiences.map((exp) => (\r\n                    <Card key={exp.id} className=\"p-4\">\r\n                      <CardContent>\r\n                        <div className=\"flex justify-between\">\r\n                          <div>\r\n                            <div className=\"font-semibold\">{exp.position}</div>\r\n                            <div className=\"text-sm text-indigo-600\">{exp.company_name}</div>\r\n                            <div className=\"text-sm text-muted-foreground\">{formatDate(exp.start_date)} - {exp.currently_working ? 'Present' : formatDate(exp.end_date)}</div>\r\n                            {exp.location && <div className=\"text-sm text-muted-foreground mt-1\"><MapPin className=\"inline-block h-4 w-4 mr-1\"/>{exp.location}</div>}\r\n                          </div>\r\n                          <div className=\"flex items-start gap-2\">\r\n                            <Button size=\"icon\" variant=\"ghost\" onClick={() => handleOpenExperienceDialog(exp)}><Edit className=\"h-4 w-4\"/></Button>\r\n                            <Button size=\"icon\" variant=\"ghost\" onClick={() => handleDeleteExperience(exp.id)}><Trash className=\"h-4 w-4 text-red-600\"/></Button>\r\n                          </div>\r\n                        </div>\r\n                        {exp.description && <div className=\"mt-2 text-sm text-muted-foreground\">{exp.description}</div>}\r\n                      </CardContent>\r\n                    </Card>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </TabsContent>\r\n\r\n            {/* Education */}\r\n            <TabsContent value={3}>\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-lg font-semibold\">Education</h3>\r\n                <Button onClick={() => handleOpenEducationDialog()} className={`rounded-full ${themeColors.buttons.secondary}`}>\r\n                  <Plus className=\"h-4 w-4 mr-2\" /> Add Education\r\n                </Button>\r\n              </div>\r\n\r\n              {education.length === 0 ? (\r\n                <div className=\"border-2 border-dashed rounded-md p-8 text-center text-muted-foreground\">No education added yet. Click &quot;Add Education&quot; to get started.</div>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  {education.map((edu) => (\r\n                    <Card key={edu.id} className=\"p-4\">\r\n                      <CardContent>\r\n                        <div className=\"flex justify-between\">\r\n                          <div>\r\n                            <div className=\"font-semibold\">{edu.degree}</div>\r\n                            <div className=\"text-sm text-indigo-600\">{edu.institution}</div>\r\n                            <div className=\"text-sm text-muted-foreground\">{formatDate(edu.startDate)} - {edu.endDate ? formatDate(edu.endDate) : 'Present'}</div>\r\n                            {edu.location && <div className=\"text-sm text-muted-foreground mt-1\"><MapPin className=\"inline-block h-4 w-4 mr-1\"/>{edu.location}</div>}\r\n                          </div>\r\n                          <div className=\"flex items-start gap-2\">\r\n                            <Button size=\"icon\" variant=\"ghost\" onClick={() => handleOpenEducationDialog(edu)}><Edit className=\"h-4 w-4\"/></Button>\r\n                            <Button size=\"icon\" variant=\"ghost\" onClick={() => handleDeleteEducation(edu.id)}><Trash className=\"h-4 w-4 text-red-600\"/></Button>\r\n                          </div>\r\n                        </div>\r\n                        {edu.description && <div className=\"mt-2 text-sm text-muted-foreground\">{edu.description}</div>}\r\n                      </CardContent>\r\n                    </Card>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </TabsContent>\r\n\r\n            {/* Videos */}\r\n            <TabsContent value={4}>\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-lg font-semibold\">Your Videos</h3>\r\n                <Button onClick={handleUploadVideo} className={`rounded-full ${themeColors.buttons.secondary}`}>\r\n                  <Video className=\"h-4 w-4 mr-2\" /> Upload Video\r\n                </Button>\r\n              </div>\r\n\r\n              {videos.length === 0 ? (\r\n                <div className=\"border-2 border-dashed rounded-md p-8 text-center text-muted-foreground\">No videos uploaded yet. Click &quot;Upload Video&quot; to add your first video.</div>\r\n              ) : (\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\">\r\n                  {videos.map((video) => (\r\n                    <Card key={video.id} className=\"overflow-hidden\">\r\n                      <div className=\"relative bg-black aspect-video\">\r\n                        <img src={video.thumbnail} alt={video.video_title} className=\"object-cover w-full h-full\" />\r\n                        <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                          <Button size=\"icon\" variant=\"ghost\" className=\"bg-black/40 text-white\"><Play className=\"h-6 w-6\"/></Button>\r\n                        </div>\r\n                      </div>\r\n                      <CardContent>\r\n                        <div className=\"font-semibold\">{video.video_title}</div>\r\n                        <div className=\"flex justify-between text-sm text-muted-foreground mt-1\">\r\n                          <span>{video.video_duration} sec</span>\r\n                          <span>{video.views} views</span>\r\n                        </div>\r\n                      </CardContent>\r\n                      <div className=\"flex justify-between p-3\">\r\n                        <Button size=\"sm\" onClick={() => handleEditVideo(video.id)} className=\"\">Edit</Button>\r\n                        <Button size=\"sm\" onClick={() => handleDeleteVideo(video.id)} className=\"text-red-600\">Delete</Button>\r\n                      </div>\r\n                    </Card>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </TabsContent>\r\n          </Tabs>\r\n        </>\r\n      )}\r\n\r\n      {/* Skill Dialog */}\r\n      <Dialog open={skillDialogOpen} onOpenChange={setSkillDialogOpen}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>Add New Skill</DialogTitle>\r\n            <DialogDescription>Select a skill to add to your profile.</DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"mt-2\">\r\n            <Label htmlFor=\"skill-search\">Skill</Label>\r\n            <Input\r\n              id=\"skill-search\"\r\n              value={selectedSkillName}\r\n              onChange={(e) => { setSelectedSkillName(e.target.value); setSelectedSkill(''); }}\r\n              placeholder=\"Type to search or click a suggestion\"\r\n            />\r\n\r\n            {/* Category filter */}\r\n            {skillCategories.length > 0 && (\r\n              <div className=\"flex gap-2 mt-2 flex-wrap\">\r\n                <button type=\"button\" className={`px-2 py-1 text-xs rounded ${selectedCategory === null ? 'bg-indigo-600 text-white' : 'bg-gray-100'}`} onClick={() => setSelectedCategory(null)}>All</button>\r\n                {skillCategories.map(cat => (\r\n                  <button key={cat} type=\"button\" className={`px-2 py-1 text-xs rounded ${selectedCategory === cat ? 'bg-indigo-600 text-white' : 'bg-gray-100'}`} onClick={() => setSelectedCategory(cat)}>{cat}</button>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"max-h-40 overflow-auto border rounded bg-white mt-2\">\r\n              {(skillSearchLoading ? [] : (availableSkills || [])).filter(s => {\r\n                if (!s) return false;\r\n                // hide skills already added to the user's profile\r\n                if (isSkillAlreadyAdded(s)) return false;\r\n\r\n                const name = typeof s.name === 'string' ? s.name : (s.name?.en || s.name?.value || String(s.name || ''));\r\n                // category filter: support category as string or object\r\n                const catName = typeof s.category === 'string' ? s.category : (s.category?.name ?? s.group ?? s.rawCategory ?? null);\r\n                if (selectedCategory && catName !== selectedCategory) return false;\r\n                if (!selectedSkillName) return true;\r\n                try {\r\n                  return name.toLowerCase().includes(selectedSkillName.trim().toLowerCase());\r\n                } catch (e) {\r\n                  return String(name).toLowerCase().includes(selectedSkillName.trim().toLowerCase());\r\n                }\r\n              }).slice(0,50).map(s => (\r\n                <div key={getSkillId(s) ?? renderSkillName(s)} className=\"px-3 py-2 hover:bg-gray-50 cursor-pointer text-sm flex justify-between\" onClick={() => { setSelectedSkill(getSkillId(s)); setSelectedSkillName(renderSkillName(s)); setSelectedCategory(typeof s.category === 'string' ? s.category : (s.category?.name ?? s.group ?? null)); }}>\r\n                  <div>{renderSkillName(s)}</div>\r\n                  { ((typeof s.category === 'string' ? s.category : (s.category?.name ?? s.group)) ) && <div className=\"text-xs text-gray-400\">{typeof s.category === 'string' ? s.category : (s.category?.name ?? s.group)}</div> }\r\n                </div>\r\n              ))}\r\n              {((availableSkills || []).filter(s => !isSkillAlreadyAdded(s)).length === 0) && !skillSearchLoading && (\r\n                <div className=\"px-3 py-2 text-sm text-gray-500\">No suggestions available</div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Level & Years inputs */}\r\n            <div className=\"grid grid-cols-2 gap-3 mt-3\">\r\n              <div>\r\n                <Label htmlFor=\"skill-level\">Level</Label>\r\n                <Select value={selectedSkillLevel} onValueChange={(val) => setSelectedSkillLevel(val)}>\r\n                  <SelectTrigger id=\"skill-level\">\r\n                    <SelectValue placeholder=\"Select level\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"Beginner\">Beginner</SelectItem>\r\n                    <SelectItem value=\"Intermediate\">Intermediate</SelectItem>\r\n                    <SelectItem value=\"Advanced\">Advanced</SelectItem>\r\n                    <SelectItem value=\"Expert\">Expert</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              <div>\r\n                <Label htmlFor=\"skill-years\">Years of experience</Label>\r\n                <Input id=\"skill-years\" type=\"number\" min={0} value={selectedSkillYears} onChange={(e) => setSelectedSkillYears(Number(e.target.value))} />\r\n              </div>\r\n            </div>\r\n\r\n            {selectedSkillName && !selectedSkill && (\r\n              <div className=\"text-xs text-yellow-600 mt-1\">Please select a skill from the suggestions to enable saving.</div>\r\n            )}\r\n          </div>\r\n\r\n          <DialogFooter>\r\n            <Button variant=\"ghost\" onClick={handleCloseSkillDialog}>Cancel</Button>\r\n            <Button onClick={handleSaveSkill} disabled={!selectedSkill || saving} className={themeColors.buttons.primary}>{saving ? 'Saving...' : 'Save'}</Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Experience Dialog */}\r\n      <Dialog open={experienceDialogOpen} onOpenChange={setExperienceDialogOpen}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>{experienceForm.id ? 'Edit Experience' : 'Add Experience'}</DialogTitle>\r\n          </DialogHeader>\r\n\r\n          <div className=\"grid grid-cols-1 gap-3 mt-2\">\r\n            <div>\r\n              <Label>Company Name</Label>\r\n              <Input name=\"company_name\" value={experienceForm.company_name} onChange={handleExperienceFormChange} />\r\n            </div>\r\n            <div>\r\n              <Label>Position</Label>\r\n              <Input name=\"position\" value={experienceForm.position} onChange={handleExperienceFormChange} />\r\n            </div>\r\n            <div>\r\n              <Label>Location</Label>\r\n              <Input name=\"location\" value={experienceForm.location} onChange={handleExperienceFormChange} />\r\n            </div>\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <div>\r\n                <Label>Start Date</Label>\r\n                <Input name=\"start_date\" type=\"date\" value={experienceForm.start_date} onChange={handleExperienceFormChange} />\r\n              </div>\r\n              <div>\r\n                <Label>End Date</Label>\r\n                <Input name=\"end_date\" type=\"date\" value={experienceForm.end_date} onChange={handleExperienceFormChange} disabled={experienceForm.currently_working} />\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <input id=\"currently_working\" type=\"checkbox\" name=\"currently_working\" checked={experienceForm.currently_working} onChange={handleExperienceFormChange} />\r\n              <label htmlFor=\"currently_working\">I currently work here</label>\r\n            </div>\r\n            <div>\r\n              <Label>Description</Label>\r\n              <Textarea name=\"description\" rows={4} value={experienceForm.description} onChange={handleExperienceFormChange} />\r\n            </div>\r\n          </div>\r\n\r\n          <DialogFooter>\r\n            <Button variant=\"ghost\" onClick={handleCloseExperienceDialog}>Cancel</Button>\r\n            <Button onClick={handleSaveExperience} disabled={saving}>{saving ? 'Saving...' : 'Save'}</Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Education Dialog */}\r\n      <Dialog open={educationDialogOpen} onOpenChange={setEducationDialogOpen}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>{educationForm.id ? 'Edit Education' : 'Add Education'}</DialogTitle>\r\n          </DialogHeader>\r\n\r\n          <div className=\"grid grid-cols-1 gap-3 mt-2\">\r\n            <div>\r\n              <Label>Institution</Label>\r\n              <Input name=\"institution\" value={educationForm.institution} onChange={handleEducationFormChange} />\r\n            </div>\r\n            <div>\r\n              <Label>Degree</Label>\r\n              <Input name=\"degree\" value={educationForm.degree} onChange={handleEducationFormChange} />\r\n            </div>\r\n            <div>\r\n              <Label>Field of Study</Label>\r\n              <Input name=\"field\" value={educationForm.field} onChange={handleEducationFormChange} />\r\n            </div>\r\n            <div>\r\n              <Label>Location</Label>\r\n              <Input name=\"location\" value={educationForm.location} onChange={handleEducationFormChange} />\r\n            </div>\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <div>\r\n                <Label>Start Date</Label>\r\n                <Input name=\"startDate\" type=\"date\" value={educationForm.startDate} onChange={handleEducationFormChange} />\r\n              </div>\r\n              <div>\r\n                <Label>End Date</Label>\r\n                <Input name=\"endDate\" type=\"date\" value={educationForm.endDate} onChange={handleEducationFormChange} />\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <Label>Description</Label>\r\n              <Textarea name=\"description\" rows={4} value={educationForm.description} onChange={handleEducationFormChange} />\r\n            </div>\r\n          </div>\r\n\r\n          <DialogFooter>\r\n            <Button variant=\"ghost\" onClick={handleCloseEducationDialog}>Cancel</Button>\r\n            <Button onClick={handleSaveEducation} disabled={saving}>{saving ? 'Saving...' : 'Save'}</Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Snackbar / toast fallback - we keep the existing snackbar state but use toast hook for nicer UI elsewhere */}\r\n      {snackbar.open && (\r\n        <div className={`fixed bottom-6 right-6 p-4 rounded-md ${snackbar.severity === 'success' ? 'bg-green-600 text-white' : snackbar.severity === 'error' ? 'bg-red-600 text-white' : 'bg-indigo-600 text-white'}`}>\r\n          {snackbar.message}\r\n          <button onClick={handleCloseSnackbar} className=\"ml-3\"><X className=\"inline-block h-4 w-4\" /></button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditJobSeekerProfile;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\EmployerDashboard.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\EmployerDashboard_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 45,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 45,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                997,
                1032
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 96,
        "column": 49,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 96,
        "endColumn": 54,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                2173,
                2182
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n    Box,\r\n    Container,\r\n    Grid,\r\n    Paper,\r\n    Typography,\r\n    Card,\r\n    CardContent,\r\n    Button,\r\n    List,\r\n    ListItem,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    Divider,\r\n    Avatar,\r\n    Chip,\r\n    CircularProgress,\r\n    IconButton,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableContainer,\r\n    TableHead,\r\n    TableRow,\r\n    Tabs,\r\n    Tab\r\n} from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n    Visibility as VisibilityIcon,\r\n    PersonSearch as PersonSearchIcon,\r\n    Work as WorkIcon,\r\n    Message as MessageIcon,\r\n    Notifications as NotificationsIcon,\r\n    TrendingUp as TrendingUpIcon,\r\n    PlayCircleOutline as PlayCircleOutlineIcon,\r\n    Add as AddIcon,\r\n    ArrowForward as ArrowForwardIcon,\r\n    Business as BusinessIcon,\r\n    People as PeopleIcon,\r\n    Assessment as AssessmentIcon\r\n} from '@mui/icons-material';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\nimport {\r\n    getEmployerDashboardStats,\r\n    getRecentActivities,\r\n    getCandidateRecommendations,\r\n    getJobPostings\r\n} from '../services/dashboardService';\r\nimport { Line, Bar, Doughnut } from 'react-chartjs-2';\r\nimport {\r\n    Chart as ChartJS,\r\n    CategoryScale,\r\n    LinearScale,\r\n    PointElement,\r\n    LineElement,\r\n    BarElement,\r\n    ArcElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend,\r\n} from 'chart.js';\r\n\r\n// Register ChartJS components\r\nChartJS.register(\r\n    CategoryScale,\r\n    LinearScale,\r\n    PointElement,\r\n    LineElement,\r\n    BarElement,\r\n    ArcElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend\r\n);\r\n\r\nconst DashboardContainer = styled(Container)(({ theme }) => ({\r\n    padding: theme.spacing(3),\r\n    backgroundColor: theme.palette.background.default,\r\n    minHeight: 'calc(100vh - 56px)',\r\n}));\r\n\r\nconst StatsCard = styled(Card)(({ theme }) => ({\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    transition: 'transform 0.2s',\r\n    '&:hover': {\r\n        transform: 'translateY(-4px)',\r\n        boxShadow: theme.shadows[4],\r\n    },\r\n}));\r\n\r\nconst StatsCardContent = styled(CardContent)(({ theme }) => ({\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    textAlign: 'center',\r\n    flex: 1,\r\n}));\r\n\r\nconst StatsIcon = styled(Box)(({ theme, color }) => ({\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: '50%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginBottom: theme.spacing(2),\r\n    backgroundColor: theme.palette[color].light,\r\n    color: theme.palette[color].main,\r\n}));\r\n\r\nconst ActivityItem = styled(ListItem)(({ theme }) => ({\r\n    padding: theme.spacing(1.5),\r\n    borderBottom: `1px solid ${theme.palette.divider}`,\r\n    '&:last-child': {\r\n        borderBottom: 'none',\r\n    },\r\n}));\r\n\r\nconst TabPanel = (props) => {\r\n    const { children, value, index, ...other } = props;\r\n\r\n    return (\r\n        <div\r\n            role=\"tabpanel\"\r\n            hidden={value !== index}\r\n            id={`tabpanel-${index}`}\r\n            aria-labelledby={`tab-${index}`}\r\n            {...other}\r\n        >\r\n            {value === index && (\r\n                <Box sx={{ p: 3 }}>\r\n                    {children}\r\n                </Box>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst EmployerDashboard = () => {\r\n    const { user } = useAuth();\r\n    const [stats, setStats] = useState(null);\r\n    const [activities, setActivities] = useState([]);\r\n    const [recommendations, setRecommendations] = useState([]);\r\n    const [jobs, setJobs] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [tabValue, setTabValue] = useState(0);\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchDashboardData = async () => {\r\n            try {\r\n                setLoading(true);\r\n\r\n                // Fetch dashboard statistics\r\n                const statsResponse = await getEmployerDashboardStats();\r\n                setStats(statsResponse.data.stats);\r\n\r\n                // Fetch recent activities\r\n                const activitiesResponse = await getRecentActivities();\r\n                setActivities(activitiesResponse.data.activities);\r\n\r\n                // Fetch candidate recommendations\r\n                const recommendationsResponse = await getCandidateRecommendations();\r\n                setRecommendations(recommendationsResponse.data.recommendations);\r\n\r\n                // Fetch job postings\r\n                const jobsResponse = await getJobPostings();\r\n                setJobs(jobsResponse.data.jobs);\r\n            } catch (error) {\r\n                console.error('Error fetching dashboard data:', error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchDashboardData();\r\n    }, []);\r\n\r\n    const handleTabChange = (event, newValue) => {\r\n        setTabValue(newValue);\r\n    };\r\n\r\n    // Views chart data\r\n    const viewsChartData = {\r\n        labels: ['January', 'February', 'March', 'April', 'May', 'June'],\r\n        datasets: [\r\n            {\r\n                label: 'Job Views',\r\n                data: stats?.job_views_chart || [120, 190, 150, 250, 220, 300],\r\n                borderColor: 'rgba(75, 192, 192, 1)',\r\n                backgroundColor: 'rgba(75, 192, 192, 0.2)',\r\n                tension: 0.4,\r\n            },\r\n        ],\r\n    };\r\n\r\n    // Applicants chart data\r\n    const applicantsChartData = {\r\n        labels: stats?.job_titles || ['Frontend Developer', 'Backend Developer', 'UI/UX Designer', 'Project Manager', 'Digital Marketer'],\r\n        datasets: [\r\n            {\r\n                label: 'Number of Applicants',\r\n                data: stats?.applicants_per_job || [25, 18, 12, 8, 15],\r\n                backgroundColor: 'rgba(54, 162, 235, 0.6)',\r\n                borderColor: 'rgba(54, 162, 235, 1)',\r\n                borderWidth: 1,\r\n            },\r\n        ],\r\n    };\r\n\r\n    // Applicant sources chart data\r\n    const applicantSourcesChartData = {\r\n        labels: ['Direct Search', 'Referrals', 'Social Media', 'Job Boards', 'Other'],\r\n        datasets: [\r\n            {\r\n                data: stats?.applicant_sources || [35, 25, 20, 15, 5],\r\n                backgroundColor: [\r\n                    'rgba(75, 192, 192, 0.6)',\r\n                    'rgba(54, 162, 235, 0.6)',\r\n                    'rgba(255, 206, 86, 0.6)',\r\n                    'rgba(153, 102, 255, 0.6)',\r\n                    'rgba(255, 159, 64, 0.6)',\r\n                ],\r\n                borderColor: [\r\n                    'rgba(75, 192, 192, 1)',\r\n                    'rgba(54, 162, 235, 1)',\r\n                    'rgba(255, 206, 86, 1)',\r\n                    'rgba(153, 102, 255, 1)',\r\n                    'rgba(255, 159, 64, 1)',\r\n                ],\r\n                borderWidth: 1,\r\n            },\r\n        ],\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: 'calc(100vh - 56px)' }}>\r\n                <CircularProgress />\r\n            </Box>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <DashboardContainer maxWidth=\"lg\" sx={{ mt: 3}}>\r\n            <Box sx={{ mb: 3, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                <Typography variant=\"h4\">{'Welcome '+ user.displayName + ' to Your Dashboard' }  </Typography>\r\n\r\n                <Box>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        startIcon={<AddIcon />}\r\n                        sx={{ mr: 1 }}\r\n                    >\r\n                        Post New Job\r\n                    </Button>\r\n\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        startIcon={<BusinessIcon />}\r\n                    >\r\n                        Update Company Profile\r\n                    </Button>\r\n                </Box>\r\n            </Box>\r\n\r\n            {/* Statistics Cards */}\r\n            <Grid container spacing={3} sx={{ mb: 4 }}>\r\n                <Grid item xs={12} sm={6} md={3}>\r\n                    <StatsCard>\r\n                        <StatsCardContent>\r\n                            <StatsIcon color=\"primary\">\r\n                                <VisibilityIcon fontSize=\"large\" />\r\n                            </StatsIcon>\r\n                            <Typography variant=\"h4\" gutterBottom>\r\n                                {stats?.total_job_views || 0}\r\n                            </Typography>\r\n                            <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                                Job Views\r\n                            </Typography>\r\n                        </StatsCardContent>\r\n                    </StatsCard>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6} md={3}>\r\n                    <StatsCard>\r\n                        <StatsCardContent>\r\n                            <StatsIcon color=\"success\">\r\n                                <PersonSearchIcon fontSize=\"large\" />\r\n                            </StatsIcon>\r\n                            <Typography variant=\"h4\" gutterBottom>\r\n                                {stats?.total_applicants || 0}\r\n                            </Typography>\r\n                            <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                                Applicants\r\n                            </Typography>\r\n                        </StatsCardContent>\r\n                    </StatsCard>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6} md={3}>\r\n                    <StatsCard>\r\n                        <StatsCardContent>\r\n                            <StatsIcon color=\"warning\">\r\n                                <WorkIcon fontSize=\"large\" />\r\n                            </StatsIcon>\r\n                            <Typography variant=\"h4\" gutterBottom>\r\n                                {stats?.active_jobs || 0}\r\n                            </Typography>\r\n                            <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                                Active Jobs\r\n                            </Typography>\r\n                        </StatsCardContent>\r\n                    </StatsCard>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6} md={3}>\r\n                    <StatsCard>\r\n                        <StatsCardContent>\r\n                            <StatsIcon color=\"info\">\r\n                                <MessageIcon fontSize=\"large\" />\r\n                            </StatsIcon>\r\n                            <Typography variant=\"h4\" gutterBottom>\r\n                                {stats?.unread_messages || 0}\r\n                            </Typography>\r\n                            <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                                Unread Messages\r\n                            </Typography>\r\n                        </StatsCardContent>\r\n                    </StatsCard>\r\n                </Grid>\r\n            </Grid>\r\n\r\n            {/* Charts and Recommendations */}\r\n            <Grid container spacing={3}>\r\n                <Grid item xs={12} md={8}>\r\n                    <Paper sx={{ mb: 3 }}>\r\n                        <Tabs\r\n                            value={tabValue}\r\n                            onChange={handleTabChange}\r\n                            indicatorColor=\"primary\"\r\n                            textColor=\"primary\"\r\n                            centered\r\n                        >\r\n                            <Tab label=\"Overview\" />\r\n                            <Tab label=\"Active Jobs\" />\r\n                            <Tab label=\"Applicants\" />\r\n                        </Tabs>\r\n\r\n                        <TabPanel value={tabValue} index={0}>\r\n                            <Box sx={{ height: 300, mb: 4 }}>\r\n                                <Typography variant=\"h6\" gutterBottom>\r\n                                    Job Views\r\n                                </Typography>\r\n                                <Line\r\n                                    data={viewsChartData}\r\n                                    options={{\r\n                                        responsive: true,\r\n                                        maintainAspectRatio: false,\r\n                                        plugins: {\r\n                                            legend: {\r\n                                                position: 'top',\r\n                                            },\r\n                                        },\r\n                                    }}\r\n                                />\r\n                            </Box>\r\n\r\n                            <Grid container spacing={3}>\r\n                                <Grid item xs={12} sm={6}>\r\n                                    <Box sx={{ height: 250 }}>\r\n                                        <Typography variant=\"h6\" gutterBottom>\r\n                                            Applicants Per Job\r\n                                        </Typography>\r\n                                        <Bar\r\n                                            data={applicantsChartData}\r\n                                            options={{\r\n                                                responsive: true,\r\n                                                maintainAspectRatio: false,\r\n                                                plugins: {\r\n                                                    legend: {\r\n                                                        display: false,\r\n                                                    },\r\n                                                },\r\n                                            }}\r\n                                        />\r\n                                    </Box>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={6}>\r\n                                    <Box sx={{ height: 250 }}>\r\n                                        <Typography variant=\"h6\" gutterBottom>\r\n                                            Applicant Sources\r\n                                        </Typography>\r\n                                        <Doughnut\r\n                                            data={applicantSourcesChartData}\r\n                                            options={{\r\n                                                responsive: true,\r\n                                                maintainAspectRatio: false,\r\n                                            }}\r\n                                        />\r\n                                    </Box>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </TabPanel>\r\n\r\n                        <TabPanel value={tabValue} index={1}>\r\n                            <Typography variant=\"h6\" gutterBottom>\r\n                                Active Jobs\r\n                            </Typography>\r\n\r\n                            <TableContainer>\r\n                                <Table>\r\n                                    <TableHead>\r\n                                        <TableRow>\r\n                                            <TableCell>Job Title</TableCell>\r\n                                            <TableCell>Posted Date</TableCell>\r\n                                            <TableCell>Views</TableCell>\r\n                                            <TableCell>Applicants</TableCell>\r\n                                            <TableCell>Status</TableCell>\r\n                                            <TableCell>Actions</TableCell>\r\n                                        </TableRow>\r\n                                    </TableHead>\r\n                                    <TableBody>\r\n                                        {jobs.map((job) => (\r\n                                            <TableRow key={job.id}>\r\n                                                <TableCell>{job.title}</TableCell>\r\n                                                <TableCell>{new Date(job.created_at).toLocaleDateString('en-US')}</TableCell>\r\n                                                <TableCell>{job.views}</TableCell>\r\n                                                <TableCell>{job.applicants_count}</TableCell>\r\n                                                <TableCell>\r\n                                                    <Chip\r\n                                                        label={job.status === 'active' ? 'Active' : 'Closed'}\r\n                                                        color={job.status === 'active' ? 'success' : 'default'}\r\n                                                        size=\"small\"\r\n                                                    />\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <Button size=\"small\" color=\"primary\">\r\n                                                        View\r\n                                                    </Button>\r\n                                                </TableCell>\r\n                                            </TableRow>\r\n                                        ))}\r\n                                    </TableBody>\r\n                                </Table>\r\n                            </TableContainer>\r\n\r\n                            <Box sx={{ mt: 2, display: 'flex', justifyContent: 'center' }}>\r\n                                <Button\r\n                                    variant=\"outlined\"\r\n                                    color=\"primary\"\r\n                                    endIcon={<ArrowForwardIcon />}\r\n                                >\r\n                                    View All Jobs\r\n                                </Button>\r\n                            </Box>\r\n                        </TabPanel>\r\n\r\n                        <TabPanel value={tabValue} index={2}>\r\n                            <Typography variant=\"h6\" gutterBottom>\r\n                                Latest Applicants\r\n                            </Typography>\r\n\r\n                            <TableContainer>\r\n                                <Table>\r\n                                    <TableHead>\r\n                                        <TableRow>\r\n                                            <TableCell>Candidate</TableCell>\r\n                                            <TableCell>Job</TableCell>\r\n                                            <TableCell>Applied Date</TableCell>\r\n                                            <TableCell>Match Percentage</TableCell>\r\n                                            <TableCell>Status</TableCell>\r\n                                            <TableCell>Actions</TableCell>\r\n                                        </TableRow>\r\n                                    </TableHead>\r\n                                    <TableBody>\r\n                                        {recommendations.slice(0, 5).map((candidate) => (\r\n                                            <TableRow key={candidate.id}>\r\n                                                <TableCell>\r\n                                                    <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                                                        <Avatar src={candidate.photoUrl} sx={{ mr: 1, width: 32, height: 32 }} />\r\n                                                        {candidate.name}\r\n                                                    </Box>\r\n                                                </TableCell>\r\n                                                <TableCell>{candidate.job_title}</TableCell>\r\n                                                <TableCell>{new Date(candidate.applied_at).toLocaleDateString('en-US')}</TableCell>\r\n                                                <TableCell>\r\n                                                    <Chip\r\n                                                        label={candidate.match_percentage + '%'}\r\n                                                        color={\r\n                                                            candidate.match_percentage > 80 ? 'success' :\r\n                                                                candidate.match_percentage > 60 ? 'primary' : 'default'\r\n                                                        }\r\n                                                        size=\"small\"\r\n                                                    />\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <Chip\r\n                                                        label={\r\n                                                            candidate.status === 'new' ? 'New' :\r\n                                                                candidate.status === 'reviewed' ? 'Reviewed' :\r\n                                                                    candidate.status === 'interview' ? 'Interview' : 'Rejected'\r\n                                                        }\r\n                                                        color={\r\n                                                            candidate.status === 'new' ? 'info' :\r\n                                                                candidate.status === 'reviewed' ? 'primary' :\r\n                                                                    candidate.status === 'interview' ? 'success' : 'error'\r\n                                                        }\r\n                                                        size=\"small\"\r\n                                                    />\r\n                                                </TableCell>\r\n                                            <TableCell>\r\n                                            <Button size=\"small\" color=\"primary\">\r\n                                            View\r\n                                        </Button>\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            ))}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n\r\n                <Box sx={{ mt: 2, display: 'flex', justifyContent: 'center' }}>\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        color=\"primary\"\r\n                        endIcon={<ArrowForwardIcon />}\r\n                    >\r\n                        View All Applicants\r\n                    </Button>\r\n                </Box>\r\n            </TabPanel>\r\n        </Paper>\r\n    </Grid>\r\n\r\n    <Grid item xs={12} md={4}>\r\n        <Paper sx={{ mb: 3 }}>\r\n            <Box sx={{ p: 2, borderBottom: 1, borderColor: 'divider', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                <Typography variant=\"h6\">\r\n                    Recent Activities\r\n                </Typography>\r\n                <IconButton size=\"small\">\r\n                    <NotificationsIcon />\r\n                </IconButton>\r\n            </Box>\r\n\r\n            <List sx={{ maxHeight: 300, overflow: 'auto' }}>\r\n                {activities.length === 0 ? (\r\n                    <ListItem>\r\n                        <ListItemText\r\n                            primary=\"No recent activities\"\r\n                            secondary=\"Your activities will appear here as you interact with the application\"\r\n                        />\r\n                    </ListItem>\r\n                ) : (\r\n                    activities.map((activity, index) => (\r\n                        <ActivityItem key={index}>\r\n                            <ListItemIcon>\r\n                                {activity.type === 'view' && <VisibilityIcon color=\"primary\" />}\r\n                                {activity.type === 'application' && <PersonSearchIcon color=\"success\" />}\r\n                                {activity.type === 'job' && <WorkIcon color=\"warning\" />}\r\n                                {activity.type === 'message' && <MessageIcon color=\"info\" />}\r\n                            </ListItemIcon>\r\n                            <ListItemText\r\n                                primary={activity.title}\r\n                                secondary={activity.time}\r\n                            />\r\n                        </ActivityItem>\r\n                    ))\r\n                )}\r\n            </List>\r\n        </Paper>\r\n\r\n        <Paper>\r\n            <Box sx={{ p: 2, borderBottom: 1, borderColor: 'divider', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                <Typography variant=\"h6\">\r\n                    Recommended Candidates\r\n                </Typography>\r\n                <Button\r\n                    endIcon={<ArrowForwardIcon />}\r\n                    size=\"small\"\r\n                >\r\n                    View All\r\n                </Button>\r\n            </Box>\r\n\r\n            <List sx={{ maxHeight: 350, overflow: 'auto' }}>\r\n                {recommendations.length === 0 ? (\r\n                    <ListItem>\r\n                        <ListItemText\r\n                            primary=\"No recommendations currently\"\r\n                            secondary=\"Recommendations will appear here based on your posted jobs\"\r\n                        />\r\n                    </ListItem>\r\n                ) : (\r\n                    recommendations.map((candidate, index) => (\r\n                        <React.Fragment key={candidate.id}>\r\n                            <ListItem\r\n                                button\r\n                                sx={{ py: 2 }}\r\n                            >\r\n                                <Avatar\r\n                                    src={candidate.photoUrl}\r\n                                    sx={{ mr: 2 }}\r\n                                />\r\n                                <ListItemText\r\n                                    primary={candidate.name}\r\n                                    secondary={\r\n                                        <React.Fragment>\r\n                                            <Typography variant=\"body2\" component=\"span\">\r\n                                                {candidate.job_title}\r\n                                            </Typography>\r\n                                            <Box sx={{ display: 'flex', alignItems: 'center', mt: 0.5 }}>\r\n                                                <WorkIcon fontSize=\"small\" sx={{ mr: 0.5, fontSize: 16 }} />\r\n                                                <Typography variant=\"body2\" component=\"span\" color=\"textSecondary\">\r\n                                                    {candidate.experience} years of experience\r\n                                                </Typography>\r\n                                            </Box>\r\n                                        </React.Fragment>\r\n                                    }\r\n                                />\r\n                                <Box>\r\n                                    <Chip\r\n                                        label={candidate.match_percentage + '%'}\r\n                                        size=\"small\"\r\n                                        color={\r\n                                            candidate.match_percentage > 80 ? 'success' :\r\n                                                candidate.match_percentage > 60 ? 'primary' : 'default'\r\n                                        }\r\n                                    />\r\n                                </Box>\r\n                            </ListItem>\r\n                            {index < recommendations.length - 1 && <Divider />}\r\n                        </React.Fragment>\r\n                    ))\r\n                )}\r\n            </List>\r\n        </Paper>\r\n    </Grid>\r\n</Grid>\r\n\r\n{/* Tips and Improvements Section */}\r\n<Paper sx={{ p: 3, mt: 3 }}>\r\n    <Typography variant=\"h6\" gutterBottom>\r\n        Tips to Attract More Qualified Candidates\r\n    </Typography>\r\n\r\n    <Grid container spacing={2} sx={{ mt: 1 }}>\r\n        <Grid item xs={12} sm={4}>\r\n            <Card>\r\n                <CardContent>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                        <PlayCircleOutlineIcon color=\"primary\" sx={{ mr: 1 }} />\r\n                        <Typography variant=\"subtitle1\">\r\n                            Add a Video to Your Job Posting\r\n                        </Typography>\r\n                    </Box>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\">\r\n                        Jobs with videos receive 34% more applications than traditional text-based job posts.\r\n                    </Typography>\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        color=\"primary\"\r\n                        fullWidth\r\n                        sx={{ mt: 2 }}\r\n                    >\r\n                        Add Video\r\n                    </Button>\r\n                </CardContent>\r\n            </Card>\r\n        </Grid>\r\n\r\n        <Grid item xs={12} sm={4}>\r\n            <Card>\r\n                <CardContent>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                        <BusinessIcon color=\"primary\" sx={{ mr: 1 }} />\r\n                        <Typography variant=\"subtitle1\">\r\n                            Complete Your Company Profile\r\n                        </Typography>\r\n                    </Box>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\">\r\n                        Companies with complete profiles attract higher quality candidates and increase acceptance rates.\r\n                    </Typography>\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        color=\"primary\"\r\n                        fullWidth\r\n                        sx={{ mt: 2 }}\r\n                    >\r\n                        Update Profile\r\n                    </Button>\r\n                </CardContent>\r\n            </Card>\r\n        </Grid>\r\n\r\n        <Grid item xs={12} sm={4}>\r\n            <Card>\r\n                <CardContent>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                        <AssessmentIcon color=\"primary\" sx={{ mr: 1 }} />\r\n                        <Typography variant=\"subtitle1\">\r\n                            Analyze Job Performance\r\n                        </Typography>\r\n                    </Box>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\">\r\n                        Review your job performance analytics to improve visibility and application rates for future postings.\r\n                    </Typography>\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        color=\"primary\"\r\n                        fullWidth\r\n                        sx={{ mt: 2 }}\r\n                    >\r\n                        View Analytics\r\n                    </Button>\r\n                </CardContent>\r\n            </Card>\r\n        </Grid>\r\n    </Grid>\r\n</Paper>\r\n</DashboardContainer>\r\n);\r\n};\r\n\r\nexport default EmployerDashboard;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\EmployerExploreSidebar.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useEffect' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 35,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useEffect"
            },
            "fix": {
              "range": [
                32,
                43
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useEffect'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'drawerWidthDesktop' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 151,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 151,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "drawerWidthDesktop"
            },
            "fix": {
              "range": [
                4114,
                4144
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'drawerWidthDesktop'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'drawerWidthMobile' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 152,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 152,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "drawerWidthMobile"
            },
            "fix": {
              "range": [
                4148,
                4177
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'drawerWidthMobile'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'toggleDrawer' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 154,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 154,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "toggleDrawer"
            },
            "fix": {
              "range": [
                4183,
                4250
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'toggleDrawer'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'drawerContent' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 158,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 158,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "drawerContent"
            },
            "fix": {
              "range": [
                4256,
                6479
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'drawerContent'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useRef, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n  Box,\r\n  Drawer,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  Avatar,\r\n  Typography,\r\n  useTheme,\r\n  useMediaQuery\r\n} from \"@mui/material\";\r\nimport {\r\n  Home,\r\n  Search,\r\n  Group,\r\n  Bookmark,\r\n  Settings,\r\n  VideoLibrary,\r\n  Menu,\r\n  PlayArrow\r\n} from \"@mui/icons-material\";\r\n\r\n\r\n// --- Mock Data for Video Resumes (using Cloudinary URLs from previous example) ---\r\n\r\n const mockVideoResumes = [\r\n    {\r\n    id: '1', \r\n    title: \"Corporate Solutions Inc. - Company Overview\", \r\n    experience: \"Leading Consulting Firm since 2005\", \r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935032/Employer/grfwutcixeecejrsqu7o.mp4'\r\n  }\r\n];\r\n \r\n\r\n// --- Playable Video Preview Component ---\r\nconst PlayableVideoPreview = ({ title, experience, videoUrl, onClick }) => {\r\n  const theme = useTheme();\r\n  const videoRef = useRef(null);\r\n  const [isPlaying, setIsPlaying] = useState(false); // Initially paused\r\n\r\n  const handleMouseEnter = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.play().catch(e => console.error(\"Video autoplay on hover failed:\", e));\r\n      setIsPlaying(true);\r\n    }\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.pause();\r\n      setIsPlaying(false);\r\n      videoRef.current.currentTime = 0; // Reset video to start\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      onClick={onClick}\r\n      onMouseEnter={handleMouseEnter}\r\n      onMouseLeave={handleMouseLeave}\r\n      sx={{\r\n        position: \"relative\",\r\n        borderRadius: 2,\r\n        overflow: \"hidden\",\r\n         pt:2,\r\n        aspectRatio: \"9/16\", // Standard vertical video aspect ratio\r\n        bgcolor: theme.palette.action.hover,\r\n        cursor: \"pointer\",\r\n        transition: \"transform 0.2s\",\r\n        \"&:hover\": {\r\n          transform: \"scale(1.02)\",\r\n        }\r\n      }}\r\n    >\r\n      <video\r\n        ref={videoRef}\r\n        src={videoUrl}\r\n        loop // Loop the video preview\r\n        // muted //Mute by default for autoplay on hover\r\n        playsInline // Important for mobile browsers\r\n        preload=\"metadata\" // Load enough data to get duration/dimensions\r\n        style={{\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n          objectFit: \"cover\",\r\n          opacity: 0.9,\r\n          \r\n          display: 'block' // Remove extra space below video\r\n        }}\r\n      />\r\n\r\n      {/* Play Icon - Visible when not playing on hover */}\r\n      {!isPlaying && (\r\n        <Box\r\n          className=\"play-icon-overlay\"\r\n          sx={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -50%)\",\r\n            color: \"#fff\",\r\n            bgcolor: \"rgba(255, 64, 129, 0.7)\", // Pinkish red\r\n            borderRadius: \"50%\",\r\n            p: 2,\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            opacity: 1, // Always visible when paused\r\n            transition: \"opacity 0.3s\",\r\n          }}\r\n        >\r\n          <PlayArrow fontSize=\"large\" />\r\n        </Box>\r\n      )}\r\n\r\n\r\n      <Box\r\n        sx={{\r\n          position: \"absolute\",\r\n          bottom: 0,\r\n          left: 0,\r\n          right: 0,\r\n          p: 2,\r\n          background: \"linear-gradient(transparent, rgba(0,0,0,0.8))\",\r\n          color: '#fff' // Ensure text is white\r\n        }}\r\n      >\r\n        <Typography variant=\"subtitle2\" color=\"inherit\" fontWeight=\"bold\">\r\n          {title}\r\n        </Typography>\r\n        <Typography variant=\"caption\" color=\"rgba(255,255,255,0.8)\">\r\n          {experience} \r\n        </Typography>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\n// --- EmployerExplorePublic Component ---\r\nconst EmployerExplorePublic = () => {\r\n  const [activeTab, setActiveTab] = useState(\"candidates\");\r\n  const [mobileOpen, setMobileOpen] = useState(false);\r\n  const navigate = useNavigate();\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n\r\n  const drawerWidthDesktop = 80;\r\n  const drawerWidthMobile = 60;\r\n\r\n  const toggleDrawer = () => {\r\n    setMobileOpen(!mobileOpen);\r\n  };\r\n\r\n  const drawerContent = <Box sx={{\r\n  //backgroundclr\r\n        height: \"100vh\", display: \"flex\", flexDirection: \"column\", alignItems: \"center\", pt: 2, \"& .MuiListItem-root\": { color: \"rgb(39, 56, 83)\", \"&.Mui-selected\": { color: \"#ffffff\" } } }}>\r\n      <Avatar src=\"/employer-logo.png\" sx={{ width: isMobile ? 36 : 48, height: isMobile ? 36 : 48, mb: 3, border: `2px solid ${theme.palette.text.primary}` }} />\r\n\r\n      <List sx={{ width: \"100%\" }}>\r\n        {[{ icon: <Home fontSize={isMobile ? \"small\" : \"medium\"} />, value: \"home\" }, { icon: <Search fontSize={isMobile ? \"small\" : \"medium\"} />, value: \"search\" }, { icon: <Group fontSize={isMobile ? \"small\" : \"medium\"} />, value: \"candidates\" }, { icon: <Bookmark fontSize={isMobile ? \"small\" : \"medium\"} />, value: \"saved\" }, { icon: <VideoLibrary fontSize={isMobile ? \"small\" : \"medium\"} />, value: \"video-resumes\" }].map(\r\n          item =>\r\n            <ListItem\r\n              key={item.value}\r\n              component=\"div\"\r\n              selected={activeTab === item.value}\r\n              onClick={() => {\r\n                setActiveTab(item.value);\r\n                if (isMobile) setMobileOpen(false);\r\n                if (item.value === \"home\") navigate(\"/\");\r\n              }}\r\n              sx={{\r\n                justifyContent: \"center\",\r\n                py: 0,\r\n                cursor: \"pointer\",\r\n                \"&.Mui-selected\": {\r\n                  borderLeft: `3px solid ${theme.palette.primary.main}`\r\n                }\r\n              }}\r\n            >\r\n              <ListItemIcon\r\n                sx={{\r\n                  minWidth: \"auto\",\r\n                  color:\r\n                    activeTab === item.value\r\n                      ? theme.palette.primary.main\r\n                      : theme.palette.text.primary\r\n                }}\r\n              >\r\n                {item.icon}\r\n              </ListItemIcon>\r\n            </ListItem>\r\n        )}\r\n      </List>\r\n\r\n      <Box sx={{ mt: \"auto\", pb: 2, display: \"flex\", justifyContent: \"center\" }}>\r\n        <IconButton sx={{ color: theme.palette.text.white, p: isMobile ? 0.5 : 1 }}>\r\n          <Settings fontSize={isMobile ? \"small\" : \"medium\"} />\r\n        </IconButton>\r\n      </Box>\r\n    </Box>;\r\n\r\n  return (\r\n    <Box sx={{ display: \"flex\" }}>\r\n      {/* Mobile Menu Icon */}\r\n      {/* {isMobile && (\r\n        <IconButton\r\n          color=\"#ffffff\"\r\n          aria-label=\"open drawer\"\r\n          onClick={toggleDrawer}\r\n          sx={{\r\n            position: \"fixed\",\r\n            top: 16,\r\n            left: 16,\r\n            zIndex: theme.zIndex.drawer + 1,\r\n            color: \"#ffffff\",\r\n          }}\r\n        >\r\n          <Menu />\r\n        </IconButton>\r\n      )}\r\n\r\n       Responsive Drawer \r\n      <Drawer\r\n        variant={isMobile ? \"temporary\" : \"permanent\"}\r\n        open={isMobile ? mobileOpen : true}\r\n        onClose={toggleDrawer}\r\n        ModalProps={{ keepMounted: true }}\r\n        sx={{\r\n          width: isMobile ? drawerWidthMobile : drawerWidthDesktop,\r\n          flexShrink: 0,\r\n          \"& .MuiDrawer-paper\": {\r\n            width: isMobile ? drawerWidthMobile : drawerWidthDesktop,\r\n            boxSizing: \"border-box\",\r\n            borderRight: \"none\",\r\n            bgcolor: theme.palette.background.paper,\r\n            display: \"flex\",\r\n            flexDirection: \"column\"\r\n          }\r\n        }}\r\n      >\r\n        {drawerContent}\r\n      </Drawer> */}\r\n\r\n      {/* Main Content */}\r\n      <Box\r\n        component=\"main\"\r\n        sx={{\r\n          flexGrow: 1,\r\n          p: 2,\r\n          mt: 0,\r\n          pl:5,\r\n          height: \"100vh\",\r\n           bgcolor: 'background.jobseeker',\r\n          overflowY: \"auto\"\r\n        }}\r\n      >\r\n        <Box\r\n          sx={{\r\n            display: \"grid\",\r\n            gridTemplateColumns: \"repeat(auto-fill, minmax(300px, 1fr))\",\r\n            gap: 2\r\n          }}\r\n        >\r\n          {mockVideoResumes.map(video => (\r\n            <PlayableVideoPreview\r\n              key={video.id}\r\n              title={video.title}\r\n              experience={video.experience}\r\n              videoUrl={video.videoUrl} // Pass the video URL\r\n              onClick={() => navigate(`/video-feed/${video.id}`)} // Navigate to feed on click\r\n            />\r\n          ))}\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default EmployerExplorePublic;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\EmployerProfile.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getJobVideos' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 48,
        "column": 63,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 48,
        "endColumn": 75,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "getJobVideos"
            },
            "fix": {
              "range": [
                1033,
                1046
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'getJobVideos'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 162,
        "column": 45,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 162,
        "endColumn": 50,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                3813,
                3822
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 168,
        "column": 47,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 168,
        "endColumn": 52,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                3968,
                3977
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'loading' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 197,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 197,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "loading"
            },
            "fix": {
              "range": [
                4818,
                4825
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'loading'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'videosResponse' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 211,
        "column": 15,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 211,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "videosResponse"
            },
            "fix": {
              "range": [
                5215,
                5261
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'videosResponse'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Grid,\r\n  Typography,\r\n  Avatar,\r\n  Button,\r\n  Chip,\r\n  Tabs,\r\n  Tab,\r\n  Card,\r\n  CardContent,\r\n  CardMedia,\r\n  IconButton,\r\n  Divider,\r\n  Paper,\r\n  styled,\r\n  useTheme,\r\n  useMediaQuery,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon\r\n} from '@mui/material';\r\nimport {\r\n  Edit as EditIcon,\r\n  PlayArrow as PlayArrowIcon,\r\n  Pause as PauseIcon,\r\n  Favorite as FavoriteIcon,\r\n  Share as ShareIcon,\r\n  Bookmark as BookmarkIcon,\r\n  Work as WorkIcon,\r\n  Business as BusinessIcon,\r\n  LocationOn as LocationIcon,\r\n  Email as EmailIcon,\r\n  Phone as PhoneIcon,\r\n  Language as LanguageIcon,\r\n  LinkedIn as LinkedInIcon,\r\n  Facebook as FacebookIcon,\r\n  Twitter as TwitterIcon,\r\n  People as PeopleIcon,\r\n  Description as DescriptionIcon,\r\n  VolumeOff as VolumeOffIcon,\r\n  VolumeUp as VolumeOnIcon\r\n} from '@mui/icons-material';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { getEmployerProfile, getVideoResume, getEmployerJobs ,getJobVideos} from '@/services/api';\r\n\r\n// Styled components\r\nconst ProfileContainer = styled(Box)(({ theme }) => ({\r\n  backgroundColor: theme.palette.background.default,\r\n  minHeight: '100vh',\r\n  paddingTop: theme.spacing(2),\r\n  paddingBottom: theme.spacing(4)\r\n}));\r\n\r\nconst ProfileHeader = styled(Box)(({ theme }) => ({\r\n  position: 'relative',\r\n  marginBottom: theme.spacing(3),\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  [theme.breakpoints.up('md')]: {\r\n    flexDirection: 'row',\r\n  }\r\n}));\r\n\r\nconst ProfileInfo = styled(Box)(({ theme }) => ({\r\n  flex: 1,\r\n  padding: theme.spacing(2),\r\n  [theme.breakpoints.up('md')]: {\r\n    paddingRight: theme.spacing(4),\r\n  }\r\n}));\r\n\r\nconst MainVideoContainer = styled(Box)(({ theme }) => ({\r\n  width: '100%',\r\n  height: 250,\r\n  borderRadius: theme.spacing(1),\r\n  overflow: 'hidden',\r\n  position: 'relative',\r\n  marginBottom: theme.spacing(2),\r\n  backgroundColor: '#000',\r\n  [theme.breakpoints.up('md')]: {\r\n    width: 300,\r\n    height: 400,\r\n    marginBottom: 0,\r\n  }\r\n}));\r\n\r\nconst VideoControls = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  bottom: 0,\r\n  left: 0,\r\n  right: 0,\r\n  padding: theme.spacing(1),\r\n  backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'space-between',\r\n}));\r\n\r\nconst VideoActions = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  right: theme.spacing(1),\r\n  top: '50%',\r\n  transform: 'translateY(-50%)',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  alignItems: 'center',\r\n  gap: theme.spacing(2),\r\n}));\r\n\r\nconst CompanyLogo = styled(Avatar)(({ theme }) => ({\r\n  width: 100,\r\n  height: 100,\r\n  border: `4px solid ${theme.palette.primary.main}`,\r\n  marginRight: theme.spacing(2),\r\n}));\r\n\r\nconst CategoryChip = styled(Chip)(({ theme }) => ({\r\n  margin: theme.spacing(0.5),\r\n  backgroundColor: theme.palette.secondary.light,\r\n  color: theme.palette.secondary.contrastText,\r\n  '&:hover': {\r\n    backgroundColor: theme.palette.secondary.main,\r\n  }\r\n}));\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`profile-tabpanel-${index}`}\r\n      aria-labelledby={`profile-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>\r\n          {children}\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst VideoCard = styled(Card)(({ theme }) => ({\r\n  height: '100%',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  borderRadius: theme.spacing(1),\r\n  overflow: 'hidden',\r\n  transition: 'transform 0.3s ease',\r\n  '&:hover': {\r\n    transform: 'translateY(-50%, -50%)',\r\n    boxShadow: theme.shadows[10],\r\n  }\r\n}));\r\n\r\nconst VideoCardMedia = styled(CardMedia)(({ theme }) => ({\r\n  height: 0,\r\n  paddingTop: '56.25%', // 16:9 aspect ratio\r\n  position: 'relative',\r\n}));\r\n\r\nconst VideoPlayButton = styled(IconButton)(({ theme }) => ({\r\n  position: 'absolute',\r\n  top: '50%',\r\n  left: '50%',\r\n  transform: 'translate(-50%, -50%)',\r\n  backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n  color: '#fff',\r\n  '&:hover': {\r\n    backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n  }\r\n}));\r\n\r\nconst JobCard = styled(Card)(({ theme }) => ({\r\n  marginBottom: theme.spacing(2),\r\n  borderLeft: `4px solid ${theme.palette.primary.main}`,\r\n}));\r\n\r\nconst EmployerProfile = () => {\r\n  const theme = useTheme();\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\r\n  \r\n  // State\r\n  const [tabValue, setTabValue] = useState(0);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [profile, setProfile] = useState(null);\r\n  const [videos, setVideos] = useState([]);\r\n  const [jobs, setJobs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [mutedVideos, setMutedVideos] = useState({});\r\n  \r\n  // Refs\r\n  const videoRefs = React.useRef({});\r\n  \r\n  // Fetch employer data\r\n  useEffect(() => {\r\n    const fetchEmployerData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        // Fetch profile data\r\n        const profileResponse = await getEmployerProfile(id);\r\n        const videosResponse = await getVideoResume();\r\n        const employerJobsResponse = await getEmployerJobs();\r\n        const employerData = profileResponse?.data?.company || {};\r\n        console.log('Employer profile data:::::::', employerData);\r\n        \r\n        // Extract user info for email, phone, etc.\r\n        // const userData = employerData.user || {};\r\n        \r\n        // Format categories\r\n        const categories = employerData.category ? [employerData.category.name] : [];\r\n        \r\n        // Find main video\r\n        const mainVideo = employerData.videos?.find(v => v.video_position === 'main')?.video_url || null;\r\n        \r\n        // Build final profile object using entity field names\r\n        const formattedProfile = {\r\n          id: employerData.id,\r\n          name: employerData.name,\r\n          userId: employerData.userId,\r\n          description: employerData.description,\r\n          website: employerData.website,\r\n          location: employerData.location,\r\n          industry: employerData.industry,\r\n          address: employerData.address,\r\n          logo: employerData.logo,\r\n          size: employerData.size,\r\n          verified: employerData.verified,\r\n          establish_year: employerData.establish_year,\r\n          created_at: employerData.created_at,\r\n          email: employerData.email || '',\r\n          phone: employerData.phone || '',\r\n          mainVideo,\r\n          categories\r\n        };\r\n        \r\n        setProfile(formattedProfile);\r\n         \r\n        // Set videos and jobs\r\n        setVideos(employerData.videos || []);\r\n        setJobs(employerJobsResponse || []);\r\n        \r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error('Error fetching employer data:', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchEmployerData();\r\n  }, [id]);\r\n  \r\n  // Handle tab change\r\n  const handleTabChange = (event, newValue) => {\r\n    setTabValue(newValue);\r\n  };\r\n  \r\n  // Toggle video playback for specific video\r\n  const togglePlayback = (videoId) => {\r\n    if (videoRefs.current[videoId]) {\r\n      const videoElement = videoRefs.current[videoId];\r\n      \r\n      if (videoElement.paused) {\r\n        videoElement.play();\r\n      } else {\r\n        videoElement.pause();\r\n      }\r\n      \r\n      // Update playing state for this specific video\r\n      setIsPlaying(prevState => ({\r\n        ...prevState,\r\n        [videoId]: !prevState[videoId]\r\n      }));\r\n    }\r\n  };\r\n  \r\n  // Handle mute/unmute for specific video\r\n  const toggleMute = (videoId) => {\r\n    if (videoRefs.current[videoId]) {\r\n      const videoElement = videoRefs.current[videoId];\r\n      videoElement.muted = !videoElement.muted;\r\n      \r\n      setMutedVideos(prevState => ({\r\n        ...prevState,\r\n        [videoId]: videoElement.muted\r\n      }));\r\n    }\r\n  };\r\n  \r\n  // Navigate to edit profile\r\n  const handleEditProfile = () => {\r\n    navigate(`/employer/edit/${id}`);\r\n  };\r\n  \r\n  // Navigate to post job\r\n  const handlePostJob = () => {\r\n    navigate('/employer/post-job');\r\n  };\r\n  \r\n  // Navigate to edit video page\r\n  const handleEditVideo = (videoId) => {\r\n    navigate(`/employer/videos/edit/${videoId}`);\r\n  };\r\n\r\n  // Mock data for demonstration\r\n  const mockProfile = {\r\n    id: '1',\r\n    name: 'Tech Innovations Inc.',\r\n    industry: 'Information Technology',\r\n    size: '50-200 employees',\r\n    establish_year: 2010,\r\n    location: 'San Francisco, CA',\r\n    description: 'Tech Innovations Inc. is a leading technology company specializing in innovative software solutions for businesses. We develop cutting-edge applications that help companies streamline their operations and improve efficiency.',\r\n    email: 'careers@techinnovations.com',\r\n    phone: '+1 (415) 555-1234',\r\n    website: 'www.techinnovations.com',\r\n    logo: 'https://via.placeholder.com/100', \r\n    mainVideo: 'https://www.w3schools.com/html/mov_bbb.mp4', \r\n    categories: ['Software Development', 'Cloud Computing', 'AI & Machine Learning'],\r\n    social: {\r\n      linkedin: 'linkedin.com/company/techinnovations',\r\n      facebook: 'facebook.com/techinnovations',\r\n      twitter: 'twitter.com/techinnovations'\r\n    }\r\n  };\r\n  \r\n  const mockVideos = [\r\n    {\r\n      id: '1',\r\n      title: 'Company Introduction',\r\n      thumbnail: 'https://i.ytimg.com/vi/dQw4w9WgXcQ/maxresdefault.jpg', \r\n      url: 'https://www.w3schools.com/html/mov_bbb.mp4', \r\n      duration: 120,\r\n      type: 'intro',\r\n      views: 1250\r\n    },\r\n    {\r\n      id: '2',\r\n      title: 'Our Work Culture',\r\n      thumbnail: 'https://i.ytimg.com/vi/LDZX4ooRsWs/maxresdefault.jpg', \r\n      url: 'https://www.w3schools.com/html/mov_bbb.mp4', \r\n      duration: 90,\r\n      type: 'culture',\r\n      views: 850\r\n    },\r\n    {\r\n      id: '3',\r\n      title: 'Office Tour',\r\n      thumbnail: 'https://i.ytimg.com/vi/kJQP7kiw5Fk/maxresdefault.jpg', \r\n      url: 'https://www.w3schools.com/html/mov_bbb.mp4', \r\n      duration: 180,\r\n      type: 'tour',\r\n      views: 670\r\n    },\r\n    {\r\n      id: '4',\r\n      title: 'Employee Testimonials',\r\n      thumbnail: 'https://i.ytimg.com/vi/JGwWNGJdvx8/maxresdefault.jpg', \r\n      url: 'https://www.w3schools.com/html/mov_bbb.mp4', \r\n      duration: 150,\r\n      type: 'testimonial',\r\n      views: 920\r\n    }\r\n  ];\r\n  \r\n  const mockJobs = [\r\n    {\r\n      id: '1',\r\n      title: 'Senior Frontend Developer',\r\n      location: 'San Francisco, CA',\r\n      type: 'Full-time',\r\n      salary: '$120,000 - $150,000',\r\n      posted: '2023-05-15',\r\n      applicants: 24,\r\n      description: 'We are looking for a Senior Frontend Developer to join our team. The ideal candidate will have experience with React, TypeScript, and modern frontend development practices.',\r\n      requirements: [\r\n        'At least 5 years of experience in frontend development',\r\n        'Strong knowledge of React and TypeScript',\r\n        'Experience with state management libraries like Redux',\r\n        'Understanding of responsive design and cross-browser compatibility'\r\n      ]\r\n    },\r\n    {\r\n      id: '2',\r\n      title: 'Backend Engineer',\r\n      location: 'Remote',\r\n      type: 'Full-time',\r\n      salary: '$110,000 - $140,000',\r\n      posted: '2023-05-10',\r\n      applicants: 18,\r\n      description: 'We are seeking a Backend Engineer to develop and maintain our server-side applications. The ideal candidate will have experience with Node.js, Express, and database design.',\r\n      requirements: [\r\n        'At least 3 years of experience in backend development',\r\n        'Strong knowledge of Node.js and Express',\r\n        'Experience with SQL and NoSQL databases',\r\n        'Understanding of RESTful API design principles'\r\n      ]\r\n    },\r\n    {\r\n      id: '3',\r\n      title: 'UX/UI Designer',\r\n      location: 'San Francisco, CA',\r\n      type: 'Full-time',\r\n      salary: '$100,000 - $130,000',\r\n      posted: '2023-05-05',\r\n      applicants: 32,\r\n      description: 'We are looking for a UX/UI Designer to create engaging and intuitive user experiences for our products. The ideal candidate will have a strong portfolio demonstrating their design skills.',\r\n      requirements: [\r\n        'At least 3 years of experience in UX/UI design',\r\n        'Proficiency in design tools like Figma or Adobe XD',\r\n        'Experience with user research and usability testing',\r\n        'Understanding of design systems and component libraries'\r\n      ]\r\n    }\r\n  ];\r\n  \r\n  // Use mock data if real data is not available\r\n  const employerData = profile || mockProfile;\r\n  const employerVideos = videos.length > 0 ? videos : mockVideos;\r\n  const employerJobs = jobs.length > 0 ? jobs : mockJobs;\r\n  \r\n  // Format date (YYYY-MM-DD to readable format)\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return '';\r\n    const date = new Date(dateString);\r\n    const options = { year: 'numeric', month: 'long', day: 'numeric' };\r\n    return date.toLocaleDateString('en-US', options);\r\n  };\r\n  \r\n  // Format duration (seconds to MM:SS)\r\n  const formatDuration = (seconds) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n  \r\n  return (\r\n    <ProfileContainer>\r\n      <Container maxWidth=\"lg\" sx={{mt:isMobile?'6px':0}}>\r\n        {/* Profile Header */}\r\n        <ProfileHeader>\r\n          <ProfileInfo>\r\n            <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n              <CompanyLogo src={employerData.logo} alt={employerData.name} />\r\n              <Box>\r\n                <Typography variant=\"h4\" component=\"h1\" gutterBottom>\r\n                  {employerData.name}\r\n                </Typography>\r\n                <Typography variant=\"h6\" color=\"textSecondary\">\r\n                  {employerData.industry}\r\n                </Typography>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', mt: 0.5 }}>\r\n                  <LocationIcon fontSize=\"small\" color=\"action\" />\r\n                  <Typography variant=\"body2\" color=\"textSecondary\" sx={{ ml: 0.5 }}>\r\n                    {employerData.location}\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n            </Box>\r\n            <Box sx={{ display: 'flex', gap: 2, mb: 2 }}>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                startIcon={<EditIcon />}\r\n                onClick={handleEditProfile}\r\n              >\r\n                Edit Profile\r\n              </Button>\r\n              <Button\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                startIcon={<WorkIcon />}\r\n                onClick={handlePostJob}\r\n              >\r\n                Post Job\r\n              </Button>\r\n            </Box>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {employerData.description}\r\n            </Typography>\r\n            <Box sx={{ mb: 2 }}>\r\n              <Typography variant=\"subtitle1\" gutterBottom fontWeight=\"bold\">\r\n                Categories\r\n              </Typography>\r\n              <Box sx={{ display: 'flex', flexWrap: 'wrap' }}>\r\n                {employerData.categories.map((category, index) => (\r\n                  <CategoryChip key={index} label={category} />\r\n                ))}\r\n              </Box>\r\n            </Box>\r\n            <Grid container spacing={2} sx={{ mb: 2 }}>\r\n              <Grid item xs={12} sm={6} md={4}>\r\n                <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                  <BusinessIcon fontSize=\"small\" color=\"action\" sx={{ mr: 1 }} />\r\n                  <Typography variant=\"body2\">\r\n                    Founded: {employerData.establish_year}\r\n                  </Typography>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={12} sm={6} md={4}>\r\n                <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                  <PeopleIcon fontSize=\"small\" color=\"action\" sx={{ mr: 1 }} />\r\n                  <Typography variant=\"body2\">\r\n                    Size: {employerData.size}\r\n                  </Typography>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={12} sm={6} md={4}>\r\n                <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                  <DescriptionIcon fontSize=\"small\" color=\"action\" sx={{ mr: 1 }} />\r\n                  <Typography variant=\"body2\">\r\n                    {employerJobs.length} Active Jobs\r\n                  </Typography>\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n            <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2 }}>\r\n              <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                <EmailIcon fontSize=\"small\" color=\"action\" />\r\n                <Typography variant=\"body2\" sx={{ ml: 0.5 }}>\r\n                  {employerData.email}\r\n                </Typography>\r\n              </Box>\r\n              <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                <PhoneIcon fontSize=\"small\" color=\"action\" />\r\n                <Typography variant=\"body2\" sx={{ ml: 0.5 }}>\r\n                  {employerData.phone}\r\n                </Typography>\r\n              </Box>\r\n              <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                <LanguageIcon fontSize=\"small\" color=\"action\" />\r\n                <Typography variant=\"body2\" sx={{ ml: 0.5 }}>\r\n                  {employerData.website}\r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n            <Box sx={{ display: 'flex', mt: 2, gap: 1 }}>\r\n              <IconButton color=\"primary\" aria-label=\"LinkedIn\">\r\n                <LinkedInIcon />\r\n              </IconButton>\r\n              <IconButton color=\"primary\" aria-label=\"Facebook\">\r\n                <FacebookIcon />\r\n              </IconButton>\r\n              <IconButton color=\"primary\" aria-label=\"Twitter\">\r\n                <TwitterIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </ProfileInfo>\r\n          \r\n          {/* Main Video */}\r\n          <MainVideoContainer>\r\n            <video\r\n              ref={(el) => videoRefs.current['main'] = el}\r\n              src={employerData.mainVideo}\r\n              width=\"100%\"\r\n              height=\"100%\"\r\n              poster={employerVideos[0]?.thumbnail}\r\n              style={{ objectFit: 'cover' }}\r\n            />\r\n            <VideoControls>\r\n              <IconButton \r\n                size=\"small\" \r\n                color=\"inherit\" \r\n                onClick={() => togglePlayback('main')}\r\n              >\r\n                {(isPlaying['main'] ? <PauseIcon /> : <PlayArrowIcon />)}\r\n              </IconButton>\r\n              <Typography variant=\"caption\" color=\"inherit\">\r\n                Company Introduction\r\n              </Typography>\r\n            </VideoControls>\r\n            <VideoActions>\r\n              <IconButton \r\n                color=\"inherit\"\r\n                onClick={() => toggleMute('main')}\r\n              >\r\n                {mutedVideos['main'] ? <VolumeOffIcon /> : <VolumeOnIcon />}\r\n              </IconButton>\r\n              <IconButton color=\"inherit\">\r\n                <FavoriteIcon />\r\n              </IconButton>\r\n              <IconButton color=\"inherit\">\r\n                <ShareIcon />\r\n              </IconButton>\r\n              <IconButton color=\"inherit\">\r\n                <BookmarkIcon />\r\n              </IconButton>\r\n            </VideoActions>\r\n          </MainVideoContainer>\r\n        </ProfileHeader>\r\n        \r\n        {/* Tabs Section */}\r\n        <Paper sx={{ mb: 3 }}>\r\n          <Tabs\r\n            value={tabValue}\r\n            onChange={handleTabChange}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            variant={isMobile ? \"scrollable\" : \"fullWidth\"}\r\n            scrollButtons={isMobile ? \"auto\" : false}\r\n            centered={!isMobile}\r\n          >\r\n            <Tab label=\"About\" />\r\n            <Tab label=\"Jobs\" />\r\n            <Tab label=\"Videos\" />\r\n            <Tab label=\"Contact\" />\r\n          </Tabs>\r\n          \r\n          {/* About Tab */}\r\n          <TabPanel value={tabValue} index={0}>\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} md={6}>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Company Overview\r\n                </Typography>\r\n                <Typography variant=\"body1\" paragraph>\r\n                  {employerData.description}\r\n                </Typography>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Industry\r\n                </Typography>\r\n                <Typography variant=\"body1\" paragraph>\r\n                  {employerData.industry}\r\n                </Typography>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Company Size\r\n                </Typography>\r\n                <Typography variant=\"body1\" paragraph>\r\n                  {employerData.size}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Founded\r\n                </Typography>\r\n                <Typography variant=\"body1\" paragraph>\r\n                  {employerData.establish_year}\r\n                </Typography>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Headquarters\r\n                </Typography>\r\n                <Typography variant=\"body1\" paragraph>\r\n                  {employerData.location}\r\n                </Typography>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Categories\r\n                </Typography>\r\n                <Box sx={{ display: 'flex', flexWrap: 'wrap' }}>\r\n                  {employerData.categories.map((category, index) => (\r\n                    <CategoryChip key={index} label={category} />\r\n                  ))}\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </TabPanel>\r\n          \r\n          {/* Jobs Tab */}\r\n          <TabPanel value={tabValue} index={1}>\r\n            <Box sx={{ mb: 3, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n              <Typography variant=\"h6\">\r\n                Open Positions\r\n              </Typography>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                startIcon={<WorkIcon />}\r\n                onClick={handlePostJob}\r\n              >\r\n                Post New Job\r\n              </Button>\r\n            </Box>\r\n            {employerJobs.map((job) => (\r\n              <JobCard key={job.id}>\r\n                <CardContent>\r\n                  <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\r\n                    <Box>\r\n                      <Typography variant=\"h6\" component=\"h3\">\r\n                        {job.title}\r\n                      </Typography>\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', mt: 0.5 }}>\r\n                        <LocationIcon fontSize=\"small\" color=\"action\" />\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" sx={{ ml: 0.5 }}>\r\n                          {job.location}\r\n                        </Typography>\r\n                      </Box>\r\n                    </Box>\r\n                    <Box>\r\n                      <Typography variant=\"body2\" color=\"textSecondary\">\r\n                        Posted: {formatDate(job.posted)}\r\n                      </Typography>\r\n                      <Typography variant=\"body2\" color=\"textSecondary\">\r\n                        {job.applicants} Applicants\r\n                      </Typography>\r\n                    </Box>\r\n                  </Box>\r\n                  <Box sx={{ mt: 2, display: 'flex', gap: 2, flexWrap: 'wrap' }}>\r\n                    <Chip label={job.type} size=\"small\" color=\"primary\" variant=\"outlined\" />\r\n                    <Chip label={job.salary} size=\"small\" color=\"secondary\" variant=\"outlined\" />\r\n                  </Box>\r\n                  <Typography variant=\"body1\" sx={{ mt: 2 }}>\r\n                    {job.description}\r\n                  </Typography>\r\n                  <Typography variant=\"subtitle1\" sx={{ mt: 2 }}>\r\n                    Requirements:\r\n                  </Typography>\r\n                  <List dense>\r\n                    {job.requirements.map((req, index) => (\r\n                      <ListItem key={index}>\r\n                        <ListItemText primary={req} />\r\n                      </ListItem>\r\n                    ))}\r\n                  </List>\r\n                  <Box sx={{ mt: 2, display: 'flex', justifyContent: 'flex-end' }}>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      onClick={() => navigate(`/jobs/${job.id}`)}\r\n                    >\r\n                      View Details\r\n                    </Button>\r\n                  </Box>\r\n                </CardContent>\r\n              </JobCard>\r\n            ))}\r\n          </TabPanel>\r\n          \r\n          {/* Videos Tab */}\r\n          <TabPanel value={tabValue} index={2}>\r\n            <Grid container spacing={3}>\r\n              {employerVideos.map((video) => (\r\n                <Grid item xs={12} sm={6} md={4} key={video.id}>\r\n                  <VideoCard>\r\n                    <VideoCardMedia\r\n                      image={video.thumbnail}\r\n                      title={video.title}\r\n                    >\r\n                      <VideoPlayButton \r\n                        aria-label=\"play\"\r\n                        onClick={() => togglePlayback(video.id)}\r\n                      >\r\n                        {isPlaying[video.id] ? <PauseIcon /> : <PlayArrowIcon />}\r\n                      </VideoPlayButton>\r\n                      \r\n                      <IconButton\r\n                        style={{\r\n                          position: 'absolute',\r\n                          top: '50%',\r\n                          right: '10px',\r\n                          transform: 'translateY(-50%)',\r\n                          backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n                          color: '#fff'\r\n                        }}\r\n                        onClick={() => handleEditVideo(video.id)}\r\n                      >\r\n                        <EditIcon />\r\n                      </IconButton>\r\n                      \r\n                      <IconButton\r\n                        style={{\r\n                          position: 'absolute',\r\n                          bottom: '5px',\r\n                          right: '10px',\r\n                          backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n                          color: '#fff'\r\n                        }}\r\n                        onClick={() => toggleMute(video.id)}\r\n                      >\r\n                        {mutedVideos[video.id] ? <VolumeOffIcon /> : <VolumeOnIcon />}\r\n                      </IconButton>\r\n                    </VideoCardMedia>\r\n                    \r\n                    <video\r\n                      ref={(el) => videoRefs.current[video.id] = el}\r\n                      src={video.url}\r\n                      style={{ display: 'none' }}\r\n                      muted={mutedVideos[video.id]}\r\n                    />\r\n                    \r\n                    <CardContent>\r\n                      <Typography variant=\"subtitle1\" component=\"h3\" gutterBottom>\r\n                        {video.title}\r\n                      </Typography>\r\n                      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                        <Typography variant=\"caption\" color=\"textSecondary\">\r\n                          {formatDuration(video.duration)}\r\n                        </Typography>\r\n                        <Typography variant=\"caption\" color=\"textSecondary\">\r\n                          {video.views} views\r\n                        </Typography>\r\n                      </Box>\r\n                    </CardContent>\r\n                  </VideoCard>\r\n                </Grid>\r\n              ))}\r\n            </Grid>\r\n          </TabPanel>\r\n          \r\n          {/* Contact Tab */}\r\n          <TabPanel value={tabValue} index={3}>\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} md={6}>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Contact Information\r\n                </Typography>\r\n                <List>\r\n                  <ListItem>\r\n                    <ListItemIcon>\r\n                      <EmailIcon />\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"Email\" secondary={employerData.email} />\r\n                  </ListItem>\r\n                  <ListItem>\r\n                    <ListItemIcon>\r\n                      <PhoneIcon />\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"Phone\" secondary={employerData.phone} />\r\n                  </ListItem>\r\n                  <ListItem>\r\n                    <ListItemIcon>\r\n                      <LanguageIcon />\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"Website\" secondary={employerData.website} />\r\n                  </ListItem>\r\n                  <ListItem>\r\n                    <ListItemIcon>\r\n                      <LocationIcon />\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"Location\" secondary={employerData.location} />\r\n                  </ListItem>\r\n                </List>\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Social Media\r\n                </Typography>\r\n                <List>\r\n                  <ListItem button component=\"a\" href={employerData.social?.linkedin} target=\"_blank\">\r\n                    <ListItemIcon>\r\n                      <LinkedInIcon />\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"LinkedIn\" secondary={employerData.social?.linkedin} />\r\n                  </ListItem>\r\n                  <ListItem button component=\"a\" href={employerData.social?.facebook} target=\"_blank\">\r\n                    <ListItemIcon>\r\n                      <FacebookIcon />\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"Facebook\" secondary={employerData.social?.facebook} />\r\n                  </ListItem>\r\n                  <ListItem button component=\"a\" href={employerData.social?.twitter} target=\"_blank\">\r\n                    <ListItemIcon>\r\n                      <TwitterIcon />\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"Twitter\" secondary={employerData.social?.twitter} />\r\n                  </ListItem>\r\n                </List>\r\n              </Grid>\r\n            </Grid>\r\n          </TabPanel>\r\n        </Paper>\r\n      </Container>\r\n    </ProfileContainer>\r\n  );\r\n};\r\n\r\nexport default EmployerProfile;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\EmployerProfilePage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useRef' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 38,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useRef"
            },
            "fix": {
              "range": [
                35,
                43
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useRef'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchProfile'. Either include it or remove the dependency array.",
        "line": 44,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 44,
        "endColumn": 8,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchProfile]",
            "fix": {
              "range": [
                1399,
                1401
              ],
              "text": "[fetchProfile]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getEmployerProfile, getEmployerJobs } from '@/services/api';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/UI/card.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport localize from '@/utils/localize';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/UI/avatar.jsx';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/UI/tabs.jsx';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport {\r\n  Building2,\r\n  MapPin,\r\n  Mail,\r\n  Phone,\r\n  Globe,\r\n  Linkedin,\r\n  Facebook,\r\n  Twitter,\r\n  Users,\r\n  Briefcase,\r\n  Calendar,\r\n  Edit,\r\n  PlayCircle,\r\n  Share2,\r\n  Loader2,\r\n  ExternalLink\r\n} from 'lucide-react';\r\nimport themeColors from '@/config/theme-colors';\r\n\r\nconst VITE_API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:5000';\r\n\r\nexport default function EmployerProfilePage() {\r\n  const navigate = useNavigate();\r\n  const { toast } = useToast();\r\n  const [profile, setProfile] = useState(null);\r\n  const [jobs, setJobs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n\r\n  useEffect(() => {\r\n    fetchProfile();\r\n    fetchJobs();\r\n  }, []);\r\n\r\n  const fetchProfile = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await getEmployerProfile();\r\n      setProfile(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching profile:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to load profile\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchJobs = async () => {\r\n    try {\r\n      const response = await getEmployerJobs();\r\n      setJobs(response.data.jobs || []);\r\n    } catch (error) {\r\n      console.error('Error fetching jobs:', error);\r\n    }\r\n  };\r\n\r\n  const handleEditProfile = () => {\r\n    navigate('/employer-tabs?group=companyContent&tab=company-profile&edit=true');\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-screen\">\r\n        <Loader2 className={`h-12 w-12 animate-spin ${themeColors.iconBackgrounds.primary.split(' ')[1]}`} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-6 px-4 max-w-7xl\">\r\n      {/* Header Section */}\r\n      <div className=\"mb-8\">\r\n        <Card className=\"border-l-4 border-l-purple-500\">\r\n          <CardContent className=\"p-8\">\r\n            <div className=\"flex flex-col md:flex-row gap-6\">\r\n              {/* Company Logo/Avatar */}\r\n              <Avatar className=\"h-32 w-32\">\r\n                <AvatarImage \r\n                  src={profile?.logo ? `${VITE_API_BASE_URL}${profile.logo}` : ''} \r\n                  alt={profile?.companyName}\r\n                />\r\n                <AvatarFallback className=\"bg-gradient-to-br from-purple-500 to-cyan-500 text-white text-4xl\">\r\n                  {profile?.companyName?.charAt(0) || 'C'}\r\n                </AvatarFallback>\r\n              </Avatar>\r\n\r\n              {/* Company Info */}\r\n              <div className=\"flex-grow\">\r\n                <div className=\"flex justify-between items-start mb-4\">\r\n                  <div>\r\n                    <h1 className=\"text-4xl font-bold mb-2\">{profile?.companyName || 'Company Name'}</h1>\r\n                    <p className=\"text-lg text-muted-foreground\">{profile?.industry || 'Industry'}</p>\r\n                  </div>\r\n                  <Button onClick={handleEditProfile} className={`${themeColors.buttons.primary} text-white  hover:bg-purple-700`}>\r\n                    <Edit className=\"h-4 w-4 mr-2\" />\r\n                    Edit Profile\r\n                  </Button>\r\n                </div>\r\n\r\n                {/* Quick Info Grid */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4\">\r\n                  {profile?.location && (\r\n                    <div className=\"flex items-center gap-2 text-sm\">\r\n                      <MapPin className=\"h-4 w-4 text-muted-foreground\" />\r\n                      <span>{profile.location}</span>\r\n                    </div>\r\n                  )}\r\n\r\n                  {profile?.companySize && (\r\n                    <div className=\"flex items-center gap-2 text-sm\">\r\n                      <Users className=\"h-4 w-4 text-muted-foreground\" />\r\n                      <span>{profile.companySize} employees</span>\r\n                    </div>\r\n                  )}\r\n\r\n                  {profile?.email && (\r\n                    <div className=\"flex items-center gap-2 text-sm\">\r\n                      <Mail className=\"h-4 w-4 text-muted-foreground\" />\r\n                      <a href={`mailto:${profile.email}`} className=\"hover:text-cyan-600\">\r\n                        {profile.email}\r\n                      </a>\r\n                    </div>\r\n                  )}\r\n\r\n                  {profile?.phone && (\r\n                    <div className=\"flex items-center gap-2 text-sm\">\r\n                      <Phone className=\"h-4 w-4 text-muted-foreground\" />\r\n                      <span>{profile.phone}</span>\r\n                    </div>\r\n                  )}\r\n\r\n                  {profile?.website && (\r\n                    <div className=\"flex items-center gap-2 text-sm\">\r\n                      <Globe className=\"h-4 w-4 text-muted-foreground\" />\r\n                      <a \r\n                        href={profile.website} \r\n                        target=\"_blank\" \r\n                        rel=\"noopener noreferrer\"\r\n                        className=\"hover:text-cyan-600 flex items-center gap-1\"\r\n                      >\r\n                        Visit Website\r\n                        <ExternalLink className=\"h-3 w-3\" />\r\n                      </a>\r\n                    </div>\r\n                  )}\r\n\r\n                  {profile?.foundedYear && (\r\n                    <div className=\"flex items-center gap-2 text-sm\">\r\n                      <Calendar className=\"h-4 w-4 text-muted-foreground\" />\r\n                      <span>Founded in {profile.foundedYear}</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Social Links */}\r\n                {(profile?.linkedin || profile?.facebook || profile?.twitter) && (\r\n                  <div className=\"flex gap-2\">\r\n                    {profile?.linkedin && (\r\n                      <Button variant=\"outline\" size=\"icon\" asChild>\r\n                        <a href={profile.linkedin} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                          <Linkedin className=\"h-4 w-4\" />\r\n                        </a>\r\n                      </Button>\r\n                    )}\r\n                    {profile?.facebook && (\r\n                      <Button variant=\"outline\" size=\"icon\" asChild>\r\n                        <a href={profile.facebook} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                          <Facebook className=\"h-4 w-4\" />\r\n                        </a>\r\n                      </Button>\r\n                    )}\r\n                    {profile?.twitter && (\r\n                      <Button variant=\"outline\" size=\"icon\" asChild>\r\n                        <a href={profile.twitter} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                          <Twitter className=\"h-4 w-4\" />\r\n                        </a>\r\n                      </Button>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Tabs Section */}\r\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\r\n        <TabsList className=\"grid w-full grid-cols-4\">\r\n          <TabsTrigger value=\"overview\">Overview</TabsTrigger>\r\n          <TabsTrigger value=\"about\">About</TabsTrigger>\r\n          <TabsTrigger value=\"jobs\">Jobs ({jobs.length})</TabsTrigger>\r\n          <TabsTrigger value=\"videos\">Videos</TabsTrigger>\r\n        </TabsList>\r\n\r\n        {/* Overview Tab */}\r\n        <TabsContent value=\"overview\" className=\"space-y-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"text-sm font-medium\">Active Jobs</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-3xl font-bold\">{jobs.filter(j => j.status === 'active').length}</div>\r\n                <p className=\"text-xs text-muted-foreground mt-1\">Job postings</p>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"text-sm font-medium\">Total Applications</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-3xl font-bold\">\r\n                  {jobs.reduce((sum, j) => sum + (j.applicants_count || 0), 0)}\r\n                </div>\r\n                <p className=\"text-xs text-muted-foreground mt-1\">Candidates applied</p>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"text-sm font-medium\">Profile Views</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-3xl font-bold\">{profile?.profileViews || 0}</div>\r\n                <p className=\"text-xs text-muted-foreground mt-1\">In the last 30 days</p>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          {profile?.description && (\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Company Overview</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <p className=\"text-muted-foreground whitespace-pre-line\">{profile.description}</p>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n        </TabsContent>\r\n\r\n        {/* About Tab */}\r\n        <TabsContent value=\"about\" className=\"space-y-6\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>About {profile?.companyName}</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-6\">\r\n              {profile?.description && (\r\n                <div>\r\n                  <h3 className=\"font-semibold mb-2\">Company Description</h3>\r\n                  <p className=\"text-muted-foreground whitespace-pre-line\">{profile.description}</p>\r\n                </div>\r\n              )}\r\n\r\n              {profile?.mission && (\r\n                <div>\r\n                  <h3 className=\"font-semibold mb-2\">Our Mission</h3>\r\n                  <p className=\"text-muted-foreground\">{profile.mission}</p>\r\n                </div>\r\n              )}\r\n\r\n              {profile?.values && (\r\n                <div>\r\n                  <h3 className=\"font-semibold mb-2\">Company Values</h3>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {profile.values.split(',').map((value, index) => (\r\n                      <Badge key={index} variant=\"secondary\">\r\n                        {value.trim()}\r\n                      </Badge>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {profile?.benefits && (\r\n                <div>\r\n                  <h3 className=\"font-semibold mb-2\">Benefits & Perks</h3>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2\">\r\n                    {profile.benefits.split(',').map((benefit, index) => (\r\n                      <div key={index} className=\"flex items-center gap-2\">\r\n                        <div className={`${themeColors.buttons.primary} text-white h-2 w-2 rounded-full `} />\r\n                        <span className=\"text-sm\">{benefit.trim()}</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Jobs Tab */}\r\n        <TabsContent value=\"jobs\" className=\"space-y-6\">\r\n          {jobs.length > 0 ? (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n              {jobs.map((job) => (\r\n                <Card key={job.id} className=\"hover:shadow-lg transition-shadow\">\r\n                  <CardHeader>\r\n                    <CardTitle className=\"text-lg\">{job.title}</CardTitle>\r\n                    <CardDescription className=\"flex items-center gap-2\">\r\n                      <MapPin className=\"h-3 w-3\" />\r\n                      {job.location}\r\n                    </CardDescription>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    <div className=\"space-y-3\">\r\n                      <div className=\"flex gap-2\">\r\n                        <Badge variant={job.status === 'active' ? 'default' : 'secondary'}>\r\n                          {job.status}\r\n                        </Badge>\r\n                        <Badge variant=\"outline\">{localize(job.jobType)}</Badge>\r\n                      </div>\r\n\r\n                      {job.description && (\r\n                        <p className=\"text-sm text-muted-foreground line-clamp-2\">\r\n                          {job.description}\r\n                        </p>\r\n                      )}\r\n\r\n                      <Button \r\n                        variant=\"outline\" \r\n                        className=\"w-full\"\r\n                        onClick={() => navigate(`/job/${job.id}`)}\r\n                      >\r\n                        View Details\r\n                      </Button>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <Card className=\"text-center py-12\">\r\n              <CardContent>\r\n                <Briefcase className=\"h-16 w-16 mx-auto text-muted-foreground mb-4\" />\r\n                <h3 className=\"text-xl font-semibold mb-2\">No jobs posted yet</h3>\r\n                <p className=\"text-muted-foreground mb-4\">\r\n                  Start attracting candidates by posting your first job\r\n                </p>\r\n                <Button \r\n                  onClick={() => navigate('/employer-tabs?group=jobManagement&tab=post-job')}\r\n                  className={`${themeColors.buttons.primary} text-white  hover:from-purple-700 hover:to-cyan-700`}\r\n                >\r\n                  Post a Job\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n        </TabsContent>\r\n\r\n        {/* Videos Tab */}\r\n        <TabsContent value=\"videos\" className=\"space-y-6\">\r\n          <Card className=\"text-center py-12\">\r\n            <CardContent>\r\n              <PlayCircle className=\"h-16 w-16 mx-auto text-muted-foreground mb-4\" />\r\n              <h3 className=\"text-xl font-semibold mb-2\">Company Videos</h3>\r\n              <p className=\"text-muted-foreground mb-4\">\r\n                Showcase your company culture and values through videos\r\n              </p>\r\n              <Button \r\n                onClick={() => navigate('/employer-tabs?group=companyContent&tab=company-videos')}\r\n                className={`${themeColors.buttons.primary} text-white  hover:from-purple-700 hover:to-cyan-700`}\r\n              >\r\n                Manage Videos\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\EmployerProfilePage_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getVideoResume' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 45,
        "column": 30,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 45,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "getVideoResume"
            },
            "fix": {
              "range": [
                931,
                947
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'getVideoResume'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 180,
        "column": 39,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 180,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                4427,
                4436
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState, useEffect, useRef, useCallback  } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Grid,\r\n  Typography,\r\n  Avatar,\r\n  Button,\r\n  Chip,\r\n  Tabs,\r\n  Tab,\r\n  Card,\r\n  CardContent,\r\n  IconButton,\r\n  Divider,\r\n  Paper,\r\n  styled,\r\n  useTheme,\r\n  useMediaQuery,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  Tooltip\r\n} from '@mui/material';\r\nimport {\r\n  Edit as EditIcon,\r\n  PlayArrow as PlayArrowIcon,\r\n  Pause as PauseIcon,\r\n  VolumeOff as VolumeOffIcon,\r\n  VolumeUp as VolumeOnIcon,\r\n  Work as WorkIcon,\r\n  Email as EmailIcon,\r\n  Phone as PhoneIcon,\r\n  Language as LanguageIcon,\r\n  LocationOn as LocationIcon,\r\n  LinkedIn as LinkedInIcon,\r\n  Facebook as FacebookIcon,\r\n  Twitter as TwitterIcon,\r\n  Favorite as FavoriteIcon,\r\n  Share as ShareIcon,\r\n  Bookmark as BookmarkIcon\r\n} from '@mui/icons-material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getEmployerProfile, getVideoResume, getEmployerJobs, getJobVideos } from '@/services/api';\r\n\r\nconst VITE_API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:5000';\r\n\r\n// Enhanced styled components\r\nconst ProfileContainer = styled(Box)(({ theme }) => ({\r\n  backgroundColor: theme.palette.background.paper,\r\n  minHeight: '100vh',\r\n  paddingTop: theme.spacing(4),\r\n  paddingBottom: theme.spacing(6)\r\n}));\r\n\r\nconst ProfileHeader = styled(Box)(({ theme }) => ({\r\n  position: 'relative',\r\n  \r\n  marginBottom: theme.spacing(4),\r\n  display: 'flex',\r\n  flexDirection: 'column',alignItems: 'flex-start',\r\n  gap: theme.spacing(3),\r\n  [theme.breakpoints.up('md')]: {\r\n    flexDirection: 'row',\r\n    gap: theme.spacing(4),\r\n    alignItems: 'flex-start',\r\n  }\r\n}));\r\n\r\nconst ProfileInfo = styled(Box)(({ theme }) => ({\r\n  flex: 1,\r\n  padding: theme.spacing(3),\r\n  borderRadius: theme.shape.borderRadius,\r\n  backgroundColor: theme.palette.background.default,\r\n  boxShadow: theme.shadows[1],\r\n   alignSelf: 'flex-start',\r\n  [theme.breakpoints.up('md')]: {\r\n    paddingRight: theme.spacing(4)\r\n  }\r\n}));\r\n\r\nconst MainVideoContainer = styled(Box)(({ theme }) => ({\r\n\r\n  borderRadius: theme.shape.borderRadius,\r\n  overflow: 'hidden',\r\n  position: 'relative',\r\n  alignSelf: 'flex-start',\r\n  backgroundColor: theme.palette.grey[900],\r\n  boxShadow: theme.shadows[4],\r\n  [theme.breakpoints.up('md')]: {\r\n    width: 320,\r\n    height: 370,\r\n    flexShrink: 0\r\n  }\r\n}));\r\n\r\nconst VideoControls = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  bottom: 0,\r\n  left: 0,\r\n  right: 0,\r\n  padding: theme.spacing(1),\r\n  backgroundColor: 'rgba(253, 251, 251, 0.7)',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'space-between',\r\n  transition: 'opacity 0.3s ease'\r\n}));\r\n\r\nconst VideoActions = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  right: theme.spacing(2),\r\n  top: theme.spacing(2),\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  alignItems: 'center',\r\n  gap: theme.spacing(2),\r\n  color: theme.palette.common.white,\r\n  opacity: 0.8,\r\n  '&:hover': {\r\n    opacity: 1\r\n  }\r\n}));\r\n\r\nconst CompanyLogo = styled(Avatar)(({ theme }) => ({\r\n  width: 120,\r\n  height: 120,\r\n  border: `4px solid ${theme.palette.primary.main}`,\r\n  marginRight: theme.spacing(3),\r\n  boxShadow: theme.shadows[4]\r\n}));\r\n\r\nconst CategoryChip = styled(Chip)(({ theme }) => ({\r\n  margin: theme.spacing(0.5),\r\n  backgroundColor: theme.palette.secondary.light,\r\n  color: theme.palette.secondary.contrastText,\r\n  fontWeight: 500,\r\n  '&:hover': {\r\n    backgroundColor: theme.palette.secondary.main,\r\n    transform: 'translateY(-2px)'\r\n  }\r\n}));\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`profile-tabpanel-${index}`}\r\n      aria-labelledby={`profile-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: 3 }}>{children}</Box>}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst VideoCard = styled(Card)(({ theme }) => ({\r\n  width: '300px',\r\n  height: '400px', \r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  borderRadius: theme.shape.borderRadius,\r\n  overflow: 'hidden',\r\n  alignSelf: 'stretch',\r\n  transition: 'transform 0.3s ease, box-shadow 0.3s ease',\r\n  '&:hover': {\r\n    transform: 'translateY(-8px)',\r\n    boxShadow: theme.shadows[8],\r\n    '& $VideoCardMedia': {\r\n      '&:after': {\r\n        opacity: 1\r\n      }\r\n    }\r\n  }\r\n}));\r\n\r\nconst VideoCardMedia = styled(Box)(({ theme }) => ({\r\n  position: 'relative',\r\n  height: '300px', // Increased height\r\n  backgroundColor: '#000', // Pure black background\r\n  \r\n  overflow: 'hidden',\r\n  '& video': {\r\n    width: '100%',\r\n    height: '100%',\r\n    objectFit: 'cover',\r\n    cursor: 'pointer'\r\n  }\r\n}));\r\n\r\n\r\nconst JobCard = styled(Card)(({ theme }) => ({\r\n  marginBottom: theme.spacing(3),\r\n  borderLeft: `4px solid ${theme.palette.primary.main}`,\r\n  transition: 'transform 0.3s ease',\r\n  '&:hover': {\r\n    transform: 'translateX(5px)'\r\n  }\r\n}));\r\n\r\nconst EmployerProfile = () => {\r\n  const theme = useTheme();\r\n  const navigate = useNavigate();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\r\n\r\n  // State\r\n  const [tabValue, setTabValue] = useState(0);\r\n  const [profile, setProfile] = useState(null);\r\n  const [videos, setVideos] = useState([]);\r\n  const [jobs, setJobs] = useState([]);\r\n  const [jobVideos, setJobVideos] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Video states\r\n  const [mainVideoState, setMainVideoState] = useState({\r\n    isPlaying: false,\r\n    isMuted: true\r\n  });\r\n  \r\n  const [videoStates, setVideoStates] = useState({});\r\n\r\n  // Refs\r\n  const mainVideoRef = useRef(null);\r\n  const videoRefs = useRef({});\r\n\r\n  // Fetch employer data\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    const fetchEmployerData = async () => {\r\n      if (!isMounted) return;\r\n\r\n      try {\r\n        setLoading(true);\r\n\r\n        // Fetch profile\r\n        const profileResponse = await getEmployerProfile();\r\n        if (isMounted) setProfile(profileResponse.data);\r\n\r\n        console.log(\"logo::::::::::::::::\");\r\n        console.log(profileResponse.data.logo);\r\n        console.log(\"videos::::::::::::::::\");\r\n        console.log(profileResponse.data?.videos);\r\n        // Fetch company videos\r\n        // const videosResponse = await getVideoResume({ page: 1, limit: 10 });\r\n        if (isMounted) setVideos(profileResponse.data?.videos || []);\r\n\r\n        // Fetch jobs\r\n        const jobsResponse = await getEmployerJobs();\r\n        if (isMounted) setJobs(jobsResponse.data?.jobs || []);\r\n\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error('Error fetching employer data:', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchEmployerData();\r\n\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, []);\r\n\r\n  // Fetch job videos when Jobs tab is selected\r\n  useEffect(() => {\r\n    if (tabValue === 1 && jobs.length > 0) {\r\n      const fetchJobVideos = async () => {\r\n        const jobPromises = jobs.map(async (job) => {\r\n          try {\r\n            const response = await getJobVideos(job.id);\r\n            return { jobId: job.id, videos: response.data.videos || [] };\r\n          } catch (error) {\r\n            console.error(`Failed to fetch videos for job ${job.id}`, error);\r\n            return { jobId: job.id, videos: [] };\r\n          }\r\n        });\r\n\r\n        const results = await Promise.all(jobPromises);\r\n        const jobVideosMap = {};\r\n\r\n        results.forEach(({ jobId, videos }) => {\r\n          jobVideosMap[jobId] = videos;\r\n        });\r\n\r\n        setJobVideos(jobVideosMap);\r\n      };\r\n\r\n      fetchJobVideos();\r\n    }\r\n  }, [tabValue, jobs]);\r\n\r\n  // Handle tab change\r\n  const handleTabChange = useCallback((event, newValue) => {\r\n    setTabValue(newValue);\r\n  }, []);\r\n\r\n  // Main video controls\r\n  const toggleMainVideoPlayback = useCallback(() => {\r\n    if (mainVideoRef.current) {\r\n      if (mainVideoState.isPlaying) {\r\n        mainVideoRef.current.pause();\r\n      } else {\r\n        mainVideoRef.current.play();\r\n      }\r\n      setMainVideoState(prev => ({\r\n        ...prev,\r\n        isPlaying: !prev.isPlaying\r\n      }));\r\n    }\r\n  }, [mainVideoState.isPlaying]);\r\n\r\n  const toggleMainVideoMute = useCallback(() => {\r\n    if (mainVideoRef.current) {\r\n      mainVideoRef.current.muted = !mainVideoState.isMuted;\r\n      setMainVideoState(prev => ({\r\n        ...prev,\r\n        isMuted: !prev.isMuted\r\n      }));\r\n    }\r\n  }, [mainVideoState.isMuted]);\r\n\r\n  const handleMainVideoEnded = useCallback(() => {\r\n    setMainVideoState(prev => ({\r\n      ...prev,\r\n      isPlaying: false\r\n    }));\r\n  }, []);\r\n\r\n  // Gallery video controls\r\n  const toggleVideoPlayback = useCallback((videoId) => {\r\n    const videoRef = videoRefs.current[videoId];\r\n    if (videoRef) {\r\n      if (videoStates[videoId]?.isPlaying) {\r\n        videoRef.pause();\r\n      } else {\r\n        videoRef.play();\r\n      }\r\n      setVideoStates(prev => ({\r\n        ...prev,\r\n        [videoId]: {\r\n          ...prev[videoId],\r\n          isPlaying: !prev[videoId]?.isPlaying\r\n        }\r\n      }));\r\n    }\r\n  }, [videoStates]);\r\n\r\n  const toggleVideoMute = useCallback((videoId) => {\r\n    const videoRef = videoRefs.current[videoId];\r\n    if (videoRef) {\r\n      videoRef.muted = !videoStates[videoId]?.isMuted;\r\n      setVideoStates(prev => ({\r\n        ...prev,\r\n        [videoId]: {\r\n          ...prev[videoId],\r\n          isMuted: !prev[videoId]?.isMuted\r\n        }\r\n      }));\r\n    }\r\n  }, [videoStates]);\r\n\r\n  const handleVideoEnded = useCallback((videoId) => {\r\n    setVideoStates(prev => ({\r\n      ...prev,\r\n      [videoId]: {\r\n        ...prev[videoId],\r\n        isPlaying: false\r\n      }\r\n    }));\r\n  }, []);\r\n\r\n  // Format date\r\n  const formatDate = useCallback((dateString) => {\r\n    if (!dateString) return '';\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric'\r\n    });\r\n  }, []);\r\n\r\n  // Format duration\r\n  const formatDuration = useCallback((seconds) => {\r\n    if (!seconds) return '0:00';\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n  }, []);\r\n\r\n  // Find main video\r\n  const getMainVideo = useCallback(() => {\r\n    return videos.find((video) => video.video_position === 'main') || videos[0];\r\n  }, [videos]);\r\n\r\n  // Mock profile fallback\r\n  const mockProfile = {\r\n    // name: 'A SAMPLE Profile data / Start Edit Yours instead',\r\n    // industry: 'Information Technology',\r\n    // size: '50-200 employees',\r\n    // founded: 2010,\r\n    // location: 'San Francisco, CA',\r\n    // description: 'Tech Innovations Inc. is a leading technology company specializing in innovative software solutions...',\r\n    // email: 'careers@techinnovations.com',\r\n    // phone: '+1 (415) 555-1234',\r\n    // website: 'www.techinnovations.com',\r\n    // logo: 'https://via.placeholder.com/100',\r\n    // categories: ['Software Development', 'Cloud Computing', 'AI & Machine Learning'],\r\n    // social: {\r\n    //   linkedin: 'linkedin.com/company/techinnovations',\r\n    //   facebook: 'facebook.com/techinnovations',\r\n    //   twitter: 'twitter.com/techinnovations'\r\n    // }\r\n  };\r\n\r\n  const employerData = profile || mockProfile;\r\n  const employerVideos = videos.length > 0 ? videos : [];\r\n  const employerJobs = jobs.length > 0 ? jobs : [];\r\n  const mainVideo = getMainVideo();\r\n\r\n  if (loading) {\r\n    return (\r\n      <ProfileContainer  sx={{\r\n  \r\n    padding: theme.spacing(2),\r\n    height: '100vh',\r\n    mt: 2,\r\n    mb: 0,\r\n    paddingBottom: 4,\r\n  }}>\r\n        <Container maxWidth=\"lg\">\r\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"60vh\">\r\n            <Typography variant=\"h6\">Loading profile...</Typography>\r\n          </Box>\r\n        </Container>\r\n      </ProfileContainer>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ProfileContainer sx={{\r\n     bgcolor: 'background.default',\r\n      height: '100%',\r\n      mt: 0,\r\n      mb: 0,\r\n      paddingBottom: 4,\r\n    }}>\r\n      <Container maxWidth=\"lg\"  >\r\n        {/* Profile Header */}\r\n        <ProfileHeader sx={{ \r\n  alignItems: 'flex-start',\r\n  '& > *': {\r\n    \r\n    alignSelf: 'flex-start !important' // Force top alignment\r\n  }\r\n}}>\r\n          <ProfileInfo sx={{ mt: isMobile ? 3 : 2 }}>\r\n            <Box sx={{ display: 'flex', alignItems: 'center', mb: 3 }}>\r\n              <CompanyLogo src={VITE_API_BASE_URL+employerData.logo} alt={employerData.name} />\r\n              <Box>\r\n                <Typography variant=\"h4\" component=\"h1\" gutterBottom fontWeight=\"bold\">\r\n                  {employerData.name || ' '}\r\n                  \r\n                </Typography>\r\n                <Typography variant=\"h6\" color=\"primary\" fontWeight=\"medium\">\r\n                  {employerData.industry}\r\n                </Typography>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', mt: 1 }}>\r\n                  <LocationIcon fontSize=\"small\" color=\"action\" />\r\n                  <Typography variant=\"body2\" color=\"textSecondary\" sx={{ ml: 0.5 }}>\r\n                    {employerData.location}\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n            </Box>\r\n\r\n            <Box sx={{ display: 'flex', gap: 2, mb: 3, flexWrap: 'wrap' }}>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                startIcon={<EditIcon />}\r\n                onClick={() => {\r\n                  // navigate('/edit-employer-profile');\r\n                  // navigate('/employer-tabs?page=videos&tab=upload-video');\r\n                  navigate('/employer-tabs?page=editemployererprofile');\r\n                 }\r\n                }\r\n                sx={{ boxShadow: 2 }}\r\n              >\r\n                Edit Profile\r\n              </Button>\r\n              <Button\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                startIcon={<WorkIcon />}\r\n                onClick={() => {\r\n                  //navigate('/Post-job-page')                  \r\n\r\n                  //navigate('/employer-tabs?page=postjob');\r\n                  navigate('/employer-tabs?page=editemployererprofile');\r\n                }\r\n                }\r\n                sx={{ boxShadow: 1 }}\r\n              >\r\n                Post Job\r\n              </Button>\r\n            </Box>\r\n\r\n            <Typography variant=\"body1\" paragraph sx={{ mb: 3, lineHeight: 1.8 }}>\r\n              {employerData.description}\r\n            </Typography>\r\n\r\n            <Box sx={{ mb: 3 }}>\r\n              <Typography variant=\"subtitle1\" gutterBottom fontWeight=\"bold\">\r\n                Categories\r\n              </Typography>\r\n              <Box sx={{ display: 'flex', flexWrap: 'wrap' }}>\r\n                {employerData.categories?.map((category, index) => (\r\n                  <CategoryChip key={index} label={category.name || category} sx={{ mb: 1, mr: 1 }} />\r\n                ))}\r\n              </Box>\r\n            </Box>\r\n\r\n            <Grid container spacing={2} sx={{ mb: 3 }}>\r\n              <Grid item xs={12} sm={6} md={4}>\r\n                <Typography variant=\"body2\">\r\n                  <Box component=\"span\" fontWeight=\"bold\">Founded:</Box> {employerData.founded}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={12} sm={6} md={4}>\r\n                <Typography variant=\"body2\">\r\n                  <Box component=\"span\" fontWeight=\"bold\">Size:</Box> {employerData.size}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={12} sm={6} md={4}>\r\n                <Typography variant=\"body2\">\r\n                  <Box component=\"span\" fontWeight=\"bold\">Active Jobs:</Box> {employerJobs.length}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2 }}>\r\n              {employerData.email && (\r\n                <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                  <EmailIcon fontSize=\"small\" color=\"action\" />\r\n                  <Typography variant=\"body2\" sx={{ ml: 0.5 }}>\r\n                    {employerData.email}\r\n                  </Typography>\r\n                </Box>\r\n              )}\r\n              {employerData.phone && (\r\n                <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                  <PhoneIcon fontSize=\"small\" color=\"action\" />\r\n                  <Typography variant=\"body2\" sx={{ ml: 0.5 }}>\r\n                    {employerData.phone}\r\n                  </Typography>\r\n                </Box>\r\n              )}\r\n              {employerData.website && (\r\n                <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                  <LanguageIcon fontSize=\"small\" color=\"action\" />\r\n                  <Typography variant=\"body2\" sx={{ ml: 0.5 }}>\r\n                    {employerData.website}\r\n                  </Typography>\r\n                </Box>\r\n              )}\r\n            </Box>\r\n\r\n            <Box sx={{ display: 'flex', mt: 2, gap: 1 }}>\r\n              {employerData.social?.linkedin && (\r\n                <Tooltip title=\"LinkedIn\">\r\n                  <IconButton \r\n                    color=\"primary\" \r\n                    aria-label=\"LinkedIn\" \r\n                    href={employerData.social.linkedin} \r\n                    target=\"_blank\"\r\n                  >\r\n                    <LinkedInIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              )}\r\n              {employerData.social?.facebook && (\r\n                <Tooltip title=\"Facebook\">\r\n                  <IconButton \r\n                    color=\"primary\" \r\n                    aria-label=\"Facebook\" \r\n                    href={employerData.social.facebook} \r\n                    target=\"_blank\"\r\n                  >\r\n                    <FacebookIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              )}\r\n              {employerData.social?.twitter && (\r\n                <Tooltip title=\"Twitter\">\r\n                  <IconButton \r\n                    color=\"primary\" \r\n                    aria-label=\"Twitter\" \r\n                    href={employerData.social.twitter} \r\n                    target=\"_blank\"\r\n                  >\r\n                    <TwitterIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              )}\r\n            </Box>\r\n          </ProfileInfo>\r\n\r\n          {/* Main Video */}\r\n          {mainVideo?.video_url && (\r\n            <MainVideoContainer sx={{ alignSelf: 'flex-start !important', mt:2 }}>\r\n              <video\r\n                ref={mainVideoRef}\r\n                src={mainVideo.video_url}\r\n                width=\"100%\"\r\n                height=\"100%\"\r\n                muted={mainVideoState.isMuted}\r\n                onEnded={handleMainVideoEnded}\r\n                onClick={toggleMainVideoPlayback}\r\n                style={{ objectFit: 'cover', cursor: 'pointer' }}\r\n              />\r\n\r\n              <VideoControls>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                  <IconButton size=\"small\" color=\"inherit\" onClick={toggleMainVideoPlayback}>\r\n                    {mainVideoState.isPlaying ? <PauseIcon /> : <PlayArrowIcon />}\r\n                  </IconButton>\r\n                  <IconButton size=\"small\" color=\"inherit\" onClick={toggleMainVideoMute}>\r\n                    {mainVideoState.isMuted ? <VolumeOffIcon /> : <VolumeOnIcon />}\r\n                  </IconButton>\r\n                </Box>\r\n                <Typography variant=\"caption\" color=\"inherit\" noWrap sx={{ maxWidth: '60%' }}>\r\n                  {mainVideo.video_title || 'Company Introduction'}\r\n                </Typography>\r\n              </VideoControls>\r\n\r\n              <VideoActions>\r\n                <Tooltip title=\"Like\">\r\n                  <IconButton color=\"inherit\">\r\n                    <FavoriteIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n                <Tooltip title=\"Share\">\r\n                  <IconButton color=\"inherit\">\r\n                    <ShareIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n                <Tooltip title=\"Save\">\r\n                  <IconButton color=\"inherit\">\r\n                    <BookmarkIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              </VideoActions>\r\n            </MainVideoContainer>\r\n          )}\r\n        </ProfileHeader>\r\n\r\n        {/* Tabs Section */}\r\n        <Paper sx={{ mb: 4, borderRadius: theme.shape.borderRadius, overflow: 'hidden', boxShadow: theme.shadows[3] }}>\r\n          <Tabs\r\n            value={tabValue}\r\n            onChange={handleTabChange}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            variant={isMobile ? \"scrollable\" : \"fullWidth\"}\r\n            scrollButtons={isMobile ? \"auto\" : false}\r\n            centered={!isMobile}\r\n            sx={{\r\n              '& .MuiTab-root': {\r\n                fontSize: isMobile ? '0.875rem' : '1rem',\r\n                fontWeight: 500,\r\n                minHeight: 48\r\n              }\r\n            }}\r\n          >\r\n            <Tab label=\"About\" icon={isMobile ? null : <WorkIcon />} iconPosition=\"start\" />\r\n            <Tab label=\"Jobs\" icon={isMobile ? null : <WorkIcon />} iconPosition=\"start\" />\r\n            <Tab label=\"Videos\" icon={isMobile ? null : <PlayArrowIcon />} iconPosition=\"start\" />\r\n            <Tab label=\"Contact\" icon={isMobile ? null : <EmailIcon />} iconPosition=\"start\" />\r\n          </Tabs>\r\n\r\n          {/* About Tab */}\r\n          <TabPanel value={tabValue} index={0}>\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} md={6}>\r\n                <Typography variant=\"h6\" gutterBottom fontWeight=\"medium\">\r\n                  Company Overview\r\n                </Typography>\r\n                <Typography variant=\"body1\" paragraph sx={{ lineHeight: 1.8 }}>\r\n                  {employerData.description}\r\n                </Typography>\r\n                <Typography variant=\"h6\" gutterBottom fontWeight=\"medium\">\r\n                  Industry\r\n                </Typography>\r\n                <Typography variant=\"body1\" paragraph>\r\n                  {employerData.industry}\r\n                </Typography>\r\n                <Typography variant=\"h6\" gutterBottom fontWeight=\"medium\">\r\n                  Company Size\r\n                </Typography>\r\n                <Typography variant=\"body1\" paragraph>\r\n                  {employerData.size}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <Typography variant=\"h6\" gutterBottom fontWeight=\"medium\">\r\n                  Founded\r\n                </Typography>\r\n                <Typography variant=\"body1\" paragraph>\r\n                  {employerData.founded}\r\n                </Typography>\r\n                <Typography variant=\"h6\" gutterBottom fontWeight=\"medium\">\r\n                  Headquarters\r\n                </Typography>\r\n                <Typography variant=\"body1\" paragraph>\r\n                  {employerData.location}\r\n                </Typography>\r\n                <Typography variant=\"h6\" gutterBottom fontWeight=\"medium\">\r\n                  Categories\r\n                </Typography>\r\n                <Box sx={{ display: 'flex', flexWrap: 'wrap' }}>\r\n                  {employerData.categories?.map((category, index) => (\r\n                    <CategoryChip key={index} label={category.name || category} sx={{ mb: 1, mr: 1 }} />\r\n                  ))}\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </TabPanel>\r\n\r\n          {/* Jobs Tab */}\r\n          <TabPanel value={tabValue} index={1}>\r\n            <Box sx={{ mb: 3, display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', gap: 2 }}>\r\n              <Typography variant=\"h6\" fontWeight=\"medium\">\r\n                Open Positions\r\n              </Typography>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                startIcon={<WorkIcon />}\r\n                onClick={() => navigate('/Post-job-page')}\r\n                sx={{ boxShadow: 2 }}\r\n              >\r\n                Post New Job\r\n              </Button>\r\n            </Box>\r\n\r\n            {employerJobs.length > 0 ? (\r\n              employerJobs.map((job) => (\r\n                <JobCard key={job.id} sx={{ mb: 3 }}>\r\n                  <CardContent>\r\n                    <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\r\n                      <Box>\r\n                        <Typography variant=\"h6\" component=\"h3\" fontWeight=\"medium\">\r\n                          {job.title}\r\n                        </Typography>\r\n                        <Box sx={{ display: 'flex', alignItems: 'center', mt: 0.5 }}>\r\n                          <LocationIcon fontSize=\"small\" color=\"action\" />\r\n                          <Typography variant=\"body2\" color=\"textSecondary\" sx={{ ml: 0.5 }}>\r\n                            {job.location}\r\n                          </Typography>\r\n                        </Box>\r\n                      </Box>\r\n                      <Box>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\">\r\n                          <Box component=\"span\" fontWeight=\"bold\">Posted:</Box> {formatDate(job.posted_at)}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\">\r\n                          <Box component=\"span\" fontWeight=\"bold\">Applicants:</Box> {job.applicants_count || 0}\r\n                        </Typography>\r\n                      </Box>\r\n                    </Box>\r\n\r\n                    <Box sx={{ mt: 2, display: 'flex', gap: 2, flexWrap: 'wrap' }}>\r\n                      <Chip label={job.employment_type} size=\"small\" color=\"primary\" variant=\"outlined\" />\r\n                      <Chip\r\n                        label={`${job.salary_min || 0} - ${job.salary_max || 0}`}\r\n                        size=\"small\"\r\n                        color=\"secondary\"\r\n                        variant=\"outlined\"\r\n                      />\r\n                    </Box>\r\n\r\n                    <Typography variant=\"body1\" sx={{ mt: 2, lineHeight: 1.7 }}>\r\n                      {job.description}\r\n                    </Typography>\r\n\r\n                    {job.requirements?.length > 0 && (\r\n                      <>\r\n                        <Typography variant=\"subtitle1\" sx={{ mt: 2 }} fontWeight=\"medium\">\r\n                          Requirements:\r\n                        </Typography>\r\n                        <List dense sx={{ listStyleType: 'disc', pl: 2 }}>\r\n                          {job.requirements.map((req, idx) => (\r\n                            <ListItem key={idx} sx={{ display: 'list-item', pl: 1 }}>\r\n                              <ListItemText primary={req} />\r\n                            </ListItem>\r\n                          ))}\r\n                        </List>\r\n                      </>\r\n                    )}\r\n\r\n                    {jobVideos[job.id]?.length > 0 && (\r\n                      <>\r\n                        <Typography variant=\"subtitle1\" sx={{ mt: 2 }} fontWeight=\"medium\">\r\n                          Job Videos:\r\n                        </Typography>\r\n                        <Grid container spacing={2} sx={{ mt: 1 }}>\r\n                        {jobVideos[job.id].map((video) => (\r\n                          <Grid item xs={12} sm={6} md={4} key={video.id}>\r\n                          <Grid item xs={12} sm={6} md={4} key={video.id}>\r\n                          <VideoCard sx={{ height: '100%' }}>\r\n                          <VideoCardMedia onClick={() => toggleVideoPlayback(video.id)}>\r\n                          <video\r\n                            ref={el => {\r\n                              if (el) {\r\n                                videoRefs.current[video.id] = el;\r\n                                el.muted = videoStates[video.id]?.isMuted ?? true;\r\n                              }\r\n                            }}\r\n                            src={video.video_url}\r\n                            onEnded={() => handleVideoEnded(video.id)}\r\n                          />\r\n                          \r\n                          {/* Title overlapping on video */}\r\n                          <Box sx={{\r\n                            position: 'absolute',\r\n                            bottom: 35,\r\n                            left: 0,\r\n                            right: 0,\r\n                            padding: '16px',\r\n                          }}>\r\n                            <Typography \r\n                              variant=\"h6\" \r\n                              sx={{ \r\n                                color: 'white',\r\n                                \r\n                                fontWeight: 'bold'\r\n                              }}\r\n                            >\r\n                              {video.video_title || 'Untitled Video'}\r\n                            </Typography>\r\n                          </Box>\r\n                    \r\n                          {/* Play/Pause overlay */}\r\n                          <Box sx={{\r\n                            position: 'absolute',\r\n                            top: 0,\r\n                            left: 0,\r\n                            right: 0,\r\n                            bottom: 0,\r\n                            display: 'flex',\r\n                            justifyContent: 'center',\r\n                            alignItems: 'center',\r\n                            backgroundColor: 'rgba(247, 236, 236, 0.3)',\r\n                            opacity: videoStates[video.id]?.isPlaying ? 0 : 1,\r\n                            transition: 'opacity 0.3s ease',\r\n                            pointerEvents: 'none'\r\n                          }}>\r\n                            <PlayArrowIcon sx={{ fontSize: 50, color: 'white' }} />\r\n                          </Box>\r\n                          \r\n                          {/* Video controls with black background */}\r\n                          <Box sx={{\r\n                            position: 'absolute',\r\n                            bottom: 0,\r\n                            left: 0,\r\n                            right: 0,\r\n                            display: 'flex',\r\n                            justifyContent: 'space-between',\r\n                            alignItems: 'center',\r\n                            padding: '12px',\r\n                            \r\n                           \r\n                          }}>\r\n                            <Box sx={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                              <IconButton \r\n                                size=\"small\" \r\n                                onClick={(e) => {\r\n                                  e.stopPropagation();\r\n                                  toggleVideoPlayback(video.id);\r\n                                }}\r\n                                sx={{ \r\n                                  color: 'white',\r\n                                  backgroundColor: 'rgba(255,255,255,0.2)',\r\n                                  '&:hover': {\r\n                                    backgroundColor: 'rgba(255,255,255,0.3)'\r\n                                  }\r\n                                }}\r\n                              >\r\n                                {videoStates[video.id]?.isPlaying ? <PauseIcon /> : <PlayArrowIcon />}\r\n                              </IconButton>\r\n                              \r\n                              <IconButton\r\n                                size=\"small\"\r\n                                onClick={(e) => {\r\n                                  e.stopPropagation();\r\n                                  toggleVideoMute(video.id);\r\n                                }}\r\n                                sx={{ \r\n                                  color: 'white',\r\n                                  backgroundColor: 'rgba(255,255,255,0.2)',\r\n                                  '&:hover': {\r\n                                    backgroundColor: 'rgba(255,255,255,0.3)'\r\n                                  }\r\n                                }}\r\n                              >\r\n                                {videoStates[video.id]?.isMuted ? <VolumeOffIcon /> : <VolumeOnIcon />}\r\n                              </IconButton>\r\n                              \r\n                              <Typography variant=\"caption\" sx={{ color: 'white', ml: 1 }}>\r\n                                {formatDuration(video.video_duration)}\r\n                              </Typography>\r\n                            </Box>\r\n                            \r\n                            <Typography variant=\"caption\" sx={{ color: 'white' }}>\r\n                              {video.views || 0} views\r\n                            </Typography>\r\n                          </Box>\r\n                        </VideoCardMedia>\r\n                            \r\n                            {/* Optional: Additional info below video if needed */}\r\n                            {/* <CardContent>\r\n                              <Typography variant=\"body2\" color=\"textSecondary\">\r\n                                Additional information here\r\n                              </Typography>\r\n                            </CardContent> */}\r\n                          </VideoCard>\r\n                        </Grid>                         </Grid>\r\n                          ))}\r\n                        </Grid>\r\n                      </>\r\n                    )}\r\n\r\n                    <Box sx={{ mt: 2, display: 'flex', justifyContent: 'flex-end' }}>\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={() => navigate(`/job/${job.id}`)}\r\n                        sx={{ boxShadow: 2 }}\r\n                      >\r\n                        View Details\r\n                      </Button>\r\n                    </Box>\r\n                  </CardContent>\r\n                </JobCard>\r\n              ))\r\n            ) : (\r\n              <Typography variant=\"body1\" color=\"textSecondary\" sx={{ textAlign: 'center', py: 4 }}>\r\n                No job postings available\r\n              </Typography>\r\n            )}\r\n          </TabPanel>\r\n\r\n          {/* Videos Tab */}\r\n          <TabPanel value={tabValue} index={2}>\r\n          <Grid container spacing={3}>\r\n            {employerVideos.length > 0 ? (\r\n              employerVideos.filter(video => video.id !== mainVideo?.id).map((video) => (\r\n                <Grid item xs={12} sm={6} md={4} key={video.id}>\r\n  <VideoCard sx={{ height: '100%' }}>\r\n    <VideoCardMedia onClick={() => toggleVideoPlayback(video.id)}>\r\n      <video\r\n        ref={el => {\r\n          if (el) {\r\n            videoRefs.current[video.id] = el;\r\n            el.muted = videoStates[video.id]?.isMuted ?? true;\r\n          }\r\n        }}\r\n        src={video.video_url}\r\n        onEnded={() => handleVideoEnded(video.id)}\r\n      />\r\n      \r\n      {/* Title overlapping on video */}\r\n      <Box sx={{\r\n        position: 'absolute',\r\n        bottom: 35,\r\n        left: 0,\r\n        right: 0,\r\n        padding: '16px',\r\n      }}>\r\n        <Typography \r\n          variant=\"h6\" \r\n          sx={{ \r\n            color: 'white',\r\n            \r\n            fontWeight: 'bold'\r\n          }}\r\n        >\r\n          {video.video_title || 'Untitled Video'}\r\n        </Typography>\r\n      </Box>\r\n\r\n      {/* Play/Pause overlay */}\r\n      <Box sx={{\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        backgroundColor: 'rgba(0,0,0,0.3)',\r\n        opacity: videoStates[video.id]?.isPlaying ? 0 : 1,\r\n        transition: 'opacity 0.3s ease',\r\n        pointerEvents: 'none'\r\n      }}>\r\n        <PlayArrowIcon sx={{ fontSize: 50, color: 'white' }} />\r\n      </Box>\r\n      \r\n      {/* Video controls with black background */}\r\n      <Box sx={{\r\n        position: 'absolute',\r\n        bottom: 0,\r\n        left: 0,\r\n        right: 0,\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        padding: '12px',\r\n        \r\n       \r\n      }}>\r\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n          <IconButton \r\n            size=\"small\" \r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              toggleVideoPlayback(video.id);\r\n            }}\r\n            sx={{ \r\n              color: 'white',\r\n              backgroundColor: 'rgba(255,255,255,0.2)',\r\n              '&:hover': {\r\n                backgroundColor: 'rgba(255,255,255,0.3)'\r\n              }\r\n            }}\r\n          >\r\n            {videoStates[video.id]?.isPlaying ? <PauseIcon /> : <PlayArrowIcon />}\r\n          </IconButton>\r\n          \r\n          <IconButton\r\n            size=\"small\"\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              toggleVideoMute(video.id);\r\n            }}\r\n            sx={{ \r\n              color: 'white',\r\n              backgroundColor: 'rgba(255,255,255,0.2)',\r\n              '&:hover': {\r\n                backgroundColor: 'rgba(255,255,255,0.3)'\r\n              }\r\n            }}\r\n          >\r\n            {videoStates[video.id]?.isMuted ? <VolumeOffIcon /> : <VolumeOnIcon />}\r\n          </IconButton>\r\n          \r\n          <Typography variant=\"caption\" sx={{ color: 'white', ml: 1 }}>\r\n            {formatDuration(video.video_duration)}\r\n          </Typography>\r\n        </Box>\r\n        \r\n        <Typography variant=\"caption\" sx={{ color: 'white' }}>\r\n          {video.views || 0} views\r\n        </Typography>\r\n      </Box>\r\n    </VideoCardMedia>\r\n    \r\n    {/* Optional: Additional info below video if needed */}\r\n    {/* <CardContent>\r\n      <Typography variant=\"body2\" color=\"textSecondary\">\r\n        Additional information here\r\n      </Typography>\r\n    </CardContent> */}\r\n  </VideoCard>\r\n</Grid>\r\n              ))\r\n            ) : (\r\n              <Grid item xs={12}>\r\n                <Typography variant=\"body1\" color=\"textSecondary\" sx={{ textAlign: 'center', py: 4 }}>\r\n                  No videos available\r\n                </Typography>\r\n              </Grid>\r\n            )}\r\n          </Grid>\r\n        </TabPanel>\r\n\r\n          {/* Contact Tab */}\r\n          <TabPanel value={tabValue} index={3}>\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} md={6}>\r\n                <Typography variant=\"h6\" gutterBottom fontWeight=\"medium\">\r\n                  Contact Information\r\n                </Typography>\r\n                <List>\r\n                  {employerData.email && (\r\n                    <ListItem sx={{ px: 0 }}>\r\n                      <ListItemIcon sx={{ minWidth: 36 }}>\r\n                        <EmailIcon color=\"primary\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary=\"Email\" \r\n                        secondary={employerData.email} \r\n                        secondaryTypographyProps={{ sx: { wordBreak: 'break-all' } }}\r\n                      />\r\n                    </ListItem>\r\n                  )}\r\n                  {employerData.phone && (\r\n                    <ListItem sx={{ px: 0 }}>\r\n                      <ListItemIcon sx={{ minWidth: 36 }}>\r\n                        <PhoneIcon color=\"primary\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"Phone\" secondary={employerData.phone} />\r\n                    </ListItem>\r\n                  )}\r\n                  {employerData.website && (\r\n                    <ListItem sx={{ px: 0 }}>\r\n                      <ListItemIcon sx={{ minWidth: 36 }}>\r\n                        <LanguageIcon color=\"primary\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary=\"Website\" \r\n                        secondary={employerData.website} \r\n                        secondaryTypographyProps={{ sx: { wordBreak: 'break-all' } }}\r\n                      />\r\n                    </ListItem>\r\n                  )}\r\n                  {employerData.location && (\r\n                    <ListItem sx={{ px: 0 }}>\r\n                      <ListItemIcon sx={{ minWidth: 36 }}>\r\n                        <LocationIcon color=\"primary\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"Location\" secondary={employerData.location} />\r\n                    </ListItem>\r\n                  )}\r\n                </List>\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <Typography variant=\"h6\" gutterBottom fontWeight=\"medium\">\r\n                  Social Media\r\n                </Typography>\r\n                <List>\r\n                  {employerData.social?.linkedin && (\r\n                    <ListItem button component=\"a\" href={employerData.social.linkedin} target=\"_blank\" sx={{ px: 0 }}>\r\n                      <ListItemIcon sx={{ minWidth: 36 }}>\r\n                        <LinkedInIcon color=\"primary\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary=\"LinkedIn\" \r\n                        secondary={employerData.social.linkedin} \r\n                        secondaryTypographyProps={{ sx: { wordBreak: 'break-all' } }}\r\n                      />\r\n                    </ListItem>\r\n                  )}\r\n                  {employerData.social?.facebook && (\r\n                    <ListItem button component=\"a\" href={employerData.social.facebook} target=\"_blank\" sx={{ px: 0 }}>\r\n                      <ListItemIcon sx={{ minWidth: 36 }}>\r\n                        <FacebookIcon color=\"primary\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary=\"Facebook\" \r\n                        secondary={employerData.social.facebook} \r\n                        secondaryTypographyProps={{ sx: { wordBreak: 'break-all' } }}\r\n                      />\r\n                    </ListItem>\r\n                  )}\r\n                  {employerData.social?.twitter && (\r\n                    <ListItem button component=\"a\" href={employerData.social.twitter} target=\"_blank\" sx={{ px: 0 }}>\r\n                      <ListItemIcon sx={{ minWidth: 36 }}>\r\n                        <TwitterIcon color=\"primary\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary=\"Twitter\" \r\n                        secondary={employerData.social.twitter} \r\n                        secondaryTypographyProps={{ sx: { wordBreak: 'break-all' } }}\r\n                      />\r\n                    </ListItem>\r\n                  )}\r\n                </List>\r\n              </Grid>\r\n            </Grid>\r\n          </TabPanel>\r\n        </Paper>\r\n      </Container>\r\n    </ProfileContainer>\r\n  );\r\n};\r\n\r\nexport default EmployerProfile; ",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\EmployerProfileView.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\EmployerSettingsPage.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\EmployerSetupWizard.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 69,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 69,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                1366,
                1401
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useAuth' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 81,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 81,
        "endColumn": 14,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useAuth"
            },
            "fix": {
              "range": [
                1705,
                1792
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useAuth'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'formData' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 102,
        "column": 34,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 102,
        "endColumn": 42,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "formData"
            },
            "fix": {
              "range": [
                2308,
                2316
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'formData'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchInitialData'. Either include it or remove the dependency array.",
        "line": 305,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 305,
        "endColumn": 8,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchInitialData]",
            "fix": {
              "range": [
                7339,
                7341
              ],
              "text": "[fetchInitialData]"
            }
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'calculateCompleteness'. Either include it or remove the dependency array.",
        "line": 311,
        "column": 5,
        "nodeType": "ArrayExpression",
        "endLine": 311,
        "endColumn": 18,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [calculateCompleteness, profileData]",
            "fix": {
              "range": [
                7418,
                7431
              ],
              "text": "[calculateCompleteness, profileData]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Box,\r\n  Container,\r\n  Grid,\r\n  Paper,\r\n  Typography,\r\n  Button,\r\n  Stepper,\r\n  Step,\r\n  StepLabel,\r\n  StepContent,\r\n  TextField,\r\n  Avatar,\r\n  IconButton,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Chip,\r\n  Card,\r\n  CardContent,\r\n  LinearProgress,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Alert,\r\n  Snackbar,\r\n  Autocomplete,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  RadioGroup,\r\n  Radio,\r\n  FormLabel,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Slider,\r\n  Switch\r\n} from \"@mui/material\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport {\r\n  PhotoCamera as PhotoCameraIcon,\r\n  Business as BusinessIcon,\r\n  LocationOn as LocationOnIcon,\r\n  People as PeopleIcon,\r\n  Work as WorkIcon,\r\n  Category as CategoryIcon,\r\n  CheckCircle as CheckCircleIcon,\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Email as EmailIcon,\r\n  Phone as PhoneIcon,\r\n  Language as LanguageIcon,\r\n  LinkedIn as LinkedInIcon,\r\n  Facebook as FacebookIcon,\r\n  Twitter as TwitterIcon,\r\n  Public as PublicIcon,\r\n  AttachMoney as AttachMoneyIcon,\r\n  Star as StarIcon,\r\n  TrendingUp as TrendingUpIcon\r\n} from \"@mui/icons-material\";\r\n// Mocking external dependencies for standalone execution\r\n// import { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\n// import { useNavigate } from \"react-router-dom\";\r\n// import {\r\n//   getEmployerProfile,\r\n//   updateEmployerProfile,\r\n//   uploadCompanyLogo,\r\n//   getCategories,\r\n//   addEmployerCategory,\r\n//   calculateEmployerProfileCompleteness\r\n// } from \"../services/employerService\";\r\n\r\n// Mock useAuth hook\r\nconst useAuth = () => ({\r\n  user: { id: 'mockUserId', email: 'mock@example.com' },\r\n});\r\n\r\n// Mock useNavigate hook\r\nconst useNavigate = () => {\r\n  const navigate = (path) => console.log(`Navigating to: ${path}`);\r\n  return navigate;\r\n};\r\n\r\n// Mock service functions\r\nconst getEmployerProfile = async () => {\r\n  console.log(\"Mock: Fetching employer profile...\");\r\n  return { data: null }; // Simulate no existing profile\r\n};\r\n\r\nconst updateEmployerProfile = async (data) => {\r\n  console.log(\"Mock: Updating employer profile:\", data);\r\n  return { success: true };\r\n};\r\n\r\nconst uploadCompanyLogo = async (formData) => {\r\n  console.log(\"Mock: Uploading company logo...\");\r\n  return { data: { logoUrl: \"https://placehold.co/120x120/000000/FFFFFF?text=Logo\" } }; // Mock a logo URL\r\n};\r\n\r\nconst getCategories = async () => {\r\n  console.log(\"Mock: Getting categories...\");\r\n  return { data: [\r\n    { id: 'tech', name: 'Technology' },\r\n    { id: 'finance', name: 'Finance' },\r\n    { id: 'marketing', name: 'Marketing' },\r\n    { id: 'hr', name: 'Human Resources' },\r\n    { id: 'design', name: 'Design' },\r\n  ]};\r\n};\r\n\r\nconst addEmployerCategory = async (categoryId) => {\r\n  console.log(\"Mock: Adding employer category:\", categoryId);\r\n  return { success: true };\r\n};\r\n\r\nconst calculateEmployerProfileCompleteness = async (profileData) => {\r\n  console.log(\"Mock: Calculating completeness...\");\r\n  // Simple mock calculation: 100% if companyName exists, otherwise 0%\r\n  const completeness = profileData.companyName ? 100 : 0;\r\n  return { data: { completeness } };\r\n};\r\n\r\n\r\nconst WizardContainer = styled(Container)(({ theme }) => ({\r\n  padding: theme.spacing(3),\r\n  backgroundColor: theme.palette.background.default,\r\n  minHeight: \"calc(100vh - 56px)\"\r\n}));\r\n\r\nconst StepCard = styled(Paper)(({ theme }) => ({\r\n  padding: theme.spacing(3),\r\n  marginBottom: theme.spacing(2),\r\n  borderRadius: theme.spacing(2)\r\n}));\r\n\r\nconst ProgressCard = styled(Card)(({ theme }) => ({\r\n  position: \"sticky\",\r\n  top: theme.spacing(2),\r\n  marginBottom: theme.spacing(2)\r\n}));\r\n\r\nconst EmployerSetupWizard = () => {\r\n  // const { user } = useAuth(); // Removed: unused variable\n  const navigate = useNavigate();\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [completedSteps, setCompletedSteps] = useState(new Set());\r\n  const [profileData, setProfileData] = useState({\r\n    // Company Basic Info\r\n    companyName: \"\",\r\n    companyDescription: \"\",\r\n    industry: \"\",\r\n    companySize: \"\",\r\n    foundedYear: \"\",\r\n    website: \"\",\r\n    companyLogo: null,\r\n\r\n    // Contact Info\r\n    contactEmail: \"\",\r\n    contactPhone: \"\",\r\n    address: \"\",\r\n    city: \"\",\r\n    country: \"\",\r\n\r\n    // Company Details\r\n    companyType: \"\",\r\n    culture: \"\",\r\n    benefits: [],\r\n    workEnvironment: \"\",\r\n\r\n    // Categories & Specializations\r\n    categories: [],\r\n    specializations: [],\r\n\r\n    // Hiring Info\r\n    hiringVolume: \"\",\r\n    averageTimeToHire: \"\",\r\n    remoteWorkPolicy: \"\",\r\n\r\n    // Social Media\r\n    linkedinUrl: \"\",\r\n    facebookUrl: \"\",\r\n    twitterUrl: \"\",\r\n\r\n    // Premium Features\r\n    isPremium: false,\r\n    featuredCompany: false,\r\n    prioritySupport: false\r\n  });\r\n\r\n  const [availableCategories, setAvailableCategories] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [snackbar, setSnackbar] = useState({\r\n    open: false,\r\n    message: \"\",\r\n    severity: \"success\"\r\n  });\r\n  const [profileCompleteness, setProfileCompleteness] = useState(0);\r\n\r\n  const steps = [\r\n    {\r\n      label: \"Company Information\",\r\n      description: \"Basic company details\",\r\n      icon: <BusinessIcon />,\r\n      required: true\r\n    },\r\n    {\r\n      label: \"Contact & Location\",\r\n      description: \"How candidates can reach you\",\r\n      icon: <LocationOnIcon />,\r\n      required: true\r\n    },\r\n    {\r\n      label: \"Company Details\",\r\n      description: \"Culture, size, and type\",\r\n      icon: <PeopleIcon />,\r\n      required: true\r\n    },\r\n    {\r\n      label: \"Industry & Categories\",\r\n      description: \"What your company does\",\r\n      icon: <CategoryIcon />,\r\n      required: true\r\n    },\r\n    {\r\n      label: \"Hiring Information\",\r\n      description: \"Your hiring process and policies\",\r\n      icon: <WorkIcon />,\r\n      required: false\r\n    },\r\n    {\r\n      label: \"Social Media\",\r\n      description: \"Connect your online presence\",\r\n      icon: <LinkedInIcon />,\r\n      required: false\r\n    },\r\n    {\r\n      label: \"Premium Features\",\r\n      description: \"Enhance your company profile\",\r\n      icon: <StarIcon />,\r\n      required: false\r\n    }\r\n  ];\r\n\r\n  const industryOptions = [\r\n    \"Technology\",\r\n    \"Finance\",\r\n    \"Healthcare\",\r\n    \"Education\",\r\n    \"Manufacturing\",\r\n    \"Retail\",\r\n    \"Consulting\",\r\n    \"Media & Entertainment\",\r\n    \"Real Estate\",\r\n    \"Transportation\",\r\n    \"Energy\",\r\n    \"Government\",\r\n    \"Non-profit\",\r\n    \"Other\"\r\n  ];\r\n\r\n  const companySizeOptions = [\r\n    \"1-10 employees\",\r\n    \"11-50 employees\",\r\n    \"51-200 employees\",\r\n    \"201-500 employees\",\r\n    \"501-1000 employees\",\r\n    \"1000+ employees\"\r\n  ];\r\n\r\n  const companyTypeOptions = [\r\n    \"Startup\",\r\n    \"Small Business\",\r\n    \"Mid-size Company\",\r\n    \"Large Corporation\",\r\n    \"Non-profit\",\r\n    \"Government Agency\",\r\n    \"Consulting Firm\",\r\n    \"Other\"\r\n  ];\r\n\r\n  const benefitsOptions = [\r\n    \"Health Insurance\",\r\n    \"Dental Insurance\",\r\n    \"Vision Insurance\",\r\n    \"Retirement Plan\",\r\n    \"Paid Time Off\",\r\n    \"Flexible Hours\",\r\n    \"Remote Work\",\r\n    \"Professional Development\",\r\n    \"Gym Membership\",\r\n    \"Free Meals\",\r\n    \"Stock Options\",\r\n    \"Bonus Program\"\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchInitialData();\r\n  }, []);\r\n\r\n  useEffect(\r\n    () => {\r\n      calculateCompleteness();\r\n    },\r\n    [profileData]\r\n  );\r\n\r\n  const fetchInitialData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [profileResponse, categoriesResponse] = await Promise.all([\r\n        getEmployerProfile(),\r\n        getCategories()\r\n      ]);\r\n\r\n      if (profileResponse.data) {\r\n        setProfileData(prev => ({\r\n          ...prev,\r\n          ...profileResponse.data\r\n        }));\r\n      }\r\n\r\n      setAvailableCategories(categoriesResponse.data || []);\r\n    } catch (error) {\r\n      console.error(\"Error fetching initial data:\", error);\r\n      showSnackbar(\"Error loading profile data\", \"error\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const calculateCompleteness = async () => {\r\n    try {\r\n      const response = await calculateEmployerProfileCompleteness(profileData);\r\n      setProfileCompleteness(response.data.completeness || 0);\r\n    } catch (error) {\r\n      console.error(\"Error calculating completeness:\", error);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (field, value) => {\r\n    setProfileData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  };\r\n\r\n  const handleLogoUpload = async event => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      try {\r\n        setLoading(true);\r\n        const formData = new FormData();\r\n        formData.append(\"logo\", file);\r\n\r\n        const response = await uploadCompanyLogo(formData);\r\n        handleInputChange(\"companyLogo\", response.data.logoUrl);\r\n        showSnackbar(\"Company logo uploaded successfully\", \"success\");\r\n      } catch (error) {\r\n        console.error(\"Error uploading logo:\", error);\r\n        showSnackbar(\"Error uploading logo\", \"error\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCategoryAdd = async category => {\r\n    try {\r\n      await addEmployerCategory({ categoryId: category.id });\r\n      setProfileData(prev => ({\r\n        ...prev,\r\n        categories: [...prev.categories, category]\r\n      }));\r\n    } catch (error) {\r\n      console.error(\"Error adding category:\", error);\r\n      showSnackbar(\"Error adding category\", \"error\");\r\n    }\r\n  };\r\n\r\n  const handleCategoryRemove = categoryId => {\r\n    setProfileData(prev => ({\r\n      ...prev,\r\n      categories: prev.categories.filter(cat => cat.id !== categoryId)\r\n    }));\r\n  };\r\n\r\n  const validateStep = stepIndex => {\r\n    switch (stepIndex) {\r\n      case 0: // Company Information\r\n        return (\r\n          profileData.companyName &&\r\n          profileData.companyDescription &&\r\n          profileData.industry\r\n        );\r\n      case 1: // Contact & Location\r\n        return (\r\n          profileData.contactEmail && profileData.city && profileData.country\r\n        );\r\n      case 2: // Company Details\r\n        return profileData.companySize && profileData.companyType;\r\n      case 3: // Industry & Categories\r\n        return profileData.categories.length > 0;\r\n      default:\r\n        return true;\r\n    }\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (validateStep(activeStep)) {\r\n      setCompletedSteps(prev => new Set([...prev, activeStep]));\r\n      setActiveStep(prev => prev + 1);\r\n    } else {\r\n      showSnackbar(\"Please complete all required fields\", \"warning\");\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep(prev => prev - 1);\r\n  };\r\n\r\n  const handleStepClick = stepIndex => {\r\n    setActiveStep(stepIndex);\r\n  };\r\n\r\n  const handleFinish = async () => {\r\n    try {\r\n      setLoading(true);\r\n      await updateEmployerProfile(profileData);\r\n      showSnackbar(\"Company profile setup completed successfully!\", \"success\");\r\n      navigate(\"/employer-dashboard\");\r\n    } catch (error) {\r\n      console.error(\"Error saving profile:\", error);\r\n      showSnackbar(\"Error saving profile\", \"error\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const showSnackbar = (message, severity = \"success\") => {\r\n    setSnackbar({ open: true, message, severity });\r\n  };\r\n\r\n  const renderStepContent = stepIndex => {\r\n    switch (stepIndex) {\r\n      case 0: // Company Information\r\n        return (\r\n          <StepCard>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Company Information\r\n            </Typography>\r\n            <Box sx={{ textAlign: \"center\", mb: 3 }}>\r\n              <Avatar\r\n                src={profileData.companyLogo}\r\n                sx={{ width: 120, height: 120, mx: \"auto\", mb: 2 }}\r\n              >\r\n                <BusinessIcon sx={{ fontSize: 60 }} />\r\n              </Avatar>\r\n              <input\r\n                accept=\"image/*\"\r\n                style={{ display: \"none\" }}\r\n                id=\"company-logo-upload\"\r\n                type=\"file\"\r\n                onChange={handleLogoUpload}\r\n              />\r\n              <label htmlFor=\"company-logo-upload\">\r\n                <IconButton color=\"primary\" component=\"span\">\r\n                  <PhotoCameraIcon />\r\n                </IconButton>\r\n              </label>\r\n              <Typography variant=\"caption\" display=\"block\">\r\n                Upload Company Logo\r\n              </Typography>\r\n            </Box>\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Company Name *\"\r\n              value={profileData.companyName}\r\n              onChange={e => handleInputChange(\"companyName\", e.target.value)}\r\n              sx={{ mb: 3 }}\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Company Description *\"\r\n              multiline\r\n              rows={4}\r\n              value={profileData.companyDescription}\r\n              onChange={e =>\r\n                handleInputChange(\"companyDescription\", e.target.value)}\r\n              placeholder=\"Describe your company, mission, and what makes it unique...\"\r\n              sx={{ mb: 3 }}\r\n            />\r\n\r\n            <FormControl fullWidth sx={{ mb: 3 }}>\r\n              <InputLabel>Industry *</InputLabel>\r\n              <Select\r\n                value={profileData.industry}\r\n                onChange={e => handleInputChange(\"industry\", e.target.value)}\r\n                label=\"Industry *\"\r\n              >\r\n                {industryOptions.map(industry =>\r\n                  <MenuItem key={industry} value={industry}>\r\n                    {industry}\r\n                  </MenuItem>\r\n                )}\r\n              </Select>\r\n            </FormControl>\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Founded Year\"\r\n              type=\"number\"\r\n              value={profileData.foundedYear}\r\n              onChange={e => handleInputChange(\"foundedYear\", e.target.value)}\r\n              inputProps={{ min: 1800, max: new Date().getFullYear() }}\r\n              sx={{ mb: 3 }}\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Company Website\"\r\n              value={profileData.website}\r\n              onChange={e => handleInputChange(\"website\", e.target.value)}\r\n              placeholder=\"https://yourcompany.com\"\r\n            />\r\n          </StepCard>\r\n        );\r\n\r\n      case 1: // Contact & Location\r\n        return (\r\n          <StepCard>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Contact & Location\r\n            </Typography>\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Contact Email *\"\r\n              type=\"email\"\r\n              value={profileData.contactEmail}\r\n              onChange={e => handleInputChange(\"contactEmail\", e.target.value)}\r\n              sx={{ mb: 3 }}\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Contact Phone\"\r\n              value={profileData.contactPhone}\r\n              onChange={e => handleInputChange(\"contactPhone\", e.target.value)}\r\n              sx={{ mb: 3 }}\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Address\"\r\n              value={profileData.address}\r\n              onChange={e => handleInputChange(\"address\", e.target.value)}\r\n              placeholder=\"Street address\"\r\n              sx={{ mb: 3 }}\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"City *\"\r\n              value={profileData.city}\r\n              onChange={e => handleInputChange(\"city\", e.target.value)}\r\n              sx={{ mb: 3 }}\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Country *\"\r\n              value={profileData.country}\r\n              onChange={e => handleInputChange(\"country\", e.target.value)}\r\n            />\r\n          </StepCard>\r\n        );\r\n\r\n      case 2: // Company Details\r\n        return (\r\n          <StepCard>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Company Details\r\n            </Typography>\r\n\r\n            <FormControl fullWidth sx={{ mb: 3 }}>\r\n              <InputLabel>Company Size *</InputLabel>\r\n              <Select\r\n                value={profileData.companySize}\r\n                onChange={e => handleInputChange(\"companySize\", e.target.value)}\r\n                label=\"Company Size *\"\r\n              >\r\n                {companySizeOptions.map(size =>\r\n                  <MenuItem key={size} value={size}>\r\n                    {size}\r\n                  </MenuItem>\r\n                )}\r\n              </Select>\r\n            </FormControl>\r\n\r\n            <FormControl fullWidth sx={{ mb: 3 }}>\r\n              <InputLabel>Company Type *</InputLabel>\r\n              <Select\r\n                value={profileData.companyType}\r\n                onChange={e => handleInputChange(\"companyType\", e.target.value)}\r\n                label=\"Company Type *\"\r\n              >\r\n                {companyTypeOptions.map(type =>\r\n                  <MenuItem key={type} value={type}>\r\n                    {type}\r\n                  </MenuItem>\r\n                )}\r\n              </Select>\r\n            </FormControl>\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Company Culture\"\r\n              multiline\r\n              rows={3}\r\n              value={profileData.culture}\r\n              onChange={e => handleInputChange(\"culture\", e.target.value)}\r\n              placeholder=\"Describe your company culture and values...\"\r\n              sx={{ mb: 3 }}\r\n            />\r\n\r\n            <FormControl fullWidth sx={{ mb: 3 }}>\r\n              <InputLabel>Benefits & Perks</InputLabel>\r\n              <Select\r\n                multiple\r\n                value={profileData.benefits}\r\n                onChange={e => handleInputChange(\"benefits\", e.target.value)}\r\n                label=\"Benefits & Perks\"\r\n                renderValue={selected =>\r\n                  <Box sx={{ display: \"flex\", flexWrap: \"wrap\", gap: 0.5 }}>\r\n                    {selected.map(value =>\r\n                      <Chip key={value} label={value} size=\"small\" />\r\n                    )}\r\n                  </Box>}\r\n              >\r\n                {benefitsOptions.map(benefit =>\r\n                  <MenuItem key={benefit} value={benefit}>\r\n                    {benefit}\r\n                  </MenuItem>\r\n                )}\r\n              </Select>\r\n            </FormControl>\r\n\r\n            <FormControl fullWidth>\r\n              <InputLabel>Work Environment</InputLabel>\r\n              <Select\r\n                value={profileData.workEnvironment}\r\n                onChange={e =>\r\n                  handleInputChange(\"workEnvironment\", e.target.value)}\r\n                label=\"Work Environment\"\r\n              >\r\n                <MenuItem value=\"office\">Traditional Office</MenuItem>\r\n                <MenuItem value=\"open\">Open Office</MenuItem>\r\n                <MenuItem value=\"hybrid\">Hybrid</MenuItem>\r\n                <MenuItem value=\"remote\">Fully Remote</MenuItem>\r\n                <MenuItem value=\"flexible\">Flexible</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </StepCard>\r\n        );\r\n\r\n      case 3: // Industry & Categories\r\n        return (\r\n          <StepCard>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Industry & Categories\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n              Select categories that best describe your company's focus areas\r\n            </Typography>\r\n\r\n            <Autocomplete\r\n              options={availableCategories}\r\n              getOptionLabel={option => option.name}\r\n              onChange={(event, value) => {\r\n                if (\r\n                  value &&\r\n                  !profileData.categories.find(cat => cat.id === value.id)\r\n                ) {\r\n                  handleCategoryAdd(value);\r\n                }\r\n              }}\r\n              renderInput={params =>\r\n                <TextField\r\n                  {...params}\r\n                  label=\"Search and add categories\"\r\n                  placeholder=\"Type to search categories...\"\r\n                />}\r\n              sx={{ mb: 3 }}\r\n            />\r\n\r\n            <Box sx={{ display: \"flex\", flexWrap: \"wrap\", gap: 1, mb: 3 }}>\r\n              {profileData.categories.map(category =>\r\n                <Chip\r\n                  key={category.id}\r\n                  label={category.name}\r\n                  onDelete={() => handleCategoryRemove(category.id)}\r\n                  color=\"primary\"\r\n                  variant=\"outlined\"\r\n                />\r\n              )}\r\n            </Box>\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Specializations\"\r\n              multiline\r\n              rows={3}\r\n              value={profileData.specializations.join(\", \")}\r\n              onChange={e =>\r\n                handleInputChange(\r\n                  \"specializations\",\r\n                  e.target.value.split(\", \")\r\n                )}\r\n              placeholder=\"List your company's key specializations (comma-separated)\"\r\n            />\r\n\r\n            {profileData.categories.length === 0 &&\r\n              <Alert severity=\"info\" sx={{ mt: 2 }}>\r\n                Please add at least one category to continue\r\n              </Alert>}\r\n          </StepCard>\r\n        );\r\n\r\n      case 4: // Hiring Information\r\n        return (\r\n          <StepCard>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Hiring Information\r\n            </Typography>\r\n\r\n            <FormControl fullWidth sx={{ mb: 3 }}>\r\n              <InputLabel>Hiring Volume</InputLabel>\r\n              <Select\r\n                value={profileData.hiringVolume}\r\n                onChange={e =>\r\n                  handleInputChange(\"hiringVolume\", e.target.value)}\r\n                label=\"Hiring Volume\"\r\n              >\r\n                <MenuItem value=\"1-5\">1-5 hires per year</MenuItem>\r\n                <MenuItem value=\"6-20\">6-20 hires per year</MenuItem>\r\n                <MenuItem value=\"21-50\">21-50 hires per year</MenuItem>\r\n                <MenuItem value=\"50+\">50+ hires per year</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n\r\n            <FormControl fullWidth sx={{ mb: 3 }}>\r\n              <InputLabel>Average Time to Hire</InputLabel>\r\n              <Select\r\n                value={profileData.averageTimeToHire}\r\n                onChange={e =>\r\n                  handleInputChange(\"averageTimeToHire\", e.target.value)}\r\n                label=\"Average Time to Hire\"\r\n              >\r\n                <MenuItem value=\"1-2 weeks\">1-2 weeks</MenuItem>\r\n                <MenuItem value=\"3-4 weeks\">3-4 weeks</MenuItem>\r\n                <MenuItem value=\"1-2 months\">1-2 months</MenuItem>\r\n                <MenuItem value=\"2+ months\">2+ months</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n\r\n            <FormControl fullWidth>\r\n              <InputLabel>Remote Work Policy</InputLabel>\r\n              <Select\r\n                value={profileData.remoteWorkPolicy}\r\n                onChange={e =>\r\n                  handleInputChange(\"remoteWorkPolicy\", e.target.value)}\r\n                label=\"Remote Work Policy\"\r\n              >\r\n                <MenuItem value=\"no-remote\">No Remote Work</MenuItem>\r\n                <MenuItem value=\"hybrid\">Hybrid (2-3 days remote)</MenuItem>\r\n                <MenuItem value=\"flexible\">Flexible Remote</MenuItem>\r\n                <MenuItem value=\"fully-remote\">Fully Remote</MenuItem>\r\n                <MenuItem value=\"remote-first\">Remote First</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </StepCard>\r\n        );\r\n\r\n      case 5: // Social Media\r\n        return (\r\n          <StepCard>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Social Media & Online Presence\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n              Connect your company's social media profiles\r\n            </Typography>\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"LinkedIn Company Page\"\r\n              value={profileData.linkedinUrl}\r\n              onChange={e => handleInputChange(\"linkedinUrl\", e.target.value)}\r\n              placeholder=\"https://linkedin.com/company/yourcompany\"\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <LinkedInIcon sx={{ mr: 1, color: \"action.active\" }} />\r\n                )\r\n              }}\r\n              sx={{ mb: 3 }}\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Facebook Page\"\r\n              value={profileData.facebookUrl}\r\n              onChange={e => handleInputChange(\"facebookUrl\", e.target.value)}\r\n              placeholder=\"https://facebook.com/yourcompany\"\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <FacebookIcon sx={{ mr: 1, color: \"action.active\" }} />\r\n                )\r\n              }}\r\n              sx={{ mb: 3 }}\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Twitter Profile\"\r\n              value={profileData.twitterUrl}\r\n              onChange={e => handleInputChange(\"twitterUrl\", e.target.value)}\r\n              placeholder=\"https://twitter.com/yourcompany\"\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <TwitterIcon sx={{ mr: 1, color: \"action.active\" }} />\r\n                )\r\n              }}\r\n            />\r\n          </StepCard>\r\n        );\r\n\r\n      case 6: // Premium Features\r\n        return (\r\n          <StepCard>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Premium Features\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n              Enhance your company profile with premium features\r\n            </Typography>\r\n\r\n            <Card variant=\"outlined\" sx={{ mb: 3 }}>\r\n              <CardContent>\r\n                <Box\r\n                  sx={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-between\",\r\n                    alignItems: \"center\"\r\n                  }}\r\n                >\r\n                  <Box>\r\n                    <Typography variant=\"h6\">\r\n                      Premium Company Profile\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      Enhanced visibility, priority in search results, and\r\n                      advanced analytics\r\n                    </Typography>\r\n                  </Box>\r\n                  <Switch\r\n                    checked={profileData.isPremium}\r\n                    onChange={e =>\r\n                      handleInputChange(\"isPremium\", e.target.checked)}\r\n                  />\r\n                </Box>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card variant=\"outlined\" sx={{ mb: 3 }}>\r\n              <CardContent>\r\n                <Box\r\n                  sx={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-between\",\r\n                    alignItems: \"center\"\r\n                  }}\r\n                >\r\n                  <Box>\r\n                    <Typography variant=\"h6\">Featured Company</Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      Appear in featured companies section and job\r\n                      recommendations\r\n                    </Typography>\r\n                  </Box>\r\n                  <Switch\r\n                    checked={profileData.featuredCompany}\r\n                    onChange={e =>\r\n                      handleInputChange(\"featuredCompany\", e.target.checked)}\r\n                  />\r\n                </Box>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card variant=\"outlined\">\r\n              <CardContent>\r\n                <Box\r\n                  sx={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-between\",\r\n                    alignItems: \"center\"\r\n                  }}\r\n                >\r\n                  <Box>\r\n                    <Typography variant=\"h6\">Priority Support</Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      24/7 priority customer support and dedicated account\r\n                      manager\r\n                    </Typography>\r\n                  </Box>\r\n                  <Switch\r\n                    checked={profileData.prioritySupport}\r\n                    onChange={e =>\r\n                      handleInputChange(\"prioritySupport\", e.target.checked)}\r\n                  />\r\n                </Box>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {(profileData.isPremium ||\r\n              profileData.featuredCompany ||\r\n              profileData.prioritySupport) &&\r\n              <Alert severity=\"info\" sx={{ mt: 2 }}>\r\n                Premium features require a subscription. You can set up billing\r\n                after completing your profile.\r\n              </Alert>}\r\n          </StepCard>\r\n        );\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return <WizardContainer maxWidth=\"lg\">\r\n      {/* Snackbar for alerts */}\r\n      <Snackbar open={snackbar.open} autoHideDuration={6000} onClose={() => setSnackbar(\r\n            { ...snackbar, open: false }\r\n          )}>\r\n        <Alert onClose={() => setSnackbar({\r\n              ...snackbar,\r\n              open: false\r\n            })} severity={snackbar.severity} sx={{ width: \"100%\" }}>\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n\r\n      {/* Main Grid Container */}\r\n      <Grid container spacing={3}>\r\n        {/* Main Content (Left Side - 8 columns on desktop) */}\r\n        <Grid item xs={12} md={8}>\r\n          <Box sx={{ mb: 4 }}>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n              Complete Your Company Profile\r\n            </Typography>\r\n            <Typography variant=\"body1\" color=\"text.secondary\">\r\n              Set up your company profile to attract top talent\r\n            </Typography>\r\n          </Box>\r\n\r\n          {renderStepContent(activeStep)}\r\n\r\n          {/* Navigation Buttons */}\r\n          <Box sx={{ display: \"flex\", justifyContent: \"space-between\", mt: 3 }}>\r\n            <Button onClick={handleBack} disabled={activeStep === 0} variant=\"outlined\">\r\n              Back\r\n            </Button>\r\n            <Box>\r\n              {activeStep === steps.length - 1 ? <Button onClick={handleFinish} variant=\"contained\" size=\"large\" disabled={loading}>\r\n                    {loading ? \"Saving...\" : \"Complete Setup\"}\r\n                  </Button> : <Button onClick={handleNext} variant=\"contained\" disabled={!validateStep(activeStep)}>\r\n                    Next\r\n                  </Button>}\r\n            </Box>\r\n          </Box>\r\n        </Grid>\r\n\r\n        {/* Progress Sidebar (Right Side - 4 columns on desktop) */}\r\n        <Grid item xs={12} md={4}>\r\n          <ProgressCard sx={{ mt:15}}>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Profile Completion\r\n              </Typography>\r\n              <Box sx={{ display: \"flex\", alignItems: \"center\", mb: 2 }}>\r\n                <LinearProgress variant=\"determinate\" value={profileCompleteness} sx={{ flex: 1, mr: 2 }} />\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  {profileCompleteness}%\r\n                </Typography>\r\n              </Box>\r\n\r\n              <Stepper activeStep={activeStep} orientation=\"vertical\">\r\n                {steps.map((step, index) =>\r\n                  <Step\r\n                    key={step.label}\r\n                    completed={completedSteps.has(index)}\r\n                  >\r\n                    <StepLabel\r\n                      onClick={() => handleStepClick(index)}\r\n                      sx={{ cursor: \"pointer\" }}\r\n                      icon={\r\n                        completedSteps.has(index)\r\n                          ? <CheckCircleIcon color=\"success\" />\r\n                          : step.icon\r\n                      }\r\n                    >\r\n                      <Box>\r\n                        <Typography variant=\"body2\" fontWeight=\"bold\">\r\n                          {step.label}\r\n                          {step.required &&\r\n                            <span style={{ color: \"red\" }}> *</span>}\r\n                        </Typography>\r\n                        <Typography variant=\"caption\" color=\"text.secondary\">\r\n                          {step.description}\r\n                        </Typography>\r\n                      </Box>\r\n                    </StepLabel>\r\n                  </Step>\r\n                )}\r\n              </Stepper>\r\n            </CardContent>\r\n          </ProgressCard>\r\n        </Grid>\r\n      </Grid>\r\n    </WizardContainer>;\r\n}\r\n\r\nexport default EmployerSetupWizard;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\EmployerTabs.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\EmployerTabs_OLD.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 39,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 39,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                921,
                956
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useCallback, useMemo, useEffect, startTransition } from 'react';\r\nimport {\r\n  Box,\r\n  CssBaseline,\r\n  Tabs,\r\n  Tab,\r\n  Typography,\r\n  Container,\r\n  useMediaQuery,\r\n  useTheme,\r\n  Paper,\r\n  Divider,\r\n  Grid,\r\n  Card,\r\n  CardContent,\r\n  IconButton,\r\n  Badge\r\n} from \"@mui/material\";\r\nimport { useNavigate, useSearchParams } from 'react-router-dom';\r\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\r\nimport {\r\n  Search,\r\n  Work,\r\n  VideoLibrary,\r\n  Person,\r\n  PostAdd,\r\n  Analytics,\r\n  Notifications,\r\n  Settings as SettingsIcon,\r\n  Business,\r\n  Edit\r\n} from '@mui/icons-material';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport Header from '../components/Headers/admin/Header';\r\nimport Footer from '../components/Headers/admin/Footer';\r\nimport FloatingNavigationPanel from '../components/FloatingNavigationPanel';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\nimport { getEmployerTabCategories } from '../config/employerTabsConfig';\r\nimport { getEmployerStats } from '@/services/api';\r\n\r\n// Import Employer specific pages\r\nimport CandidateSearchPage from './CandidateSearchPage';\r\nimport JobPostingForm from './JobPostingForm';\r\nimport CompanyVideos from './CompanyVideos';\r\nimport NotificationSettingsPage from './NotificationSettingsPage';\r\nimport AllVideosPage from './AllVideosPage';\r\nimport VideoEditPage from './VideoEditPage';\r\nimport JobsListingPage from './JobsListingPage';\r\nimport EmployerProfilePage from './EmployerProfilePage';\r\nimport Settings from './Settings';\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`employer-tabpanel-${index}`}\r\n      aria-labelledby={`employer-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ py: 2 }}>\r\n          {children}\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst a11yProps = (index) => {\r\n  return {\r\n    id: `employer-tab-${index}`,\r\n    'aria-controls': `employer-tabpanel-${index}`,\r\n  };\r\n};\r\n\r\nconst EmployerTabs = () => {\r\n  const { t } = useTranslation();\r\n  const [darkMode, setDarkMode] = useState(true);\r\n  const [currentTab, setCurrentTab] = useState(0);\r\n  const { user, role } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\r\n  const [stats, setStats] = useState({\r\n    activeJobs: 0,\r\n    newApplications: 0,\r\n    companyVideos: 0,\r\n    profileViews: 0\r\n  });\r\n\r\n  // Read tab group and tab from URL\r\n  const tabCategoryKey = searchParams.get('group') || 'dashboard';\r\n  const tabParam = searchParams.get('tab') || 'overview';\r\n\r\n  // Get translated tab categories\r\n  const employerTabCategories = useMemo(() => getEmployerTabCategories(t), [t]);\r\n\r\n  // Find the category to display\r\n  const tabCategory = useMemo(() =>\r\n    employerTabCategories.find(cat => cat.key === tabCategoryKey) || employerTabCategories[0],\r\n    [tabCategoryKey, employerTabCategories]\r\n  );\r\n  const filteredTabs = tabCategory.tabs;\r\n\r\n  // Find tab index by tab path\r\n  useEffect(() => {\r\n    if (tabParam) {\r\n      const index = filteredTabs.findIndex(tab => tab.path === tabParam);\r\n      if (index !== -1) {\r\n        setCurrentTab(index);\r\n      } else {\r\n        setCurrentTab(0);\r\n      }\r\n    } else {\r\n      setCurrentTab(0);\r\n    }\r\n  }, [tabParam, filteredTabs]);\r\n\r\n  // When tab is changed, update both tab and group in URL\r\n  const handleTabChange = useCallback((event, newValue) => {\r\n    setCurrentTab(newValue);\r\n    // Use React.startTransition to align with v7_startTransition behavior\r\n    startTransition(() => {\r\n      setSearchParams({ group: tabCategory.key, tab: filteredTabs[newValue].path });\r\n    });\r\n  }, [filteredTabs, tabCategory, setSearchParams]);\r\n\r\n  const customTheme = useMemo(() =>\r\n    createTheme({\r\n      palette: {\r\n        mode: darkMode ? 'dark' : 'light',\r\n        primary: {\r\n          main: darkMode ? '#a78bfa' : '#4f46e5',\r\n          contrastText: darkMode ? '#ffffff' : '#ffffff',\r\n        },\r\n        secondary: {\r\n          main: darkMode ? '#4ade80' : '#059669',\r\n        },\r\n        background: {\r\n          default: darkMode ? '#0f0f23' : '#f8fafc',\r\n          paper: darkMode ? '#1a1b3a' : '#ffffff',\r\n          paper2: darkMode ? '#2d2e5f' : '#f1f5f9',\r\n          hover: darkMode ? '#232b52ff' : '#e2e8f0',\r\n          selected: darkMode ? '#afbcfaff' : '#3f4b81ff',\r\n        },\r\n        divider: darkMode ? '#374151' : '#e5e7eb',\r\n        text: {\r\n          primary: darkMode ? '#f1f5f9' : '#0f172a',\r\n          secondary: darkMode ? '#cbd5e1' : '#475569',\r\n        }\r\n      },\r\n      typography: {\r\n        fontFamily: '\"Inter\", \"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n        h4: {\r\n          fontWeight: 700,\r\n          fontSize: '2rem',\r\n        },\r\n        h6: {\r\n          fontWeight: 600,\r\n        }\r\n      },\r\n      shape: {\r\n        borderRadius: 12,\r\n      },\r\n      components: {\r\n        MuiButton: {\r\n          styleOverrides: {\r\n            root: {\r\n              borderRadius: 8,\r\n              textTransform: 'none',\r\n              fontWeight: 600,\r\n            },\r\n          },\r\n        },\r\n        MuiCard: {\r\n          styleOverrides: {\r\n            root: {\r\n              boxShadow: darkMode \r\n                ? '0 4px 6px rgba(0, 0, 0, 0.3)' \r\n                : '0 4px 6px rgba(0, 0, 0, 0.1)',\r\n              transition: 'all 0.2s ease-in-out',\r\n              '&:hover': {\r\n                transform: 'translateY(-2px)',\r\n                boxShadow: darkMode \r\n                  ? '0 8px 25px rgba(0, 0, 0, 0.4)' \r\n                  : '0 8px 25px rgba(0, 0, 0, 0.15)',\r\n              }\r\n            },\r\n          },\r\n        },\r\n        MuiTabs: {\r\n          styleOverrides: {\r\n            root: {\r\n              minHeight: 48,\r\n            },\r\n            indicator: {\r\n              backgroundColor: darkMode ? '#a78bfa' : '#4f46e5',\r\n              height: 3,\r\n              borderRadius: '3px 3px 0 0',\r\n            },\r\n          },\r\n        },\r\n        MuiTab: {\r\n          styleOverrides: {\r\n            root: {\r\n              textTransform: 'none',\r\n              fontWeight: 500,\r\n              fontSize: '0.875rem',\r\n              minHeight: 48,\r\n              '&.Mui-selected': {\r\n                fontWeight: 600,\r\n              }\r\n            },\r\n          },\r\n        },\r\n      },\r\n    }),\r\n    [darkMode],\r\n  );\r\n\r\n  // Redirect if not employer\r\n  // useEffect(() => {\r\n  //   if (user && role !== 'employer') {\r\n  //     if (role === 'job_seeker') navigate('/jobseeker-tabs');\r\n  //     else if (role === 'admin') navigate('/admin-dashboard');\r\n  //     else navigate('/');\r\n  //   }\r\n  // }, [user, role, navigate]);\r\n\r\n  useEffect(() => {\r\n    const fetchStats = async () => {\r\n      try {\r\n        const statsResponse = await getEmployerStats();\r\n        if (statsResponse && statsResponse.data) {\r\n          setStats(statsResponse.data);\r\n        } else {\r\n          console.error(\"Unexpected API response format:\", statsResponse);\r\n          setStats({\r\n            activeJobs: 0,\r\n            newApplications: 0,\r\n            companyVideos: 0,\r\n            profileViews: 0\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch employer stats:\", error);\r\n        setStats({\r\n          activeJobs: 0,\r\n          newApplications: 0,\r\n          companyVideos: 0,\r\n          profileViews: 0\r\n        });\r\n      }\r\n    };\r\n\r\n    fetchStats();\r\n  }, []);\r\n\r\n  // Replace the simple equality check with a robust inclusion check that supports both\r\n  // string roles and array roles (AuthContext may store roles as an array).\r\n  const isEmployer = Array.isArray(role) ? role.includes('employer') : role === 'employer';\r\n\r\n  if (!user || !isEmployer) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <ThemeProvider theme={customTheme}>\r\n      <CssBaseline />\r\n      <Box sx={{\r\n        flexGrow: 1,\r\n        minHeight: '100vh',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        bgcolor: 'background.default',\r\n      }}>\r\n        <Header darkMode={darkMode} setDarkMode={setDarkMode} />\r\n\r\n        {/* Floating Navigation Panel */}\r\n        <FloatingNavigationPanel \r\n          role={role} \r\n          onPageChange={(pagePath) => navigate(pagePath)} \r\n        />\r\n\r\n        <Container maxWidth=\"xl\" sx={{ mt: { xs: 2, md: 3 }, mb: { xs: 3, md: 4 }, flexGrow: 1 }}>\r\n          {/* Welcome Section */}\r\n          <Box sx={{ mb: { xs: 3, md: 4 } }}>\r\n            <Typography\r\n              variant=\"h5\"\r\n              component=\"h1\"\r\n              gutterBottom\r\n              sx={{\r\n                fontSize: { xs: \"1.5rem\", md: \"2rem\" }, // Adjust font size for mobile\r\n                fontWeight: \"bold\",\r\n              }}\r\n            >\r\n              Welcome back, {user?.companyName || 'Employer'}! ðŸ¢\r\n            </Typography>\r\n            <Typography\r\n              variant=\"body2\"\r\n              color=\"text.secondary\"\r\n              sx={{\r\n                fontSize: { xs: \"0.9rem\", md: \"1rem\" }, // Adjust font size for mobile\r\n              }}\r\n            >\r\n              Manage your hiring process, company profile, and find the best talent for your team.\r\n            </Typography>\r\n          </Box>\r\n\r\n          {/* Quick Stats Cards */}\r\n          <Grid container spacing={{ xs: 2, md: 3 }} sx={{ mb: { xs: 3, md: 4 } }}>\r\n            <Grid item xs={6} sm={4} md={3}>\r\n              <Card>\r\n                <CardContent sx={{ textAlign: 'center' }}>\r\n                  <Badge badgeContent={(stats.activeJobs ?? 0) == 0 ? '0' : stats.activeJobs} color=\"primary\">\r\n                    <Work color=\"primary\" sx={{ fontSize: { xs: 30, md: 40 } }} />\r\n                  </Badge>\r\n                  <Typography\r\n                    variant=\"body2\"\r\n                    sx={{\r\n                      mt: 1,\r\n                      fontSize: { xs: \"0.8rem\", md: \"1rem\" }, // Adjust font size for mobile\r\n                    }}\r\n                  >\r\n                    Active Jobs\r\n                  </Typography>\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n            <Grid item xs={6} sm={4} md={3}>\r\n              <Card>\r\n                <CardContent sx={{ textAlign: 'center' }}>\r\n                  <Badge badgeContent={(stats.newApplications ?? 0) == 0 ? '0' : stats.newApplications} color=\"secondary\">\r\n                    <Person color=\"secondary\" sx={{ fontSize: 40 }} />\r\n                  </Badge>\r\n                  <Typography variant=\"h6\" sx={{ mt: 1 }}>\r\n                    New Applications\r\n                  </Typography>\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n            <Grid item xs={6} sm={4} md={3}>\r\n              <Card>\r\n                <CardContent sx={{ textAlign: 'center' }}>\r\n                  <Badge badgeContent={(stats.companyVideos ?? 0) == 0 ? '0' : stats.companyVideos} color=\"info\">\r\n                    <VideoLibrary color=\"info\" sx={{ fontSize: 40 }} />\r\n                  </Badge>\r\n                  <Typography variant=\"h6\" sx={{ mt: 1 }}>\r\n                    Company Videos\r\n                  </Typography>\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n            <Grid item xs={6} sm={4} md={3}>\r\n              <Card>\r\n                <CardContent sx={{ textAlign: 'center' }}>\r\n                  <Badge badgeContent={(stats.profileViews ?? 0) == 0 ? '0' : stats.profileViews} color=\"warning\">\r\n                    <Analytics color=\"warning\" sx={{ fontSize: 40 }} />\r\n                  </Badge>\r\n                  <Typography variant=\"h6\" sx={{ mt: 1 }}>\r\n                    Profile Views\r\n                  </Typography>\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          {/* Main Navigation Tabs */}\r\n          <Paper elevation={2} sx={{ mb: { xs: 2, md: 3 } }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n              <Tabs\r\n                value={currentTab}\r\n                onChange={handleTabChange}\r\n                aria-label=\"Employer Dashboard Tabs\"\r\n                variant={isMobile ? \"scrollable\" : \"standard\"}\r\n                scrollButtons=\"auto\"\r\n                allowScrollButtonsMobile\r\n                sx={{\r\n                  px: { xs: 1, md: 2 },\r\n                  '& .MuiTab-root': {\r\n                    fontSize: { xs: \"0.8rem\", md: \"1rem\" }, // Adjust font size for mobile\r\n                  },\r\n                }}\r\n              >\r\n                {filteredTabs.map((tab, index) => (\r\n                  <Tab \r\n                    key={tab.path} \r\n                    label={\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                        {React.createElement(tab.icon, { sx: { fontSize: { xs: 20, md: 24 } } })}\r\n                        <span>{tab.label}</span>\r\n                      </Box>\r\n                    }\r\n                    {...a11yProps(index)}\r\n                  />\r\n                ))}\r\n              </Tabs>\r\n            </Box>\r\n\r\n            {/* Tab Content */}\r\n            {filteredTabs.map((tab, index) => (\r\n              <TabPanel key={tab.path} value={currentTab} index={index}>\r\n                <Box sx={{ p: 2 }}>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n                    {tab.description}\r\n                  </Typography>\r\n                  {tab.context\r\n                    ? React.createElement(tab.component, { context: tab.context })\r\n                    : React.createElement(tab.component)}\r\n                </Box>\r\n              </TabPanel>\r\n            ))}\r\n          </Paper>\r\n        </Container>\r\n\r\n        <Footer />\r\n      </Box>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default EmployerTabs;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\EmployerViedoExamples.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useEffect' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 47,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 56,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useEffect"
            },
            "fix": {
              "range": [
                44,
                55
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useEffect'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'drawerWidthDesktop' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 151,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 151,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "drawerWidthDesktop"
            },
            "fix": {
              "range": [
                4127,
                4157
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'drawerWidthDesktop'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'drawerWidthMobile' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 152,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 152,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "drawerWidthMobile"
            },
            "fix": {
              "range": [
                4161,
                4190
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'drawerWidthMobile'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'toggleDrawer' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 154,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 154,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "toggleDrawer"
            },
            "fix": {
              "range": [
                4196,
                4263
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'toggleDrawer'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'drawerContent' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 158,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 158,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "drawerContent"
            },
            "fix": {
              "range": [
                4269,
                6492
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'drawerContent'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState, useRef, useEffect  } from 'react';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n  Box,\r\n  Drawer,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  Avatar,\r\n  Typography,\r\n  useTheme,\r\n  useMediaQuery\r\n} from \"@mui/material\";\r\nimport {\r\n  Home,\r\n  Search,\r\n  Group,\r\n  Bookmark,\r\n  Settings,\r\n  VideoLibrary,\r\n  Menu,\r\n  PlayArrow\r\n} from \"@mui/icons-material\";\r\n\r\n\r\n// --- Mock Data for Video Resumes (using Cloudinary URLs from previous example) ---\r\n\r\n const mockVideoResumes = [\r\n    {\r\n    id: '1', \r\n    title: \"Corporate Solutions Inc. - Company Overview\", \r\n    experience: \"Leading Consulting Firm since 2005\", \r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935032/Employer/grfwutcixeecejrsqu7o.mp4'\r\n  }\r\n];\r\n \r\n\r\n// --- Playable Video Preview Component ---\r\nconst PlayableVideoPreview = ({ title, experience, videoUrl, onClick }) => {\r\n  const theme = useTheme();\r\n  const videoRef = useRef(null);\r\n  const [isPlaying, setIsPlaying] = useState(false); // Initially paused\r\n\r\n  const handleMouseEnter = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.play().catch(e => console.error(\"Video autoplay on hover failed:\", e));\r\n      setIsPlaying(true);\r\n    }\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.pause();\r\n      setIsPlaying(false);\r\n      videoRef.current.currentTime = 0; // Reset video to start\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      onClick={onClick}\r\n      onMouseEnter={handleMouseEnter}\r\n      onMouseLeave={handleMouseLeave}\r\n      sx={{\r\n        position: \"relative\",\r\n        borderRadius: 2,\r\n        overflow: \"hidden\",\r\n         pt:2,\r\n        aspectRatio: \"9/16\", // Standard vertical video aspect ratio\r\n        bgcolor: theme.palette.action.hover,\r\n        cursor: \"pointer\",\r\n        transition: \"transform 0.2s\",\r\n        \"&:hover\": {\r\n          transform: \"scale(1.02)\",\r\n        }\r\n      }}\r\n    >\r\n      <video\r\n        ref={videoRef}\r\n        src={videoUrl}\r\n        loop // Loop the video preview\r\n        // muted //Mute by default for autoplay on hover\r\n        playsInline // Important for mobile browsers\r\n        preload=\"metadata\" // Load enough data to get duration/dimensions\r\n        style={{\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n          objectFit: \"cover\",\r\n          opacity: 0.9,\r\n          \r\n          display: 'block' // Remove extra space below video\r\n        }}\r\n      />\r\n\r\n      {/* Play Icon - Visible when not playing on hover */}\r\n      {!isPlaying && (\r\n        <Box\r\n          className=\"play-icon-overlay\"\r\n          sx={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -50%)\",\r\n            color: \"#fff\",\r\n            bgcolor: \"rgba(255, 64, 129, 0.7)\", // Pinkish red\r\n            borderRadius: \"50%\",\r\n            p: 2,\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            opacity: 1, // Always visible when paused\r\n            transition: \"opacity 0.3s\",\r\n          }}\r\n        >\r\n          <PlayArrow fontSize=\"large\" />\r\n        </Box>\r\n      )}\r\n\r\n\r\n      <Box\r\n        sx={{\r\n          position: \"absolute\",\r\n          bottom: 0,\r\n          left: 0,\r\n          right: 0,\r\n          p: 2,\r\n          background: \"linear-gradient(transparent, rgba(0,0,0,0.8))\",\r\n          color: '#fff' // Ensure text is white\r\n        }}\r\n      >\r\n        <Typography variant=\"subtitle2\" color=\"inherit\" fontWeight=\"bold\">\r\n          {title}\r\n        </Typography>\r\n        <Typography variant=\"caption\" color=\"rgba(255,255,255,0.8)\">\r\n          {experience} \r\n        </Typography>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\n// --- EmployerExplorePublic Component ---\r\nconst EmployerExplorePublic = () => {\r\n  const [activeTab, setActiveTab] = useState(\"candidates\");\r\n  const [mobileOpen, setMobileOpen] = useState(false);\r\n  const navigate = useNavigate();\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n\r\n  const drawerWidthDesktop = 80;\r\n  const drawerWidthMobile = 60;\r\n\r\n  const toggleDrawer = () => {\r\n    setMobileOpen(!mobileOpen);\r\n  };\r\n\r\n  const drawerContent = <Box sx={{\r\n  //backgroundclr\r\n        height: \"100vh\", display: \"flex\", flexDirection: \"column\", alignItems: \"center\", pt: 2, \"& .MuiListItem-root\": { color: \"rgb(39, 56, 83)\", \"&.Mui-selected\": { color: \"#ffffff\" } } }}>\r\n      <Avatar src=\"/employer-logo.png\" sx={{ width: isMobile ? 36 : 48, height: isMobile ? 36 : 48, mb: 3, border: `2px solid ${theme.palette.text.primary}` }} />\r\n\r\n      <List sx={{ width: \"100%\" }}>\r\n        {[{ icon: <Home fontSize={isMobile ? \"small\" : \"medium\"} />, value: \"home\" }, { icon: <Search fontSize={isMobile ? \"small\" : \"medium\"} />, value: \"search\" }, { icon: <Group fontSize={isMobile ? \"small\" : \"medium\"} />, value: \"candidates\" }, { icon: <Bookmark fontSize={isMobile ? \"small\" : \"medium\"} />, value: \"saved\" }, { icon: <VideoLibrary fontSize={isMobile ? \"small\" : \"medium\"} />, value: \"video-resumes\" }].map(\r\n          item =>\r\n            <ListItem\r\n              key={item.value}\r\n              component=\"div\"\r\n              selected={activeTab === item.value}\r\n              onClick={() => {\r\n                setActiveTab(item.value);\r\n                if (isMobile) setMobileOpen(false);\r\n                if (item.value === \"home\") navigate(\"/\");\r\n              }}\r\n              sx={{\r\n                justifyContent: \"center\",\r\n                py: 0,\r\n                cursor: \"pointer\",\r\n                \"&.Mui-selected\": {\r\n                  borderLeft: `3px solid ${theme.palette.primary.main}`\r\n                }\r\n              }}\r\n            >\r\n              <ListItemIcon\r\n                sx={{\r\n                  minWidth: \"auto\",\r\n                  color:\r\n                    activeTab === item.value\r\n                      ? theme.palette.primary.main\r\n                      : theme.palette.text.primary\r\n                }}\r\n              >\r\n                {item.icon}\r\n              </ListItemIcon>\r\n            </ListItem>\r\n        )}\r\n      </List>\r\n\r\n      <Box sx={{ mt: \"auto\", pb: 2, display: \"flex\", justifyContent: \"center\" }}>\r\n        <IconButton sx={{ color: theme.palette.text.white, p: isMobile ? 0.5 : 1 }}>\r\n          <Settings fontSize={isMobile ? \"small\" : \"medium\"} />\r\n        </IconButton>\r\n      </Box>\r\n    </Box>;\r\n\r\n  return (\r\n    <Box sx={{ display: \"flex\" }}>\r\n      {/* Mobile Menu Icon */}\r\n      {/* {isMobile && (\r\n        <IconButton\r\n          color=\"#ffffff\"\r\n          aria-label=\"open drawer\"\r\n          onClick={toggleDrawer}\r\n          sx={{\r\n            position: \"fixed\",\r\n            top: 16,\r\n            left: 16,\r\n            zIndex: theme.zIndex.drawer + 1,\r\n            color: \"#ffffff\",\r\n          }}\r\n        >\r\n          <Menu />\r\n        </IconButton>\r\n      )}\r\n\r\n       Responsive Drawer \r\n      <Drawer\r\n        variant={isMobile ? \"temporary\" : \"permanent\"}\r\n        open={isMobile ? mobileOpen : true}\r\n        onClose={toggleDrawer}\r\n        ModalProps={{ keepMounted: true }}\r\n        sx={{\r\n          width: isMobile ? drawerWidthMobile : drawerWidthDesktop,\r\n          flexShrink: 0,\r\n          \"& .MuiDrawer-paper\": {\r\n            width: isMobile ? drawerWidthMobile : drawerWidthDesktop,\r\n            boxSizing: \"border-box\",\r\n            borderRight: \"none\",\r\n            bgcolor: theme.palette.background.paper,\r\n            display: \"flex\",\r\n            flexDirection: \"column\"\r\n          }\r\n        }}\r\n      >\r\n        {drawerContent}\r\n      </Drawer> */}\r\n\r\n      {/* Main Content */}\r\n      <Box\r\n        component=\"main\"\r\n        sx={{\r\n          flexGrow: 1,\r\n          p: 2,\r\n          mt: 0,\r\n          pl:5,\r\n          height: \"100vh\",\r\n           bgcolor: 'background.jobseeker',\r\n          overflowY: \"auto\"\r\n        }}\r\n      >\r\n        <Box\r\n          sx={{\r\n            display: \"grid\",\r\n            gridTemplateColumns: \"repeat(auto-fill, minmax(300px, 1fr))\",\r\n            gap: 2\r\n          }}\r\n        >\r\n          {mockVideoResumes.map(video => (\r\n            <PlayableVideoPreview\r\n              key={video.id}\r\n              title={video.title}\r\n              experience={video.experience}\r\n              videoUrl={video.videoUrl} // Pass the video URL\r\n              onClick={() => navigate(`/video-feed/${video.id}`)} // Navigate to feed on click\r\n            />\r\n          ))}\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default EmployerExplorePublic;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\ExploreJobs.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useEffect' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 47,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 56,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useEffect"
            },
            "fix": {
              "range": [
                44,
                55
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useEffect'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 72,
        "column": 36,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 72,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                1517,
                1526
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState, useRef, useEffect  } from 'react';\r\nimport {\r\n  Box,\r\n  Grid,\r\n  IconButton,\r\n  Typography,\r\n  Chip,\r\n  Stack,\r\n  Avatar,\r\n  CircularProgress,\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Button,\r\n  TextField,\r\n  InputAdornment,\r\n  Tabs,\r\n  Tab,\r\n  Paper,\r\n  useTheme\r\n} from '@mui/material';\r\nimport Close from '@mui/icons-material/Close';\r\nimport {\r\n  Search,\r\n  FilterList,\r\n  FavoriteBorder,\r\n  Favorite,\r\n  BookmarkBorder,\r\n  Bookmark,\r\n  Share,\r\n  MoreVert,\r\n  PlayArrow,\r\n  Pause,\r\n  LocationOn,\r\n  Business,\r\n  Work,\r\n  AttachMoney,\r\n  Schedule\r\n} from '@mui/icons-material';\r\nimport { styled } from '@mui/system';\r\n\r\nconst VideoOverlay = styled('div')({\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n    padding: '16px',\r\n    background: 'linear-gradient(transparent, rgba(0,0,0,0.7))',\r\n    color: '#fff',\r\n  });\r\n\r\n// Mock data - replace with API calls\r\nconst mockJobVideos = [\r\n  {\r\n    id: '1',\r\n    company: 'TechCorp',\r\n    jobTitle: 'Frontend Developer',\r\n    videoUrl: 'public/videos/vid2.mkv',\r\n    logoUrl: 'src/public/logo.jpg',\r\n    tags: ['React', 'JavaScript', 'Remote'],\r\n    description: 'Join our team to build amazing user experiences with React and modern frontend technologies.',\r\n    location: 'San Francisco, CA',\r\n    salary: '$90,000 - $120,000',\r\n    employmentType: 'Full-time',\r\n    posted: '2 days ago',\r\n    saved: false,\r\n    liked: false\r\n  },\r\n  // Add more mock data\r\n];\r\n\r\nconst VideoCard = styled(Paper)(({ theme }) => ({\r\n  position: 'relative',\r\n  borderRadius: '16px',\r\n  overflow: 'hidden',\r\n  height: '300px',\r\n  backgroundColor: '#000',\r\n  cursor: 'pointer',\r\n   transition: 'transform 0.3s',\r\n  '&:hover': {\r\n    transform: 'scale(1.02)',\r\n    boxShadow: '0px 3px 5px -1px rgba(0,0,0,0.2), 0px 6px 10px 0px rgba(0,0,0,0.14), 0px 1px 18px 0px rgba(0,0,0,0.12)' // MUI shadow 4 equivalent\r\n  }\r\n}));\r\n\r\nconst VideoPlayer = styled('video')({\r\n  width: '100%',\r\n  height: '100%',\r\n  objectFit: 'cover',\r\n});\r\n\r\n\r\n\r\n\r\nconst JobSeekerExplore = () => {\r\n  const [videos, setVideos] = useState(mockJobVideos);\r\n  const [selectedVideo, setSelectedVideo] = useState(null);\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [activeTab, setActiveTab] = useState(0);\r\n  const [playingVideo, setPlayingVideo] = useState(null);\r\n  const videoRefs = useRef({});\r\n\r\n  const handleVideoClick = (video) => {\r\n    setSelectedVideo(video);\r\n    setOpenDialog(true);\r\n  };\r\n\r\n  const togglePlay = (videoId, event) => {\r\n    event.stopPropagation();\r\n    if (playingVideo === videoId) {\r\n      videoRefs.current[videoId].pause();\r\n      setPlayingVideo(null);\r\n    } else {\r\n      if (playingVideo) {\r\n        videoRefs.current[playingVideo].pause();\r\n      }\r\n      videoRefs.current[videoId].play();\r\n      setPlayingVideo(videoId);\r\n    }\r\n  };\r\n\r\n  const toggleLike = (videoId, event) => {\r\n    event.stopPropagation();\r\n    setVideos(videos.map(video => \r\n      video.id === videoId ? { ...video, liked: !video.liked } : video\r\n    ));\r\n  };\r\n\r\n  const toggleSave = (videoId, event) => {\r\n    event.stopPropagation();\r\n    setVideos(videos.map(video => \r\n      video.id === videoId ? { ...video, saved: !video.saved } : video\r\n    ));\r\n  };\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setActiveTab(newValue);\r\n    // In a real app, you would filter videos based on the tab\r\n  };\r\n\r\n  const filteredVideos = videos.filter(video =>\r\n    video.jobTitle.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n    video.company.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n    video.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase()))\r\n  );\r\n\r\n    const theme = useTheme(); // Get current theme\r\n\r\n  return <Box sx={{ p: 3,\r\n        //backgroundclr\r\n        backgroundSize: \"auto\", backgroundRepeat: \"no-repeat\", backgroundPosition: \"top right\", padding: theme.spacing(2), height: \"100vh\", mt: 2, mb: 0, paddingBottom: 4 }}>\r\n      <Box sx={{ mb: 3 }}>\r\n        <Typography variant=\"h4\" fontWeight=\"bold\" gutterBottom>\r\n          Explore Jobs\r\n        </Typography>\r\n        <Typography color=\"text.secondary\">\r\n          Discover opportunities that match your skills\r\n        </Typography>\r\n      </Box>\r\n\r\n      <Box sx={{ display: \"flex\", justifyContent: \"space-between\", mb: 3 }}>\r\n        <TextField placeholder=\"Search jobs, companies, or skills\" variant=\"outlined\" size=\"small\" sx={{ width: \"50%\" }} InputProps={{ startAdornment: <InputAdornment position=\"start\">\r\n                <Search />\r\n              </InputAdornment> }} value={searchQuery} onChange={e => setSearchQuery(e.target.value)} />\r\n        <Button variant=\"outlined\" startIcon={<FilterList />}>\r\n          Filters\r\n        </Button>\r\n      </Box>\r\n\r\n      <Tabs value={activeTab} onChange={handleTabChange} sx={{ mb: 3 }}>\r\n        <Tab label=\"Recommended\" />\r\n        <Tab label=\"Recent\" />\r\n        <Tab label=\"Remote\" />\r\n        <Tab label=\"Saved\" />\r\n      </Tabs>\r\n\r\n      <Grid container spacing={3}>\r\n        {filteredVideos.map(video =>\r\n          <Grid item xs={12} sm={6} md={4} lg={3} key={video.id}>\r\n            <VideoCard onClick={() => handleVideoClick(video)}>\r\n              <VideoPlayer\r\n                ref={el => (videoRefs.current[video.id] = el)}\r\n                src={video.videoUrl}\r\n                loop\r\n                muted\r\n                playsInline\r\n                onClick={e => e.stopPropagation()}\r\n              />\r\n\r\n              {playingVideo !== video.id &&\r\n                <IconButton\r\n                  sx={{\r\n                    position: \"absolute\",\r\n                    top: \"50%\",\r\n                    left: \"50%\",\r\n                    transform: \"translate(-50%, -50%)\",\r\n                    color: \"#fff\",\r\n                    backgroundColor: \"rgba(0,0,0,0.5)\",\r\n                    \"&:hover\": {\r\n                      backgroundColor: \"rgba(0,0,0,0.7)\"\r\n                    }\r\n                  }}\r\n                  onClick={e => togglePlay(video.id, e)}\r\n                >\r\n                  <PlayArrow fontSize=\"large\" />\r\n                </IconButton>}\r\n\r\n              <VideoOverlay>\r\n                <Box\r\n                  sx={{ display: \"flex\", justifyContent: \"space-between\" }}\r\n                >\r\n                  <Box>\r\n                    <Typography variant=\"subtitle1\" fontWeight=\"bold\">\r\n                      {video.jobTitle}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                      {video.company}\r\n                    </Typography>\r\n                  </Box>\r\n                  <Avatar\r\n                    src={video.logoUrl}\r\n                    sx={{ width: 40, height: 40 }}\r\n                  />\r\n                </Box>\r\n\r\n                <Stack direction=\"row\" spacing={1} sx={{ mt: 1, mb: 1 }}>\r\n                  {video.tags.slice(0, 2).map((tag, index) =>\r\n                    <Chip\r\n                      key={index}\r\n                      label={tag}\r\n                      size=\"small\"\r\n                      sx={{\r\n                        backgroundColor: \"rgba(255,255,255,0.2)\",\r\n                        color: \"#fff\",\r\n                        backdropFilter: \"blur(10px)\"\r\n                      }}\r\n                    />\r\n                  )}\r\n                </Stack>\r\n\r\n                <Box\r\n                  sx={{ display: \"flex\", justifyContent: \"space-between\" }}\r\n                >\r\n                  <Box sx={{ display: \"flex\", gap: 1 }}>\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={e => toggleLike(video.id, e)}\r\n                      sx={{ color: video.liked ? \"#ff4081\" : \"#fff\" }}\r\n                    >\r\n                      {video.liked ? <Favorite /> : <FavoriteBorder />}\r\n                    </IconButton>\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={e => toggleSave(video.id, e)}\r\n                      sx={{ color: video.saved ? \"#ffc107\" : \"#fff\" }}\r\n                    >\r\n                      {video.saved ? <Bookmark /> : <BookmarkBorder />}\r\n                    </IconButton>\r\n                  </Box>\r\n                  <Typography variant=\"caption\">\r\n                    {video.posted}\r\n                  </Typography>\r\n                </Box>\r\n              </VideoOverlay>\r\n            </VideoCard>\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n\r\n      {/* Job Details Dialog */}\r\n      <Dialog open={openDialog} onClose={() => setOpenDialog(false)} maxWidth=\"md\" fullWidth>\r\n        <DialogTitle sx={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n          <Typography variant=\"h6\">Job Details</Typography>\r\n          <IconButton onClick={() => setOpenDialog(false)}>\r\n            <Close />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          {selectedVideo && <Box sx={{ display: \"flex\", flexDirection: { xs: \"column\", md: \"row\" }, gap: 3 }}>\r\n              <Box sx={{ flex: 1 }}>\r\n                <VideoPlayer autoPlay controls src={selectedVideo.videoUrl} style={{ width: \"100%\", borderRadius: \"8px\" }} />\r\n              </Box>\r\n              <Box sx={{ flex: 1 }}>\r\n                <Box sx={{ display: \"flex\", alignItems: \"center\", mb: 2 }}>\r\n                  <Avatar src={selectedVideo.logoUrl} sx={{ width: 64, height: 64, mr: 2 }} />\r\n                  <Box>\r\n                    <Typography variant=\"h5\" fontWeight=\"bold\">\r\n                      {selectedVideo.jobTitle}\r\n                    </Typography>\r\n                    <Typography variant=\"subtitle1\">\r\n                      {selectedVideo.company}\r\n                    </Typography>\r\n                  </Box>\r\n                </Box>\r\n\r\n                <Box sx={{ display: \"flex\", flexWrap: \"wrap\", gap: 1, mb: 3 }}>\r\n                  {selectedVideo.tags.map((tag, index) =>\r\n                    <Chip\r\n                      key={index}\r\n                      label={tag}\r\n                      color=\"primary\"\r\n                      variant=\"outlined\"\r\n                    />\r\n                  )}\r\n                </Box>\r\n\r\n                <Typography variant=\"body1\" paragraph>\r\n                  {selectedVideo.description}\r\n                </Typography>\r\n\r\n                <Grid container spacing={2} sx={{ mb: 3 }}>\r\n                  <Grid item xs={6}>\r\n                    <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\r\n                      <LocationOn color=\"primary\" />\r\n                      <Typography>\r\n                        {selectedVideo.location}\r\n                      </Typography>\r\n                    </Box>\r\n                  </Grid>\r\n                  <Grid item xs={6}>\r\n                    <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\r\n                      <AttachMoney color=\"primary\" />\r\n                      <Typography>\r\n                        {selectedVideo.salary}\r\n                      </Typography>\r\n                    </Box>\r\n                  </Grid>\r\n                  <Grid item xs={6}>\r\n                    <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\r\n                      <Work color=\"primary\" />\r\n                      <Typography>\r\n                        {selectedVideo.employmentType}\r\n                      </Typography>\r\n                    </Box>\r\n                  </Grid>\r\n                  <Grid item xs={6}>\r\n                    <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\r\n                      <Schedule color=\"primary\" />\r\n                      <Typography>\r\n                        {selectedVideo.posted}\r\n                      </Typography>\r\n                    </Box>\r\n                  </Grid>\r\n                </Grid>\r\n\r\n                <Box sx={{ display: \"flex\", gap: 2, mt: 3 }}>\r\n                  <Button variant=\"contained\" color=\"primary\" size=\"large\" fullWidth>\r\n                    Apply Now\r\n                  </Button>\r\n                  <Button variant=\"outlined\" size=\"large\" fullWidth>\r\n                    Save for Later\r\n                  </Button>\r\n                </Box>\r\n              </Box>\r\n            </Box>}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </Box>;\r\n};\r\n\r\nexport default JobSeekerExplore;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\FAQ\\FAQs.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\FAQ\\FAQs_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState  } from 'react';\r\nimport Header from \"../../components/Headers/Header\";\r\nimport Footer from \"../../components/Headers/Footer\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Accordion,\r\n  AccordionSummary,\r\n  AccordionDetails,\r\n  TextField,\r\n  Box,\r\n  Chip,\r\n  Divider,\r\n  useTheme,\r\n  useMediaQuery\r\n} from \"@mui/material\";\r\nimport {\r\n  ExpandMore as ExpandMoreIcon,\r\n  Search as SearchIcon,\r\n  Category as CategoryIcon,\r\n  Help as HelpIcon\r\n} from \"@mui/icons-material\";\r\n\r\nconst FAQPage = () => {\r\n  const { t } = useTranslation();\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [activeCategory, setActiveCategory] = useState(\"all\");\r\n\r\n  const faqData = [\r\n    {\r\n      category: \"general\",\r\n      question: t('faq.questions.whatIsSwipeScout.question'),\r\n      answer: t('faq.questions.whatIsSwipeScout.answer')\r\n    },\r\n    {\r\n      category: \"job-seekers\",\r\n      question: t('faq.questions.createVideoResume.question'),\r\n      answer: t('faq.questions.createVideoResume.answer')\r\n    },\r\n    {\r\n      category: \"job-seekers\",\r\n      question: t('faq.questions.videoVisibility.question'),\r\n      answer: t('faq.questions.videoVisibility.answer')\r\n    },\r\n    {\r\n      category: \"employers\",\r\n      question: t('faq.questions.jobPostingCost.question'),\r\n      answer: t('faq.questions.jobPostingCost.answer')\r\n    },\r\n    {\r\n      category: \"technical\",\r\n      question: t('faq.questions.videoFormats.question'),\r\n      answer: t('faq.questions.videoFormats.answer')\r\n    },\r\n    {\r\n      category: \"technical\",\r\n      question: t('faq.questions.uploadFailing.question'),\r\n      answer: t('faq.questions.uploadFailing.answer')\r\n    },\r\n    {\r\n      category: \"general\",\r\n      question: t('faq.questions.howMatching.question'),\r\n      answer: t('faq.questions.howMatching.answer')\r\n    },\r\n    {\r\n      category: \"employers\",\r\n      question: t('faq.questions.searchCandidates.question'),\r\n      answer: t('faq.questions.searchCandidates.answer')\r\n    }\r\n  ];\r\n\r\n  const categories = [\r\n    { id: \"all\", label: t('faq.categories.all') },\r\n    { id: \"general\", label: t('faq.categories.general') },\r\n    { id: \"job-seekers\", label: t('faq.categories.jobSeekers') },\r\n    { id: \"employers\", label: t('faq.categories.employers') },\r\n    { id: \"technical\", label: t('faq.categories.technical') }\r\n  ];\r\n\r\n  const filteredFaqs = faqData.filter(faq => {\r\n    const matchesSearch =\r\n      faq.question.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      faq.answer.toLowerCase().includes(searchTerm.toLowerCase());\r\n    const matchesCategory =\r\n      activeCategory === \"all\" || faq.category === activeCategory;\r\n    return matchesSearch && matchesCategory;\r\n  });\r\n\r\n  return (\r\n   <Box sx={{\r\n        background: \"linear-gradient(135deg, rgb(185, 229, 255) 0%, rgb(162, 194, 241) 100%)\", // Main background as requested\r\n        p: 0 ,width:'100%' ,m:0\r\n      }} >\r\n    \r\n      <Helmet>\r\n        <title>SwipeScout FAQs | Answers to Common Questions</title>\r\n        <meta name=\"description\" content=\"Find answers to frequently asked questions about SwipeScout's video resume platform, job matching, and employer solutions.\" />\r\n        <meta name=\"keywords\" content=\"SwipeScout FAQ, video resume questions, job matching help, employer solutions, recruitment platform support\" />\r\n        <meta property=\"og:title\" content=\"SwipeScout FAQs | Get Help With Our Platform\" />\r\n        <meta property=\"og:description\" content=\"Answers to common questions about using SwipeScout for job seekers and employers.\" />\r\n        <meta property=\"og:type\" content=\"website\" />\r\n        <meta property=\"og:url\" content=\"https://www.swipescout.xyz/faq\" />\r\n        <link rel=\"canonical\" href=\"https://www.swipescout.xyz/faq\" />\r\n\r\n        <script type=\"application/ld+json\">\r\n          {`\r\n            {\r\n              \"@context\": \"https://schema.org\",\r\n              \"@type\": \"FAQPage\",\r\n              \"mainEntity\": [\r\n                ${faqData.map(faq => `\r\n                {\r\n                  \"@type\": \"Question\",\r\n                  \"name\": \"${faq.question}\",\r\n                  \"acceptedAnswer\": {\r\n                    \"@type\": \"Answer\",\r\n                    \"text\": \"${faq.answer.replace(/\"/g, '\\\\\"')}\"\r\n                  }\r\n                }`).join(',')}\r\n              ]\r\n            }\r\n          `}\r\n        </script>\r\n      </Helmet >\r\n      <Header width='120%' />\r\n      <Container\r\n        maxWidth=\"md\"\r\n        sx={{\r\n          py: 6,\r\n          bgcolor: \"#E3F2FD\", // Very light blue for inner container background\r\n          color: \"#212121\", // Very dark gray for general text inside this container\r\n          borderRadius: 2,\r\n          boxShadow: 3,\r\n          mt:2\r\n        }}\r\n      >\r\n        <Box textAlign=\"center\" mb={6}>\r\n          <Typography variant=\"h3\" component=\"h1\" gutterBottom sx={{ fontWeight: 700, color: \"#0D47A1\" }}> {/* Darker, strong blue for heading */}\r\n            Frequently Asked Questions\r\n          </Typography>\r\n          <Typography variant=\"body1\" sx={{ color: \"#424242\" }}> {/* Dark gray for body text */}\r\n            Find answers to common questions about SwipeScout\r\n          </Typography>\r\n        </Box>\r\n        <Box mb={4}>\r\n          <TextField\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            placeholder=\"Search FAQs...\"\r\n            value={searchTerm}\r\n            onChange={e => setSearchTerm(e.target.value)}\r\n            InputProps={{\r\n              startAdornment: <SearchIcon sx={{ mr: 1, color: \"#0D47A1\" }} /> // Dark blue for search icon\r\n            }}\r\n            sx={{\r\n              \"& .MuiOutlinedInput-root\": {\r\n                borderRadius: 4,\r\n                boxShadow: theme.shadows[1],\r\n                backgroundColor: \"#ffffff\", // Keep white for input background\r\n                color: \"#212121\" // Dark gray for input text\r\n              }\r\n            }}\r\n          />\r\n        </Box>\r\n        <Box sx={{ display: \"flex\", flexWrap: \"wrap\", gap: 1, mb: 4, justifyContent: isMobile ? \"center\" : \"flex-start\" }}>\r\n          {categories.map(category =>\r\n            <Chip\r\n              key={category.id}\r\n              label={category.label}\r\n              onClick={() => setActiveCategory(category.id)}\r\n              color={activeCategory === category.id ? \"primary\" : \"default\"}\r\n              variant={activeCategory === category.id ? \"filled\" : \"outlined\"}\r\n              icon={category.id === \"all\" ? <HelpIcon /> : <CategoryIcon />}\r\n              sx={{\r\n                px: 1,\r\n                // Active Chip\r\n                bgcolor:\r\n                  activeCategory === category.id ? \"#0D47A1\" : \"transparent\", // Dark blue for active chip background\r\n                color: activeCategory === category.id ? \"#ffffff\" : \"#424242\", // White text for active, dark gray for default\r\n                // Default Chip\r\n                borderColor: \"#0D47A1\", // Dark blue border for default\r\n                \"& .MuiChip-icon\": {\r\n                  fontSize: \"1rem\",\r\n                  ml: 0.5,\r\n                  color:\r\n                    activeCategory === category.id ? \"#ffffff\" : \"#0D47A1\" // White icon for active, dark blue for default\r\n                },\r\n                \"&:hover\": {\r\n                  bgcolor:\r\n                    activeCategory === category.id ? \"#0D47A1\" : \"#BBDEFB\" // Dark blue for active hover, lighter blue for default hover\r\n                }\r\n              }}\r\n            />\r\n          )}\r\n        </Box>\r\n        <Box mb={6}>\r\n          {filteredFaqs.length > 0 ? filteredFaqs.map((faq, index) =>\r\n                <Accordion\r\n                  key={index}\r\n                  elevation={2}\r\n                  sx={{\r\n                    mb: 2,\r\n                    backgroundColor: \"#BBDEFB\", // Lighter blue for accordion body background\r\n                    color: \"#424242\", // Dark gray for accordion body text\r\n                    borderRadius: \"8px !important\",\r\n                    \"&:before\": { display: \"none\" },\r\n                    \"&:hover\": {\r\n                      backgroundColor: \"#90CAF9\" // Slightly darker light blue on hover\r\n                    }\r\n                  }}\r\n                >\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon sx={{ color: \"#0D47A1\" }} />} // Dark blue for expand icon\r\n                    sx={{\r\n                      bgcolor: \"#90CAF9\", // Medium light blue for accordion header background\r\n                      borderRadius: \"8px 8px 0 0\",\r\n                      \"&:hover\": {\r\n                        bgcolor: \"#64B5F6\" // Slightly darker blue on hover\r\n                      }\r\n                    }}\r\n                  >\r\n                    <Typography\r\n                      variant=\"subtitle1\"\r\n                      fontWeight={600}\r\n                      color=\"#0D47A1\" // Darker, strong blue for question text\r\n                    >\r\n                      {faq.question}\r\n                    </Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails>\r\n                    <Typography variant=\"body1\" sx={{ color:\"#424242\" }}> {/* Dark gray for answer text */}\r\n                      {faq.answer}\r\n                    </Typography>\r\n                  </AccordionDetails>\r\n                </Accordion>\r\n              ) : <Box textAlign=\"center\" py={4}>\r\n                <Typography variant=\"h6\" sx={{ color: \"#212121\" }}> {/* Very dark gray */}\r\n                  No FAQs found matching your search\r\n                </Typography>\r\n                <Typography variant=\"body2\" mt={1} sx={{ color: \"#424242\" }}> {/* Dark gray */}\r\n                  Try different keywords or browse all categories\r\n                </Typography>\r\n              </Box>}\r\n        </Box>\r\n        <Divider sx={{ my: 4, borderColor: \"#0D47A1\" }} /> {/* Darker, strong blue for divider */}\r\n        <Box textAlign=\"center\">\r\n          <Typography variant=\"h5\" gutterBottom sx={{ color: \"#0D47A1\" }}> {/* Darker, strong blue */}\r\n            Still have questions?\r\n          </Typography>\r\n          <Typography variant=\"body1\" sx={{ color: \"#424242\" }} mb={3}> {/* Dark gray */}\r\n            Our support team is happy to help\r\n          </Typography>\r\n          <Chip\r\n            label=\"Contact Support\"\r\n            variant=\"outlined\"\r\n            sx={{\r\n              px: 3,\r\n              py: 1.5,\r\n              fontSize: \"1rem\",\r\n              cursor: \"pointer\",\r\n              color: \"#0D47A1\", // Dark blue for chip text\r\n              borderColor: \"#0D47A1\", // Dark blue for chip border\r\n              \"&:hover\": {\r\n                bgcolor: \"#1976D2\", // Medium dark blue on hover\r\n                color: \"#ffffff\" // White text on hover\r\n              }\r\n            }}\r\n            onClick={() => (window.location.href = \"/contact\")}\r\n          />\r\n        </Box>\r\n      </Container>\r\n      <br />\r\n      <br />\r\n      <Footer />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default FAQPage;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\FeedPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has missing dependencies: 'nextVideo', 'prevVideo', and 'togglePlay'. Either include them or remove the dependency array.",
        "line": 105,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 105,
        "endColumn": 36,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [currentVideoIndex, isPlaying, nextVideo, prevVideo, togglePlay]",
            "fix": {
              "range": [
                2666,
                2696
              ],
              "text": "[currentVideoIndex, isPlaying, nextVideo, prevVideo, togglePlay]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState, useRef, useEffect  } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  IconButton,\r\n  Typography,\r\n  Avatar,\r\n  Chip,\r\n  CircularProgress,\r\n  useTheme,\r\n  useMediaQuery\r\n} from '@mui/material';\r\nimport {\r\n  ArrowUpward,\r\n  ArrowDownward,\r\n  Bookmark,\r\n  Share,\r\n  MoreVert,\r\n  Search,\r\n  AccountCircle\r\n} from '@mui/icons-material';\r\n\r\nconst FeedPage = () => {\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\r\n  const videoRef = useRef(null);\r\n  const [currentVideoIndex, setCurrentVideoIndex] = useState(0);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Mock job videos data\r\n  const jobVideos = [\r\n    {\r\n      id: 1,\r\n      company: 'TechCorp',\r\n      title: 'Senior UX Designer',\r\n      tags: ['Remote', '$120k', 'Flexible hours'],\r\n      videoUrl: 'public/videos/vid1.mp4',\r\n      companyLogo: 'src/public/logo.jpg',\r\n      views: '1.2k',\r\n      posted: '2 days ago'\r\n    },\r\n    {\r\n      id: 2,\r\n      company: 'DesignHub',\r\n      title: 'Product Designer',\r\n      tags: ['Hybrid', '$95k', 'Stock options'],\r\n      videoUrl: 'public/videos/vid2.mkv',\r\n      companyLogo: 'src/public/logo.jpg',\r\n      views: '856',\r\n      posted: '1 week ago'\r\n    },\r\n    {\r\n      id: 3,\r\n      company: 'DataSystems',\r\n      title: 'UX Researcher',\r\n      tags: ['On-site', '$110k', 'Signing bonus'],\r\n      videoUrl: 'public/videos/vid1.mp4',\r\n      companyLogo: 'src/public/logo.jpg',\r\n      views: '1.5k',\r\n      posted: '3 days ago'\r\n    }\r\n  ];\r\n\r\n  // Handle video play/pause\r\n  const togglePlay = () => {\r\n    if (videoRef.current) {\r\n      if (isPlaying) {\r\n        videoRef.current.pause();\r\n      } else {\r\n        videoRef.current.play();\r\n      }\r\n      setIsPlaying(!isPlaying);\r\n    }\r\n  };\r\n\r\n  // Handle swipe up (next video)\r\n  const nextVideo = () => {\r\n    if (currentVideoIndex < jobVideos.length - 1) {\r\n      setLoading(true);\r\n      setCurrentVideoIndex(currentVideoIndex + 1);\r\n      setIsPlaying(false);\r\n    }\r\n  };\r\n\r\n  // Handle swipe down (previous video)\r\n  const prevVideo = () => {\r\n    if (currentVideoIndex > 0) {\r\n      setLoading(true);\r\n      setCurrentVideoIndex(currentVideoIndex - 1);\r\n      setIsPlaying(false);\r\n    }\r\n  };\r\n\r\n  // Keyboard navigation\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      if (e.key === 'ArrowUp') nextVideo();\r\n      if (e.key === 'ArrowDown') prevVideo();\r\n      if (e.key === ' ') togglePlay();\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, [currentVideoIndex, isPlaying]);\r\n\r\n  // Video loaded handler\r\n  const handleVideoLoaded = () => {\r\n    setLoading(false);\r\n  };\r\n\r\n  // Current video data\r\n  const currentVideo = jobVideos[currentVideoIndex];\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100vh',\r\n        width: '100%',\r\n        bgcolor: 'background.default',\r\n        overflow: 'hidden',\r\n        position: 'relative'\r\n      }}\r\n    >\r\n      {/* Top Navigation */}\r\n      <Box\r\n        sx={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          width: '100%',\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n          p: 2,\r\n          zIndex: 100,\r\n          background: 'linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%)'\r\n        }}\r\n      >\r\n        <Typography\r\n          variant=\"h6\"\r\n          sx={{\r\n            fontWeight: 700,\r\n            color: 'common.white',\r\n            ml: 1\r\n          }}\r\n        >\r\n          SwipeScout\r\n        </Typography>\r\n        <Box>\r\n          <IconButton color=\"inherit\">\r\n            <Search sx={{ color: 'common.white' }} />\r\n          </IconButton>\r\n          <IconButton color=\"inherit\">\r\n            <AccountCircle sx={{ color: 'common.white' }} />\r\n          </IconButton>\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* Video Container */}\r\n      <Box\r\n        sx={{\r\n          height: '100%',\r\n          width: '100%',\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          position: 'relative'\r\n        }}\r\n      >\r\n        {loading && (\r\n          <CircularProgress\r\n            size={60}\r\n            sx={{\r\n              position: 'absolute',\r\n              zIndex: 10,\r\n              color: 'primary.main'\r\n            }}\r\n          />\r\n        )}\r\n\r\n        <video\r\n          ref={videoRef}\r\n          src={currentVideo.videoUrl}\r\n          loop\r\n          muted\r\n          playsInline\r\n          style={{\r\n            width: '100%',\r\n            height: '100%',\r\n            objectFit: 'cover',\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0\r\n          }}\r\n          onClick={togglePlay}\r\n          onLoadedData={handleVideoLoaded}\r\n        />\r\n\r\n        {/* Video Overlay */}\r\n        <Box\r\n          sx={{\r\n            position: 'absolute',\r\n            bottom: 0,\r\n            left: 0,\r\n            width: '100%',\r\n            p: 3,\r\n            background: 'linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%)',\r\n            zIndex: 20,\r\n            color: 'common.white'\r\n          }}\r\n        >\r\n          <Box sx={{ mb: 2 }}>\r\n            <Typography variant=\"h5\" fontWeight={700}>\r\n              {currentVideo.company}\r\n            </Typography>\r\n            <Typography variant=\"h6\" sx={{ mb: 1 }}>\r\n              {currentVideo.title}\r\n            </Typography>\r\n            <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap' }}>\r\n              {currentVideo.tags.map((tag, index) => (\r\n                <Chip\r\n                  key={index}\r\n                  label={tag}\r\n                  size=\"small\"\r\n                  sx={{\r\n                    bgcolor: 'rgba(255,255,255,0.2)',\r\n                    color: 'common.white',\r\n                    backdropFilter: 'blur(5px)'\r\n                  }}\r\n                />\r\n              ))}\r\n            </Box>\r\n          </Box>\r\n\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n              alignItems: 'flex-end'\r\n            }}\r\n          >\r\n            <Box>\r\n              <Typography variant=\"caption\">\r\n                {currentVideo.views} views Ã¢â‚¬Â¢ {currentVideo.posted}\r\n              </Typography>\r\n            </Box>\r\n            <Box sx={{ display: 'flex', gap: 1 }}>\r\n              <IconButton\r\n                sx={{\r\n                  bgcolor: 'rgba(255,255,255,0.2)',\r\n                  color: 'common.white',\r\n                  backdropFilter: 'blur(5px)'\r\n                }}\r\n              >\r\n                <Bookmark />\r\n              </IconButton>\r\n              <IconButton\r\n                sx={{\r\n                  bgcolor: 'rgba(255,255,255,0.2)',\r\n                  color: 'common.white',\r\n                  backdropFilter: 'blur(5px)'\r\n                }}\r\n              >\r\n                <Share />\r\n              </IconButton>\r\n              <IconButton\r\n                sx={{\r\n                  bgcolor: 'rgba(255,255,255,0.2)',\r\n                  color: 'common.white',\r\n                  backdropFilter: 'blur(5px)'\r\n                }}\r\n              >\r\n                <MoreVert />\r\n              </IconButton>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n\r\n        {/* Right Action Buttons */}\r\n        <Box\r\n          sx={{\r\n            position: 'absolute',\r\n            right: 16,\r\n            bottom: 120,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n            gap: 2,\r\n            zIndex: 20\r\n          }}\r\n        >\r\n          <Avatar\r\n            src={currentVideo.companyLogo}\r\n            sx={{\r\n              width: 48,\r\n              height: 48,\r\n              border: '2px solid white'\r\n            }}\r\n          />\r\n          <IconButton\r\n            sx={{\r\n              bgcolor: 'primary.main',\r\n              color: 'common.white',\r\n              '&:hover': {\r\n                bgcolor: 'primary.dark'\r\n              }\r\n            }}\r\n          >\r\n            <Typography variant=\"body2\" fontWeight={700}>\r\n              Apply\r\n            </Typography>\r\n          </IconButton>\r\n        </Box>\r\n\r\n        {/* Swipe Indicators */}\r\n        {!isMobile && (\r\n          <>\r\n            <Box\r\n              sx={{\r\n                position: 'absolute',\r\n                top: '10%',\r\n                left: '50%',\r\n                transform: 'translateX(-50%)',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n                color: 'rgba(255,255,255,0.7)',\r\n                zIndex: 20\r\n              }}\r\n            >\r\n              <ArrowUpward fontSize=\"large\" />\r\n              <Typography variant=\"caption\">Next job</Typography>\r\n            </Box>\r\n            <Box\r\n              sx={{\r\n                position: 'absolute',\r\n                bottom: '20%',\r\n                left: '50%',\r\n                transform: 'translateX(-50%)',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n                color: 'rgba(255,255,255,0.7)',\r\n                zIndex: 20\r\n              }}\r\n            >\r\n              <ArrowDownward fontSize=\"large\" />\r\n              <Typography variant=\"caption\">Previous job</Typography>\r\n            </Box>\r\n          </>\r\n        )}\r\n      </Box>\r\n\r\n      {/* Bottom Navigation */}\r\n      <Box\r\n        sx={{\r\n          position: 'fixed',\r\n          bottom: 0,\r\n          width: '100%',\r\n          display: 'flex',\r\n          justifyContent: 'space-around',\r\n          bgcolor: 'background.paper',\r\n          py: 1.5,\r\n          zIndex: 100,\r\n          boxShadow: '0 -2px 10px rgba(0,0,0,0.1)'\r\n        }}\r\n      >\r\n        <IconButton color=\"primary\">\r\n          <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n            <span style={{ fontSize: '1.5rem' }}>Ù‹ÚºÚ˜Â¥</span>\r\n            <Typography variant=\"caption\" color=\"primary\">\r\n              Feed\r\n            </Typography>\r\n          </Box>\r\n        </IconButton>\r\n        <IconButton color=\"inherit\">\r\n          <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n            <span style={{ fontSize: '1.5rem' }}>Ù‹Úºâ€™Â¬</span>\r\n            <Typography variant=\"caption\">Inbox</Typography>\r\n          </Box>\r\n        </IconButton>\r\n        <IconButton color=\"inherit\">\r\n          <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n            <span style={{ fontSize: '1.5rem' }}>Ù‹Úºâ€˜Â¤</span>\r\n            <Typography variant=\"caption\">Profile</Typography>\r\n          </Box>\r\n        </IconButton>\r\n      </Box>\r\n\r\n      {/* Create Button */}\r\n      <Box\r\n        sx={{\r\n          position: 'fixed',\r\n          bottom: 70,\r\n          left: '50%',\r\n          transform: 'translateX(-50%)',\r\n          zIndex: 110\r\n        }}\r\n      >\r\n        <IconButton\r\n          sx={{\r\n            bgcolor: 'primary.main',\r\n            color: 'common.white',\r\n            width: 56,\r\n            height: 56,\r\n            '&:hover': {\r\n              bgcolor: 'primary.dark',\r\n              transform: 'scale(1.1)'\r\n            }\r\n          }}\r\n        >\r\n          <Typography variant=\"h5\">+</Typography>\r\n        </IconButton>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default FeedPage;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\ForgotPasswordPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState  } from 'react';\r\nimport { \r\n  Box, \r\n  Button, \r\n  Container, \r\n  TextField, \r\n  Typography, \r\n  Alert, \r\n  CircularProgress \r\n} from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport { forgotPassword } from '@/services/api';\r\nimport Paper from '@mui/material/Paper';\r\n\r\n\r\n\r\n// Reuse the same styled components from LoginPage\r\nconst LoginContainer = styled(Box)(({ theme }) => ({\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  minHeight: '100vh',\r\n  padding: theme.spacing(3),\r\n  backgroundColor: theme.palette.background.default,\r\n}));\r\n\r\nconst LoginFormContainer = styled(Paper)(({ theme }) => ({\r\n  width: 400,\r\n  padding: theme.spacing(3),\r\n  boxShadow: '0 0 15px rgba(0,0,0,0.1)',\r\n  borderRadius: '10px',\r\n  backgroundColor: '#f9f9f9',\r\n  [theme.breakpoints.down('sm')]: {\r\n    width: '90%',\r\n  },\r\n}));\r\n\r\nconst LoginFormTitle = styled(Typography)(({ theme }) => ({\r\n  marginBottom: theme.spacing(1.25),\r\n}));\r\n\r\nconst LoginFormSubtitle = styled(Typography)(({ theme }) => ({\r\n  color: '#888',\r\n  marginBottom: theme.spacing(2.5),\r\n}));\r\n\r\nconst InputField = styled(TextField)(({ theme }) => ({\r\n  width: '100%',\r\n  margin: theme.spacing(1, 0),\r\n  borderRadius: '5px',\r\n  '& .MuiOutlinedInput-root': {\r\n    '& fieldset': {\r\n      borderColor: theme.palette.mode === 'light' ? '#e0e0e0' : theme.palette.grey[700],\r\n    },\r\n    '&:hover fieldset': {\r\n      borderColor: theme.palette.primary.main,\r\n    },\r\n    '&.Mui-focused fieldset': {\r\n      borderColor: theme.palette.primary.main,\r\n    },\r\n  },\r\n  '& input': {\r\n    padding: theme.spacing(1.5),\r\n    backgroundColor: theme.palette.mode === 'light' ? '#fff' : theme.palette.grey[900],\r\n  },\r\n}));\r\n\r\nconst LoginButton = styled(Button)(({ theme }) => ({\r\n  width: '100%',\r\n  padding: theme.spacing(1.5),\r\n  marginTop: theme.spacing(2),\r\n  backgroundColor: '#5c6bc0',\r\n  color: 'white',\r\n  border: 'none',\r\n  borderRadius: '25px',\r\n  fontWeight: 'bold',\r\n  cursor: 'pointer',\r\n  '&:hover': {\r\n    backgroundColor: theme.palette.primary.dark,\r\n  },\r\n}));\r\n\r\nconst ForgotPasswordPage = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      await forgotPassword({ email });\r\n      setSuccess('Password reset link has been sent to your email');\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to send reset link');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <LoginContainer>\r\n      <LoginFormContainer>\r\n        <LoginFormTitle variant=\"h5\">Forgot Password</LoginFormTitle>\r\n        <LoginFormSubtitle>\r\n          Enter your email address and we'll send you a link to reset your password.\r\n        </LoginFormSubtitle>\r\n\r\n        {error && (\r\n          <Alert severity=\"error\" sx={{ mt: 2 }}>\r\n            {error}\r\n          </Alert>\r\n        )}\r\n\r\n        {success && (\r\n          <Alert severity=\"success\" sx={{ mt: 2 }}>\r\n            {success}\r\n          </Alert>\r\n        )}\r\n\r\n        <Box component=\"form\" onSubmit={handleSubmit}>\r\n          <InputField\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            autoFocus\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n          <LoginButton\r\n            type=\"submit\"\r\n            disabled={isLoading}\r\n          >\r\n            {isLoading ? <CircularProgress size={24} color=\"inherit\" /> : 'Send Reset Link'}\r\n          </LoginButton>\r\n        </Box>\r\n      </LoginFormContainer>\r\n    </LoginContainer>\r\n  );\r\n};\r\n\r\nexport default ForgotPasswordPage;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\HelpPage.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\HelpPageLinks.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\HelpPageLinks_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  Card,\r\n  CardContent,\r\n  Button,\r\n  Link,\r\n  useTheme,\r\n  useMediaQuery,\r\n  Grid\r\n} from \"@mui/material\";\r\nimport { Email as EmailIcon } from \"@mui/icons-material\";\r\n\r\n// Custom Discord icon as an inline SVG to match MUI's style\r\nconst DiscordIcon = () => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"currentColor\"\r\n    width=\"24px\"\r\n    height=\"24px\"\r\n    aria-hidden=\"true\"\r\n  >\r\n    <path d=\"M21.17,1.83a2.38,2.38,0,0,0-1.28-.79C17.75,0,14.63,0,11.5,0A22.82,22.82,0,0,0,1.72,1.15a2.37,2.37,0,0,0-1.28.79A2.37,2.37,0,0,0,0,2.94,22.39,22.39,0,0,0,1.3,16.27,2.37,2.37,0,0,0,2,17.43a2.38,2.38,0,0,0,1.28.79A22.82,22.82,0,0,0,11.5,19.34a22.82,22.82,0,0,0,8.22-1.12,2.38,2.38,0,0,0,1.28-.79,2.37,2.37,0,0,0,.72-1.16,22.39,22.39,0,0,0,1.3-13.33A2.37,2.37,0,0,0,21.17,1.83Zm-1.84,14.4a.79.79,0,0,1-.46.33,18.73,18.73,0,0,1-7.37,1,18.73,18.73,0,0,1-7.37-1,.79.79,0,0,1-.46-.33,18.84,18.84,0,0,1-.7-3.95A19.46,19.46,0,0,1,2.83,6.23a.79.79,0,0,1,.46-.33A18.73,18.73,0,0,1,11.5,5a18.73,18.73,0,0,1,7.37,1,.79.79,0,0,1,.46.33A19.46,19.46,0,0,1,20.08,12.3Z\" />\r\n    <path d=\"M12.91,12.35a2.4,2.4,0,0,1-1.39.46,2.4,2.4,0,0,1-1.39-.46,2.16,2.16,0,0,1-.39-.56,3.87,3.87,0,0,1-.13-.7,4.3,4.3,0,0,1,.13-.7,2.16,2.16,0,0,1,.39-.56A2.4,2.4,0,0,1,11.5,9.45a2.4,2.4,0,0,1,1.39.46,2.16,2.16,0,0,1,.39.56,3.87,3.87,0,0,1,.13.7,4.3,4.3,0,0,1-.13.7,2.16,2.16,0,0,1-.39.56Z\" />\r\n    <path d=\"M16.14,12.35a2.4,2.4,0,0,1-1.39.46,2.4,2.4,0,0,1-1.39-.46,2.16,2.16,0,0,1-.39-.56,3.87,3.87,0,0,1-.13-.7,4.3,4.3,0,0,1,.13-.7,2.16,2.16,0,0,1,.39-.56,2.4,2.4,0,0,1,1.39-.46,2.4,2.4,0,0,1,1.39.46,2.16,2.16,0,0,1,.39.56,3.87,3.87,0,0,1,.13.7,4.3,4.3,0,0,1-.13.7,2.16,2.16,0,0,1-.39.56Z\" />\r\n    <path d=\"M11.5,14.61a.7.7,0,0,1-.41-.12,5.77,5.77,0,0,1-1.5-.7,4.2,4.2,0,0,1-.7-.84.79.79,0,0,1,.16-.83.77.77,0,0,1,.71-.16.7.7,0,0,1,.41.12,4.55,4.55,0,0,0,1.07.56A4.55,4.55,0,0,0,12.5,12.9a.7.7,0,0,1,.41-.12.77.77,0,0,1,.71.16.79.79,0,0,1,.16.83,4.2,4.2,0,0,1-.7.84,5.77,5.77,0,0,1-1.5.7A.7.7,0,0,1,11.5,14.61Z\" />\r\n  </svg>\r\n);\r\n\r\nexport default function HelpPageLinks() {\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\r\n\r\n  const discordLink = \"https://discord.gg/mHcdMn6yMh\";\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ mt: 5, mb: 8 }}>\r\n      {/* Main heading for the page */}\r\n      <Typography\r\n        variant=\"h4\"\r\n        component=\"h1\"\r\n        sx={{\r\n          fontWeight: \"bold\",\r\n          mb: 4,\r\n          fontSize: isMobile ? '1.75rem' : '2.125rem',\r\n          color: \"#3366ff\",\r\n        }}\r\n      >\r\n        Help Center\r\n      </Typography>\r\n\r\n      {/* Introduction text */}\r\n      <Typography variant=\"body1\" sx={{ mb: 4, color: \"text.secondary\" }}>\r\n        We are here to help you get the most out of Swipscout. Whether you have a question, need technical support, or just want to connect with the community, you can reach out to us through the following channels.\r\n      </Typography>\r\n\r\n      <Grid container spacing={4}>\r\n        {/* Email Support Card */}\r\n        <Grid item xs={12} md={6}>\r\n          <Card\r\n            sx={{\r\n              p: 2,\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              alignItems: \"center\",\r\n              textAlign: \"center\",\r\n              height: \"100%\",\r\n              borderRadius: \"16px\",\r\n              boxShadow: theme.shadows[4],\r\n              transition: 'transform 0.3s ease-in-out',\r\n              '&:hover': {\r\n                transform: 'translateY(-8px)',\r\n              }\r\n            }}\r\n          >\r\n            <CardContent sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n              <EmailIcon sx={{ fontSize: 60, color: \"#3366ff\", mb: 2 }} />\r\n              <Typography variant=\"h6\" component=\"div\" sx={{ fontWeight: \"bold\", mb: 1 }}>\r\n                Email Support\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n                For general inquiries and technical assistance, please send us an email.\r\n              </Typography>\r\n              <Link\r\n                href=\"mailto:info@swipescout.xyz\"\r\n                sx={{\r\n                  textDecoration: \"none\",\r\n                  fontWeight: \"bold\",\r\n                  color: \"#3366ff\",\r\n                  '&:hover': {\r\n                    textDecoration: 'underline'\r\n                  }\r\n                }}\r\n              >\r\n                info@swipescout.xyz\r\n              </Link>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n\r\n        {/* Discord Community Card */}\r\n        <Grid item xs={12} md={6}>\r\n          <Card\r\n            sx={{\r\n              p: 2,\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              alignItems: \"center\",\r\n              textAlign: \"center\",\r\n              height: \"100%\",\r\n              borderRadius: \"16px\",\r\n              boxShadow: theme.shadows[4],\r\n              transition: 'transform 0.3s ease-in-out',\r\n              '&:hover': {\r\n                transform: 'translateY(-8px)',\r\n              }\r\n            }}\r\n          >\r\n            <CardContent sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n              <Box sx={{ color: \"#7289DA\", fontSize: 60, mb: 2 }}>\r\n                <DiscordIcon />\r\n              </Box>\r\n              <Typography variant=\"h6\" component=\"div\" sx={{ fontWeight: \"bold\", mb: 1 }}>\r\n                Join Our Discord\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n                Connect with the community, get real-time help, and stay updated on all things Swipscout.\r\n              </Typography>\r\n              <Button\r\n                variant=\"contained\"\r\n                href={discordLink}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                sx={{\r\n                  bgcolor: \"#7289DA\",\r\n                  color: \"#fff\",\r\n                  borderRadius: \"8px\",\r\n                  \"&:hover\": {\r\n                    bgcolor: \"#677bc4\",\r\n                  },\r\n                }}\r\n              >\r\n                Join Discord\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\HelpPage_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState  } from 'react';\r\nimport {\r\n    Box,\r\n    Container,\r\n    Grid,\r\n    Paper,\r\n    Typography,\r\n    Card,\r\n    CardContent,\r\n    CardActions,\r\n    Button,\r\n    TextField,\r\n    Accordion,\r\n    AccordionSummary,\r\n    AccordionDetails,\r\n    List,\r\n    ListItem,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    Divider,\r\n    Avatar,\r\n    Chip,\r\n    Tab,\r\n    Tabs,\r\n    InputAdornment,\r\n    IconButton,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogActions,\r\n    FormControl,\r\n    InputLabel,\r\n    Select,\r\n    MenuItem\r\n} from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n    ExpandMore as ExpandMoreIcon,\r\n    Search as SearchIcon,\r\n    Help as HelpIcon,\r\n    VideoLibrary as VideoLibraryIcon,\r\n    Article as ArticleIcon,\r\n    Support as SupportIcon,\r\n    Phone as PhoneIcon,\r\n    Email as EmailIcon,\r\n    Chat as ChatIcon,\r\n    PlayCircleOutline as PlayCircleOutlineIcon,\r\n    GetApp as GetAppIcon,\r\n    Security as SecurityIcon,\r\n    Work as WorkIcon,\r\n    Person as PersonIcon,\r\n    Business as BusinessIcon,\r\n    Payment as PaymentIcon,\r\n    Settings as SettingsIcon,\r\n    BugReport as BugReportIcon,\r\n    Feedback as FeedbackIcon,\r\n    School as SchoolIcon,\r\n    TrendingUp as TrendingUpIcon\r\n} from '@mui/icons-material';\r\n\r\nconst HelpContainer = styled(Container)(({ theme }) => ({\r\n    padding: theme.spacing(3),\r\n    backgroundColor: theme.palette.background.default,\r\n    minHeight: 'calc(100vh - 56px)',\r\n}));\r\n\r\nconst HelpHeader = styled(Paper)(({ theme }) => ({\r\n  padding: theme.spacing(4),\r\n  marginBottom: theme.spacing(3),\r\n  background: `linear-gradient(135deg, rgb(189, 227, 241) 0%, rgb(4, 41, 75) 100%)`,\r\n  color: \"rgb(255, 255, 255)\",\r\n  textAlign: \"center\"\r\n}));\r\n\r\nconst CategoryCard = styled(Card)(({ theme }) => ({\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    transition: 'transform 0.2s ease-in-out',\r\n    '&:hover': {\r\n        transform: 'translateY(-4px)',\r\n        boxShadow: theme.shadows[8],\r\n    },\r\n}));\r\n\r\nconst HelpPage = () => {\r\n    const [activeTab, setActiveTab] = useState(0);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [contactDialog, setContactDialog] = useState(false);\r\n    const [contactForm, setContactForm] = useState({\r\n        name: '',\r\n        email: '',\r\n        subject: '',\r\n        message: '',\r\n        category: 'general'\r\n    });\r\n\r\n    const faqCategories = [\r\n        {\r\n            id: 'getting-started',\r\n            title: 'Getting Started',\r\n            icon: <HelpIcon />,\r\n            faqs: [\r\n                {\r\n                    question: 'How do I create an account on SwipeScout?',\r\n                    answer: 'To create an account, click the \"Sign Up\" button on the homepage. You can register as either a job seeker or employer. Fill in your basic information, verify your email, and complete your profile setup.'\r\n                },\r\n                {\r\n                    question: 'What is the difference between job seeker and employer accounts?',\r\n                    answer: 'Job seeker accounts allow you to search for jobs, upload video resumes, apply to positions, and connect with employers. Employer accounts let you post jobs, search for candidates, view video resumes, and manage applications.'\r\n                },\r\n                {\r\n                    question: 'How do I complete my profile?',\r\n                    answer: 'After registration, follow the step-by-step profile completion guide. Add your personal information, work experience, skills, education, and upload a professional photo. For job seekers, uploading a video resume is highly recommended.'\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            id: 'video-resumes',\r\n            title: 'Video Resumes',\r\n            icon: <VideoLibraryIcon />,\r\n            faqs: [\r\n                {\r\n                    question: 'How do I upload a video resume?',\r\n                    answer: 'Go to your profile page and click \"Upload Video Resume\". Record or upload a video (max 2 minutes, MP4 format). You can trim, edit, and add captions before publishing. Ensure your profile is at least 60% complete before uploading.'\r\n                },\r\n                {\r\n                    question: 'What makes a good video resume?',\r\n                    answer: 'A good video resume should be 60-90 seconds long, well-lit, with clear audio. Introduce yourself, highlight key skills and experiences, and show your personality. Dress professionally and maintain eye contact with the camera.'\r\n                },\r\n                {\r\n                    question: 'Can I edit my video after uploading?',\r\n                    answer: 'Yes, you can edit your video title, description, and tags. For major changes to the video content, you\\'ll need to upload a new version. You can also trim the video length using our built-in editor.'\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            id: 'job-search',\r\n            title: 'Job Search & Applications',\r\n            icon: <WorkIcon />,\r\n            faqs: [\r\n                {\r\n                    question: 'How do I search for jobs?',\r\n                    answer: 'Use the job search page to filter jobs by location, industry, experience level, salary range, and job type. You can also browse video job postings and use our TikTok-style feed to discover opportunities.'\r\n                },\r\n                {\r\n                    question: 'How do I apply for a job?',\r\n                    answer: 'Click \"Apply\" on any job posting. Your profile and video resume will be automatically submitted. You can also add a personalized cover letter. Track your applications in the \"My Applications\" section.'\r\n                },\r\n                {\r\n                    question: 'How can I save jobs for later?',\r\n                    answer: 'Click the bookmark icon on any job posting to save it. Access your saved jobs from your dashboard or the \"Saved Jobs\" section in your profile menu.'\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            id: 'employers',\r\n            title: 'For Employers',\r\n            icon: <BusinessIcon />,\r\n            faqs: [\r\n                {\r\n                    question: 'How do I post a job?',\r\n                    answer: 'From your employer dashboard, click \"Post New Job\". Fill in the job details, requirements, and compensation. You can also upload a company video to make your posting more engaging.'\r\n                },\r\n                {\r\n                    question: 'How do I search for candidates?',\r\n                    answer: 'Use the candidate search page to filter by skills, experience, location, and other criteria. Browse video resumes to get a better sense of candidates\\' personalities and communication skills.'\r\n                },\r\n                {\r\n                    question: 'How do I manage applications?',\r\n                    answer: 'Access all applications from your employer dashboard. You can filter by job posting, review candidate profiles and videos, schedule interviews, and update application statuses.'\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            id: 'premium',\r\n            title: 'Premium Features',\r\n            icon: <TrendingUpIcon />,\r\n            faqs: [\r\n                {\r\n                    question: 'What are the premium features?',\r\n                    answer: 'Premium features include advanced analytics, priority support, enhanced profile visibility, unlimited video uploads, AI-powered job matching, career coaching sessions, and access to exclusive job opportunities.'\r\n                },\r\n                {\r\n                    question: 'How do I upgrade to premium?',\r\n                    answer: 'Go to Settings > Premium or click the \"Upgrade\" button in your dashboard. Choose from monthly or annual plans. We accept all major credit cards and PayPal through our secure Stripe payment system.'\r\n                },\r\n                {\r\n                    question: 'Can I cancel my premium subscription?',\r\n                    answer: 'Yes, you can cancel anytime from your account settings. Your premium features will remain active until the end of your current billing period. No cancellation fees apply.'\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            id: 'technical',\r\n            title: 'Technical Support',\r\n            icon: <SettingsIcon />,\r\n            faqs: [\r\n                {\r\n                    question: 'Why can\\'t I upload my video?',\r\n                    answer: 'Ensure your video is in MP4 format, under 100MB, and less than 2 minutes long. Check your internet connection and try again. If the problem persists, contact our technical support team.'\r\n                },\r\n                {\r\n                    question: 'How do I reset my password?',\r\n                    answer: 'Click \"Forgot Password\" on the login page. Enter your email address and follow the instructions in the reset email. If you don\\'t receive the email, check your spam folder.'\r\n                },\r\n                {\r\n                    question: 'Why am I not receiving notifications?',\r\n                    answer: 'Check your notification settings in your profile. Ensure you\\'ve allowed browser notifications and that our emails aren\\'t going to spam. You can also enable SMS notifications for important updates.'\r\n                }\r\n            ]\r\n        }\r\n    ];\r\n\r\n    const tutorials = [\r\n        {\r\n            title: 'Getting Started with SwipeScout',\r\n            description: 'Complete guide to setting up your account and profile',\r\n            duration: '5 min',\r\n            type: 'video',\r\n            thumbnail: '/tutorials/getting-started.jpg'\r\n        },\r\n        {\r\n            title: 'Creating the Perfect Video Resume',\r\n            description: 'Tips and best practices for recording your video resume',\r\n            duration: '8 min',\r\n            type: 'video',\r\n            thumbnail: '/tutorials/video-resume.jpg'\r\n        },\r\n        {\r\n            title: 'Advanced Job Search Techniques',\r\n            description: 'How to use filters and find the best job matches',\r\n            duration: '6 min',\r\n            type: 'video',\r\n            thumbnail: '/tutorials/job-search.jpg'\r\n        },\r\n        {\r\n            title: 'Employer Guide: Finding Top Talent',\r\n            description: 'Best practices for employers to attract candidates',\r\n            duration: '10 min',\r\n            type: 'video',\r\n            thumbnail: '/tutorials/employer-guide.jpg'\r\n        }\r\n    ];\r\n\r\n    const supportOptions = [\r\n        {\r\n            title: 'Live Chat',\r\n            description: 'Get instant help from our support team',\r\n            icon: <ChatIcon />,\r\n            action: 'Start Chat',\r\n            available: '24/7'\r\n        },\r\n        {\r\n            title: 'Email Support',\r\n            description: 'Send us a detailed message',\r\n            icon: <EmailIcon />,\r\n            action: 'Send Email',\r\n            available: 'Response within 24h'\r\n        },\r\n        {\r\n            title: 'Phone Support',\r\n            description: 'Speak directly with our team',\r\n            icon: <PhoneIcon />,\r\n            action: 'Call Now',\r\n            available: 'Mon-Fri 9AM-6PM'\r\n        },\r\n        {\r\n            title: 'Community Forum',\r\n            description: 'Connect with other users',\r\n            icon: <SupportIcon />,\r\n            action: 'Visit Forum',\r\n            available: 'Always open'\r\n        }\r\n    ];\r\n\r\n    const handleTabChange = (event, newValue) => {\r\n        setActiveTab(newValue);\r\n    };\r\n\r\n    const handleSearchChange = (event) => {\r\n        setSearchQuery(event.target.value);\r\n    };\r\n\r\n    const handleContactFormChange = (field, value) => {\r\n        setContactForm(prev => ({\r\n            ...prev,\r\n            [field]: value\r\n        }));\r\n    };\r\n\r\n    const handleSubmitContact = () => {\r\n        // Handle contact form submission\r\n        console.log('Contact form submitted:', contactForm);\r\n        setContactDialog(false);\r\n        setContactForm({\r\n            name: '',\r\n            email: '',\r\n            subject: '',\r\n            message: '',\r\n            category: 'general'\r\n        });\r\n    };\r\n\r\n    const filteredFAQs = faqCategories.map(category => ({\r\n        ...category,\r\n        faqs: category.faqs.filter(faq =>\r\n            faq.question.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n            faq.answer.toLowerCase().includes(searchQuery.toLowerCase())\r\n        )\r\n    })).filter(category => category.faqs.length > 0);\r\n\r\n    return (\r\n        <HelpContainer maxWidth=\"lg\">\r\n            {/* Header */}\r\n            <HelpHeader elevation={3}>\r\n                <Typography variant=\"h3\" gutterBottom>\r\n                    Help Center\r\n                </Typography>\r\n                <Typography variant=\"h6\" sx={{ opacity: 0.9, mb: 3 }}>\r\n                    Find answers, get support, and learn how to make the most of SwipeScout\r\n                </Typography>\r\n                \r\n                {/* Search Bar */}\r\n                <TextField\r\n                    fullWidth\r\n                    placeholder=\"Search for help articles, tutorials, or FAQs...\"\r\n                    value={searchQuery}\r\n                    onChange={handleSearchChange}\r\n                    InputProps={{\r\n                        startAdornment: (\r\n                            <InputAdornment position=\"start\">\r\n                                <SearchIcon />\r\n                            </InputAdornment>\r\n                        ),\r\n                        sx: { \r\n                            backgroundColor: 'background.paper',\r\n                            maxWidth: 600,\r\n                            mx: 'auto'\r\n                        }\r\n                    }}\r\n                    sx={{ maxWidth: 600, mx: 'auto' }}\r\n                />\r\n            </HelpHeader>\r\n\r\n            {/* Navigation Tabs */}\r\n            <Paper sx={{ mb: 3 }}>\r\n                <Tabs\r\n                    value={activeTab}\r\n                    onChange={handleTabChange}\r\n                    variant=\"scrollable\"\r\n                    scrollButtons=\"auto\"\r\n                    sx={{ borderBottom: 1, borderColor: 'divider' }}\r\n                >\r\n                    <Tab label=\"FAQs\" />\r\n                    <Tab label=\"Video Tutorials\" />\r\n                    <Tab label=\"Contact Support\" />\r\n                    <Tab label=\"Downloads\" />\r\n                </Tabs>\r\n            </Paper>\r\n\r\n            {/* FAQ Tab */}\r\n            {activeTab === 0 && (\r\n                <Box>\r\n                    {searchQuery ? (\r\n                        // Search Results\r\n                        <Box>\r\n                            <Typography variant=\"h5\" gutterBottom>\r\n                                Search Results for \"{searchQuery}\"\r\n                            </Typography>\r\n                            {filteredFAQs.map((category) => (\r\n                                <Box key={category.id} sx={{ mb: 3 }}>\r\n                                    <Typography variant=\"h6\" gutterBottom sx={{ display: 'flex', alignItems: 'center' }}>\r\n                                        {category.icon}\r\n                                        <Box sx={{ ml: 1 }}>{category.title}</Box>\r\n                                    </Typography>\r\n                                    {category.faqs.map((faq, index) => (\r\n                                        <Accordion key={index}>\r\n                                            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n                                                <Typography variant=\"subtitle1\">{faq.question}</Typography>\r\n                                            </AccordionSummary>\r\n                                            <AccordionDetails>\r\n                                                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                    {faq.answer}\r\n                                                </Typography>\r\n                                            </AccordionDetails>\r\n                                        </Accordion>\r\n                                    ))}\r\n                                </Box>\r\n                            ))}\r\n                        </Box>\r\n                    ) : (\r\n                        // Category View\r\n                        <Grid container spacing={3}>\r\n                            {faqCategories.map((category) => (\r\n                                <Grid item xs={12} md={6} key={category.id}>\r\n                                    <CategoryCard>\r\n                                        <CardContent>\r\n                                            <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n                                                <Avatar sx={{ mr: 2, bgcolor: 'primary.main' }}>\r\n                                                    {category.icon}\r\n                                                </Avatar>\r\n                                                <Typography variant=\"h6\">{category.title}</Typography>\r\n                                            </Box>\r\n                                            \r\n                                            {category.faqs.slice(0, 3).map((faq, index) => (\r\n                                                <Accordion key={index}>\r\n                                                    <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n                                                        <Typography variant=\"subtitle2\">{faq.question}</Typography>\r\n                                                    </AccordionSummary>\r\n                                                    <AccordionDetails>\r\n                                                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                            {faq.answer}\r\n                                                        </Typography>\r\n                                                    </AccordionDetails>\r\n                                                </Accordion>\r\n                                            ))}\r\n                                        </CardContent>\r\n                                        {category.faqs.length > 3 && (\r\n                                            <CardActions>\r\n                                                <Button size=\"small\">\r\n                                                    View All {category.faqs.length} Questions\r\n                                                </Button>\r\n                                            </CardActions>\r\n                                        )}\r\n                                    </CategoryCard>\r\n                                </Grid>\r\n                            ))}\r\n                        </Grid>\r\n                    )}\r\n                </Box>\r\n            )}\r\n\r\n            {/* Video Tutorials Tab */}\r\n            {activeTab === 1 && (\r\n                <Box>\r\n                    <Typography variant=\"h5\" gutterBottom>\r\n                        Video Tutorials\r\n                    </Typography>\r\n                    <Grid container spacing={3}>\r\n                        {tutorials.map((tutorial, index) => (\r\n                            <Grid item xs={12} md={6} lg={4} key={index}>\r\n                                <Card>\r\n                                    <Box\r\n                                        sx={{\r\n                                            height: 200,\r\n                                            backgroundImage: `url(${tutorial.thumbnail})`,\r\n                                            backgroundSize: 'cover',\r\n                                            backgroundPosition: 'center',\r\n                                            display: 'flex',\r\n                                            alignItems: 'center',\r\n                                            justifyContent: 'center',\r\n                                            position: 'relative'\r\n                                        }}\r\n                                    >\r\n                                        <IconButton\r\n                                            sx={{\r\n                                                backgroundColor: 'rgba(0,0,0,0.7)',\r\n                                                color: 'white',\r\n                                                '&:hover': { backgroundColor: 'rgba(0,0,0,0.8)' }\r\n                                            }}\r\n                                        >\r\n                                            <PlayCircleOutlineIcon sx={{ fontSize: 48 }} />\r\n                                        </IconButton>\r\n                                        <Chip\r\n                                            label={tutorial.duration}\r\n                                            size=\"small\"\r\n                                            sx={{ position: 'absolute', top: 8, right: 8 }}\r\n                                        />\r\n                                    </Box>\r\n                                    <CardContent>\r\n                                        <Typography variant=\"h6\" gutterBottom>\r\n                                            {tutorial.title}\r\n                                        </Typography>\r\n                                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                            {tutorial.description}\r\n                                        </Typography>\r\n                                    </CardContent>\r\n                                    <CardActions>\r\n                                        <Button size=\"small\" startIcon={<PlayCircleOutlineIcon />}>\r\n                                            Watch Tutorial\r\n                                        </Button>\r\n                                    </CardActions>\r\n                                </Card>\r\n                            </Grid>\r\n                        ))}\r\n                    </Grid>\r\n                </Box>\r\n            )}\r\n\r\n            {/* Contact Support Tab */}\r\n            {activeTab === 2 && (\r\n                <Box>\r\n                    <Typography variant=\"h5\" gutterBottom>\r\n                        Contact Support\r\n                    </Typography>\r\n                    <Grid container spacing={3}>\r\n                        {supportOptions.map((option, index) => (\r\n                            <Grid item xs={12} md={6} key={index}>\r\n                                <Card>\r\n                                    <CardContent>\r\n                                        <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n                                            <Avatar sx={{ mr: 2, bgcolor: 'secondary.main' }}>\r\n                                                {option.icon}\r\n                                            </Avatar>\r\n                                            <Box>\r\n                                                <Typography variant=\"h6\">{option.title}</Typography>\r\n                                                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                    {option.available}\r\n                                                </Typography>\r\n                                            </Box>\r\n                                        </Box>\r\n                                        <Typography variant=\"body2\" sx={{ mb: 2 }}>\r\n                                            {option.description}\r\n                                        </Typography>\r\n                                    </CardContent>\r\n                                    <CardActions>\r\n                                        <Button\r\n                                            variant=\"contained\"\r\n                                            onClick={() => {\r\n                                                if (option.title === 'Email Support') {\r\n                                                    setContactDialog(true);\r\n                                                }\r\n                                            }}\r\n                                        >\r\n                                            {option.action}\r\n                                        </Button>\r\n                                    </CardActions>\r\n                                </Card>\r\n                            </Grid>\r\n                        ))}\r\n                    </Grid>\r\n                </Box>\r\n            )}\r\n\r\n            {/* Downloads Tab */}\r\n            {activeTab === 3 && (\r\n                <Box>\r\n                    <Typography variant=\"h5\" gutterBottom>\r\n                        Downloads & Resources\r\n                    </Typography>\r\n                    <Grid container spacing={3}>\r\n                        <Grid item xs={12} md={6}>\r\n                            <Card>\r\n                                <CardContent>\r\n                                    <Typography variant=\"h6\" gutterBottom>\r\n                                        Mobile App\r\n                                    </Typography>\r\n                                    <Typography variant=\"body2\" sx={{ mb: 2 }}>\r\n                                        Download the SwipeScout mobile app for iOS and Android\r\n                                    </Typography>\r\n                                    <Box sx={{ display: 'flex', gap: 1 }}>\r\n                                        <Button variant=\"outlined\" startIcon={<GetAppIcon />}>\r\n                                            iOS App\r\n                                        </Button>\r\n                                        <Button variant=\"outlined\" startIcon={<GetAppIcon />}>\r\n                                            Android App\r\n                                        </Button>\r\n                                    </Box>\r\n                                </CardContent>\r\n                            </Card>\r\n                        </Grid>\r\n                        \r\n                        <Grid item xs={12} md={6}>\r\n                            <Card>\r\n                                <CardContent>\r\n                                    <Typography variant=\"h6\" gutterBottom>\r\n                                        Resume Templates\r\n                                    </Typography>\r\n                                    <Typography variant=\"body2\" sx={{ mb: 2 }}>\r\n                                        Professional resume templates to complement your video resume\r\n                                    </Typography>\r\n                                    <Button variant=\"outlined\" startIcon={<GetAppIcon />}>\r\n                                        Download Templates\r\n                                    </Button>\r\n                                </CardContent>\r\n                            </Card>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Box>\r\n            )}\r\n\r\n            {/* Contact Dialog */}\r\n            <Dialog\r\n                open={contactDialog}\r\n                onClose={() => setContactDialog(false)}\r\n                maxWidth=\"md\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle>Contact Support</DialogTitle>\r\n                <DialogContent>\r\n                    <Grid container spacing={2} sx={{ mt: 1 }}>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"Name\"\r\n                                value={contactForm.name}\r\n                                onChange={(e) => handleContactFormChange('name', e.target.value)}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"Email\"\r\n                                type=\"email\"\r\n                                value={contactForm.email}\r\n                                onChange={(e) => handleContactFormChange('email', e.target.value)}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <FormControl fullWidth>\r\n                                <InputLabel>Category</InputLabel>\r\n                                <Select\r\n                                    value={contactForm.category}\r\n                                    onChange={(e) => handleContactFormChange('category', e.target.value)}\r\n                                    label=\"Category\"\r\n                                >\r\n                                    <MenuItem value=\"general\">General Question</MenuItem>\r\n                                    <MenuItem value=\"technical\">Technical Issue</MenuItem>\r\n                                    <MenuItem value=\"billing\">Billing</MenuItem>\r\n                                    <MenuItem value=\"feature\">Feature Request</MenuItem>\r\n                                    <MenuItem value=\"bug\">Bug Report</MenuItem>\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"Subject\"\r\n                                value={contactForm.subject}\r\n                                onChange={(e) => handleContactFormChange('subject', e.target.value)}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"Message\"\r\n                                multiline\r\n                                rows={6}\r\n                                value={contactForm.message}\r\n                                onChange={(e) => handleContactFormChange('message', e.target.value)}\r\n                                placeholder=\"Please describe your question or issue in detail...\"\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => setContactDialog(false)}>Cancel</Button>\r\n                    <Button onClick={handleSubmitContact} variant=\"contained\">\r\n                        Send Message\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </HelpContainer>\r\n    );\r\n};\r\n\r\nexport default HelpPage;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\home\\contact us\\contactus.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\home\\cookie policy\\cookie.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\home\\home.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'location' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 22,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 22,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "location"
            },
            "fix": {
              "range": [
                1143,
                1174
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'location'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'showPassword' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 39,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 39,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "showPassword"
            },
            "fix": {
              "range": [
                1733,
                1745
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'showPassword'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setShowPassword' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 39,
        "column": 24,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 39,
        "endColumn": 39,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setShowPassword"
            },
            "fix": {
              "range": [
                1745,
                1762
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setShowPassword'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'showConfirmPassword' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 40,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 40,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "showConfirmPassword"
            },
            "fix": {
              "range": [
                1793,
                1812
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'showConfirmPassword'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setShowConfirmPassword' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 40,
        "column": 31,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 40,
        "endColumn": 53,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setShowConfirmPassword"
            },
            "fix": {
              "range": [
                1812,
                1836
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setShowConfirmPassword'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 46,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 46,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "error"
            },
            "fix": {
              "range": [
                1979,
                1984
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'error'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'googleAnchorEl' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 47,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 47,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "googleAnchorEl"
            },
            "fix": {
              "range": [
                2022,
                2036
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'googleAnchorEl'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'linkedinAnchorEl' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 48,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 48,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "linkedinAnchorEl"
            },
            "fix": {
              "range": [
                2085,
                2101
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'linkedinAnchorEl'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'selectedRole' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 49,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 49,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "selectedRole"
            },
            "fix": {
              "range": [
                2152,
                2164
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'selectedRole'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setSelectedRole' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 49,
        "column": 24,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 49,
        "endColumn": 39,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setSelectedRole"
            },
            "fix": {
              "range": [
                2164,
                2181
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setSelectedRole'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has an unnecessary dependency: 'i18n.language'. Either exclude it or remove the dependency array. Outer scope values like 'i18n.language' aren't valid dependencies because mutating them doesn't re-render the component.",
        "line": 125,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 125,
        "endColumn": 24,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [t]",
            "fix": {
              "range": [
                5037,
                5055
              ],
              "text": "[t]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 142,
        "column": 18,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 142,
        "endColumn": 19
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 149,
        "column": 20,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 149,
        "endColumn": 21
      },
      {
        "ruleId": "no-empty",
        "severity": 2,
        "message": "Empty block statement.",
        "line": 149,
        "column": 23,
        "nodeType": "BlockStatement",
        "messageId": "unexpected",
        "endLine": 149,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "suggestComment",
            "data": {
              "type": "block"
            },
            "fix": {
              "range": [
                6126,
                6126
              ],
              "text": " /* empty */ "
            },
            "desc": "Add comment inside empty block statement."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleTabChange' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 159,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 159,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleTabChange"
            },
            "fix": {
              "range": [
                6340,
                6577
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleTabChange'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleChange' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 176,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 176,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleChange"
            },
            "fix": {
              "range": [
                6702,
                6825
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleChange'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleRoleSelect' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 183,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 183,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleRoleSelect"
            },
            "fix": {
              "range": [
                6831,
                6940
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleRoleSelect'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleEmailSignIn' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 190,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 190,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleEmailSignIn"
            },
            "fix": {
              "range": [
                6946,
                7829
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleEmailSignIn'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 207,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 207,
        "endColumn": 17
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleEmailSignUp' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 214,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 214,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleEmailSignUp"
            },
            "fix": {
              "range": [
                7835,
                9088
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleEmailSignUp'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 250,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 250,
        "endColumn": 17
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleGoogleSignIn' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 257,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 257,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleGoogleSignIn"
            },
            "fix": {
              "range": [
                9094,
                9619
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleGoogleSignIn'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleGoogleSignUp' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 273,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 273,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleGoogleSignUp"
            },
            "fix": {
              "range": [
                9625,
                10150
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleGoogleSignUp'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleGoogleSignInWithRole' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 289,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 289,
        "endColumn": 35,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleGoogleSignInWithRole"
            },
            "fix": {
              "range": [
                10156,
                10867
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleGoogleSignInWithRole'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 301,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 301,
        "endColumn": 17
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleLinkedInLogin' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 308,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 308,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleLinkedInLogin"
            },
            "fix": {
              "range": [
                10873,
                11555
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleLinkedInLogin'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 324,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 324,
        "endColumn": 17
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleLinkedInMenuOpen' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 331,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 331,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleLinkedInMenuOpen"
            },
            "fix": {
              "range": [
                11561,
                11657
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleLinkedInMenuOpen'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleLinkedInMenuClose' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 335,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 335,
        "endColumn": 32,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleLinkedInMenuClose"
            },
            "fix": {
              "range": [
                11663,
                11740
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleLinkedInMenuClose'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleLinkedInSignInWithRole' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 339,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 339,
        "endColumn": 37,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleLinkedInSignInWithRole"
            },
            "fix": {
              "range": [
                11746,
                12411
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleLinkedInSignInWithRole'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 352,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 352,
        "endColumn": 17
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleGoogleMenuOpen' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 359,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 359,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleGoogleMenuOpen"
            },
            "fix": {
              "range": [
                12417,
                12509
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleGoogleMenuOpen'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleGoogleMenuClose' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 363,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 363,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleGoogleMenuClose"
            },
            "fix": {
              "range": [
                12515,
                12747
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleGoogleMenuClose'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 32,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect, useRef } from 'react';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Card, CardContent, CardHeader } from '@/components/UI/card.jsx';\r\nimport { Input } from '@/components/UI/input.jsx';\r\nimport { Label } from '@/components/UI/label.jsx';\r\nimport { AlertCircle as AlertCircleIcon } from 'lucide-react';\r\nimport AuthPage from '../AuthPage';\r\nimport ContactUs from './contact us/contactus';\r\nimport './home.css';\r\nimport TermsOfService from './terms of service/terms';\r\nimport PrivacyPolicy from './privacy policy/privacy';\r\nimport CookiePolicy from './cookie policy/cookie';\r\nimport { useTranslation } from 'react-i18next';\r\nimport i18n from '../../i18n';\r\n\r\nconst Home = () => {\r\n  const { t } = useTranslation(['home', 'homepage', 'common', 'videos', 'legal', 'contact', 'about', 'admin']);\r\n  const { loginByEmailAndPassword, registerByEmailAndPassword, authenticateWithGoogle, authenticateWithLinkedIn, user, role } = useAuth();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  \r\n  const [activeTab, setActiveTab] = useState(0);\r\n  const [showAuthDialog, setShowAuthDialog] = useState(false);\r\n  const [showContactUs, setShowContactUs] = useState(false);\r\n  const [showTerms, setShowTerms] = useState(false);\r\n  const [showPrivacy, setShowPrivacy] = useState(false);\r\n  const [showCookie, setShowCookie] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    role: \"\" // \"employee\" or \"recruiter\"\r\n  });\r\n  \r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [loading, setLoading] = useState({\r\n    email: false,\r\n    google: false,\r\n    linkedin: false,\r\n  });\r\n  const [error, setError] = useState(\"\");\r\n  const [googleAnchorEl, setGoogleAnchorEl] = useState(null);\r\n  const [linkedinAnchorEl, setLinkedinAnchorEl] = useState(null);\r\n  const [selectedRole, setSelectedRole] = useState(\"\");\r\n  const [redirectPath, setRedirectPath] = useState(null); // Store intended destination\r\n\r\n  const getDefaultRoute = (role) => {\r\n    const effectiveRole = Array.isArray(role) ? role[0] : role;\r\n    \r\n    switch (effectiveRole) {\r\n      case 'job_seeker':\r\n      case 'employee': return '/jobseeker-tabs';\r\n      case 'employer':\r\n      case 'recruiter': return '/employer-tabs';\r\n      case 'admin': return '/admin-dashboard';\r\n      default: return '/';\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    let buffer = '';\r\n    const termsPhrase = 'terms of service';\r\n    const privacyPhrase = 'privacy policy';\r\n\r\n    const onKeyDown = (e) => {\r\n      const key = e.key;\r\n      if (typeof key === 'string' && key.length === 1) {\r\n        buffer += key.toLowerCase();\r\n        const maxLen = Math.max(termsPhrase.length, privacyPhrase.length);\r\n        if (buffer.length > maxLen) {\r\n          buffer = buffer.slice(buffer.length - maxLen);\r\n        }\r\n        if (buffer.includes(termsPhrase)) {\r\n          setShowTerms(true);\r\n          buffer = '';\r\n        } else if (buffer.includes(privacyPhrase)) {\r\n          setShowPrivacy(true);\r\n          buffer = '';\r\n        }\r\n      } else if (key === 'Escape') {\r\n        setShowTerms(false);\r\n        setShowPrivacy(false);\r\n        buffer = '';\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', onKeyDown);\r\n    return () => window.removeEventListener('keydown', onKeyDown);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const currentLang = i18n.language || (Array.isArray(i18n.options.fallbackLng) ? i18n.options.fallbackLng[0] : i18n.options.fallbackLng) || 'en';\r\n    const monitoredNamespaces = ['home', 'homepage', 'common'];\r\n\r\n    console.log('[Home] Active language:', currentLang);\r\n    monitoredNamespaces.forEach((ns) => {\r\n      const hasBundle = i18n.hasResourceBundle(currentLang, ns);\r\n      console.log(`[Home] Namespace \"${ns}\" loaded:`, hasBundle);\r\n      if (hasBundle) {\r\n        const bundleKeys = Object.keys(i18n.getResourceBundle(currentLang, ns) || {});\r\n        console.log(`[Home] Sample keys for \"${ns}\":`, bundleKeys.slice(0, 5));\r\n      }\r\n    });\r\n    console.log('[Home] hero.title preview:', t('home:hero.title'));\r\n    \r\n    // Handle RTL direction for Arabic\r\n    const html = document.documentElement;\r\n    html.setAttribute('lang', currentLang);\r\n    \r\n    if (currentLang === 'ar') {\r\n      html.setAttribute('dir', 'rtl');\r\n      document.body.classList.add('font-arabic', 'text-arabic', 'arabic-shaped');\r\n      // Force re-render to apply Arabic shaping\r\n      document.body.style.fontFeatureSettings = '\"ccmp\", \"locl\", \"calt\", \"liga\", \"clig\"';\r\n    } else {\r\n      html.setAttribute('dir', 'ltr');\r\n      document.body.classList.remove('font-arabic', 'text-arabic', 'arabic-shaped');\r\n      document.body.style.fontFeatureSettings = '';\r\n    }\r\n  }, [i18n.language, t]);\r\n\r\n  // Keep track of viewport width and when switching from mobile/tablet\r\n  // (<=1024px) to desktop (>=1025px) scroll to top so user sees the\r\n  // full desktop hero instead of remaining mid-scroll.\r\n  const prevWidthRef = useRef(typeof window !== 'undefined' ? window.innerWidth : 0);\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      const prev = prevWidthRef.current || 0;\r\n      const curr = window.innerWidth;\r\n      // If we crossed from <=1024 to >=1025, scroll to top.\r\n      if (prev <= 1024 && curr >= 1025) {\r\n        try {\r\n          // immediate reset of document scroll positions\r\n          window.scrollTo({ top: 0, left: 0, behavior: 'auto' });\r\n          if (document.documentElement) document.documentElement.scrollTop = 0;\r\n          if (document.body) document.body.scrollTop = 0;\r\n        } catch (e) {\r\n          // ignore\r\n        }\r\n        // Small timeout to ensure CSS reflows (optional)\r\n        setTimeout(() => {\r\n          try {\r\n            window.scrollTo({ top: 0, left: 0, behavior: 'auto' });\r\n          } catch (e) {}\r\n        }, 40);\r\n      }\r\n      prevWidthRef.current = curr;\r\n    };\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setActiveTab(newValue);\r\n    setError(\"\");\r\n    setFormData({\r\n      email: \"\",\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n      firstName: \"\",\r\n      lastName: \"\"\r\n    });\r\n  };\r\n\r\n  const handleOpenAuthDialog = (tabIndex = 0) => {\r\n    setActiveTab(tabIndex);\r\n    setShowAuthDialog(true);\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleRoleSelect = (role) => {\r\n    setFormData({\r\n      ...formData,\r\n      role: role,\r\n    });\r\n  };\r\n\r\n  const handleEmailSignIn = async (e) => {\r\n    e.preventDefault();\r\n    setLoading({ ...loading, email: true });\r\n    setError(\"\");\r\n\r\n    try {\r\n      const result = await loginByEmailAndPassword(formData.email, formData.password);\r\n      \r\n      if (result.error) {\r\n        setError(result.message);\r\n      } else if (result.user && result.user.role && result.user.role !== \"no role\") {\r\n        setShowAuthDialog(false);\r\n        navigate(redirectPath || getDefaultRoute(result.user.role)); // Navigate to stored destination or default route\r\n        setRedirectPath(null); // Clear redirect path\r\n      } else {\r\n        setError(\"Sign-in successful but user role is not set. Please contact support.\");\r\n      }\r\n    } catch (err) {\r\n      setError(\"An unexpected error occurred. Please try again.\");\r\n    } finally {\r\n      setLoading({ ...loading, email: false });\r\n    }\r\n  };\r\n\r\n  const handleEmailSignUp = async (e) => {\r\n    e.preventDefault();\r\n    setLoading({ ...loading, email: true });\r\n    setError(\"\");\r\n\r\n    if (!formData.role) {\r\n      setError(\"Please select your role (Job Seeker or Employer)\");\r\n      setLoading({ ...loading, email: false });\r\n      return;\r\n    }\r\n\r\n    if (formData.password !== formData.confirmPassword) {\r\n      setError(\"Passwords do not match\");\r\n      setLoading({ ...loading, email: false });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const result = await registerByEmailAndPassword(\r\n        formData.email, \r\n        formData.password, \r\n         formData.firstName,formData.lastName,\r\n        formData.role\r\n      );\r\n      \r\n      if (result.error) {\r\n        setError(result.message);\r\n      } else {\r\n        setShowAuthDialog(false); // Close dialog before navigating\r\n        const userRole = result?.user?.role || result?.role;\r\n        if (userRole) {\r\n          navigate(getDefaultRoute(userRole));\r\n        } else {\r\n          setError(\"Sign-up successful but unable to determine user role.\");\r\n        }\r\n      }\r\n    } catch (err) {\r\n      setError(\"An unexpected error occurred. Please try again.\");\r\n    } finally {\r\n      setLoading({ ...loading, email: false });\r\n    }\r\n  };\r\n\r\n  const handleGoogleSignIn = async () => {\r\n    try {\r\n      setShowAuthDialog(false);\r\n      await new Promise((resolve) => setTimeout(resolve, 100));\r\n      setLoading((prev) => ({ ...prev, google: true }));\r\n      const result = await authenticateWithGoogle();\r\n      if (result?.error && !result.redirect) {\r\n        setError(result.message);\r\n      }\r\n    } catch (error) {\r\n      setError(error?.message || \"Google Sign-In failed\");\r\n    } finally {\r\n      setLoading((prev) => ({ ...prev, google: false }));\r\n    }\r\n  };\r\n\r\n  const handleGoogleSignUp = async () => {\r\n    try {\r\n      setShowAuthDialog(false);\r\n      await new Promise((resolve) => setTimeout(resolve, 100));\r\n      setLoading((prev) => ({ ...prev, google: true }));\r\n      const result = await authenticateWithGoogle();\r\n      if (result?.error && !result.redirect) {\r\n        setError(result.message);\r\n      }\r\n    } catch (error) {\r\n      setError(error?.message || \"Google Sign-Up failed\");\r\n    } finally {\r\n      setLoading((prev) => ({ ...prev, google: false }));\r\n    }\r\n  };\r\n\r\n  const handleGoogleSignInWithRole = async (nextRole) => {\r\n    setGoogleAnchorEl(null);\r\n    setLoading({ ...loading, google: true });\r\n    setError(\"\");\r\n    try {\r\n      const result = await authenticateWithGoogle({ role: nextRole });\r\n      if (result?.error && !result.redirect) {\r\n        setError(result.message);\r\n      } else if (!result?.redirect && result.user && result.user.role) {\r\n        console.log(\"Navigating to default route for role:\", result.user.role); // Debugging\r\n        navigate(getDefaultRoute(result.user.role));\r\n      }\r\n    } catch (err) {\r\n      setError(\"Google sign-in failed. Please try again.\");\r\n    } finally {\r\n      setLoading({ ...loading, google: false });\r\n    }\r\n  };\r\n\r\n  const handleLinkedInLogin = async () => {\r\n    setLoading({ ...loading, linkedin: true });\r\n    setError(\"\");\r\n\r\n    try {\r\n      const result = await authenticateWithLinkedIn();\r\n      if (result.error) {\r\n        setError(result.message);\r\n      } else {\r\n        const userRole = result?.user?.role || result?.role;\r\n        if (userRole) {\r\n          navigate(getDefaultRoute(userRole));\r\n        } else {\r\n          setError(\"LinkedIn sign-in successful but unable to determine user role.\");\r\n        }\r\n      }\r\n    } catch (err) {\r\n      setError(\"LinkedIn sign-in failed. Please try again.\");\r\n    } finally {\r\n      setLoading({ ...loading, linkedin: false });\r\n    }\r\n  };\r\n\r\n  const handleLinkedInMenuOpen = (event) => {\r\n    setLinkedinAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleLinkedInMenuClose = () => {\r\n    setLinkedinAnchorEl(null);\r\n  };\r\n\r\n  const handleLinkedInSignInWithRole = async (role) => {\r\n    setLinkedinAnchorEl(null);\r\n    setLoading({ ...loading, linkedin: true });\r\n    setError(\"\");\r\n\r\n    try {\r\n      const result = await authenticateWithLinkedIn(role);\r\n      if (result.error) {\r\n        setError(result.message);\r\n      } else if (result.user && result.user.role) {\r\n        console.log(\"Navigating to default route for role:\", result.user.role); // Debugging\r\n        navigate(getDefaultRoute(result.user.role));\r\n      }\r\n    } catch (err) {\r\n      setError(\"LinkedIn sign-in failed. Please try again.\");\r\n    } finally {\r\n      setLoading({ ...loading, linkedin: false });\r\n    }\r\n  };\r\n\r\n  const handleGoogleMenuOpen = (event) => {\r\n    setGoogleAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleGoogleMenuClose = () => {\r\n    // Move focus away from the menu before closing it\r\n    if (document.activeElement instanceof HTMLElement) {\r\n      document.activeElement.blur();\r\n    }\r\n    setGoogleAnchorEl(null);\r\n  };\r\n\r\n  // add handler to go to video-upload tab, require login first\r\n  const handleVideoFeatureClick = async () => {\r\n    // Defensive: wrap navigation in a short async delay and try/catch so\r\n    // any timing-related message/extension races don't prevent navigation\r\n    // and we get a clearer error trace if something goes wrong.\r\n    try {\r\n      console.log(\"Video feature clicked==================\", { user, role });\r\n      const effectiveRole = user ? (Array.isArray(user.role) ? user.role[0] : user.role) : null;\r\n\r\n      if (role === null || !effectiveRole) {\r\n        handleOpenAuthDialog(0);\r\n        setRedirectPath('/jobseeker-tabs?group=profileContent&tab=video-upload');\r\n        return;\r\n      }\r\n\r\n      // Small micro-delay to avoid potential message-channel races with browser\r\n      // extensions or other listeners (50ms is usually sufficient and low impact).\r\n      await new Promise((resolve) => setTimeout(resolve, 50));\r\n\r\n      if (effectiveRole === 'job_seeker') {\r\n        navigate('/jobseeker-tabs?group=profileContent&tab=video-upload');\r\n      } else if (effectiveRole === 'employee') {\r\n        navigate('/employer-tabs?group=profileContent&tab=video-upload');\r\n      } else {\r\n        navigate(getDefaultRoute(effectiveRole));\r\n      }\r\n    } catch (err) {\r\n      // Log and attempt a safe fallback; avoid throwing unhandled exceptions\r\n      // that could break UI handlers.\r\n       \r\n      console.error('handleVideoFeatureClick error:', err);\r\n      try {\r\n        const fallbackRole = user ? (Array.isArray(user.role) ? user.role[0] : user.role) : null;\r\n        navigate(getDefaultRoute(fallbackRole) || '/');\r\n      } catch (e) {\r\n        // swallow secondary navigation errors\r\n         \r\n        console.error('fallback navigation failed:', e);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleEmployersClick = () => {\r\n    // If not logged in, prompt login and store redirect\r\n    if (!user) {\r\n      setRedirectPath('/employer-tabs');\r\n      handleOpenAuthDialog(0);\r\n      return;\r\n    }\r\n    const effectiveRole = Array.isArray(user.role) ? user.role[0] : user.role;\r\n    // navigate to employer area\r\n    navigate(getDefaultRoute(effectiveRole) || '/employer-tabs');\r\n  };\r\n\r\n  const handleSkillsClick = () => {\r\n    if (!user) {\r\n      setRedirectPath('/jobseeker-tabs');\r\n      handleOpenAuthDialog(0);\r\n      return;\r\n    }\r\n    const effectiveRole = Array.isArray(user.role) ? user.role[0] : user.role;\r\n    if (effectiveRole === 'job_seeker' || effectiveRole === 'employee') {\r\n      navigate('/jobseeker-tabs');\r\n    } else {\r\n      navigate(getDefaultRoute(effectiveRole));\r\n    }\r\n  };\r\n \r\n  \r\n\r\n   return (\r\n    <div className=\"home-wrapper\" dir={i18n.language === 'ar' ? 'rtl' : 'ltr'}>\r\n      {/* SwipeScout Header */}\r\n      <div className=\"home-header\">\r\n        <div className=\"home-logo-container\">\r\n          <img src=\"/swipescout.svg\" alt=\"SwipeScout Logo\" className=\"home-logo\" />\r\n          <span className=\"home-brand-text\">SwipeScout</span>\r\n        </div>\r\n        \r\n        {/* Language Switcher with SVG Flags */}\r\n        <div className=\"flex gap-2 items-center ml-auto mr-5\">\r\n          <button\r\n            onClick={() => i18n.changeLanguage('en')}\r\n            className={`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all duration-300 hover:scale-105 ${\r\n              i18n.language === 'en' \r\n                ? 'bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg border-2 border-cyan-400' \r\n                : 'bg-white text-gray-700 border border-gray-300 hover:border-cyan-400'\r\n            }`}\r\n            title=\"English\"\r\n          >\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <rect width=\"32\" height=\"32\" rx=\"16\" fill=\"white\"/>\r\n              <mask id=\"mask0\" mask-type=\"alpha\" maskUnits=\"userSpaceOnUse\" x=\"0\" y=\"0\" width=\"32\" height=\"32\">\r\n                <rect width=\"32\" height=\"32\" rx=\"16\" fill=\"white\"/>\r\n              </mask>\r\n              <g mask=\"url(#mask0)\">\r\n                <rect width=\"32\" height=\"32\" fill=\"#0A17A7\"/>\r\n                <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M0 0L32 21.3333V32L0 10.6667V0Z\" fill=\"white\"/>\r\n                <path d=\"M2.66667 0L32 19.5556V24.8889L0 3.55556V0H2.66667Z\" fill=\"#C8102E\"/>\r\n                <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M32 0L0 21.3333V32L32 10.6667V0Z\" fill=\"white\"/>\r\n                <path d=\"M29.3333 0L0 19.5556V24.8889L32 3.55556V0H29.3333Z\" fill=\"#C8102E\"/>\r\n                <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M13.3333 0H18.6667V32H13.3333V0ZM0 10.6667V21.3333H32V10.6667H0Z\" fill=\"white\"/>\r\n                <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M0 12.8V19.2H32V12.8H0ZM14.4 0V32H17.6V0H14.4Z\" fill=\"#C8102E\"/>\r\n              </g>\r\n            </svg>\r\n            <span>EN</span>\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => i18n.changeLanguage('ar')}\r\n            className={`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all duration-300 hover:scale-105 ${\r\n              i18n.language === 'ar' \r\n                ? 'bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg border-2 border-cyan-400' \r\n                : 'bg-white text-gray-700 border border-gray-300 hover:border-cyan-400'\r\n            }`}\r\n            title=\"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©\"\r\n          >\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <rect width=\"32\" height=\"32\" rx=\"16\" fill=\"white\"/>\r\n              <mask id=\"mask-sa\" mask-type=\"alpha\" maskUnits=\"userSpaceOnUse\" x=\"0\" y=\"0\" width=\"32\" height=\"32\">\r\n                <rect width=\"32\" height=\"32\" rx=\"16\" fill=\"white\"/>\r\n              </mask>\r\n              <g mask=\"url(#mask-sa)\">\r\n                <rect width=\"32\" height=\"32\" fill=\"#165e3c\"/>\r\n                <path d=\"M8 11h16v3H8zm0 4h16v3H8zm3 4h10v2h2v-2h2v2h-2v2h-12v-2h-2v-2h2z\" fill=\"white\"/>\r\n              </g>\r\n            </svg>\r\n            <span className=\"font-arabic\">AR</span>\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => i18n.changeLanguage('zh')}\r\n            className={`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all duration-300 hover:scale-105 ${\r\n              i18n.language === 'zh' \r\n                ? 'bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg border-2 border-cyan-400' \r\n                : 'bg-white text-gray-700 border border-gray-300 hover:border-cyan-400'\r\n            }`}\r\n            title=\"ä¸­æ–‡\"\r\n          >\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <rect width=\"32\" height=\"32\" rx=\"16\" fill=\"white\"/>\r\n              <mask id=\"mask-cn\" mask-type=\"alpha\" maskUnits=\"userSpaceOnUse\" x=\"0\" y=\"0\" width=\"32\" height=\"32\">\r\n                <rect width=\"32\" height=\"32\" rx=\"16\" fill=\"white\"/>\r\n              </mask>\r\n              <g mask=\"url(#mask-cn)\">\r\n                <rect width=\"32\" height=\"32\" fill=\"#DE2910\"/>\r\n                <path d=\"M8 8l1.5 4.5h4.7l-3.8 2.8 1.5 4.5L8 17l-3.9 2.8 1.5-4.5L1.8 12.5h4.7L8 8z\" fill=\"#FFDE00\"/>\r\n                <path d=\"M14 6l0.5 1.5h1.5l-1.2 0.9 0.5 1.5-1.3-0.9-1.2 0.9 0.5-1.5-1.2-0.9h1.5L14 6zm2 4l0.5 1.5h1.5l-1.2 0.9 0.5 1.5-1.3-0.9-1.2 0.9 0.5-1.5-1.2-0.9h1.5L16 10zm-1 4l0.5 1.5h1.5l-1.2 0.9 0.5 1.5-1.3-0.9-1.2 0.9 0.5-1.5-1.2-0.9h1.5L15 14zm-2 2l0.5 1.5h1.5l-1.2 0.9 0.5 1.5-1.3-0.9-1.2 0.9 0.5-1.5-1.2-0.9h1.5L13 16z\" fill=\"#FFDE00\"/>\r\n              </g>\r\n            </svg>\r\n            <span>ZH</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* HERO + FEATURES WRAPPER (keeps features below the hero and responsive) */}\r\n      <div className=\"hero-features-wrap hero-features-wrap--left\">\r\n        <div className=\"home-container\">\r\n          {/* Background video element (plays behind content) */}\r\n          <video className=\"home-bg-video\" autoPlay muted loop playsInline poster=\"/backgrounds/meeting_room2.jpg\">\r\n            <source src=\"/videos/vidBkg_out_s.mp4\" type=\"video/mp4\" />\r\n            {/* Fallback content shown when video isn't supported */}\r\n            Your browser does not support the background video.\r\n          </video>\r\n          <div className=\"home-content\">\r\n            {/* Centered brand in the hero area (visually aligned like the action buttons were) */}\r\n            <div className=\"home-hero-brand\" aria-hidden=\"true\">\r\n              <img src=\"/swipescout.svg\" alt=\"\" className=\"home-hero-logo\" />\r\n              <span className=\"home-hero-brand-text\">SwipeScout</span>\r\n            </div>\r\n\r\n            <div className=\"home-hero-section\">\r\n              <h1 className=\"home-title\">\r\n                {t('home:hero.title')}\r\n              </h1>\r\n      \r\n            <h3 className=\"home-subtitle\">\r\n              {t('home:hero.subtitle')}\r\n            </h3>\r\n            <p className=\"home-hero-tagline\">\r\n              {t('home:heroTagline')}\r\n            </p>\r\n            <h5 className=\"home-description\">\r\n              {t('home:description')}\r\n            </h5>\r\n          </div>\r\n       \r\n      </div>\r\n  </div>\r\n<div >\r\n  {/* Feature Statements: kept below the hero in source order (no inline widths/heights) */}\r\n  <div className=\"home-feature-statements\" >\r\n          <div className=\"home-feature-item\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"home-feature-icon-button home-feature-clickable\"\r\n            onClick={(e) => { console.log('video-feature button DOM clicked', e); handleVideoFeatureClick(); }}\r\n            aria-label=\"Create a video resume\"\r\n          >\r\n            <svg className=\"home-feature-icon\" width=\"28\" height=\"28\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n              <path d=\"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4zM14 13h-3v3H9v-3H6v-2h3V8h2v3h3v2z\"/>\r\n            </svg>\r\n          </button>\r\n          <h3 className=\"home-feature-statement home-feature-statement-primary\">\r\n            {t('home:features.videoProfile')}\r\n          </h3>\r\n             </div>\r\n             \r\n\r\n        <div className=\"home-feature-item\">\r\n          <button\r\n            \r\n            className=\"home-feature-icon-button home-feature-icon-button--secondary\"\r\n            onClick={handleSkillsClick}\r\n            aria-label=\"Show your skills\"\r\n          >\r\n            <svg className=\"home-feature-icon\" width=\"28\" height=\"28\" viewBox=\"0 0 24 24\" fill=\"currentColor\"             style={{ cursor: 'normal !important' }}\r\n>\r\n              <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\r\n            </svg>\r\n          </button>\r\n          <h3 className=\"home-feature-statement home-feature-statement-secondary\">\r\n            {t('home:features.showSkills')}\r\n          </h3>\r\n        </div>\r\n\r\n        <div className=\"home-feature-item\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"home-feature-icon-button home-feature-icon-button--highlight\"\r\n            onClick={handleEmployersClick}\r\n            aria-label=\"Employers area\"\r\n          >\r\n            <svg className=\"home-feature-icon\" width=\"28\" height=\"28\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n              <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\r\n            </svg>\r\n          </button>\r\n          <h3 className=\"home-feature-statement home-feature-statement-highlight\">\r\n            {t('home:features.employersSwiping')}\r\n          </h3>\r\n        </div>\r\n\r\n        <div className=\"home-feature-item home-video-feeds-card\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"home-feature-icon-button home-feature-icon-button--video home-feature-clickable\"\r\n            onClick={() => navigate('/videos')}\r\n            aria-label=\"Watch video feeds\"\r\n          >\r\n            <svg className=\"home-feature-icon\" width=\"28\" height=\"28\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n              <path d=\"M10 16.5l6-4.5-6-4.5v9zm12-4.5c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0c0-4.418-3.582-8-8-8s-8 3.582-8 8 3.582 8 8 8 8-3.582 8-8z\" />\r\n            </svg>\r\n          </button>\r\n          <h3 className=\"home-feature-statement home-feature-statement-secondary\">\r\n            {t('home:features.watchVideoFeeds')}\r\n          </h3>\r\n          \r\n         </div>\r\n        </div>\r\n         </div>\r\n         </div>\r\n    \r\n      {/* Action Buttons - Outside the hero-features wrap */}\r\n      <div className=\"home-action-buttons\">\r\n        <Button\r\n          onClick={() => handleOpenAuthDialog(0)}\r\n          className=\"home-login-button\"\r\n        >\r\n          {t('home:buttons.login')}\r\n        </Button>\r\n        <Button\r\n          onClick={() => handleOpenAuthDialog(1)}\r\n          variant=\"outline\"\r\n          className=\"home-signup-button\"\r\n        >\r\n          {t('home:buttons.signup')}\r\n        </Button>\r\n      </div>\r\n\r\n            {/* End of New Section */}\r\n\r\n      {/* Auth Dialog */}\r\n      {showAuthDialog && (\r\n        <AuthPage\r\n          open={showAuthDialog}\r\n          onClose={() => setShowAuthDialog(false)}\r\n          initialTab={activeTab}\r\n          redirectPath={redirectPath}\r\n        />\r\n      )}\r\n      \r\n      {/* Footer */}\r\n      <footer className=\"home-footer\">\r\n        <div className=\"home-footer-content\">\r\n          <div className=\"home-footer-links\">\r\n         \r\n            <button onClick={() => setShowPrivacy(true)} className=\"home-footer-link home-footer-button\">{t('home:footer.privacyPolicy')}</button>\r\n            <button onClick={() => setShowTerms(true)} className=\"home-footer-link home-footer-button\">{t('home:footer.termsOfService')}</button>\r\n            <button onClick={() => setShowCookie(true)} className=\"home-footer-link home-footer-button\">{t('home:footer.cookiePolicy')}</button>\r\n            <button \r\n              onClick={() => setShowContactUs(true)} \r\n              className=\"home-footer-link home-footer-button\"\r\n            >\r\n              {t('home:footer.contactUs')}\r\n             </button>\r\n                <Link to=\"/about\" className=\"home-footer-link\">{t('home:footer.more')}</Link>\r\n            <Link to=\"/blog\" className=\"home-footer-link\">{t('home:footer.blog')}</Link>\r\n          </div>\r\n          \r\n          <div className=\"home-footer-social\">\r\n            <a href=\"https://x.com/swipescout\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"home-social-link\">\r\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.919-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\"/>\r\n              </svg>\r\n              {t('home:footer.social.twitter')}\r\n            </a>\r\n            \r\n            <a href=\"https://tiktok.com/@swipescout\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"home-social-link\">\r\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path d=\"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z\"/>\r\n              </svg>\r\n              {t('home:footer.social.tiktok')}\r\n            </a>\r\n            \r\n            <a href=\"https://linkedin.com/company/swipescout\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"home-social-link\">\r\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path d=\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\"/>\r\n              </svg>\r\n              {t('home:footer.social.linkedin')}\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n      \r\n      {/* Contact Us Popup */}\r\n      <ContactUs \r\n        isOpen={showContactUs} \r\n        onClose={() => setShowContactUs(false)} \r\n      />\r\n\r\n      {/* Terms of Service Popup */}\r\n      <TermsOfService \r\n        isOpen={showTerms}\r\n        onClose={() => setShowTerms(false)}\r\n      />\r\n\r\n      {/* Privacy Policy Popup */}\r\n      <PrivacyPolicy \r\n        isOpen={showPrivacy}\r\n        onClose={() => setShowPrivacy(false)}\r\n      />\r\n\r\n      {/* Cookie Policy Popup */}\r\n      <CookiePolicy \r\n        isOpen={showCookie}\r\n        onClose={() => setShowCookie(false)}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\home\\nav\\navbar.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\home\\privacy policy\\privacy.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\home\\terms of service\\terms.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\home copy\\contact us\\contactus.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\home copy\\cookie policy\\cookie.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\home copy\\home.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'role' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 32,
        "column": 120,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 32,
        "endColumn": 124,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "role"
            },
            "fix": {
              "range": [
                960,
                966
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'role'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'showPassword' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 51,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 51,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "showPassword"
            },
            "fix": {
              "range": [
                1610,
                1622
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'showPassword'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setShowPassword' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 51,
        "column": 24,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 51,
        "endColumn": 39,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setShowPassword"
            },
            "fix": {
              "range": [
                1622,
                1639
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setShowPassword'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'showConfirmPassword' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 52,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 52,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "showConfirmPassword"
            },
            "fix": {
              "range": [
                1670,
                1689
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'showConfirmPassword'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setShowConfirmPassword' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 52,
        "column": 31,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 52,
        "endColumn": 53,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setShowConfirmPassword"
            },
            "fix": {
              "range": [
                1689,
                1713
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setShowConfirmPassword'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 58,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 58,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "error"
            },
            "fix": {
              "range": [
                1856,
                1861
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'error'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'googleAnchorEl' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 59,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 59,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "googleAnchorEl"
            },
            "fix": {
              "range": [
                1899,
                1913
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'googleAnchorEl'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'linkedinAnchorEl' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 60,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 60,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "linkedinAnchorEl"
            },
            "fix": {
              "range": [
                1962,
                1978
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'linkedinAnchorEl'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'selectedRole' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 61,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 61,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "selectedRole"
            },
            "fix": {
              "range": [
                2029,
                2041
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'selectedRole'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setSelectedRole' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 61,
        "column": 24,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 61,
        "endColumn": 39,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setSelectedRole"
            },
            "fix": {
              "range": [
                2041,
                2058
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setSelectedRole'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleTabChange' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 108,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 108,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleTabChange"
            },
            "fix": {
              "range": [
                3520,
                3757
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleTabChange'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleChange' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 125,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 125,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleChange"
            },
            "fix": {
              "range": [
                3959,
                4082
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleChange'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleRoleSelect' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 132,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 132,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleRoleSelect"
            },
            "fix": {
              "range": [
                4088,
                4197
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleRoleSelect'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleEmailSignIn' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 139,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 139,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleEmailSignIn"
            },
            "fix": {
              "range": [
                4203,
                5086
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleEmailSignIn'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 156,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 156,
        "endColumn": 17
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleEmailSignUp' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 163,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 163,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleEmailSignUp"
            },
            "fix": {
              "range": [
                5092,
                6353
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleEmailSignUp'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 199,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 199,
        "endColumn": 17
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleGoogleSignIn' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 206,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 206,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleGoogleSignIn"
            },
            "fix": {
              "range": [
                6359,
                6884
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleGoogleSignIn'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleGoogleSignUp' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 222,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 222,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleGoogleSignUp"
            },
            "fix": {
              "range": [
                6890,
                7415
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleGoogleSignUp'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleGoogleSignInWithRole' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 238,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 238,
        "endColumn": 35,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleGoogleSignInWithRole"
            },
            "fix": {
              "range": [
                7421,
                8132
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleGoogleSignInWithRole'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 250,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 250,
        "endColumn": 17
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleLinkedInLogin' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 257,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 257,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleLinkedInLogin"
            },
            "fix": {
              "range": [
                8138,
                8820
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleLinkedInLogin'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 273,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 273,
        "endColumn": 17
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleLinkedInMenuOpen' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 280,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 280,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleLinkedInMenuOpen"
            },
            "fix": {
              "range": [
                8826,
                8922
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleLinkedInMenuOpen'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleLinkedInMenuClose' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 284,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 284,
        "endColumn": 32,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleLinkedInMenuClose"
            },
            "fix": {
              "range": [
                8928,
                9005
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleLinkedInMenuClose'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleLinkedInSignInWithRole' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 288,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 288,
        "endColumn": 37,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleLinkedInSignInWithRole"
            },
            "fix": {
              "range": [
                9011,
                9676
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleLinkedInSignInWithRole'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 301,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 301,
        "endColumn": 17
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleGoogleMenuOpen' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 308,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 308,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleGoogleMenuOpen"
            },
            "fix": {
              "range": [
                9682,
                9774
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleGoogleMenuOpen'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleGoogleMenuClose' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 312,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 312,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleGoogleMenuClose"
            },
            "fix": {
              "range": [
                9780,
                10012
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleGoogleMenuClose'."
          }
        ]
      },
      {
        "ruleId": "no-irregular-whitespace",
        "severity": 2,
        "message": "Irregular whitespace not allowed.",
        "line": 372,
        "column": 47,
        "nodeType": "Program",
        "messageId": "noIrregularWhitespace",
        "endLine": 372,
        "endColumn": 48
      }
    ],
    "suppressedMessages": [],
    "errorCount": 30,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  Button,\r\n  TextField,\r\n  IconButton,\r\n  InputAdornment,\r\n  CircularProgress,\r\n  Alert,\r\n  Menu,\r\n  MenuItem,\r\n} from '@mui/material';\r\nimport {\r\n  Visibility,\r\n  VisibilityOff,\r\n  Google as GoogleIcon,\r\n  LinkedIn as LinkedInIcon,\r\n} from '@mui/icons-material';\r\nimport { AlertCircle as AlertCircleIcon } from 'lucide-react';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport AuthPage from '../AuthPage';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport ContactUs from './contact us/contactus';\r\nimport './home.css';\r\nimport TermsOfService from './terms of service/terms';\r\nimport PrivacyPolicy from './privacy policy/privacy';\r\nimport CookiePolicy from './cookie policy/cookie';\r\n\r\nconst Home = () => {\r\n  const { loginByEmailAndPassword, registerByEmailAndPassword, authenticateWithGoogle, authenticateWithLinkedIn, user, role } = useAuth();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  \r\n  const [activeTab, setActiveTab] = useState(0);\r\n  const [showAuthDialog, setShowAuthDialog] = useState(false);\r\n  const [showContactUs, setShowContactUs] = useState(false);\r\n  const [showTerms, setShowTerms] = useState(false);\r\n  const [showPrivacy, setShowPrivacy] = useState(false);\r\n  const [showCookie, setShowCookie] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    role: \"\" // \"employee\" or \"recruiter\"\r\n  });\r\n  \r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [loading, setLoading] = useState({\r\n    email: false,\r\n    google: false,\r\n    linkedin: false,\r\n  });\r\n  const [error, setError] = useState(\"\");\r\n  const [googleAnchorEl, setGoogleAnchorEl] = useState(null);\r\n  const [linkedinAnchorEl, setLinkedinAnchorEl] = useState(null);\r\n  const [selectedRole, setSelectedRole] = useState(\"\");\r\n  const [redirectPath, setRedirectPath] = useState(null); // Store intended destination\r\n\r\n  const getDefaultRoute = (role) => {\r\n    const effectiveRole = Array.isArray(role) ? role[0] : role;\r\n    \r\n    switch (effectiveRole) {\r\n      case 'job_seeker':\r\n      case 'employee': return '/jobseeker-tabs';\r\n      case 'employer':\r\n      case 'recruiter': return '/employer-tabs';\r\n      case 'admin': return '/admin-dashboard';\r\n      default: return '/';\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    let buffer = '';\r\n    const termsPhrase = 'terms of service';\r\n    const privacyPhrase = 'privacy policy';\r\n\r\n    const onKeyDown = (e) => {\r\n      const key = e.key;\r\n      if (typeof key === 'string' && key.length === 1) {\r\n        buffer += key.toLowerCase();\r\n        const maxLen = Math.max(termsPhrase.length, privacyPhrase.length);\r\n        if (buffer.length > maxLen) {\r\n          buffer = buffer.slice(buffer.length - maxLen);\r\n        }\r\n        if (buffer.includes(termsPhrase)) {\r\n          setShowTerms(true);\r\n          buffer = '';\r\n        } else if (buffer.includes(privacyPhrase)) {\r\n          setShowPrivacy(true);\r\n          buffer = '';\r\n        }\r\n      } else if (key === 'Escape') {\r\n        setShowTerms(false);\r\n        setShowPrivacy(false);\r\n        buffer = '';\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', onKeyDown);\r\n    return () => window.removeEventListener('keydown', onKeyDown);\r\n  }, []);\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setActiveTab(newValue);\r\n    setError(\"\");\r\n    setFormData({\r\n      email: \"\",\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n      firstName: \"\",\r\n      lastName: \"\"\r\n    });\r\n  };\r\n\r\n  const handleOpenAuthDialog = (tabIndex = 0) => {\r\n    // Navigate to route-based auth pages so shared AuthPage component is used\r\n    navigate(tabIndex === 1 ? '/register' : '/login');\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleRoleSelect = (role) => {\r\n    setFormData({\r\n      ...formData,\r\n      role: role,\r\n    });\r\n  };\r\n\r\n  const handleEmailSignIn = async (e) => {\r\n    e.preventDefault();\r\n    setLoading({ ...loading, email: true });\r\n    setError(\"\");\r\n\r\n    try {\r\n      const result = await loginByEmailAndPassword(formData.email, formData.password);\r\n      \r\n      if (result.error) {\r\n        setError(result.message);\r\n      } else if (result.user && result.user.role && result.user.role !== \"no role\") {\r\n        setShowAuthDialog(false);\r\n        navigate(redirectPath || getDefaultRoute(result.user.role)); // Navigate to stored destination or default route\r\n        setRedirectPath(null); // Clear redirect path\r\n      } else {\r\n        setError(\"Sign-in successful but user role is not set. Please contact support.\");\r\n      }\r\n    } catch (err) {\r\n      setError(\"An unexpected error occurred. Please try again.\");\r\n    } finally {\r\n      setLoading({ ...loading, email: false });\r\n    }\r\n  };\r\n\r\n  const handleEmailSignUp = async (e) => {\r\n    e.preventDefault();\r\n    setLoading({ ...loading, email: true });\r\n    setError(\"\");\r\n\r\n    if (!formData.role) {\r\n      setError(\"Please select your role (Job Seeker or Employer)\");\r\n      setLoading({ ...loading, email: false });\r\n      return;\r\n    }\r\n\r\n    if (formData.password !== formData.confirmPassword) {\r\n      setError(\"Passwords do not match\");\r\n      setLoading({ ...loading, email: false });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const result = await registerByEmailAndPassword(\r\n        formData.email, \r\n        formData.password, \r\n        `${formData.firstName} ${formData.lastName}`, \r\n        formData.role\r\n      );\r\n      \r\n      if (result.error) {\r\n        setError(result.message);\r\n      } else {\r\n        setShowAuthDialog(false); // Close dialog before navigating\r\n        const userRole = result?.user?.role || result?.role;\r\n        if (userRole) {\r\n          navigate(getDefaultRoute(userRole));\r\n        } else {\r\n          setError(\"Sign-up successful but unable to determine user role.\");\r\n        }\r\n      }\r\n    } catch (err) {\r\n      setError(\"An unexpected error occurred. Please try again.\");\r\n    } finally {\r\n      setLoading({ ...loading, email: false });\r\n    }\r\n  };\r\n\r\n  const handleGoogleSignIn = async () => {\r\n    try {\r\n      setShowAuthDialog(false);\r\n      await new Promise((resolve) => setTimeout(resolve, 100));\r\n      setLoading((prev) => ({ ...prev, google: true }));\r\n      const result = await authenticateWithGoogle();\r\n      if (result?.error && !result.redirect) {\r\n        setError(result.message);\r\n      }\r\n    } catch (error) {\r\n      setError(error?.message || \"Google Sign-In failed\");\r\n    } finally {\r\n      setLoading((prev) => ({ ...prev, google: false }));\r\n    }\r\n  };\r\n\r\n  const handleGoogleSignUp = async () => {\r\n    try {\r\n      setShowAuthDialog(false);\r\n      await new Promise((resolve) => setTimeout(resolve, 100));\r\n      setLoading((prev) => ({ ...prev, google: true }));\r\n      const result = await authenticateWithGoogle();\r\n      if (result?.error && !result.redirect) {\r\n        setError(result.message);\r\n      }\r\n    } catch (error) {\r\n      setError(error?.message || \"Google Sign-Up failed\");\r\n    } finally {\r\n      setLoading((prev) => ({ ...prev, google: false }));\r\n    }\r\n  };\r\n\r\n  const handleGoogleSignInWithRole = async (nextRole) => {\r\n    setGoogleAnchorEl(null);\r\n    setLoading({ ...loading, google: true });\r\n    setError(\"\");\r\n    try {\r\n      const result = await authenticateWithGoogle({ role: nextRole });\r\n      if (result?.error && !result.redirect) {\r\n        setError(result.message);\r\n      } else if (!result?.redirect && result.user && result.user.role) {\r\n        console.log(\"Navigating to default route for role:\", result.user.role); // Debugging\r\n        navigate(getDefaultRoute(result.user.role));\r\n      }\r\n    } catch (err) {\r\n      setError(\"Google sign-in failed. Please try again.\");\r\n    } finally {\r\n      setLoading({ ...loading, google: false });\r\n    }\r\n  };\r\n\r\n  const handleLinkedInLogin = async () => {\r\n    setLoading({ ...loading, linkedin: true });\r\n    setError(\"\");\r\n\r\n    try {\r\n      const result = await authenticateWithLinkedIn();\r\n      if (result.error) {\r\n        setError(result.message);\r\n      } else {\r\n        const userRole = result?.user?.role || result?.role;\r\n        if (userRole) {\r\n          navigate(getDefaultRoute(userRole));\r\n        } else {\r\n          setError(\"LinkedIn sign-in successful but unable to determine user role.\");\r\n        }\r\n      }\r\n    } catch (err) {\r\n      setError(\"LinkedIn sign-in failed. Please try again.\");\r\n    } finally {\r\n      setLoading({ ...loading, linkedin: false });\r\n    }\r\n  };\r\n\r\n  const handleLinkedInMenuOpen = (event) => {\r\n    setLinkedinAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleLinkedInMenuClose = () => {\r\n    setLinkedinAnchorEl(null);\r\n  };\r\n\r\n  const handleLinkedInSignInWithRole = async (role) => {\r\n    setLinkedinAnchorEl(null);\r\n    setLoading({ ...loading, linkedin: true });\r\n    setError(\"\");\r\n\r\n    try {\r\n      const result = await authenticateWithLinkedIn(role);\r\n      if (result.error) {\r\n        setError(result.message);\r\n      } else if (result.user && result.user.role) {\r\n        console.log(\"Navigating to default route for role:\", result.user.role); // Debugging\r\n        navigate(getDefaultRoute(result.user.role));\r\n      }\r\n    } catch (err) {\r\n      setError(\"LinkedIn sign-in failed. Please try again.\");\r\n    } finally {\r\n      setLoading({ ...loading, linkedin: false });\r\n    }\r\n  };\r\n\r\n  const handleGoogleMenuOpen = (event) => {\r\n    setGoogleAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleGoogleMenuClose = () => {\r\n    // Move focus away from the menu before closing it\r\n    if (document.activeElement instanceof HTMLElement) {\r\n      document.activeElement.blur();\r\n    }\r\n    setGoogleAnchorEl(null);\r\n  };\r\n\r\n  // add handler to go to video-upload tab, require login first\r\n  const handleVideoFeatureClick = () => {\r\n    if (!user) {\r\n      setRedirectPath('/jobseeker-tabs?group=profileContent&tab=video-upload'); // Set destination\r\n      handleOpenAuthDialog(0); // Open login dialog\r\n      return;\r\n    }\r\n    navigate('/jobseeker-tabs?group=profileContent&tab=video-upload');\r\n  };\r\n\r\n  return (\r\n    <Box className=\"home-wrapper\">\r\n      {/* SwipeScout Header */}\r\n      <div className=\"home-header\">\r\n        <div className=\"home-logo-container\">\r\n          <img src=\"/swipescout.svg\" alt=\"SwipeScout Logo\" className=\"home-logo\" />\r\n          <span className=\"home-brand-text\">SwipeScout</span>\r\n        </div>\r\n      </div>\r\n      \r\n      <Box className=\"home-container\">\r\n        <Container maxWidth=\"lg\" className=\"home-content\">\r\n          <Box className=\"home-hero-section\" sx={{ position: 'relative' }}>\r\n            <h1 className=\"home-title\">\r\n              Jobs Meet the <span className=\"home-title-highlight\">Feed</span>\r\n            </h1>\r\n            <h3 className=\"home-subtitle\">\r\n              Welcome to the <span className=\"home-subtitle-highlight\">Future</span> Recruiting Agency\r\n            </h3>\r\n            <h5 className=\"home-description\">\r\n              Join us and find your dream job\r\n            </h5>\r\n\r\n\r\n          </Box>\r\n        </Container>\r\n      </Box>\r\n      \r\n      {/* Feature Statements */}\r\n      <div className=\"home-feature-statements\">\r\n        <div\r\n          className=\"home-feature-item\"\r\n          role=\"button\"\r\n          tabIndex={0}\r\n          onClick={handleVideoFeatureClick}\r\n          onKeyDown={(e) => { if (e.key === 'Enter' || e.key === ' ') { handleVideoFeatureClick(); } }}\r\n          style={{ cursor: 'pointer' }} // indicate clickable\r\n        >\r\n          <svg className=\"home-feature-icon\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n            <path d=\"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4zM14 13h-3v3H9v-3H6v-2h3V8h2v3h3v2z\"/>\r\n          </svg>\r\n          <h3 className=\"home-feature-statement home-feature-statement-primary\">\r\n          Video resumes made fast, hiring madeÂ smarter.\r\n          </h3>\r\n        </div>\r\n        <div className=\"home-feature-item\">\r\n          <svg className=\"home-feature-icon\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n            <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\r\n          </svg>\r\n          <h3 className=\"home-feature-statement home-feature-statement-secondary\">\r\n            Show your skills in 15 seconds\r\n          </h3>\r\n        </div>\r\n        <div className=\"home-feature-item\">\r\n          <svg className=\"home-feature-icon\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n            <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\r\n          </svg>\r\n          <h3 className=\"home-feature-statement home-feature-statement-highlight\">\r\n            Employers are already swiping\r\n          </h3>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Action Buttons - Outside the home container */}\r\n      <div className=\"home-action-buttons\">\r\n        <button\r\n          onClick={() => handleOpenAuthDialog(0)}\r\n          className=\"home-login-button\"\r\n        >\r\n          Login\r\n        </button>\r\n        <button\r\n          onClick={() => handleOpenAuthDialog(1)}\r\n          className=\"home-signup-button\"\r\n        >\r\n          Sign Up\r\n        </button>\r\n      </div>\r\n\r\n                  {/* New Section for Video Feeds */}\r\n            <div\r\n              className=\"home-video-feeds-section\"\r\n              role=\"button\"\r\n              tabIndex={0}\r\n              onClick={() => navigate('/videos/')}\r\n              onKeyDown={(e) => { if (e.key === 'Enter' || e.key === ' ') { navigate('/videos/'); } }}\r\n            >\r\n              <svg\r\n                width=\"48\"\r\n                height=\"48\"\r\n                viewBox=\"0 0 24 24\"\r\n                fill=\"currentColor\"\r\n                style={{ color: '#667eea', marginBottom: '1rem' }}\r\n              >\r\n                <path d=\"M10 16.5l6-4.5-6-4.5v9zm12-4.5c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0c0-4.418-3.582-8-8-8s-8 3.582-8 8 3.582 8 8 8 8-3.582 8-8z\" />\r\n              </svg>\r\n              <Typography\r\n                variant=\"h5\"\r\n                sx={{\r\n                  color: '#374151',\r\n                  fontWeight: 600,\r\n                  marginBottom: '0.5rem',\r\n                }}\r\n              >\r\n                Watch Video Feeds\r\n              </Typography>\r\n              <Typography\r\n                variant=\"body2\"\r\n                sx={{\r\n                  color: '#6b7280',\r\n                  fontWeight: 500,\r\n                }}\r\n              >\r\n                Explore and enjoy video resumes from job seekers.\r\n              </Typography>\r\n            </div>\r\n            {/* End of New Section */}\r\n\r\n      {/* Authentication Route / Modal - AuthPage handles login/register UI */}\r\n      { (location.pathname === '/login' || location.pathname === '/register' || showAuthDialog) && (\r\n        <AuthPage\r\n          open={true}\r\n          onClose={() => { setShowAuthDialog(false); navigate('/'); }}\r\n          initialTab={location.pathname === '/register' ? 1 : activeTab}\r\n          redirectPath={redirectPath}\r\n        />\r\n      )}\r\n      \r\n      {/* Footer */}\r\n      <footer className=\"home-footer\">\r\n        <div className=\"home-footer-content\">\r\n          <div className=\"home-footer-links\">\r\n            <button onClick={() => setShowPrivacy(true)} className=\"home-footer-link home-footer-button\">Privacy Policy</button>\r\n            <button onClick={() => setShowTerms(true)} className=\"home-footer-link home-footer-button\">Terms of Service</button>\r\n            <button onClick={() => setShowCookie(true)} className=\"home-footer-link home-footer-button\">Cookie Policy</button>\r\n            <button \r\n              onClick={() => setShowContactUs(true)} \r\n              className=\"home-footer-link home-footer-button\"\r\n            >\r\n              Contact Us\r\n            </button>\r\n          </div>\r\n          \r\n          <div className=\"home-footer-social\">\r\n            <a href=\"https://instagram.com/swipescout\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"home-social-link\">\r\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.919-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\"/>\r\n              </svg>\r\n              Instagram\r\n            </a>\r\n            \r\n            <a href=\"https://tiktok.com/@swipescout\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"home-social-link\">\r\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path d=\"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z\"/>\r\n              </svg>\r\n              TikTok\r\n            </a>\r\n            \r\n            <a href=\"https://linkedin.com/company/swipescout\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"home-social-link\">\r\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path d=\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\"/>\r\n              </svg>\r\n              LinkedIn\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n      \r\n      {/* Contact Us Popup */}\r\n      <ContactUs \r\n        isOpen={showContactUs} \r\n        onClose={() => setShowContactUs(false)} \r\n      />\r\n\r\n      {/* Terms of Service Popup */}\r\n      <TermsOfService \r\n        isOpen={showTerms}\r\n        onClose={() => setShowTerms(false)}\r\n      />\r\n\r\n      {/* Privacy Policy Popup */}\r\n      <PrivacyPolicy \r\n        isOpen={showPrivacy}\r\n        onClose={() => setShowPrivacy(false)}\r\n      />\r\n\r\n      {/* Cookie Policy Popup */}\r\n      <CookiePolicy \r\n        isOpen={showCookie}\r\n        onClose={() => setShowCookie(false)}\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Home;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\home copy\\nav\\navbar.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\home copy\\privacy policy\\privacy.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\home copy\\terms of service\\terms.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\HomePage4.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useMediaQuery' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 14,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 14,
        "endColumn": 16,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useMediaQuery"
            },
            "fix": {
              "range": [
                343,
                361
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useMediaQuery'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'bold' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 53,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 53,
        "endColumn": 14,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "bold"
            },
            "fix": {
              "range": [
                1328,
                1393
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'bold'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 63,
        "column": 38,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 63,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                1728,
                1737
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 75,
        "column": 38,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 75,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                2128,
                2137
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'hoveredVideo' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 309,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 309,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "hoveredVideo"
            },
            "fix": {
              "range": [
                10279,
                10291
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'hoveredVideo'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'isPlayVideo' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 310,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 310,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "isPlayVideo"
            },
            "fix": {
              "range": [
                10338,
                10349
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'isPlayVideo'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setIsPlayVideo' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 310,
        "column": 23,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 310,
        "endColumn": 37,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setIsPlayVideo"
            },
            "fix": {
              "range": [
                10349,
                10365
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setIsPlayVideo'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'loading' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 326,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 326,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "loading"
            },
            "fix": {
              "range": [
                10923,
                10930
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'loading'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 331,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 331,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "error"
            },
            "fix": {
              "range": [
                11035,
                11040
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'error'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'showPassword' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 336,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 336,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "showPassword"
            },
            "fix": {
              "range": [
                11166,
                11178
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'showPassword'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setShowPassword' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 336,
        "column": 24,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 336,
        "endColumn": 39,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setShowPassword"
            },
            "fix": {
              "range": [
                11178,
                11195
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setShowPassword'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleChange' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 359,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 359,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleChange"
            },
            "fix": {
              "range": [
                11812,
                11964
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleChange'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleEmailSignIn' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 367,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 367,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleEmailSignIn"
            },
            "fix": {
              "range": [
                11970,
                12641
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleEmailSignIn'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleGoogleSignIn' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 390,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 390,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleGoogleSignIn"
            },
            "fix": {
              "range": [
                12647,
                13197
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleGoogleSignIn'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleLinkedInLogin' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 408,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 408,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleLinkedInLogin"
            },
            "fix": {
              "range": [
                13203,
                13760
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleLinkedInLogin'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'videoId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 441,
        "column": 26,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 441,
        "endColumn": 33,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "videoId"
            },
            "fix": {
              "range": [
                14224,
                14233
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'videoId'."
          }
        ]
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "react-refresh/only-export-components",
        "severity": 1,
        "message": "Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.",
        "line": 277,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "namedExport",
        "endLine": 277,
        "endColumn": 30,
        "suppressions": [
          {
            "kind": "directive",
            "justification": "TODO: move non-component exports/constants to helpers"
          }
        ]
      }
    ],
    "errorCount": 16,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿/* eslint-disable react-refresh/only-export-components -- TODO: move non-component exports/constants to helpers */\r\nimport React, { useState, useRef, useEffect } from \"react\"; // Corrected import statement for hooks\r\nimport {\r\n  Box,\r\n  Container,\r\n  Grid,\r\n  Typography,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  CardMedia,\r\n  Avatar,\r\n  Divider,\r\n  useMediaQuery,\r\n  styled,\r\n  IconButton,\r\n  CircularProgress,\r\n  Alert,\r\n  TextField,\r\n  InputAdornment,\r\n  Stack,Paper,\r\n  Fade,\r\n  Zoom,\r\n  Slide,Chip,\r\n  useTheme\r\n} from \"@mui/material\";\r\nimport {\r\n  PlayCircle,\r\n  Work,\r\n  People,\r\n  VideoCall,\r\n  TrendingUp,\r\n  Star,\r\n  Visibility,\r\n  VisibilityOff,\r\n  Google as GoogleIcon,\r\n  LinkedIn as LinkedInIcon,\r\n  CheckCircle,\r\n  Fullscreen,\r\n  MonetizationOn as MonetizationOnIcon,\r\n} from \"@mui/icons-material\";\r\n\r\n\r\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\r\nimport Header from \"../components/Headers/Header\"; // Updated Header path\r\nimport Footer from \"../components/Headers/Footer\"; \r\nimport { Helmet } from \"react-helmet\";\r\nimport PlayArrow from \"@mui/icons-material/PlayArrow\";\r\nimport VolumeUp from \"@mui/icons-material/VolumeUp\";\r\nimport VolumeOff from \"@mui/icons-material/VolumeOff\";\r\nimport { useAuth } from \"../hooks/useAuth\";\r\nimport { AlertCircle as AlertCircleIcon } from \"lucide-react\";\r\nimport { bold } from \"@cloudinary/url-gen/qualifiers/fontWeight\";\r\n\r\n\r\nconst stats = [\r\n    { number: \"50K+\", label: \"Active Users\", icon: <People /> },\r\n    { number: \"15K+\", label: \"Successful Hires\", icon: <Work /> },\r\n    { number: \"2.5M+\", label: \"Video Views\", icon: <PlayCircle /> },\r\n    { number: \"95%\", label: \"Satisfaction Rate\", icon: <Star /> }\r\n];\r\n\r\nconst VideoShowcase = styled(Box)(({ theme }) => ({\r\n    position: 'relative',\r\n    borderRadius: '24px',\r\n    overflow: 'hidden',\r\n    boxShadow: '0 30px 60px rgba(0, 0, 0, 0.2)',\r\n    transform: 'perspective(1000px) rotateY(-8deg) rotateX(5deg)',\r\n    transition: 'all 0.6s ease',\r\n    '&:hover': {\r\n        transform: 'perspective(1000px) rotateY(-4deg) rotateX(2deg) scale(1.05)'\r\n    }\r\n}));\r\n\r\nconst FloatingCard = styled(Card)(({ theme }) => ({\r\n    position: 'relative',\r\n    zIndex: 2,\r\n    backdropFilter: 'blur(20px)',\r\n    backgroundColor: 'rgba(255, 255, 255, 0.95)',\r\n    borderRadius: '24px',\r\n    boxShadow: '0 20px 60px rgba(0, 0, 0, 0.1)',\r\n    border: '1px solid rgba(255, 255, 255, 0.2)',\r\n    transition: 'all 0.3s ease',\r\n    '&:hover': {\r\n        transform: 'translateY(-5px)',\r\n        boxShadow: '0 30px 80px rgba(0, 0, 0, 0.15)'\r\n    }\r\n}));\r\n\r\n\r\nconst StatsCard = styled(Paper)(({ theme }) => ({\r\n    padding: theme.spacing(3),\r\n    textAlign: 'center',\r\n    borderRadius: '16px',\r\n    background: 'linear-gradient(145deg, #ffffff 0%, #f0f4ff 100%)',\r\n    border: '1px solid rgba(102, 126, 234, 0.1)',\r\n    transition: 'all 0.3s ease',\r\n    '&:hover': {\r\n        transform: 'translateY(-4px)',\r\n        boxShadow: '0 15px 30px rgba(102, 126, 234, 0.1)'\r\n    }\r\n}));\r\n\r\nconst LoginFormTitle = styled(Typography)(({ theme }) => ({\r\n  marginBottom: theme.spacing(1.25),\r\n  color: theme.palette.text.primary, // Use theme color\r\n}));\r\nconst LoginFormSubtitle = styled(Typography)(({ theme }) => ({\r\n  color: theme.palette.text.secondary, // Use theme color\r\n  marginBottom: theme.spacing(2.5),\r\n}));\r\nconst InputField = styled(TextField)(({ theme }) => ({\r\n  width: \"100%\",\r\n  margin: theme.spacing(1, 0),\r\n  borderRadius: theme.shape.borderRadius, // Use theme border radius\r\n  \"& .MuiOutlinedInput-root\": {\r\n    \"& fieldset\": {\r\n      borderColor: theme.palette.divider, // Use theme color\r\n    },\r\n    \"&:hover fieldset\": {\r\n      borderColor: theme.palette.primary.main, // Use theme color\r\n    },\r\n    \"&.Mui-focused fieldset\": {\r\n      borderColor: theme.palette.primary.main, // Use theme color\r\n    },\r\n    \"&.Mui-error fieldset\": {\r\n      borderColor: theme.palette.error.main, // Use theme color\r\n    },\r\n  },\r\n  \"& input\": {\r\n    padding: theme.spacing(1.5),\r\n    backgroundColor: theme.palette.background.paper, // Use theme color\r\n    color: theme.palette.text.primary, // Use theme color\r\n  },\r\n}));\r\nconst LoginButton = styled(Button)(({ theme }) => ({\r\n  width: \"100%\",\r\n  padding: theme.spacing(1.5),\r\n  marginTop: theme.spacing(2),\r\n  backgroundColor: theme.palette.primary.main, // Use theme color\r\n  color: theme.palette.primary.contrastText, // Use theme color\r\n  border: \"none\",\r\n  borderRadius: \"25px\",\r\n  fontWeight: \"bold\",\r\n  cursor: \"pointer\",\r\n  \"&:hover\": {\r\n    backgroundColor: theme.palette.primary.dark, // Use theme color\r\n  },\r\n}));\r\nconst SocialDivider = styled(Divider)(({ theme }) => ({\r\n  margin: theme.spacing(2, 0),\r\n  \"& .MuiDivider-wrapper\": {\r\n    color: theme.palette.text.secondary, // Use theme color\r\n  },\r\n}));\r\nconst SocialButton = styled(Button)(({ theme }) => ({\r\n  flexGrow: 1,\r\n  margin: theme.spacing(0, 0.5),\r\n  padding: theme.spacing(1.25),\r\n  border: \"none\",\r\n  borderRadius: \"20px\",\r\n  cursor: \"pointer\",\r\n  \"&:hover\": {\r\n    transform: \"scale(1.02)\",\r\n  },\r\n}));\r\nconst GoogleSignInButton = styled(SocialButton)(({ theme }) => ({\r\n  backgroundColor: theme.palette.background.paper, // Use theme color\r\n  color: theme.palette.text.secondary, // Use theme color\r\n  border: `1px solid ${theme.palette.divider}`, // Use theme color\r\n  \"&:hover\": {\r\n    backgroundColor: theme.palette.action.hover, // Use theme color\r\n    borderColor: theme.palette.grey[400], // Use theme color\r\n  },\r\n}));\r\nconst LinkedInSignInButton = styled(SocialButton)(({ theme }) => ({\r\n  backgroundColor: theme.palette.background.paper, // Use theme color\r\n  color: theme.palette.text.secondary, // Use theme color\r\n  border: `1px solid ${theme.palette.divider}`, // Use theme color\r\n  \"&:hover\": {\r\n    backgroundColor: theme.palette.action.hover, // Use theme color\r\n    borderColor: theme.palette.grey[400], // Use theme color\r\n  },\r\n}));\r\nconst StyledFeatureCard = styled(Card)(({ theme }) => ({\r\n  height: \"100%\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  borderRadius: theme.shape.borderRadius * 2, // More rounded\r\n  boxShadow: theme.shadows[4],\r\n  backgroundColor: theme.palette.background.paper, // Use theme color\r\n  transition: \"all 0.3s ease-in-out\",\r\n  \"&:hover\": {\r\n    transform: \"translateY(-8px)\",\r\n    boxShadow: theme.shadows[10],\r\n  },\r\n}));\r\nconst StyledVideoCard = styled(Card)(({ theme }) => ({\r\n  position: \"relative\",\r\n  borderRadius: theme.shape.borderRadius * 1.5, // More rounded\r\n  overflow: \"hidden\",\r\n  boxShadow: theme.shadows[3],\r\n  transition: \"all 0.3s ease\",\r\n  \"&:hover\": {\r\n    transform: \"scale(1.03)\",\r\n    boxShadow: theme.shadows[6],\r\n  },\r\n  \"& .play-overlay\": {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    background: \"rgba(0,0,0,0.7)\",\r\n    opacity: 0,\r\n    transition: \"opacity 0.3s ease\",\r\n    \"&:hover\": {\r\n      opacity: 1,\r\n    },\r\n  },\r\n}));\r\nconst testimonials = [\r\n  {\r\n    name: \"Sarah Johnson\",\r\n    role: \"Marketing Director\",\r\n    quote:\r\n      \"SwipeScout completely transformed our hiring process. We used to spend weeks sifting through resumes, but with video profiles, we found our perfect candidate in just three days! The authenticity and insight you get from a video are unparalleled. Highly recommend!\",\r\n    avatar: \"https://placehold.co/60x60/dbeafe/3b82f6?text=SJ\", // Placeholder image\r\n    rating: 5,\r\n  },\r\n  {\r\n    name: \"Michael Chen\",\r\n    role: \"Software Engineer\",\r\n    quote:\r\n      \"As a job seeker, SwipeScout gave me the unique opportunity to truly showcase my personality and skills beyond a traditional resume. I landed my dream job by demonstrating my passion and technical abilities through video. It's a game-changer for anyone looking to stand out.\",\r\n    avatar: \"https://placehold.co/60x60/dbeafe/3b82f6?text=MC\", // Placeholder image\r\n    rating: 5,\r\n  },\r\n  {\r\n    name: \"TechStart Inc.\",\r\n    role: \"HR Manager\",\r\n    quote:\r\n      \"Implementing SwipeScout has made our recruitment incredibly efficient. Our hiring process is now 40% faster, and we're making much better cultural fits. The platform is intuitive, and the support has been fantastic. It's an essential tool for modern HR.\",\r\n    avatar: \"https://placehold.co/60x60/dbeafe/3b82f6?text=TI\", // Placeholder image\r\n    rating: 4,\r\n  },\r\n  {\r\n    name: \"Alex Rivera\",\r\n    role: \"Talent Acquisition Lead\",\r\n    quote:\r\n      \"SwipeScout helped us cut screening time in half while actually getting to know the person behind the resume. ItÃ¢â‚¬â„¢s now a core part of our hiring process.\",\r\n    avatar: \"https://placehold.co/60x60/dbeafe/3b82f6?text=AR\", // Placeholder image\r\n    rating: 5, // Assuming a 5-star rating for this new testimonial\r\n  },\r\n];\r\nconst StatusBorder = ({ status }) => (\r\n  <Box\r\n    sx={{\r\n      position: \"absolute\",\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      height: 5,\r\n      backgroundColor:\r\n        status === \"uploading\"\r\n          ? \"#f97316\"\r\n          : status === \"processing\"\r\n          ? \"#3b82f6\"\r\n          : \"transparent\",\r\n      zIndex: 3,\r\n    }}\r\n  />\r\n);\r\nexport const mockVideoResumes = [\r\n  {\r\n    id: \"emp-1\",\r\n    video_title: \"Corporate Solutions Inc. - Company Overview\",\r\n    video_type: \"Company Profile\",\r\n    video_duration: 90,\r\n    video_url:\r\n      \"https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935032/Employer/grfwutcixeecejrsqu7o.mp4\",\r\n    status: \"completed\",\r\n  },\r\n  {\r\n    id: \"js-1\",\r\n    video_title: \"Full Stack Developer - Portfolio Showcase\",\r\n    video_type: \"Job Seeker\",\r\n    video_duration: 120,\r\n    video_url:\r\n      \"https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935204/Jobseeker/wvepwzroiy6s942idqal.mp4\",\r\n    status: \"completed\",\r\n  },\r\n  {\r\n    id: \"emp-2\",\r\n    video_title: \"Designer and developer - Resume Showcase\",\r\n    video_type: \"Company Profile\",\r\n    video_duration: 60,\r\n    video_url:\r\n      \"https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935196/Jobseeker/h5qg3cfiszmjefiquvrm.mp4\",\r\n    status: \"completed\",\r\n  },\r\n];\r\nconst HomePage = () => {\r\n  const theme = useTheme(); // Access theme\r\n  // const isMobile = useMediaQuery(theme.breakpoints.down('md')); // Use theme breakpoint // Removed: unused variable\r\n  const [hoveredVideo, setHoveredVideo] = useState(null);\r\n  const [isPlayVideo, setIsPlayVideo] = useState(null);\r\n  const [isMuted, setIsMuted] = useState(true);\r\n  const [playingVideoId, setPlayingVideoId] = useState(null);\r\n  const videoRefs = useRef({});\r\n  const [explicitLogin, setExplicitLogin] = useState(false);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const VITE_BASE_URL = import.meta.env.VITE_BASE_URL || 'http://localhost:5173';\r\n  const {\r\n    loginByEmailAndPassword,\r\n    authenticateWithGoogle,\r\n    authenticateWithLinkedIn,\r\n    user,\r\n    role,\r\n    loading: authLoading,\r\n  } = useAuth();\r\n  const [loading, setLoading] = useState({\r\n    email: false,\r\n    google: false,\r\n    linkedin: false,\r\n  });\r\n  const [error, setError] = useState(\"\");\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (explicitLogin && user && role && !authLoading) {\r\n      const from = location.state?.from?.pathname || getDefaultRoute(role);\r\n      navigate(from);\r\n      setExplicitLogin(false);\r\n    }\r\n  }, [user, role, authLoading, explicitLogin, navigate, location.state]);\r\n\r\n  const getDefaultRoute = (userRole) => {\r\n    switch (userRole) {\r\n      case \"job_seeker\":\r\n        return \"/dashboard\";\r\n      case \"employer\":\r\n        return \"/employer-dashboard\";\r\n      case \"admin\":\r\n        return \"/admin-dashboard\";\r\n      default:\r\n        return \"/\";\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleEmailSignIn = async (e) => {\r\n    e.preventDefault();\r\n    setExplicitLogin(true);\r\n    setLoading((prev) => ({ ...prev, email: true }));\r\n    setError(\"\");\r\n    try {\r\n      const result = await loginByEmailAndPassword(\r\n        formData.email,\r\n        formData.password\r\n      );\r\n      if (result && result.error) {\r\n        setError(result.message || \"Login failed. Please try again.\");\r\n        setExplicitLogin(false);\r\n        return;\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || \"Login failed. Please try again.\");\r\n      setExplicitLogin(false);\r\n    } finally {\r\n      setLoading((prev) => ({ ...prev, email: false }));\r\n    }\r\n  };\r\n\r\n  const handleGoogleSignIn = async () => {\r\n    setLoading((prev) => ({ ...prev, google: true }));\r\n    setError(\"\");\r\n    setExplicitLogin(true);\r\n    try {\r\n      const result = await authenticateWithGoogle();\r\n      if (result && result.error) {\r\n        setError(result.message || \"Google sign-in failed\");\r\n        setExplicitLogin(false);\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || \"Google sign-in failed\");\r\n      setExplicitLogin(false);\r\n    } finally {\r\n      setLoading((prev) => ({ ...prev, google: false }));\r\n    }\r\n  };\r\n\r\n  const handleLinkedInLogin = async () => {\r\n    setLoading((prev) => ({ ...prev, linkedin: true }));\r\n    setError(\"\");\r\n    setExplicitLogin(true);\r\n    try {\r\n      const result = await authenticateWithLinkedIn();\r\n      if (result && result.error) {\r\n        setError(result.message || \"LinkedIn login failed\");\r\n        setExplicitLogin(false);\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || \"LinkedIn login failed\");\r\n      setExplicitLogin(false);\r\n    } finally {\r\n      setLoading((prev) => ({ ...prev, linkedin: false }));\r\n    }\r\n  };\r\n\r\n  const handleVideoHover = (videoId, isHovering) => {\r\n    setHoveredVideo(isHovering ? videoId : null);\r\n    const videoElement = videoRefs.current[videoId];\r\n    if (videoElement) {\r\n      if (isHovering) {\r\n        videoElement\r\n          .play()\r\n          .catch((error) => console.error(\"Error playing video:\", error));\r\n      } else {\r\n        videoElement.pause();\r\n        videoElement.currentTime = 0;\r\n      }\r\n    }\r\n  };\r\n\r\n  const toggleMute = (e, videoId) => {\r\n    e.stopPropagation();\r\n    setIsMuted((prev) => !prev);\r\n  };\r\n\r\n  const handleVideoClick = (videoId) => {\r\n    const videoElement = videoRefs.current[videoId];\r\n    if (videoElement) {\r\n      if (playingVideoId === videoId) {\r\n        videoElement.pause();\r\n        videoElement.currentTime = 0;\r\n        setPlayingVideoId(null);\r\n      } else {\r\n        if (playingVideoId && videoRefs.current[playingVideoId]) {\r\n          videoRefs.current[playingVideoId].pause();\r\n          videoRefs.current[playingVideoId].currentTime = 0;\r\n        }\r\n        videoElement\r\n          .play()\r\n          .catch((error) => console.error(\"Error playing video:\", error));\r\n        setPlayingVideoId(videoId);\r\n      }\r\n    }\r\n    console.log(\"Video clicked:\", videoId);\r\n  };\r\n\r\n  const handleFullscreen = (videoId) => {\r\n    const videoElement = videoRefs.current[videoId];\r\n    if (videoElement) {\r\n      if (videoElement.requestFullscreen) {\r\n        videoElement.requestFullscreen();\r\n      } else if (videoElement.mozRequestFullScreen) {\r\n        /* Firefox */\r\n        videoElement.mozRequestFullScreen();\r\n      } else if (videoElement.webkitRequestFullscreen) {\r\n        /* Chrome, Safari and Opera */\r\n        videoElement.webkitRequestFullscreen();\r\n      } else if (videoElement.msRequestFullscreen) {\r\n        /* IE/Edge */\r\n        videoElement.msRequestFullscreen();\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n         <Header />\r\n        <title>SwipeScout | Modern Video Recruitment Platform</title>\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Connect with opportunities through video. SwipeScout revolutionizes recruitment with video resumes, job postings, and company profiles.\"\r\n        />\r\n        <meta\r\n          name=\"keywords\"\r\n          content=\"video resumes, video recruitment, job search, hiring platform, career matching\"\r\n        />\r\n        <meta\r\n          property=\"og:title\"\r\n          content=\"SwipeScout | Modern Video Recruitment Platform\"\r\n        />\r\n        <meta\r\n          property=\"og:description\"\r\n          content=\"Find your dream job or perfect candidate through engaging video profiles on SwipeScout.\"\r\n        />\r\n        <meta property=\"og:type\" content=\"website\" />\r\n        <meta property=\"og:url\" content=\"https://www.swipescout.xyz\" />\r\n        <link rel=\"canonical\" href=\"https://www.swipescout.xyz\" />\r\n      </Helmet>\r\n      <Box\r\n        sx={{\r\n          background: theme.palette.background.default, // Use theme background\r\n          color: theme.palette.text.primary, // Use theme text color\r\n          overflowX: \"hidden\",\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          minHeight: '100vh', // Ensure page takes full viewport height\r\n        }}\r\n      >\r\n        <Header />\r\n\r\n        {/* Hero Section */}\r\n        <Box\r\n          sx={{\r\n            minHeight: '80vh',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            textAlign: 'center',\r\n            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', // Gradient background\r\n            color: 'white',\r\n            pt: 8, // Padding top for header\r\n            pb: 4,\r\n          }}\r\n        >\r\n          <Container maxWidth=\"md\">\r\n            <Typography\r\n              variant=\"h2\"\r\n              component=\"h1\"\r\n              gutterBottom\r\n              sx={{\r\n                fontWeight: 'bold',\r\n                mb: 3,\r\n                fontSize: { xs: '2.5rem', md: '3.5rem' },\r\n              }}\r\n            >\r\n              Revolutionize Your Hiring with Video\r\n            </Typography>\r\n            <Typography\r\n              variant=\"h5\"\r\n              component=\"p\"\r\n              sx={{\r\n                mb: 4,\r\n                fontSize: { xs: '1.1rem', md: '1.5rem' },\r\n                opacity: 0.9,\r\n              }}\r\n            >\r\n              SwipeScout connects top talent with leading companies through engaging video profiles and dynamic job postings.\r\n            </Typography>\r\n            <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2} justifyContent=\"center\">\r\n              <Button\r\n                variant=\"contained\"\r\n                size=\"large\"\r\n                sx={{\r\n                  bgcolor: 'white',\r\n                  color: theme.palette.primary.main,\r\n                  '&:hover': { bgcolor: '#e0e0e0' },\r\n                  py: 1.5,\r\n                  px: 4,\r\n                  borderRadius: '30px',\r\n                  fontWeight: 'bold',\r\n                }}\r\n                component={Link}\r\n                to=\"/signup\"\r\n              >\r\n                Join as Job Seeker\r\n              </Button>\r\n              <Button\r\n                variant=\"outlined\"\r\n                size=\"large\"\r\n                sx={{\r\n                  borderColor: 'white',\r\n                  color: 'white',\r\n                  '&:hover': { bgcolor: 'rgba(255,255,255,0.2)' },\r\n                  py: 1.5,\r\n                  px: 4,\r\n                  borderRadius: '30px',\r\n                  fontWeight: 'bold',\r\n                }}\r\n                component={Link}\r\n                to=\"/employer-signup\"\r\n              >\r\n                Hire Talent\r\n              </Button>\r\n            </Stack>\r\n          </Container>\r\n        </Box>\r\n\r\n        {/* Stats Section */}\r\n        <Container maxWidth=\"lg\" sx={{ py: 8 }}>\r\n          <Grid container spacing={4} justifyContent=\"center\">\r\n            {stats.map((stat, index) => (\r\n              <Grid item xs={12} sm={6} md={3} key={index}>\r\n                <StatsCard elevation={6}>\r\n                  <Box sx={{ fontSize: 48, color: theme.palette.primary.main, mb: 1 }}>\r\n                    {stat.icon}\r\n                  </Box>\r\n                  <Typography variant=\"h4\" component=\"div\" sx={{ fontWeight: 'bold', color: theme.palette.text.primary }}>\r\n                    {stat.number}\r\n                  </Typography>\r\n                  <Typography variant=\"subtitle1\" color=\"text.secondary\">\r\n                    {stat.label}\r\n                  </Typography>\r\n                </StatsCard>\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n        </Container>\r\n\r\n        {/* Features Section */}\r\n        <Box sx={{ background: theme.palette.background.paper, py: 8 }}>\r\n          <Container maxWidth=\"lg\">\r\n            <Typography\r\n              variant=\"h3\"\r\n              component=\"h2\"\r\n              align=\"center\"\r\n              gutterBottom\r\n              sx={{ fontWeight: 'bold', mb: 6, color: theme.palette.text.primary }}\r\n            >\r\n              Why Choose SwipeScout?\r\n            </Typography>\r\n            <Grid container spacing={4}>\r\n              <Grid item xs={12} md={4}>\r\n                <StyledFeatureCard elevation={3}>\r\n                  <CardMedia\r\n                    component=\"img\"\r\n                    height=\"200\"\r\n                    image=\"https://via.placeholder.com/400x200?text=Video+Resumes\"\r\n                    alt=\"Video Resumes\"\r\n                  />\r\n                  <CardContent sx={{ flexGrow: 1 }}>\r\n                    <Typography gutterBottom variant=\"h5\" component=\"div\" sx={{ fontWeight: 'bold', color: theme.palette.primary.main }}>\r\n                      Engaging Video Resumes\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      Go beyond paper. Showcase personality, communication skills, and passion with dynamic video profiles that truly stand out.\r\n                    </Typography>\r\n                  </CardContent>\r\n                </StyledFeatureCard>\r\n              </Grid>\r\n              <Grid item xs={12} md={4}>\r\n                <StyledFeatureCard elevation={3}>\r\n                  <CardMedia\r\n                    component=\"img\"\r\n                    height=\"200\"\r\n                    image=\"https://via.placeholder.com/400x200?text=Smart+Matching\"\r\n                    alt=\"Smart Matching\"\r\n                  />\r\n                  <CardContent sx={{ flexGrow: 1 }}>\r\n                    <Typography gutterBottom variant=\"h5\" component=\"div\" sx={{ fontWeight: 'bold', color: theme.palette.primary.main }}>\r\n                      Smart Matching Algorithm\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      Our AI-powered system intelligently connects job seekers with relevant opportunities and employers with ideal candidates.\r\n                    </Typography>\r\n                  </CardContent>\r\n                </StyledFeatureCard>\r\n              </Grid>\r\n              <Grid item xs={12} md={4}>\r\n                <StyledFeatureCard elevation={3}>\r\n                  <CardMedia\r\n                    component=\"img\"\r\n                    height=\"200\"\r\n                    image=\"https://via.placeholder.com/400x200?text=Efficient+Hiring\"\r\n                    alt=\"Efficient Hiring\"\r\n                  />\r\n                  <CardContent sx={{ flexGrow: 1 }}>\r\n                    <Typography gutterBottom variant=\"h5\" component=\"div\" sx={{ fontWeight: 'bold', color: theme.palette.primary.main }}>\r\n                      Streamlined Hiring Process\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      Reduce time-to-hire and improve candidate quality with our intuitive platform designed for modern recruitment needs.\r\n                    </Typography>\r\n                  </CardContent>\r\n                </StyledFeatureCard>\r\n              </Grid>\r\n            </Grid>\r\n          </Container>\r\n        </Box>\r\n\r\n        {/* How It Works Section */}\r\n        <Container maxWidth=\"lg\" sx={{ py: 8 }}>\r\n          <Typography\r\n            variant=\"h3\"\r\n            component=\"h2\"\r\n            align=\"center\"\r\n            gutterBottom\r\n            sx={{ fontWeight: 'bold', mb: 6, color: theme.palette.text.primary }}\r\n          >\r\n            How SwipeScout Works\r\n          </Typography>\r\n          <Grid container spacing={4} alignItems=\"center\">\r\n            <Grid item xs={12} md={6}>\r\n              <Typography variant=\"h4\" gutterBottom sx={{ fontWeight: 'bold', color: theme.palette.primary.main }}>\r\n                For Job Seekers\r\n              </Typography>\r\n              <Typography variant=\"body1\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n                Create a compelling video resume, explore personalized job recommendations, and apply with confidence.\r\n              </Typography>\r\n              <Stack spacing={2}>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                  <CheckCircle color=\"primary\" />\r\n                  <Typography variant=\"body1\">Record your unique video profile.</Typography>\r\n                </Box>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                  <CheckCircle color=\"primary\" />\r\n                  <Typography variant=\"body1\">Get matched with top companies.</Typography>\r\n                </Box>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                  <CheckCircle color=\"primary\" />\r\n                  <Typography variant=\"body1\">Apply directly with your video.</Typography>\r\n                </Box>\r\n              </Stack>\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <VideoShowcase>\r\n                <video\r\n                  ref={(el) => (videoRefs.current['js-demo'] = el)}\r\n                  src=\"https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935204/Jobseeker/wvepwzroiy6s942idqal.mp4\"\r\n                  loop\r\n                  muted={isMuted}\r\n                  playsInline\r\n                  preload=\"auto\"\r\n                  style={{ width: '100%', height: 'auto', display: 'block' }}\r\n                  onMouseEnter={() => handleVideoHover('js-demo', true)}\r\n                  onMouseLeave={() => handleVideoHover('js-demo', false)}\r\n                  onClick={() => handleVideoClick('js-demo')}\r\n                />\r\n                <IconButton\r\n                  sx={{\r\n                    position: 'absolute',\r\n                    bottom: 16,\r\n                    right: 16,\r\n                    color: 'white',\r\n                    bgcolor: 'rgba(0,0,0,0.5)',\r\n                    '&:hover': { bgcolor: 'rgba(0,0,0,0.7)' },\r\n                  }}\r\n                  onClick={(e) => toggleMute(e, 'js-demo')}\r\n                >\r\n                  {isMuted ? <VolumeOff /> : <VolumeUp />}\r\n                </IconButton>\r\n                <IconButton\r\n                  sx={{\r\n                    position: 'absolute',\r\n                    bottom: 16,\r\n                    left: 16,\r\n                    color: 'white',\r\n                    bgcolor: 'rgba(0,0,0,0.5)',\r\n                    '&:hover': { bgcolor: 'rgba(0,0,0,0.7)' },\r\n                  }}\r\n                  onClick={() => handleFullscreen('js-demo')}\r\n                >\r\n                  <Fullscreen />\r\n                </IconButton>\r\n              </VideoShowcase>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <Grid container spacing={4} alignItems=\"center\" sx={{ mt: 8 }}>\r\n            <Grid item xs={12} md={6}>\r\n              <VideoShowcase>\r\n                <video\r\n                  ref={(el) => (videoRefs.current['emp-demo'] = el)}\r\n                  src=\"https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935032/Employer/grfwutcixeecejrsqu7o.mp4\"\r\n                  loop\r\n                  muted={isMuted}\r\n                  playsInline\r\n                  preload=\"auto\"\r\n                  style={{ width: '100%', height: 'auto', display: 'block' }}\r\n                  onMouseEnter={() => handleVideoHover('emp-demo', true)}\r\n                  onMouseLeave={() => handleVideoHover('emp-demo', false)}\r\n                  onClick={() => handleVideoClick('emp-demo')}\r\n                />\r\n                <IconButton\r\n                  sx={{\r\n                    position: 'absolute',\r\n                    bottom: 16,\r\n                    right: 16,\r\n                    color: 'white',\r\n                    bgcolor: 'rgba(0,0,0,0.5)',\r\n                    '&:hover': { bgcolor: 'rgba(0,0,0,0.7)' },\r\n                  }}\r\n                  onClick={(e) => toggleMute(e, 'emp-demo')}\r\n                >\r\n                  {isMuted ? <VolumeOff /> : <VolumeUp />}\r\n                </IconButton>\r\n                <IconButton\r\n                  sx={{\r\n                    position: 'absolute',\r\n                    bottom: 16,\r\n                    left: 16,\r\n                    color: 'white',\r\n                    bgcolor: 'rgba(0,0,0,0.5)',\r\n                    '&:hover': { bgcolor: 'rgba(0,0,0,0.7)' },\r\n                  }}\r\n                  onClick={() => handleFullscreen('emp-demo')}\r\n                >\r\n                  <Fullscreen />\r\n                </IconButton>\r\n              </VideoShowcase>\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <Typography variant=\"h4\" gutterBottom sx={{ fontWeight: 'bold', color: theme.palette.primary.main }}>\r\n                For Employers\r\n              </Typography>\r\n              <Typography variant=\"body1\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n                Discover top talent through authentic video introductions, streamline your hiring, and build your dream team.\r\n              </Typography>\r\n              <Stack spacing={2}>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                  <CheckCircle color=\"primary\" />\r\n                  <Typography variant=\"body1\">Post engaging video job descriptions.</Typography>\r\n                </Box>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                  <CheckCircle color=\"primary\" />\r\n                  <Typography variant=\"body1\">Efficiently screen candidates with video profiles.</Typography>\r\n                </Box>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                  <CheckCircle color=\"primary\" />\r\n                  <Typography variant=\"body1\">Make faster, better hiring decisions.</Typography>\r\n                </Box>\r\n              </Stack>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n\r\n        {/* Testimonials Section */}\r\n        <Box sx={{ background: theme.palette.background.default, py: 8 }}>\r\n          <Container maxWidth=\"lg\">\r\n            <Typography\r\n              variant=\"h3\"\r\n              component=\"h2\"\r\n              align=\"center\"\r\n              gutterBottom\r\n              sx={{ fontWeight: 'bold', mb: 6, color: theme.palette.text.primary }}\r\n            >\r\n              What Our Users Say\r\n            </Typography>\r\n            <Grid container spacing={4}>\r\n              {testimonials.map((testimonial, index) => (\r\n                <Grid item xs={12} md={6} key={index}>\r\n                  <FloatingCard elevation={3}>\r\n                    <CardContent>\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n                        <Avatar src={testimonial.avatar} sx={{ width: 60, height: 60, mr: 2 }} />\r\n                        <Box>\r\n                          <Typography variant=\"h6\" sx={{ fontWeight: 'bold' }}>{testimonial.name}</Typography>\r\n                          <Typography variant=\"body2\" color=\"text.secondary\">{testimonial.role}</Typography>\r\n                        </Box>\r\n                      </Box>\r\n                      <Typography variant=\"body1\" sx={{ fontStyle: 'italic', mb: 2 }}>\r\n                        \"{testimonial.quote}\"\r\n                      </Typography>\r\n                      <Box>\r\n                        {[...Array(testimonial.rating)].map((_, i) => (\r\n                          <Star key={i} sx={{ color: '#FFD700', fontSize: 20 }} />\r\n                        ))}\r\n                      </Box>\r\n                    </CardContent>\r\n                  </FloatingCard>\r\n                </Grid>\r\n              ))}\r\n            </Grid>\r\n          </Container>\r\n        </Box>\r\n\r\n        {/* Premium Features Section */}\r\n        <Box sx={{ background: theme.palette.background.paper, py: 8 }}>\r\n          <Container maxWidth=\"lg\">\r\n            <Typography\r\n              variant=\"h3\"\r\n              component=\"h2\"\r\n              align=\"center\"\r\n              gutterBottom\r\n              sx={{ fontWeight: 'bold', mb: 6, color: theme.palette.text.primary }}\r\n            >\r\n              Unlock More with Premium Features\r\n            </Typography>\r\n            <Grid container spacing={4} alignItems=\"stretch\">\r\n              <Grid item xs={12} md={4}>\r\n                <StyledFeatureCard elevation={3}>\r\n                  <CardContent sx={{ flexGrow: 1, display: 'flex', flexDirection: 'column', alignItems: 'center', textAlign: 'center' }}>\r\n                    <MonetizationOnIcon sx={{ fontSize: 60, color: theme.palette.success.main, mb: 2 }} />\r\n                    <Typography gutterBottom variant=\"h5\" component=\"div\" sx={{ fontWeight: 'bold', color: theme.palette.primary.main }}>\r\n                      Advanced Analytics\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      Gain deeper insights into your profile views, video performance, and application success rates.\r\n                    </Typography>\r\n                  </CardContent>\r\n                </StyledFeatureCard>\r\n              </Grid>\r\n              <Grid item xs={12} md={4}>\r\n                <StyledFeatureCard elevation={3}>\r\n                  <CardContent sx={{ flexGrow: 1, display: 'flex', flexDirection: 'column', alignItems: 'center', textAlign: 'center' }}>\r\n                    <VideoCall sx={{ fontSize: 60, color: theme.palette.info.main, mb: 2 }} />\r\n                    <Typography gutterBottom variant=\"h5\" component=\"div\" sx={{ fontWeight: 'bold', color: theme.palette.primary.main }}>\r\n                      Enhanced Video Tools\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      Access professional video editing features, longer video uploads, and premium templates.\r\n                    </Typography>\r\n                  </CardContent>\r\n                </StyledFeatureCard>\r\n              </Grid>\r\n              <Grid item xs={12} md={4}>\r\n                <StyledFeatureCard elevation={3}>\r\n                  <CardContent sx={{ flexGrow: 1, display: 'flex', flexDirection: 'column', alignItems: 'center', textAlign: 'center' }}>\r\n                    <TrendingUp sx={{ fontSize: 60, color: theme.palette.warning.main, mb: 2 }} />\r\n                    <Typography gutterBottom variant=\"h5\" component=\"div\" sx={{ fontWeight: 'bold', color: theme.palette.primary.main }}>\r\n                      Priority Matching\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      Get prioritized in our matching algorithm and connect with exclusive job opportunities or top candidates faster.\r\n                    </Typography>\r\n                  </CardContent>\r\n                </StyledFeatureCard>\r\n              </Grid>\r\n            </Grid>\r\n            <Box sx={{ textAlign: 'center', mt: 6 }}>\r\n              <Button\r\n                variant=\"contained\"\r\n                size=\"large\"\r\n                sx={{\r\n                  bgcolor: theme.palette.success.main,\r\n                  color: 'white',\r\n                  '&:hover': { bgcolor: theme.palette.success.dark },\r\n                  py: 1.5,\r\n                  px: 5,\r\n                  borderRadius: '30px',\r\n                  fontWeight: 'bold',\r\n                }}\r\n                component={Link}\r\n                to=\"/pricing\"\r\n              >\r\n                View Pricing Plans\r\n              </Button>\r\n            </Box>\r\n          </Container>\r\n        </Box>\r\n\r\n        {/* Call to Action Section */}\r\n        <Box\r\n          sx={{\r\n            background: 'linear-gradient(135deg, #764ba2 0%, #667eea 100%)', // Reverse gradient\r\n            color: 'white',\r\n            py: 8,\r\n            textAlign: 'center',\r\n          }}\r\n        >\r\n          <Container maxWidth=\"md\">\r\n            <Typography\r\n              variant=\"h3\"\r\n              component=\"h2\"\r\n              gutterBottom\r\n              sx={{ fontWeight: 'bold', mb: 3 }}\r\n            >\r\n              Ready to Transform Your Career or Hiring?\r\n            </Typography>\r\n            <Typography variant=\"h5\" component=\"p\" sx={{ mb: 4, opacity: 0.9 }}>\r\n              Join SwipeScout today and experience the future of recruitment.\r\n            </Typography>\r\n            <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2} justifyContent=\"center\">\r\n              <Button\r\n                variant=\"contained\"\r\n                size=\"large\"\r\n                sx={{\r\n                  bgcolor: 'white',\r\n                  color: theme.palette.primary.main,\r\n                  '&:hover': { bgcolor: '#e0e0e0' },\r\n                  py: 1.5,\r\n                  px: 4,\r\n                  borderRadius: '30px',\r\n                  fontWeight: 'bold',\r\n                }}\r\n                component={Link}\r\n                to=\"/signup\"\r\n              >\r\n                Get Started Now\r\n              </Button>\r\n            </Stack>\r\n          </Container>\r\n        </Box>\r\n\r\n        <Footer />\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\HomePage_act.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useMediaQuery' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 15,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 15,
        "endColumn": 16,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useMediaQuery"
            },
            "fix": {
              "range": [
                347,
                365
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useMediaQuery'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'stats' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 57,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 57,
        "endColumn": 12,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "stats"
            },
            "fix": {
              "range": [
                1425,
                1715
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'stats'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 64,
        "column": 38,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 64,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                1754,
                1763
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 76,
        "column": 38,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 76,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                2154,
                2163
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'hoveredVideo' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 311,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 311,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "hoveredVideo"
            },
            "fix": {
              "range": [
                10307,
                10319
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'hoveredVideo'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'isPlayVideo' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 312,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 312,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "isPlayVideo"
            },
            "fix": {
              "range": [
                10366,
                10377
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'isPlayVideo'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setIsPlayVideo' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 312,
        "column": 23,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 312,
        "endColumn": 37,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setIsPlayVideo"
            },
            "fix": {
              "range": [
                10377,
                10393
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setIsPlayVideo'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleVideoHover' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 428,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 428,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleVideoHover"
            },
            "fix": {
              "range": [
                13794,
                14225
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleVideoHover'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'videoId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 443,
        "column": 26,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 443,
        "endColumn": 33,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "videoId"
            },
            "fix": {
              "range": [
                14252,
                14261
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'videoId'."
          }
        ]
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "react-refresh/only-export-components",
        "severity": 1,
        "message": "Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.",
        "line": 279,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "namedExport",
        "endLine": 279,
        "endColumn": 30,
        "suppressions": [
          {
            "kind": "directive",
            "justification": "TODO: move non-component exports/constants to helpers"
          }
        ]
      }
    ],
    "errorCount": 9,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿/* eslint-disable react-refresh/only-export-components -- TODO: move non-component exports/constants to helpers */\r\nimport React, { useState, useRef, useEffect } from \"react\"; // Corrected import statement for hooks\r\nimport {\r\n  Box,\r\n  Container,\r\n  Grid,\r\n  Typography,\r\n  Button,\r\n  Card,\r\n  \r\n  CardMedia,\r\n  CardContent,\r\n  Avatar,\r\n  Divider,\r\n  useMediaQuery,\r\n  styled,\r\n  IconButton,\r\n  CircularProgress,\r\n  Alert,\r\n  TextField,\r\n  InputAdornment,\r\n  Stack,Paper,\r\n  Fade,\r\n  Zoom,\r\n  Slide,Chip,\r\n  useTheme\r\n} from \"@mui/material\";\r\nimport {\r\n  PlayCircle,\r\n  Work,\r\n  People,\r\n  VideoCall,\r\n  TrendingUp,\r\n  Star,\r\n  Visibility,\r\n  VisibilityOff,\r\n  Google as GoogleIcon,\r\n  LinkedIn as LinkedInIcon,\r\n  CheckCircle,\r\n  Fullscreen,\r\n  MonetizationOn as MonetizationOnIcon,\r\n} from \"@mui/icons-material\";\r\n\r\n\r\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\r\nimport Header from \"../components/Headers/Header\"; // Updated Header path\r\nimport Footer from \"../components/Headers/Footer\"; // Updated Footer path\r\nimport { Helmet } from \"react-helmet\";\r\nimport PlayArrow from \"@mui/icons-material/PlayArrow\";\r\nimport VolumeUp from \"@mui/icons-material/VolumeUp\";\r\nimport VolumeOff from \"@mui/icons-material/VolumeOff\";\r\nimport { useAuth } from \"../hooks/useAuth\";\r\nimport { AlertCircle as AlertCircleIcon } from \"lucide-react\";\r\nimport { bold } from \"@cloudinary/url-gen/qualifiers/fontWeight\";\r\n\r\n\r\nconst stats = [\r\n    { number: \"50K+\", label: \"Active Users\", icon: <People /> },\r\n    { number: \"15K+\", label: \"Successful Hires\", icon: <Work /> },\r\n    { number: \"2.5M+\", label: \"Video Views\", icon: <PlayCircle /> },\r\n    { number: \"95%\", label: \"Satisfaction Rate\", icon: <Star /> }\r\n];\r\n\r\nconst VideoShowcase = styled(Box)(({ theme }) => ({\r\n    position: 'relative',\r\n    borderRadius: '24px',\r\n    overflow: 'hidden',\r\n    boxShadow: '0 30px 60px rgba(0, 0, 0, 0.2)',\r\n    transform: 'perspective(1000px) rotateY(-8deg) rotateX(5deg)',\r\n    transition: 'all 0.6s ease',\r\n    '&:hover': {\r\n        transform: 'perspective(1000px) rotateY(-4deg) rotateX(2deg) scale(1.05)'\r\n    }\r\n}));\r\n\r\nconst FloatingCard = styled(Card)(({ theme }) => ({\r\n    position: 'relative',\r\n    zIndex: 2,\r\n    backdropFilter: 'blur(20px)',\r\n    backgroundColor: 'rgba(255, 255, 255, 0.95)',\r\n    borderRadius: '24px',\r\n    boxShadow: '0 20px 60px rgba(0, 0, 0, 0.1)',\r\n    border: '1px solid rgba(255, 255, 255, 0.2)',\r\n    transition: 'all 0.3s ease',\r\n    '&:hover': {\r\n        transform: 'translateY(-5px)',\r\n        boxShadow: '0 30px 80px rgba(0, 0, 0, 0.15)'\r\n    }\r\n}));\r\n\r\n\r\n\r\nconst StatsCard = styled(Paper)(({ theme }) => ({\r\n    padding: theme.spacing(3),\r\n    textAlign: 'center',\r\n    borderRadius: '16px',\r\n    background: 'linear-gradient(145deg, #ffffff 0%, #f0f4ff 100%)',\r\n    border: '1px solid rgba(102, 126, 234, 0.1)',\r\n    transition: 'all 0.3s ease',\r\n    '&:hover': {\r\n        transform: 'translateY(-4px)',\r\n        boxShadow: '0 15px 30px rgba(102, 126, 234, 0.1)'\r\n    }\r\n}));\r\n\r\nconst LoginFormTitle = styled(Typography)(({ theme }) => ({\r\n  marginBottom: theme.spacing(1.25),\r\n  color: theme.palette.text.primary, // Use theme color\r\n}));\r\nconst LoginFormSubtitle = styled(Typography)(({ theme }) => ({\r\n  color: theme.palette.text.secondary, // Use theme color\r\n  marginBottom: theme.spacing(2.5),\r\n}));\r\nconst InputField = styled(TextField)(({ theme }) => ({\r\n  width: \"100%\",\r\n  margin: theme.spacing(1, 0),\r\n  borderRadius: theme.shape.borderRadius, // Use theme border radius\r\n  \"& .MuiOutlinedInput-root\": {\r\n    \"& fieldset\": {\r\n      borderColor: theme.palette.divider, // Use theme color\r\n    },\r\n    \"&:hover fieldset\": {\r\n      borderColor: theme.palette.primary.main, // Use theme color\r\n    },\r\n    \"&.Mui-focused fieldset\": {\r\n      borderColor: theme.palette.primary.main, // Use theme color\r\n    },\r\n    \"&.Mui-error fieldset\": {\r\n      borderColor: theme.palette.error.main, // Use theme color\r\n    },\r\n  },\r\n  \"& input\": {\r\n    padding: theme.spacing(1.5),\r\n    backgroundColor: theme.palette.background.paper, // Use theme color\r\n    color: theme.palette.text.primary, // Use theme color\r\n  },\r\n}));\r\nconst LoginButton = styled(Button)(({ theme }) => ({\r\n  width: \"100%\",\r\n  padding: theme.spacing(1.5),\r\n  marginTop: theme.spacing(2),\r\n  backgroundColor: theme.palette.primary.main, // Use theme color\r\n  color: theme.palette.primary.contrastText, // Use theme color\r\n  border: \"none\",\r\n  borderRadius: \"25px\",\r\n  fontWeight: \"bold\",\r\n  cursor: \"pointer\",\r\n  \"&:hover\": {\r\n    backgroundColor: theme.palette.primary.dark, // Use theme color\r\n  },\r\n}));\r\nconst SocialDivider = styled(Divider)(({ theme }) => ({\r\n  margin: theme.spacing(2, 0),\r\n  \"& .MuiDivider-wrapper\": {\r\n    color: theme.palette.text.secondary, // Use theme color\r\n  },\r\n}));\r\nconst SocialButton = styled(Button)(({ theme }) => ({\r\n  flexGrow: 1,\r\n  margin: theme.spacing(0, 0.5),\r\n  padding: theme.spacing(1.25),\r\n  border: \"none\",\r\n  borderRadius: \"20px\",\r\n  cursor: \"pointer\",\r\n  \"&:hover\": {\r\n    transform: \"scale(1.02)\",\r\n  },\r\n}));\r\nconst GoogleSignInButton = styled(SocialButton)(({ theme }) => ({\r\n  backgroundColor: theme.palette.background.paper, // Use theme color\r\n  color: theme.palette.text.secondary, // Use theme color\r\n  border: `1px solid ${theme.palette.divider}`, // Use theme color\r\n  \"&:hover\": {\r\n    backgroundColor: theme.palette.action.hover, // Use theme color\r\n    borderColor: theme.palette.grey[400], // Use theme color\r\n  },\r\n}));\r\nconst LinkedInSignInButton = styled(SocialButton)(({ theme }) => ({\r\n  backgroundColor: theme.palette.background.paper, // Use theme color\r\n  color: theme.palette.text.secondary, // Use theme color\r\n  border: `1px solid ${theme.palette.divider}`, // Use theme color\r\n  \"&:hover\": {\r\n    backgroundColor: theme.palette.action.hover, // Use theme color\r\n    borderColor: theme.palette.grey[400], // Use theme color\r\n  },\r\n}));\r\nconst StyledFeatureCard = styled(Card)(({ theme }) => ({\r\n  height: \"100%\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  borderRadius: theme.shape.borderRadius * 2, // More rounded\r\n  boxShadow: theme.shadows[4],\r\n  backgroundColor: theme.palette.background.paper, // Use theme color\r\n  transition: \"all 0.3s ease-in-out\",\r\n  \"&:hover\": {\r\n    transform: \"translateY(-8px)\",\r\n    boxShadow: theme.shadows[10],\r\n  },\r\n}));\r\nconst StyledVideoCard = styled(Card)(({ theme }) => ({\r\n  position: \"relative\",\r\n  borderRadius: theme.shape.borderRadius * 1.5, // More rounded\r\n  overflow: \"hidden\",\r\n  boxShadow: theme.shadows[3],\r\n  transition: \"all 0.3s ease\",\r\n  \"&:hover\": {\r\n    transform: \"scale(1.03)\",\r\n    boxShadow: theme.shadows[6],\r\n  },\r\n  \"& .play-overlay\": {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    background: \"rgba(0,0,0,0.7)\",\r\n    opacity: 0,\r\n    transition: \"opacity 0.3s ease\",\r\n    \"&:hover\": {\r\n      opacity: 1,\r\n    },\r\n  },\r\n}));\r\nconst testimonials = [\r\n  {\r\n    name: \"Sarah Johnson\",\r\n    role: \"Marketing Director\",\r\n    quote:\r\n      \"SwipeScout completely transformed our hiring process. We used to spend weeks sifting through resumes, but with video profiles, we found our perfect candidate in just three days! The authenticity and insight you get from a video are unparalleled. Highly recommend!\",\r\n    avatar: \"https://placehold.co/60x60/dbeafe/3b82f6?text=SJ\", // Placeholder image\r\n    rating: 5,\r\n  },\r\n  {\r\n    name: \"Michael Chen\",\r\n    role: \"Software Engineer\",\r\n    quote:\r\n      \"As a job seeker, SwipeScout gave me the unique opportunity to truly showcase my personality and skills beyond a traditional resume. I landed my dream job by demonstrating my passion and technical abilities through video. It's a game-changer for anyone looking to stand out.\",\r\n    avatar: \"https://placehold.co/60x60/dbeafe/3b82f6?text=MC\", // Placeholder image\r\n    rating: 5,\r\n  },\r\n  {\r\n    name: \"TechStart Inc.\",\r\n    role: \"HR Manager\",\r\n    quote:\r\n      \"Implementing SwipeScout has made our recruitment incredibly efficient. Our hiring process is now 40% faster, and we're making much better cultural fits. The platform is intuitive, and the support has been fantastic. It's an essential tool for modern HR.\",\r\n    avatar: \"https://placehold.co/60x60/dbeafe/3b82f6?text=TI\", // Placeholder image\r\n    rating: 4,\r\n  },\r\n  {\r\n    name: \"Alex Rivera\",\r\n    role: \"Talent Acquisition Lead\",\r\n    quote:\r\n      \"SwipeScout helped us cut screening time in half while actually getting to know the person behind the resume. ItÃ¢â‚¬â„¢s now a core part of our hiring process.\",\r\n    avatar: \"https://placehold.co/60x60/dbeafe/3b82f6?text=AR\", // Placeholder image\r\n    rating: 5, // Assuming a 5-star rating for this new testimonial\r\n  },\r\n];\r\nconst StatusBorder = ({ status }) => (\r\n  <Box\r\n    sx={{\r\n      position: \"absolute\",\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      height: 5,\r\n      backgroundColor:\r\n        status === \"uploading\"\r\n          ? \"#f97316\"\r\n          : status === \"processing\"\r\n          ? \"#3b82f6\"\r\n          : \"transparent\",\r\n      zIndex: 3,\r\n    }}\r\n  />\r\n);\r\nexport const mockVideoResumes = [\r\n  {\r\n    id: \"emp-1\",\r\n    video_title: \"Corporate Solutions Inc. - Company Overview\",\r\n    video_type: \"Company Profile\",\r\n    video_duration: 90,\r\n    video_url:\r\n      \"https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935032/Employer/grfwutcixeecejrsqu7o.mp4\",\r\n    status: \"completed\",\r\n  },\r\n  {\r\n    id: \"js-1\",\r\n    video_title: \"Full Stack Developer - Portfolio Showcase\",\r\n    video_type: \"Job Seeker\",\r\n    video_duration: 120,\r\n    video_url:\r\n      \"https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935204/Jobseeker/wvepwzroiy6s942idqal.mp4\",\r\n    status: \"completed\",\r\n  },\r\n  {\r\n    id: \"emp-2\",\r\n    video_title: \"Designer and developer - Resume Showcase\",\r\n    video_type: \"Company Profile\",\r\n    video_duration: 60,\r\n    video_url:\r\n      \"https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935196/Jobseeker/h5qg3cfiszmjefiquvrm.mp4\",\r\n    status: \"completed\",\r\n  },\r\n];\r\nconst HomePage = () => {\r\n  const theme = useTheme(); // Access theme\r\n  // const isMobile = useMediaQuery(theme.breakpoints.down('md')); // Use theme breakpoint // Removed: unused variable\r\n  const [hoveredVideo, setHoveredVideo] = useState(null);\r\n  const [isPlayVideo, setIsPlayVideo] = useState(null);\r\n  const [isMuted, setIsMuted] = useState(true);\r\n  const [playingVideoId, setPlayingVideoId] = useState(null);\r\n  const videoRefs = useRef({});\r\n  const [explicitLogin, setExplicitLogin] = useState(false);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const VITE_BASE_URL = import.meta.env.VITE_BASE_URL || 'http://localhost:5173';\r\n  const {\r\n    loginByEmailAndPassword,\r\n    authenticateWithGoogle,\r\n    authenticateWithLinkedIn,\r\n    user,\r\n    role,\r\n    loading: authLoading,\r\n  } = useAuth();\r\n  const [loading, setLoading] = useState({\r\n    email: false,\r\n    google: false,\r\n    linkedin: false,\r\n  });\r\n  const [error, setError] = useState(\"\");\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (explicitLogin && user && role && !authLoading) {\r\n      const from = location.state?.from?.pathname || getDefaultRoute(role);\r\n      navigate(from);\r\n      setExplicitLogin(false);\r\n    }\r\n  }, [user, role, authLoading, explicitLogin, navigate, location.state]);\r\n\r\n  const getDefaultRoute = (userRole) => {\r\n    switch (userRole) {\r\n      case \"job_seeker\":\r\n        return \"/jobseeker-tabs\";\r\n      case \"employer\":\r\n        return \"/employer-tabs\";\r\n      case \"admin\":\r\n        return \"/admin-dashboard\";\r\n      default:\r\n        return \"/\";\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleEmailSignIn = async (e) => {\r\n    e.preventDefault();\r\n    setExplicitLogin(true);\r\n    setLoading((prev) => ({ ...prev, email: true }));\r\n    setError(\"\");\r\n    try {\r\n      const result = await loginByEmailAndPassword(\r\n        formData.email,\r\n        formData.password\r\n      );\r\n      if (result && result.error) {\r\n        setError(result.message || \"Login failed. Please try again.\");\r\n        setExplicitLogin(false);\r\n        return;\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || \"Login failed. Please try again.\");\r\n      setExplicitLogin(false);\r\n    } finally {\r\n      setLoading((prev) => ({ ...prev, email: false }));\r\n    }\r\n  };\r\n\r\n  const handleGoogleSignIn = async () => {\r\n    setLoading((prev) => ({ ...prev, google: true }));\r\n    setError(\"\");\r\n    setExplicitLogin(true);\r\n    try {\r\n      const result = await authenticateWithGoogle();\r\n      if (result && result.error) {\r\n        setError(result.message || \"Google sign-in failed\");\r\n        setExplicitLogin(false);\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || \"Google sign-in failed\");\r\n      setExplicitLogin(false);\r\n    } finally {\r\n      setLoading((prev) => ({ ...prev, google: false }));\r\n    }\r\n  };\r\n\r\n  const handleLinkedInLogin = async () => {\r\n    setLoading((prev) => ({ ...prev, linkedin: true }));\r\n    setError(\"\");\r\n    setExplicitLogin(true);\r\n    try {\r\n      const result = await authenticateWithLinkedIn();\r\n      if (result && result.error) {\r\n        setError(result.message || \"LinkedIn login failed\");\r\n        setExplicitLogin(false);\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || \"LinkedIn login failed\");\r\n      setExplicitLogin(false);\r\n    } finally {\r\n      setLoading((prev) => ({ ...prev, linkedin: false }));\r\n    }\r\n  };\r\n\r\n  const handleVideoHover = (videoId, isHovering) => {\r\n    setHoveredVideo(isHovering ? videoId : null);\r\n    const videoElement = videoRefs.current[videoId];\r\n    if (videoElement) {\r\n      if (isHovering) {\r\n        videoElement\r\n          .play()\r\n          .catch((error) => console.error(\"Error playing video:\", error));\r\n      } else {\r\n        videoElement.pause();\r\n        videoElement.currentTime = 0;\r\n      }\r\n    }\r\n  };\r\n\r\n  const toggleMute = (e, videoId) => {\r\n    e.stopPropagation();\r\n    setIsMuted((prev) => !prev);\r\n  };\r\n\r\n  const handleVideoClick = (videoId) => {\r\n    const videoElement = videoRefs.current[videoId];\r\n    if (videoElement) {\r\n      if (playingVideoId === videoId) {\r\n        videoElement.pause();\r\n        videoElement.currentTime = 0;\r\n        setPlayingVideoId(null);\r\n      } else {\r\n        if (playingVideoId && videoRefs.current[playingVideoId]) {\r\n          videoRefs.current[playingVideoId].pause();\r\n          videoRefs.current[playingVideoId].currentTime = 0;\r\n        }\r\n        videoElement\r\n          .play()\r\n          .catch((error) => console.error(\"Error playing video:\", error));\r\n        setPlayingVideoId(videoId);\r\n      }\r\n    }\r\n    console.log(\"Video clicked:\", videoId);\r\n  };\r\n\r\n  const handleFullscreen = (videoId) => {\r\n    const videoElement = videoRefs.current[videoId];\r\n    if (videoElement) {\r\n      if (videoElement.requestFullscreen) {\r\n        videoElement.requestFullscreen();\r\n      } else if (videoElement.mozRequestFullScreen) {\r\n        /* Firefox */\r\n        videoElement.mozRequestFullScreen();\r\n      } else if (videoElement.webkitRequestFullscreen) {\r\n        /* Chrome, Safari and Opera */\r\n        videoElement.webkitRequestFullscreen();\r\n      } else if (videoElement.msRequestFullscreen) {\r\n        /* IE/Edge */\r\n        videoElement.msRequestFullscreen();\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>SwipeScout | Modern Video Recruitment Platform</title>\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Connect with opportunities through video. SwipeScout revolutionizes recruitment with video resumes, job postings, and company profiles.\"\r\n        />\r\n        <meta\r\n          name=\"keywords\"\r\n          content=\"video resumes, video recruitment, job search, hiring platform, career matching\"\r\n        />\r\n        <meta\r\n          property=\"og:title\"\r\n          content=\"SwipeScout | Modern Video Recruitment Platform\"\r\n        />\r\n        <meta\r\n          property=\"og:description\"\r\n          content=\"Find your dream job or perfect candidate through engaging video profiles on SwipeScout.\"\r\n        />\r\n        <meta property=\"og:type\" content=\"website\" />\r\n        <meta property=\"og:url\" content=\"https://www.swipescout.xyz\" />\r\n        <link rel=\"canonical\" href=\"https://www.swipescout.xyz\" />\r\n      </Helmet>\r\n      <Box\r\n        sx={{\r\n          background: theme.palette.background.default, // Use theme background\r\n          color: theme.palette.text.primary, // Use theme text color\r\n          overflowX: \"hidden\",\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          minHeight: '100vh', // Ensure page takes full viewport height\r\n        }}\r\n      >\r\n        <Header />\r\n\r\n        {/* Hero Section */}\r\n        <Box\r\n          sx={{\r\n            background: theme.palette.primary.main, // Use primary color for hero background\r\n            color: theme.palette.primary.contrastText, // White text\r\n            py: { xs: 8, md: 12 },\r\n            position: \"relative\",\r\n            overflow: \"hidden\",\r\n            // Blurred background image\r\n            \"&:before\": {\r\n              content: '\"\"',\r\n              position: \"absolute\",\r\n              top: 0,\r\n              left: 0,\r\n              right: 0,\r\n              bottom: 0,\r\n              backgroundImage: `url(${VITE_BASE_URL}/public/backgrounds/meeting_room2.jpg)`, // Placeholder for meeting room image\r\n              backgroundSize: \"cover\",\r\n              backgroundPosition: \"center\",\r\n              filter: \"blur(5px)\", // Apply blur effect\r\n              opacity: 0.8, // Adjust opacity as needed\r\n              zIndex: 0,\r\n            },\r\n            flexGrow: 1, // Allow hero section to grow and push footer down\r\n            display: 'flex',\r\n            alignItems: 'center', // Center content vertically\r\n          }}\r\n        >\r\n          <Container maxWidth=\"lg\" sx={{ position: \"relative\", zIndex: 1 }}>\r\n            <Grid container spacing={6} alignItems=\"center\">\r\n              <Grid item xs={12} md={6}>\r\n                  <Chip sx={{ backgroundColor: 'rgba(66, 81, 107, 0.2)', color: 'white' , mt:-6,\r\n                                                             backdropFilter: 'blur(10px)',\r\n                                                             border: '1px solid rgba(255, 255, 255, 0.3) '}}\r\n                                                         label=\"Ù‹ÚºÚ‘â‚¬ AI-Powered Recruitment Platform\"\r\n                                                        \r\n                                                     />\r\n                                                     <Typography\r\n                                                         variant=\"h1\"\r\n                                                         sx={{\r\n                                                             fontWeight: 800,\r\n                                                             mb: 3,\r\n                                                             fontSize: { xs: '2.5rem', md: '4rem', lg: '5rem' },\r\n                                                             lineHeight: 1.1,\r\n                                                             color: 'white',\r\n                                                             textShadow: '0 4px 20px rgba(0,0,0,0.3)'\r\n                                                         }}\r\n                                                     >\r\n                                                         The Future of\r\n                                                         <Box component=\"span\" sx={{ \r\n                                                             background: 'linear-gradient(45deg, #FFD700, #FFA500)',\r\n                                                             WebkitBackgroundClip: 'text',\r\n                                                             WebkitTextFillColor: 'transparent',\r\n                                                             display: 'block'\r\n                                                         }}>\r\n                                                             Video Recruitment\r\n                                                         </Box>\r\n                                                     </Typography>\r\n                                                     <Typography\r\n                                                         variant=\"h5\"\r\n                                                         sx={{\r\n                                                             mb: 4,\r\n                                                             color: 'rgba(255, 255, 255, 0.9)',\r\n                                                             fontWeight: 400,\r\n                                                             maxWidth: '600px'\r\n                                                         }}\r\n                                                     >\r\n                                                         Connect talent with opportunities through AI-powered video matching. \r\n                                                         Experience recruitment that's personal, efficient, and revolutionary.\r\n                                                     </Typography>\r\n                <Box\r\n                  sx={{\r\n                    display: \"flex\",\r\n                    gap: 2,\r\n                    flexWrap: \"wrap\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                >\r\n                  <Button\r\n                    component={Link}\r\n                    to=\"/register-form\"\r\n                    variant=\"contained\"\r\n                    size=\"large\"\r\n                    sx={{\r\n                      bgcolor: theme.palette.secondary.main, // Use secondary color\r\n                      color: theme.palette.secondary.contrastText, // Dark text\r\n                      fontWeight: 600,\r\n                      px: 4,\r\n                      py: 1.5,\r\n                      borderRadius: theme.shape.borderRadius,\r\n                      boxShadow: theme.shadows[3],\r\n                      '&:hover': {\r\n                        bgcolor: theme.palette.secondary.dark, // Darker secondary on hover\r\n                        boxShadow: theme.shadows[5],\r\n                      },\r\n                    }}\r\n                  >\r\n                    Get Started\r\n                  </Button>\r\n                  <Button\r\n                    component={Link}\r\n                    to=\"/videos/all\"\r\n                    variant=\"outlined\"\r\n                    size=\"large\"\r\n                    sx={{\r\n                      borderColor: theme.palette.primary.contrastText, // White border\r\n                      color: theme.palette.primary.contrastText, // White text\r\n                      fontWeight: 600,\r\n                      px: 4,\r\n                      py: 1.5,\r\n                      borderRadius: theme.shape.borderRadius,\r\n                      '&:hover': {\r\n                        bgcolor: 'rgba(255,255,255,0.1)', // Subtle white hover\r\n                        borderColor: theme.palette.primary.contrastText,\r\n                      },\r\n                    }}\r\n                  >\r\n                    Explore\r\n                  </Button>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={12} md={6} sx={{ position: \"relative\" }}>\r\n                {/* Login Form */}\r\n                <Box\r\n                  sx={{\r\n                    width: { xs: \"90%\", sm: \"380px\", md: \"420px\" }, // Responsive width\r\n                    alignSelf: \"center\",\r\n                    mx: \"auto\",\r\n                    bgcolor: theme.palette.background.paper, // Use theme color\r\n                    p: { xs: 2, sm: 3 },\r\n                    borderRadius: theme.shape.borderRadius * 2, // More rounded\r\n                    boxShadow: theme.shadows[6], // Stronger shadow for form\r\n                  }}\r\n                >\r\n                  <LoginFormTitle\r\n                    variant=\"h5\"\r\n                    component=\"h4\"\r\n                    sx={{\r\n                      mb: 2,\r\n                      fontWeight: bold,\r\n                      color: theme.palette.text.primary,\r\n                      textAlign: \"center\",\r\n                    }}\r\n                  >\r\n                    Log in to your account\r\n                  </LoginFormTitle>\r\n                  <Box component=\"form\" onSubmit={handleEmailSignIn}>\r\n                    <InputField\r\n                      label=\"Enter your email address\"\r\n                      type=\"email\"\r\n                      name=\"email\"\r\n                      value={formData.email}\r\n                      onChange={handleChange}\r\n                      required\r\n                      variant=\"outlined\"\r\n                      size=\"small\"\r\n                    />\r\n                    <InputField\r\n                      label=\"Enter your password\"\r\n                      type={showPassword ? \"text\" : \"password\"}\r\n                      name=\"password\"\r\n                      value={formData.password}\r\n                      onChange={handleChange}\r\n                      required\r\n                      variant=\"outlined\"\r\n                      size=\"small\"\r\n                      InputProps={{\r\n                        endAdornment: (\r\n                          <InputAdornment position=\"end\">\r\n                            <IconButton\r\n                              onClick={() => setShowPassword(!showPassword)}\r\n                              edge=\"end\"\r\n                              size=\"small\"\r\n                            >\r\n                              {showPassword ? (\r\n                                <VisibilityOff sx={{ color: theme.palette.text.secondary }} />\r\n                              ) : (\r\n                                <Visibility sx={{ color: theme.palette.text.secondary }} />\r\n                              )}\r\n                            </IconButton>\r\n                          </InputAdornment>\r\n                        ),\r\n                      }}\r\n                    />\r\n                    <Link\r\n                      to=\"/forgot-password\"\r\n                      style={{ fontSize: \"0.875rem\", color: theme.palette.primary.main }}\r\n                    >\r\n                      Forgot Password?\r\n                    </Link>\r\n                    <LoginButton type=\"submit\" disabled={loading.email}>\r\n                      {loading.email ? (\r\n                        <CircularProgress size={24} color=\"inherit\" />\r\n                      ) : (\r\n                        \"Log In\"\r\n                      )}\r\n                    </LoginButton>\r\n                  </Box>\r\n                  <SocialDivider>\r\n                    <Typography variant=\"body2\" sx={{ color: theme.palette.text.secondary }}>\r\n                      Or log in with\r\n                    </Typography>\r\n                  </SocialDivider>\r\n                  <Stack direction=\"row\" spacing={1} justifyContent=\"center\">\r\n                    <GoogleSignInButton\r\n                      variant=\"contained\"\r\n                      onClick={handleGoogleSignIn}\r\n                      disabled={loading.google}\r\n                      startIcon={<GoogleIcon />}\r\n                    >\r\n                      {loading.google ? (\r\n                        <CircularProgress size={24} color=\"inherit\" />\r\n                      ) : (\r\n                        \"Google\"\r\n                      )}\r\n                    </GoogleSignInButton>\r\n                    <LinkedInSignInButton\r\n                      variant=\"outlined\"\r\n                      onClick={handleLinkedInLogin}\r\n                      disabled={loading.linkedin}\r\n                      startIcon={<LinkedInIcon />}\r\n                      sx={{\r\n                        flex: 1,\r\n                        py: 1.25,\r\n                      }}\r\n                    >\r\n                      {loading.linkedin ? (\r\n                        <CircularProgress size={24} />\r\n                      ) : (\r\n                        \"LinkedIn\"\r\n                      )}\r\n                    </LinkedInSignInButton>\r\n                  </Stack>\r\n                  {error && (\r\n                    <Alert\r\n                      severity=\"error\"\r\n                      sx={{ mt: 2, display: \"flex\", alignItems: \"center\" }}\r\n                    >\r\n                      <AlertCircleIcon\r\n                        style={{\r\n                          marginRight: \"8px\",\r\n                          height: \"20px\",\r\n                          width: \"20px\",\r\n                        }}\r\n                      />\r\n                      {error}\r\n                    </Alert>\r\n                  )}\r\n                  <Typography\r\n                    variant=\"body2\"\r\n                    sx={{\r\n                      mt: 2,\r\n                      textAlign: \"center\",\r\n                      color: theme.palette.text.secondary,\r\n                    }}\r\n                  >\r\n                    Don't have an account?{\" \"}\r\n                    <Link\r\n                      to=\"/register-form\"\r\n                      style={{\r\n                        color: theme.palette.primary.main,\r\n                        fontWeight: 600,\r\n                        textDecoration: \"none\",\r\n                        \"&:hover\": {\r\n                          textDecoration: \"underline\",\r\n                        },\r\n                      }}\r\n                    >\r\n                      Sign Up\r\n                    </Link>\r\n                  </Typography>\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </Container>\r\n        </Box>\r\n\r\n        {/* Founder Section */}\r\n        <Box sx={{ py: { xs: 6, md: 8 }, bgcolor: theme.palette.background.paper }}>\r\n          <Container maxWidth=\"md\">\r\n            <Grid container spacing={4} justifyContent=\"center\" alignItems=\"center\">\r\n              <Grid item xs={12} md={4} sx={{ textAlign: \"center\" }}>\r\n                <Avatar\r\n                  src={`/images/tareq.jpg`} // Corrected image path\r\n                  sx={{ width: 150, height: 150, mx: \"auto\", mb: 2, boxShadow: theme.shadows[3] }}\r\n                />\r\n                <Typography variant=\"h5\" component=\"h3\" sx={{ fontWeight: 600, color: theme.palette.text.primary, textAlign: \"center\" }}>\r\n                  Tareq Al-Sharif\r\n                </Typography>\r\n                <Typography variant=\"body2\" color={theme.palette.text.secondary} sx={{ textAlign: \"center\" }}>\r\n                  Founder & CEO\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={12} md={8} sx={{ textAlign: \"center\" }}>\r\n                <Typography\r\n                  variant=\"h4\"\r\n                  component=\"h2\"\r\n                  sx={{\r\n                    mb: 3,\r\n                    fontWeight: 700,\r\n                    color: theme.palette.text.primary,\r\n                    textAlign: \"center\",\r\n                  }}\r\n                >\r\n                  A Message from Our Founder\r\n                </Typography>\r\n                <Typography variant=\"body1\" sx={{ color: theme.palette.text.secondary, textAlign: \"center\" }}>\r\n                  Welcome to SwipeScout! I founded this platform with a vision to\r\n                  revolutionize how people connect in the professional world. I\r\n                  believe that true potential and personality are best conveyed\r\n                  through authentic human interaction, and video is the most\r\n                  powerful tool for that. Our mission is to make recruitment more\r\n                  personal, efficient, and enjoyable for everyone. Join us and\r\n                  experience the future of hiring.\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Container>\r\n        </Box>\r\n\r\n        {/* See SwipeScout in Action Section */}\r\n        <Box sx={{ py: { xs: 6, md: 8 }, bgcolor: theme.palette.grey[100] }}>\r\n          <Container maxWidth=\"lg\">\r\n            <Typography\r\n              variant=\"h3\"\r\n              component=\"h2\"\r\n              sx={{\r\n                textAlign: \"center\",\r\n                mb: 6,\r\n                fontWeight: 700,\r\n                color: theme.palette.text.primary,\r\n              }}\r\n            >\r\n              See SwipeScout in Action\r\n            </Typography>\r\n            <Grid container spacing={3} sx={{ p: 2 }}>\r\n              {mockVideoResumes.map((video) => (\r\n                <Grid\r\n                  item\r\n                  key={video.id}\r\n                  xs={12}\r\n                  sm={6}\r\n                  md={6}\r\n                  lg={6}\r\n                  sx={{ display: \"flex\", justifyContent: \"center\" }}\r\n                >\r\n                  <Card\r\n                    sx={{\r\n                      width: \"300px\",\r\n                      maxWidth: \"100%\",\r\n                      borderRadius: theme.shape.borderRadius * 1.5, // More rounded\r\n                      boxShadow: theme.shadows[3],\r\n                      transition: \"transform 0.2s ease-in-out\",\r\n                      \"&:hover\": {\r\n                        transform: \"scale(1.02)\",\r\n                      },\r\n                      position: \"relative\",\r\n                      overflow: \"hidden\",\r\n                      aspectRatio: \"9/16\",\r\n                    }}\r\n                    onClick={() => handleVideoClick(video.id)}\r\n                  >\r\n                    {(video.status === \"uploading\" ||\r\n                      video.status === \"processing\") && (\r\n                      <StatusBorder status={video.status} />\r\n                    )}\r\n                    <CardMedia\r\n                      component=\"div\"\r\n                      sx={{\r\n                        position: \"relative\",\r\n                        width: \"100%\",\r\n                        height: \"100%\",\r\n                        backgroundColor: theme.palette.grey[900], // Dark background for video area\r\n                        cursor: \"pointer\",\r\n                      }}\r\n                    >\r\n                      {video.video_url && (\r\n                        <video\r\n                          ref={(el) => (videoRefs.current[video.id] = el)}\r\n                          src={video.video_url}\r\n                          style={{\r\n                            width: \"100%\",\r\n                            height: \"100%\",\r\n                            objectFit: \"cover\",\r\n                            display: \"block\",\r\n                          }}\r\n                          muted={isMuted}\r\n                          loop\r\n                          playsInline\r\n                          disablePictureInPicture\r\n                          controlsList=\"nodownload\"\r\n                        />\r\n                      )}\r\n                      <Box\r\n                        className=\"play-icon-overlay\"\r\n                        sx={{\r\n                          position: \"absolute\",\r\n                          top: \"50%\",\r\n                          left: \"50%\",\r\n                          transform: \"translate(-50%, -50%)\",\r\n                          color: theme.palette.primary.contrastText,\r\n                          bgcolor: 'rgba(0,0,0,0.7)',\r\n                          borderRadius: \"50%\",\r\n                          p: 2,\r\n                          display: \"flex\",\r\n                          alignItems: \"center\",\r\n                          justifyContent: \"center\",\r\n                          opacity:\r\n                            playingVideoId === video.id ||\r\n                            video.status === \"uploading\" ||\r\n                            video.status === \"processing\"\r\n                              ? 0\r\n                              : 1,\r\n                          transition: \"opacity 0.3s\",\r\n                        }}\r\n                      >\r\n                        <PlayArrow fontSize=\"large\" />\r\n                      </Box>\r\n                      <IconButton\r\n                        onClick={(e) => toggleMute(e, video.id)}\r\n                        sx={{\r\n                          position: \"absolute\",\r\n                          top: 8,\r\n                          right: 8,\r\n                          zIndex: 2,\r\n                          backgroundColor: 'rgba(0,0,0,0.5)',\r\n                          color: theme.palette.primary.contrastText,\r\n                          opacity: playingVideoId === video.id ? 1 : 0,\r\n                          transition: \"opacity 0.3s\",\r\n                        }}\r\n                      >\r\n                        {isMuted ? <VolumeOff /> : <VolumeUp />}\r\n                      </IconButton>\r\n                      <IconButton\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          handleFullscreen(video.id);\r\n                        }}\r\n                        sx={{\r\n                          position: \"absolute\",\r\n                          bottom: 8,\r\n                          right: 8,\r\n                          zIndex: 2,\r\n                          backgroundColor: 'rgba(0,0,0,0.5)',\r\n                          color: theme.palette.primary.contrastText,\r\n                          opacity: playingVideoId === video.id ? 1 : 0,\r\n                          transition: \"opacity 0.3s\",\r\n                        }}\r\n                      >\r\n                        <Fullscreen />\r\n                      </IconButton>\r\n                      <Box\r\n                        sx={{\r\n                          position: \"absolute\",\r\n                          bottom: 0,\r\n                          left: 0,\r\n                          right: 0,\r\n                          p: 2,\r\n                          color: theme.palette.primary.contrastText,\r\n                          background:\r\n                            \"linear-gradient(to top, rgba(0,0,0,0.7), transparent)\",\r\n                          zIndex: 1,\r\n                        }}\r\n                      >\r\n                        <Typography\r\n                          variant=\"subtitle1\"\r\n                          noWrap\r\n                          sx={{ color: theme.palette.primary.contrastText }}\r\n                        >\r\n                          {video.video_title || \"Untitled Video\"}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" sx={{ color: theme.palette.grey[300] }}>\r\n                          {video.video_type || \"Uncategorized\"} Ã¢â‚¬Â¢{\" \"}\r\n                          {Math.round(video.video_duration || 0)}s\r\n                        </Typography>\r\n                      </Box>\r\n                    </CardMedia>\r\n                  </Card>\r\n                </Grid>\r\n              ))}\r\n            </Grid>\r\n            <Box sx={{ textAlign: \"center\", mt: 6 }}>\r\n              <Button\r\n                component={Link}\r\n                to=\"/videos/all\"\r\n                variant=\"contained\"\r\n                size=\"large\"\r\n                sx={{\r\n                  bgcolor: theme.palette.primary.main,\r\n                  color: theme.palette.primary.contrastText,\r\n                  fontWeight: 600,\r\n                  px: 6,\r\n                  py: 1.5,\r\n                  borderRadius: theme.shape.borderRadius,\r\n                  boxShadow: theme.shadows[3],\r\n                  '&:hover': {\r\n                    bgcolor: theme.palette.primary.dark,\r\n                  },\r\n                }}\r\n              >\r\n                Browse All Videos\r\n              </Button>\r\n            </Box>\r\n          </Container>\r\n        </Box>\r\n\r\n         {/* Premium Features Section */}\r\n        <Box sx={{ background: theme.palette.background.paper, py: 8 }}>\r\n          <Container maxWidth=\"lg\">\r\n            <Typography\r\n              variant=\"h3\"\r\n              component=\"h2\"\r\n              align=\"center\"\r\n              gutterBottom\r\n              sx={{ fontWeight: 'bold', mb: 6, color: theme.palette.text.primary }}\r\n            >\r\n              Unlock More with Premium Features\r\n            </Typography>\r\n            <Grid container spacing={4} alignItems=\"stretch\">\r\n              <Grid item xs={12} md={4}>\r\n                <StyledFeatureCard elevation={3}>\r\n                  <CardContent sx={{ flexGrow: 1, display: 'flex', flexDirection: 'column', alignItems: 'center', textAlign: 'center' }}>\r\n                    <MonetizationOnIcon sx={{ fontSize: 60, color: theme.palette.success.main, mb: 2 }} />\r\n                    <Typography gutterBottom variant=\"h5\" component=\"div\" sx={{ fontWeight: 'bold', color: theme.palette.primary.main }}>\r\n                      Advanced Analytics\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      Gain deeper insights into your profile views, video performance, and application success rates.\r\n                    </Typography>\r\n                  </CardContent>\r\n                </StyledFeatureCard>\r\n              </Grid>\r\n              <Grid item xs={12} md={4}>\r\n                <StyledFeatureCard elevation={3}>\r\n                  <CardContent sx={{ flexGrow: 1, display: 'flex', flexDirection: 'column', alignItems: 'center', textAlign: 'center' }}>\r\n                    <VideoCall sx={{ fontSize: 60, color: theme.palette.info.main, mb: 2 }} />\r\n                    <Typography gutterBottom variant=\"h5\" component=\"div\" sx={{ fontWeight: 'bold', color: theme.palette.primary.main }}>\r\n                      Enhanced Video Tools\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      Access professional video editing features, longer video uploads, and premium templates.\r\n                    </Typography>\r\n                  </CardContent>\r\n                </StyledFeatureCard>\r\n              </Grid>\r\n              <Grid item xs={12} md={4}>\r\n                <StyledFeatureCard elevation={3}>\r\n                  <CardContent sx={{ flexGrow: 1, display: 'flex', flexDirection: 'column', alignItems: 'center', textAlign: 'center' }}>\r\n                    <TrendingUp sx={{ fontSize: 60, color: theme.palette.warning.main, mb: 2 }} />\r\n                    <Typography gutterBottom variant=\"h5\" component=\"div\" sx={{ fontWeight: 'bold', color: theme.palette.primary.main }}>\r\n                      Priority Matching\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      Get prioritized in our matching algorithm and connect with exclusive job opportunities or top candidates faster.\r\n                    </Typography>\r\n                  </CardContent>\r\n                </StyledFeatureCard>\r\n              </Grid>\r\n            </Grid>\r\n            <Box sx={{ textAlign: 'center', mt: 6 }}>\r\n              <Button\r\n                variant=\"contained\"\r\n                size=\"large\"\r\n                sx={{\r\n                  bgcolor: theme.palette.success.main,\r\n                  color: 'white',\r\n                  '&:hover': { bgcolor: theme.palette.success.dark },\r\n                  py: 1.5,\r\n                  px: 5,\r\n                  borderRadius: '30px',\r\n                  fontWeight: 'bold',\r\n                }}\r\n                component={Link}\r\n                to=\"/pricing\"\r\n                onClick={() => window.scrollTo(0, 0)}\r\n              >\r\n                View Pricing Plans\r\n              </Button>\r\n            </Box>\r\n          </Container>\r\n        </Box>\r\n        {/* Testimonials Section */}\r\n        <Box sx={{ py: { xs: 6, md: 8 }, bgcolor: theme.palette.background.default }}>\r\n          <Container maxWidth=\"lg\">\r\n            <Typography\r\n              variant=\"h3\"\r\n              component=\"h2\"\r\n              sx={{\r\n                textAlign: \"center\",\r\n                mb: 6,\r\n                fontWeight: 700,\r\n                color: theme.palette.text.primary,\r\n              }}\r\n            >\r\n              What Our Users Say\r\n            </Typography>\r\n            <Grid container spacing={4}>\r\n              {testimonials.map((testimonial, index) => (\r\n                <Grid item xs={12} md={4} key={index}>\r\n                  <Card sx={{\r\n                    height: \"100%\",\r\n                    p: 3,\r\n                    boxShadow: theme.shadows[3],\r\n                    borderRadius: theme.shape.borderRadius * 1.5,\r\n                    backgroundColor: theme.palette.background.paper,\r\n                  }}>\r\n                    <Box sx={{ display: \"flex\", alignItems: \"center\", mb: 3 }}>\r\n                      <Avatar\r\n                        src={testimonial.avatar}\r\n                        sx={{ width: 60, height: 60, mr: 2, boxShadow: theme.shadows[1] }}\r\n                      />\r\n                      <Box>\r\n                        <Typography variant=\"h6\" component=\"h3\" sx={{ color: theme.palette.text.primary }}>\r\n                          {testimonial.name}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color={theme.palette.text.secondary}>\r\n                          {testimonial.role}\r\n                        </Typography>\r\n                      </Box>\r\n                    </Box>\r\n                    <Typography variant=\"body1\" sx={{ fontStyle: \"italic\", color: theme.palette.text.primary }}>\r\n                      \"{testimonial.quote}\"\r\n                    </Typography>\r\n                    <Box sx={{ mt: 2 }}>\r\n                      {[1, 2, 3, 4, 5].map((starIndex) => (\r\n                        <Star\r\n                          key={starIndex}\r\n                          sx={{\r\n                            fontSize: 16,\r\n                            mr: 0.5,\r\n                            color:\r\n                              starIndex <= testimonial.rating\r\n                                ? theme.palette.warning.main // Use warning color for stars\r\n                                : theme.palette.grey[300], // Light grey for empty\r\n                          }}\r\n                        />\r\n                      ))}\r\n                    </Box>\r\n                  </Card>\r\n                </Grid>\r\n              ))}\r\n            </Grid>\r\n          </Container>\r\n        </Box>\r\n\r\n        \r\n\r\n        {/* Call to Action Section */}\r\n        <Box\r\n          sx={{\r\n            pt: { xs: 6, md: 8 },\r\n            pb: { xs: 6, md: 8 },\r\n            background: `linear-gradient(170deg, ${theme.palette.primary.light} 0%, ${theme.palette.primary.main} 100%)`, // Gradient background\r\n            color: theme.palette.primary.contrastText,\r\n            textAlign: \"center\",\r\n            position: 'relative',\r\n            overflow: 'hidden',\r\n            borderRadius: theme.shape.borderRadius, // Apply global border radius\r\n            boxShadow: theme.shadows[4], // Subtle shadow\r\n            // Adjusted for full width with internal spacing\r\n            width: '98%',\r\n            mx: 'auto', // Center the section\r\n            px: { xs: 2, md: 4 }, // Add horizontal padding\r\n          }}\r\n        >\r\n          <Container maxWidth=\"md\">\r\n            <Typography\r\n              variant=\"h3\"\r\n              component=\"h2\"\r\n              sx={{\r\n                mb: 2,\r\n                fontWeight: 800,\r\n                color: theme.palette.primary.contrastText,\r\n                textShadow: '0 2px 4px rgba(0,0,0,0.1)',\r\n                position: 'relative',\r\n                display: 'inline-block',\r\n                '&:after': {\r\n                  content: '\"\"',\r\n                  position: 'absolute',\r\n                  bottom: -8,\r\n                  left: '25%',\r\n                  width: '50%',\r\n                  height: '3px',\r\n                  background: theme.palette.secondary.main, // Secondary color for underline\r\n                  borderRadius: '3px'\r\n                }\r\n              }}\r\n            >\r\n              Ready to Transform Your Recruitment?\r\n            </Typography>\r\n            <Typography\r\n              variant=\"h5\"\r\n              component=\"p\"\r\n              sx={{\r\n                mb: 4,\r\n                fontWeight: 500,\r\n                color: theme.palette.primary.contrastText + 'CC',\r\n                maxWidth: '700px',\r\n                mx: 'auto',\r\n                lineHeight: 1.6\r\n              }}\r\n            >\r\n              Join thousands of professionals and companies finding better matches through video.\r\n            </Typography>\r\n            <Button\r\n              component={Link}\r\n              to=\"/register-form\"\r\n              variant=\"contained\"\r\n              size=\"large\"\r\n              sx={{\r\n                background: theme.palette.secondary.main, // Secondary color for button\r\n                color: theme.palette.secondary.contrastText, // Dark text\r\n                fontWeight: 700,\r\n                px: 6,\r\n                py: 2,\r\n                fontSize: '1.1rem',\r\n                borderRadius: theme.shape.borderRadius,\r\n                boxShadow: theme.shadows[4],\r\n                textTransform: 'uppercase',\r\n                letterSpacing: '1px',\r\n                position: 'relative',\r\n                overflow: 'hidden',\r\n                '&:hover': {\r\n                  background: theme.palette.secondary.dark,\r\n                  boxShadow: theme.shadows[6],\r\n                  transform: 'translateY(-2px)',\r\n                },\r\n                '&:active': {\r\n                  transform: 'translateY(0)',\r\n                },\r\n                transition: 'all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)',\r\n              }}\r\n            >\r\n              Get Started Free\r\n              <Box\r\n                component=\"span\"\r\n                sx={{\r\n                  ml: 1,\r\n                  animation: 'pulse 2s infinite',\r\n                  display: 'inline-block'\r\n                }}\r\n              >\r\n                Ã¢â€ â€™\r\n              </Box>\r\n            </Button>\r\n\r\n            <Box\r\n              sx={{\r\n                mt: 4,\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                gap: 3,\r\n                flexWrap: 'wrap'\r\n              }}\r\n            >\r\n              <Typography variant=\"caption\" sx={{ color: theme.palette.primary.contrastText + 'CC', display: 'flex', alignItems: 'center' }}>\r\n                <CheckCircle sx={{ color: theme.palette.success.light, mr: 1, fontSize: '1rem' }} />\r\n                No credit card required to start\r\n              </Typography>\r\n              <Typography variant=\"caption\" sx={{ color: theme.palette.primary.contrastText + 'CC', display: 'flex', alignItems: 'center' }}>\r\n                <TrendingUp sx={{ color: theme.palette.info.light, mr: 1, fontSize: '1rem' }} />\r\n                30-second signup\r\n              </Typography>\r\n              <Typography variant=\"caption\" sx={{ color: theme.palette.primary.contrastText + 'CC', display: 'flex', alignItems: 'center' }}>\r\n                <People sx={{ color: theme.palette.warning.light, mr: 1, fontSize: '1rem' }} />\r\n                Free forever plan\r\n              </Typography>\r\n            </Box>\r\n          </Container>\r\n        </Box>\r\n        <Box sx={{ mt: 1, bgcolor: theme.palette.background.default, py: 2 }}></  Box>\r\n        <Footer />\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\nexport default HomePage;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\HomePage_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useMediaQuery' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 15,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 15,
        "endColumn": 16,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useMediaQuery"
            },
            "fix": {
              "range": [
                347,
                365
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useMediaQuery'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'stats' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 57,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 57,
        "endColumn": 12,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "stats"
            },
            "fix": {
              "range": [
                1431,
                1721
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'stats'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 64,
        "column": 38,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 64,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                1760,
                1769
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 76,
        "column": 38,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 76,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                2160,
                2169
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'hoveredVideo' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 311,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 311,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "hoveredVideo"
            },
            "fix": {
              "range": [
                10311,
                10323
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'hoveredVideo'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'isPlayVideo' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 312,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 312,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "isPlayVideo"
            },
            "fix": {
              "range": [
                10370,
                10381
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'isPlayVideo'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setIsPlayVideo' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 312,
        "column": 23,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 312,
        "endColumn": 37,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setIsPlayVideo"
            },
            "fix": {
              "range": [
                10381,
                10397
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setIsPlayVideo'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleVideoHover' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 428,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 428,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleVideoHover"
            },
            "fix": {
              "range": [
                13798,
                14229
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleVideoHover'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'videoId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 443,
        "column": 26,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 443,
        "endColumn": 33,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "videoId"
            },
            "fix": {
              "range": [
                14256,
                14265
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'videoId'."
          }
        ]
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "react-refresh/only-export-components",
        "severity": 1,
        "message": "Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.",
        "line": 279,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "namedExport",
        "endLine": 279,
        "endColumn": 30,
        "suppressions": [
          {
            "kind": "directive",
            "justification": "TODO: move non-component exports/constants to helpers"
          }
        ]
      }
    ],
    "errorCount": 9,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿/* eslint-disable react-refresh/only-export-components -- TODO: move non-component exports/constants to helpers */\r\nimport React, { useState, useRef, useEffect } from \"react\"; // Corrected import statement for hooks\r\nimport {\r\n  Box,\r\n  Container,\r\n  Grid,\r\n  Typography,\r\n  Button,\r\n  Card,\r\n  \r\n  CardMedia,\r\n  CardContent,\r\n  Avatar,\r\n  Divider,\r\n  useMediaQuery,\r\n  styled,\r\n  IconButton,\r\n  CircularProgress,\r\n  Alert,\r\n  TextField,\r\n  InputAdornment,\r\n  Stack,Paper,\r\n  Fade,\r\n  Zoom,\r\n  Slide,Chip,\r\n  useTheme\r\n} from \"@mui/material\";\r\nimport {\r\n  PlayCircle,\r\n  Work,\r\n  People,\r\n  VideoCall,\r\n  TrendingUp,\r\n  Star,\r\n  Visibility,\r\n  VisibilityOff,\r\n  Google as GoogleIcon,\r\n  LinkedIn as LinkedInIcon,\r\n  CheckCircle,\r\n  Fullscreen,\r\n  MonetizationOn as MonetizationOnIcon,\r\n} from \"@mui/icons-material\";\r\n\r\n\r\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\r\nimport Header from \"../components/Headers/Header\"; // Updated Header path\r\nimport Footer from \"../components/Headers/Footer\"; // Updated Footer path\r\nimport { Helmet } from \"react-helmet\";\r\nimport PlayArrow from \"@mui/icons-material/PlayArrow\";\r\nimport VolumeUp from \"@mui/icons-material/VolumeUp\";\r\nimport VolumeOff from \"@mui/icons-material/VolumeOff\";\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { AlertCircle as AlertCircleIcon } from \"lucide-react\";\r\nimport { bold } from \"@cloudinary/url-gen/qualifiers/fontWeight\";\r\n\r\n\r\nconst stats = [\r\n    { number: \"50K+\", label: \"Active Users\", icon: <People /> },\r\n    { number: \"15K+\", label: \"Successful Hires\", icon: <Work /> },\r\n    { number: \"2.5M+\", label: \"Video Views\", icon: <PlayCircle /> },\r\n    { number: \"95%\", label: \"Satisfaction Rate\", icon: <Star /> }\r\n];\r\n\r\nconst VideoShowcase = styled(Box)(({ theme }) => ({\r\n    position: 'relative',\r\n    borderRadius: '24px',\r\n    overflow: 'hidden',\r\n    boxShadow: '0 30px 60px rgba(0, 0, 0, 0.2)',\r\n    transform: 'perspective(1000px) rotateY(-8deg) rotateX(5deg)',\r\n    transition: 'all 0.6s ease',\r\n    '&:hover': {\r\n        transform: 'perspective(1000px) rotateY(-4deg) rotateX(2deg) scale(1.05)'\r\n    }\r\n}));\r\n\r\nconst FloatingCard = styled(Card)(({ theme }) => ({\r\n    position: 'relative',\r\n    zIndex: 2,\r\n    backdropFilter: 'blur(20px)',\r\n    backgroundColor: 'rgba(255, 255, 255, 0.95)',\r\n    borderRadius: '24px',\r\n    boxShadow: '0 20px 60px rgba(0, 0, 0, 0.1)',\r\n    border: '1px solid rgba(255, 255, 255, 0.2)',\r\n    transition: 'all 0.3s ease',\r\n    '&:hover': {\r\n        transform: 'translateY(-5px)',\r\n        boxShadow: '0 30px 80px rgba(0, 0, 0, 0.15)'\r\n    }\r\n}));\r\n\r\n\r\n\r\nconst StatsCard = styled(Paper)(({ theme }) => ({\r\n    padding: theme.spacing(3),\r\n    textAlign: 'center',\r\n    borderRadius: '16px',\r\n    background: 'linear-gradient(145deg, #ffffff 0%, #f0f4ff 100%)',\r\n    border: '1px solid rgba(102, 126, 234, 0.1)',\r\n    transition: 'all 0.3s ease',\r\n    '&:hover': {\r\n        transform: 'translateY(-4px)',\r\n        boxShadow: '0 15px 30px rgba(102, 126, 234, 0.1)'\r\n    }\r\n}));\r\n\r\nconst LoginFormTitle = styled(Typography)(({ theme }) => ({\r\n  marginBottom: theme.spacing(1.25),\r\n  color: theme.palette.text.primary, // Use theme color\r\n}));\r\nconst LoginFormSubtitle = styled(Typography)(({ theme }) => ({\r\n  color: theme.palette.text.secondary, // Use theme color\r\n  marginBottom: theme.spacing(2.5),\r\n}));\r\nconst InputField = styled(TextField)(({ theme }) => ({\r\n  width: \"100%\",\r\n  margin: theme.spacing(1, 0),\r\n  borderRadius: theme.shape.borderRadius, // Use theme border radius\r\n  \"& .MuiOutlinedInput-root\": {\r\n    \"& fieldset\": {\r\n      borderColor: theme.palette.divider, // Use theme color\r\n    },\r\n    \"&:hover fieldset\": {\r\n      borderColor: theme.palette.primary.main, // Use theme color\r\n    },\r\n    \"&.Mui-focused fieldset\": {\r\n      borderColor: theme.palette.primary.main, // Use theme color\r\n    },\r\n    \"&.Mui-error fieldset\": {\r\n      borderColor: theme.palette.error.main, // Use theme color\r\n    },\r\n  },\r\n  \"& input\": {\r\n    padding: theme.spacing(1.5),\r\n    backgroundColor: theme.palette.background.paper, // Use theme color\r\n    color: theme.palette.text.primary, // Use theme color\r\n  },\r\n}));\r\nconst LoginButton = styled(Button)(({ theme }) => ({\r\n  width: \"100%\",\r\n  padding: theme.spacing(1.5),\r\n  marginTop: theme.spacing(2),\r\n  backgroundColor: theme.palette.primary.main, // Use theme color\r\n  color: theme.palette.primary.contrastText, // Use theme color\r\n  border: \"none\",\r\n  borderRadius: \"25px\",\r\n  fontWeight: \"bold\",\r\n  cursor: \"pointer\",\r\n  \"&:hover\": {\r\n    backgroundColor: theme.palette.primary.dark, // Use theme color\r\n  },\r\n}));\r\nconst SocialDivider = styled(Divider)(({ theme }) => ({\r\n  margin: theme.spacing(2, 0),\r\n  \"& .MuiDivider-wrapper\": {\r\n    color: theme.palette.text.secondary, // Use theme color\r\n  },\r\n}));\r\nconst SocialButton = styled(Button)(({ theme }) => ({\r\n  flexGrow: 1,\r\n  margin: theme.spacing(0, 0.5),\r\n  padding: theme.spacing(1.25),\r\n  border: \"none\",\r\n  borderRadius: \"20px\",\r\n  cursor: \"pointer\",\r\n  \"&:hover\": {\r\n    transform: \"scale(1.02)\",\r\n  },\r\n}));\r\nconst GoogleSignInButton = styled(SocialButton)(({ theme }) => ({\r\n  backgroundColor: theme.palette.background.paper, // Use theme color\r\n  color: theme.palette.text.secondary, // Use theme color\r\n  border: `1px solid ${theme.palette.divider}`, // Use theme color\r\n  \"&:hover\": {\r\n    backgroundColor: theme.palette.action.hover, // Use theme color\r\n    borderColor: theme.palette.grey[400], // Use theme color\r\n  },\r\n}));\r\nconst LinkedInSignInButton = styled(SocialButton)(({ theme }) => ({\r\n  backgroundColor: theme.palette.background.paper, // Use theme color\r\n  color: theme.palette.text.secondary, // Use theme color\r\n  border: `1px solid ${theme.palette.divider}`, // Use theme color\r\n  \"&:hover\": {\r\n    backgroundColor: theme.palette.action.hover, // Use theme color\r\n    borderColor: theme.palette.grey[400], // Use theme color\r\n  },\r\n}));\r\nconst StyledFeatureCard = styled(Card)(({ theme }) => ({\r\n  height: \"100%\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  borderRadius: theme.shape.borderRadius * 2, // More rounded\r\n  boxShadow: theme.shadows[4],\r\n  backgroundColor: theme.palette.background.paper, // Use theme color\r\n  transition: \"all 0.3s ease-in-out\",\r\n  \"&:hover\": {\r\n    transform: \"translateY(-8px)\",\r\n    boxShadow: theme.shadows[10],\r\n  },\r\n}));\r\nconst StyledVideoCard = styled(Card)(({ theme }) => ({\r\n  position: \"relative\",\r\n  borderRadius: theme.shape.borderRadius * 1.5, // More rounded\r\n  overflow: \"hidden\",\r\n  boxShadow: theme.shadows[3],\r\n  transition: \"all 0.3s ease\",\r\n  \"&:hover\": {\r\n    transform: \"scale(1.03)\",\r\n    boxShadow: theme.shadows[6],\r\n  },\r\n  \"& .play-overlay\": {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    background: \"rgba(0,0,0,0.7)\",\r\n    opacity: 0,\r\n    transition: \"opacity 0.3s ease\",\r\n    \"&:hover\": {\r\n      opacity: 1,\r\n    },\r\n  },\r\n}));\r\nconst testimonials = [\r\n  {\r\n    name: \"Sarah Johnson\",\r\n    role: \"Marketing Director\",\r\n    quote:\r\n      \"SwipeScout completely transformed our hiring process. We used to spend weeks sifting through resumes, but with video profiles, we found our perfect candidate in just three days! The authenticity and insight you get from a video are unparalleled. Highly recommend!\",\r\n    avatar: \"https://placehold.co/60x60/dbeafe/3b82f6?text=SJ\", // Placeholder image\r\n    rating: 5,\r\n  },\r\n  {\r\n    name: \"Michael Chen\",\r\n    role: \"Software Engineer\",\r\n    quote:\r\n      \"As a job seeker, SwipeScout gave me the unique opportunity to truly showcase my personality and skills beyond a traditional resume. I landed my dream job by demonstrating my passion and technical abilities through video. It's a game-changer for anyone looking to stand out.\",\r\n    avatar: \"https://placehold.co/60x60/dbeafe/3b82f6?text=MC\", // Placeholder image\r\n    rating: 5,\r\n  },\r\n  {\r\n    name: \"TechStart Inc.\",\r\n    role: \"HR Manager\",\r\n    quote:\r\n      \"Implementing SwipeScout has made our recruitment incredibly efficient. Our hiring process is now 40% faster, and we're making much better cultural fits. The platform is intuitive, and the support has been fantastic. It's an essential tool for modern HR.\",\r\n    avatar: \"https://placehold.co/60x60/dbeafe/3b82f6?text=TI\", // Placeholder image\r\n    rating: 4,\r\n  },\r\n  {\r\n    name: \"Alex Rivera\",\r\n    role: \"Talent Acquisition Lead\",\r\n    quote:\r\n      \"SwipeScout helped us cut screening time in half while actually getting to know the person behind the resume. Itâ€™s now a core part of our hiring process.\",\r\n    avatar: \"https://placehold.co/60x60/dbeafe/3b82f6?text=AR\", // Placeholder image\r\n    rating: 5, // Assuming a 5-star rating for this new testimonial\r\n  },\r\n];\r\nconst StatusBorder = ({ status }) => (\r\n  <Box\r\n    sx={{\r\n      position: \"absolute\",\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      height: 5,\r\n      backgroundColor:\r\n        status === \"uploading\"\r\n          ? \"#f97316\"\r\n          : status === \"processing\"\r\n          ? \"#3b82f6\"\r\n          : \"transparent\",\r\n      zIndex: 3,\r\n    }}\r\n  />\r\n);\r\nexport const mockVideoResumes = [\r\n  {\r\n    id: \"emp-1\",\r\n    video_title: \"Corporate Solutions Inc. - Company Overview\",\r\n    video_type: \"Company Profile\",\r\n    video_duration: 90,\r\n    video_url:\r\n      \"https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935032/Employer/grfwutcixeecejrsqu7o.mp4\",\r\n    status: \"completed\",\r\n  },\r\n  {\r\n    id: \"js-1\",\r\n    video_title: \"Full Stack Developer - Portfolio Showcase\",\r\n    video_type: \"Job Seeker\",\r\n    video_duration: 120,\r\n    video_url:\r\n      \"https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935204/Jobseeker/wvepwzroiy6s942idqal.mp4\",\r\n    status: \"completed\",\r\n  },\r\n  {\r\n    id: \"emp-2\",\r\n    video_title: \"Designer and developer - Resume Showcase\",\r\n    video_type: \"Company Profile\",\r\n    video_duration: 60,\r\n    video_url:\r\n      \"https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935196/Jobseeker/h5qg3cfiszmjefiquvrm.mp4\",\r\n    status: \"completed\",\r\n  },\r\n];\r\nconst HomePage = () => {\r\n  const theme = useTheme(); // Access theme\r\n  // const isMobile = useMediaQuery(theme.breakpoints.down('md')); // Use theme breakpoint // Removed: unused variable\r\n  const [hoveredVideo, setHoveredVideo] = useState(null);\r\n  const [isPlayVideo, setIsPlayVideo] = useState(null);\r\n  const [isMuted, setIsMuted] = useState(true);\r\n  const [playingVideoId, setPlayingVideoId] = useState(null);\r\n  const videoRefs = useRef({});\r\n  const [explicitLogin, setExplicitLogin] = useState(false);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const VITE_BASE_URL = import.meta.env.VITE_BASE_URL || 'http://localhost:5173';\r\n  const {\r\n    loginByEmailAndPassword,\r\n    authenticateWithGoogle,\r\n    authenticateWithLinkedIn,\r\n    user,\r\n    role,\r\n    loading: authLoading,\r\n  } = useAuth();\r\n  const [loading, setLoading] = useState({\r\n    email: false,\r\n    google: false,\r\n    linkedin: false,\r\n  });\r\n  const [error, setError] = useState(\"\");\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (explicitLogin && user && role && !authLoading) {\r\n      const from = location.state?.from?.pathname || getDefaultRoute(role);\r\n      navigate(from);\r\n      setExplicitLogin(false);\r\n    }\r\n  }, [user, role, authLoading, explicitLogin, navigate, location.state]);\r\n\r\n  const getDefaultRoute = (userRole) => {\r\n    switch (userRole) {\r\n      case \"job_seeker\":\r\n        return \"/jobseeker-tabs\";\r\n      case \"employer\":\r\n        return \"/employer-tabs\";\r\n      case \"admin\":\r\n        return \"/admin-dashboard\";\r\n      default:\r\n        return \"/\";\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleEmailSignIn = async (e) => {\r\n    e.preventDefault();\r\n    setExplicitLogin(true);\r\n    setLoading((prev) => ({ ...prev, email: true }));\r\n    setError(\"\");\r\n    try {\r\n      const result = await loginByEmailAndPassword(\r\n        formData.email,\r\n        formData.password\r\n      );\r\n      if (result && result.error) {\r\n        setError(result.message || \"Login failed. Please try again.\");\r\n        setExplicitLogin(false);\r\n        return;\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || \"Login failed. Please try again.\");\r\n      setExplicitLogin(false);\r\n    } finally {\r\n      setLoading((prev) => ({ ...prev, email: false }));\r\n    }\r\n  };\r\n\r\n  const handleGoogleSignIn = async () => {\r\n    setLoading((prev) => ({ ...prev, google: true }));\r\n    setError(\"\");\r\n    setExplicitLogin(true);\r\n    try {\r\n      const result = await authenticateWithGoogle();\r\n      if (result && result.error) {\r\n        setError(result.message || \"Google sign-in failed\");\r\n        setExplicitLogin(false);\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || \"Google sign-in failed\");\r\n      setExplicitLogin(false);\r\n    } finally {\r\n      setLoading((prev) => ({ ...prev, google: false }));\r\n    }\r\n  };\r\n\r\n  const handleLinkedInLogin = async () => {\r\n    setLoading((prev) => ({ ...prev, linkedin: true }));\r\n    setError(\"\");\r\n    setExplicitLogin(true);\r\n    try {\r\n      const result = await authenticateWithLinkedIn();\r\n      if (result && result.error) {\r\n        setError(result.message || \"LinkedIn login failed\");\r\n        setExplicitLogin(false);\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || \"LinkedIn login failed\");\r\n      setExplicitLogin(false);\r\n    } finally {\r\n      setLoading((prev) => ({ ...prev, linkedin: false }));\r\n    }\r\n  };\r\n\r\n  const handleVideoHover = (videoId, isHovering) => {\r\n    setHoveredVideo(isHovering ? videoId : null);\r\n    const videoElement = videoRefs.current[videoId];\r\n    if (videoElement) {\r\n      if (isHovering) {\r\n        videoElement\r\n          .play()\r\n          .catch((error) => console.error(\"Error playing video:\", error));\r\n      } else {\r\n        videoElement.pause();\r\n        videoElement.currentTime = 0;\r\n      }\r\n    }\r\n  };\r\n\r\n  const toggleMute = (e, videoId) => {\r\n    e.stopPropagation();\r\n    setIsMuted((prev) => !prev);\r\n  };\r\n\r\n  const handleVideoClick = (videoId) => {\r\n    const videoElement = videoRefs.current[videoId];\r\n    if (videoElement) {\r\n      if (playingVideoId === videoId) {\r\n        videoElement.pause();\r\n        videoElement.currentTime = 0;\r\n        setPlayingVideoId(null);\r\n      } else {\r\n        if (playingVideoId && videoRefs.current[playingVideoId]) {\r\n          videoRefs.current[playingVideoId].pause();\r\n          videoRefs.current[playingVideoId].currentTime = 0;\r\n        }\r\n        videoElement\r\n          .play()\r\n          .catch((error) => console.error(\"Error playing video:\", error));\r\n        setPlayingVideoId(videoId);\r\n      }\r\n    }\r\n    console.log(\"Video clicked:\", videoId);\r\n  };\r\n\r\n  const handleFullscreen = (videoId) => {\r\n    const videoElement = videoRefs.current[videoId];\r\n    if (videoElement) {\r\n      if (videoElement.requestFullscreen) {\r\n        videoElement.requestFullscreen();\r\n      } else if (videoElement.mozRequestFullScreen) {\r\n        /* Firefox */\r\n        videoElement.mozRequestFullScreen();\r\n      } else if (videoElement.webkitRequestFullscreen) {\r\n        /* Chrome, Safari and Opera */\r\n        videoElement.webkitRequestFullscreen();\r\n      } else if (videoElement.msRequestFullscreen) {\r\n        /* IE/Edge */\r\n        videoElement.msRequestFullscreen();\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>SwipeScout | Modern Video Recruitment Platform</title>\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Connect with opportunities through video. SwipeScout revolutionizes recruitment with video resumes, job postings, and company profiles.\"\r\n        />\r\n        <meta\r\n          name=\"keywords\"\r\n          content=\"video resumes, video recruitment, job search, hiring platform, career matching\"\r\n        />\r\n        <meta\r\n          property=\"og:title\"\r\n          content=\"SwipeScout | Modern Video Recruitment Platform\"\r\n        />\r\n        <meta\r\n          property=\"og:description\"\r\n          content=\"Find your dream job or perfect candidate through engaging video profiles on SwipeScout.\"\r\n        />\r\n        <meta property=\"og:type\" content=\"website\" />\r\n        <meta property=\"og:url\" content=\"https://www.swipescout.xyz\" />\r\n        <link rel=\"canonical\" href=\"https://www.swipescout.xyz\" />\r\n      </Helmet>\r\n      <Box\r\n        sx={{\r\n          background: theme.palette.background.default, // Use theme background\r\n          color: theme.palette.text.primary, // Use theme text color\r\n          overflowX: \"hidden\",\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          minHeight: '100vh', // Ensure page takes full viewport height\r\n        }}\r\n      >\r\n        <Header />\r\n\r\n        {/* Hero Section */}\r\n        <Box\r\n          sx={{\r\n            background: theme.palette.primary.main, // Use primary color for hero background\r\n            color: theme.palette.primary.contrastText, // White text\r\n            py: { xs: 8, md: 12 },\r\n            position: \"relative\",\r\n            overflow: \"hidden\",\r\n            // Blurred background image\r\n            \"&:before\": {\r\n              content: '\"\"',\r\n              position: \"absolute\",\r\n              top: 0,\r\n              left: 0,\r\n              right: 0,\r\n              bottom: 0,\r\n              backgroundImage: `url(${VITE_BASE_URL}/public/backgrounds/meeting_room2.jpg)`, // Placeholder for meeting room image\r\n              backgroundSize: \"cover\",\r\n              backgroundPosition: \"center\",\r\n              filter: \"blur(5px)\", // Apply blur effect\r\n              opacity: 0.8, // Adjust opacity as needed\r\n              zIndex: 0,\r\n            },\r\n            flexGrow: 1, // Allow hero section to grow and push footer down\r\n            display: 'flex',\r\n            alignItems: 'center', // Center content vertically\r\n          }}\r\n        >\r\n          <Container maxWidth=\"lg\" sx={{ position: \"relative\", zIndex: 1 }}>\r\n            <Grid container spacing={6} alignItems=\"center\">\r\n              <Grid item xs={12} md={6}>\r\n                  <Chip sx={{ backgroundColor: 'rgba(66, 81, 107, 0.2)', color: 'white' , mt:-6,\r\n                                                             backdropFilter: 'blur(10px)',\r\n                                                             border: '1px solid rgba(255, 255, 255, 0.3) '}}\r\n                                                         label=\"ðŸš€ AI-Powered Recruitment Platform\"\r\n                                                        \r\n                                                     />\r\n                                                     <Typography\r\n                                                         variant=\"h1\"\r\n                                                         sx={{\r\n                                                             fontWeight: 800,\r\n                                                             mb: 3,\r\n                                                             fontSize: { xs: '2.5rem', md: '4rem', lg: '5rem' },\r\n                                                             lineHeight: 1.1,\r\n                                                             color: 'white',\r\n                                                             textShadow: '0 4px 20px rgba(0,0,0,0.3)'\r\n                                                         }}\r\n                                                     >\r\n                                                         The Future of\r\n                                                         <Box component=\"span\" sx={{ \r\n                                                             background: 'linear-gradient(45deg, #FFD700, #FFA500)',\r\n                                                             WebkitBackgroundClip: 'text',\r\n                                                             WebkitTextFillColor: 'transparent',\r\n                                                             display: 'block'\r\n                                                         }}>\r\n                                                             Video Recruitment\r\n                                                         </Box>\r\n                                                     </Typography>\r\n                                                     <Typography\r\n                                                         variant=\"h5\"\r\n                                                         sx={{\r\n                                                             mb: 4,\r\n                                                             color: 'rgba(255, 255, 255, 0.9)',\r\n                                                             fontWeight: 400,\r\n                                                             maxWidth: '600px'\r\n                                                         }}\r\n                                                     >\r\n                                                         Connect talent with opportunities through AI-powered video matching. \r\n                                                         Experience recruitment that's personal, efficient, and revolutionary.\r\n                                                     </Typography>\r\n                <Box\r\n                  sx={{\r\n                    display: \"flex\",\r\n                    gap: 2,\r\n                    flexWrap: \"wrap\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                >\r\n                  <Button\r\n                    component={Link}\r\n                    to=\"/register-form\"\r\n                    variant=\"contained\"\r\n                    size=\"large\"\r\n                    sx={{\r\n                      bgcolor: theme.palette.secondary.main, // Use secondary color\r\n                      color: theme.palette.secondary.contrastText, // Dark text\r\n                      fontWeight: 600,\r\n                      px: 4,\r\n                      py: 1.5,\r\n                      borderRadius: theme.shape.borderRadius,\r\n                      boxShadow: theme.shadows[3],\r\n                      '&:hover': {\r\n                        bgcolor: theme.palette.secondary.dark, // Darker secondary on hover\r\n                        boxShadow: theme.shadows[5],\r\n                      },\r\n                    }}\r\n                  >\r\n                    Get Started\r\n                  </Button>\r\n                  <Button\r\n                    component={Link}\r\n                    to=\"/videos/all\"\r\n                    variant=\"outlined\"\r\n                    size=\"large\"\r\n                    sx={{\r\n                      borderColor: theme.palette.primary.contrastText, // White border\r\n                      color: theme.palette.primary.contrastText, // White text\r\n                      fontWeight: 600,\r\n                      px: 4,\r\n                      py: 1.5,\r\n                      borderRadius: theme.shape.borderRadius,\r\n                      '&:hover': {\r\n                        bgcolor: 'rgba(255,255,255,0.1)', // Subtle white hover\r\n                        borderColor: theme.palette.primary.contrastText,\r\n                      },\r\n                    }}\r\n                  >\r\n                    Explore\r\n                  </Button>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={12} md={6} sx={{ position: \"relative\" }}>\r\n                {/* Login Form */}\r\n                <Box\r\n                  sx={{\r\n                    width: { xs: \"90%\", sm: \"380px\", md: \"420px\" }, // Responsive width\r\n                    alignSelf: \"center\",\r\n                    mx: \"auto\",\r\n                    bgcolor: theme.palette.background.paper, // Use theme color\r\n                    p: { xs: 2, sm: 3 },\r\n                    borderRadius: theme.shape.borderRadius * 2, // More rounded\r\n                    boxShadow: theme.shadows[6], // Stronger shadow for form\r\n                  }}\r\n                >\r\n                  <LoginFormTitle\r\n                    variant=\"h5\"\r\n                    component=\"h4\"\r\n                    sx={{\r\n                      mb: 2,\r\n                      fontWeight: bold,\r\n                      color: theme.palette.text.primary,\r\n                      textAlign: \"center\",\r\n                    }}\r\n                  >\r\n                    Log in to your account\r\n                  </LoginFormTitle>\r\n                  <Box component=\"form\" onSubmit={handleEmailSignIn}>\r\n                    <InputField\r\n                      label=\"Enter your email address\"\r\n                      type=\"email\"\r\n                      name=\"email\"\r\n                      value={formData.email}\r\n                      onChange={handleChange}\r\n                      required\r\n                      variant=\"outlined\"\r\n                      size=\"small\"\r\n                    />\r\n                    <InputField\r\n                      label=\"Enter your password\"\r\n                      type={showPassword ? \"text\" : \"password\"}\r\n                      name=\"password\"\r\n                      value={formData.password}\r\n                      onChange={handleChange}\r\n                      required\r\n                      variant=\"outlined\"\r\n                      size=\"small\"\r\n                      InputProps={{\r\n                        endAdornment: (\r\n                          <InputAdornment position=\"end\">\r\n                            <IconButton\r\n                              onClick={() => setShowPassword(!showPassword)}\r\n                              edge=\"end\"\r\n                              size=\"small\"\r\n                            >\r\n                              {showPassword ? (\r\n                                <VisibilityOff sx={{ color: theme.palette.text.secondary }} />\r\n                              ) : (\r\n                                <Visibility sx={{ color: theme.palette.text.secondary }} />\r\n                              )}\r\n                            </IconButton>\r\n                          </InputAdornment>\r\n                        ),\r\n                      }}\r\n                    />\r\n                    <Link\r\n                      to=\"/forgot-password\"\r\n                      style={{ fontSize: \"0.875rem\", color: theme.palette.primary.main }}\r\n                    >\r\n                      Forgot Password?\r\n                    </Link>\r\n                    <LoginButton type=\"submit\" disabled={loading.email}>\r\n                      {loading.email ? (\r\n                        <CircularProgress size={24} color=\"inherit\" />\r\n                      ) : (\r\n                        \"Log In\"\r\n                      )}\r\n                    </LoginButton>\r\n                  </Box>\r\n                  <SocialDivider>\r\n                    <Typography variant=\"body2\" sx={{ color: theme.palette.text.secondary }}>\r\n                      Or log in with\r\n                    </Typography>\r\n                  </SocialDivider>\r\n                  <Stack direction=\"row\" spacing={1} justifyContent=\"center\">\r\n                    <GoogleSignInButton\r\n                      variant=\"contained\"\r\n                      onClick={handleGoogleSignIn}\r\n                      disabled={loading.google}\r\n                      startIcon={<GoogleIcon />}\r\n                    >\r\n                      {loading.google ? (\r\n                        <CircularProgress size={24} color=\"inherit\" />\r\n                      ) : (\r\n                        \"Google\"\r\n                      )}\r\n                    </GoogleSignInButton>\r\n                    <LinkedInSignInButton\r\n                      variant=\"outlined\"\r\n                      onClick={handleLinkedInLogin}\r\n                      disabled={loading.linkedin}\r\n                      startIcon={<LinkedInIcon />}\r\n                      sx={{\r\n                        flex: 1,\r\n                        py: 1.25,\r\n                      }}\r\n                    >\r\n                      {loading.linkedin ? (\r\n                        <CircularProgress size={24} />\r\n                      ) : (\r\n                        \"LinkedIn\"\r\n                      )}\r\n                    </LinkedInSignInButton>\r\n                  </Stack>\r\n                  {error && (\r\n                    <Alert\r\n                      severity=\"error\"\r\n                      sx={{ mt: 2, display: \"flex\", alignItems: \"center\" }}\r\n                    >\r\n                      <AlertCircleIcon\r\n                        style={{\r\n                          marginRight: \"8px\",\r\n                          height: \"20px\",\r\n                          width: \"20px\",\r\n                        }}\r\n                      />\r\n                      {error}\r\n                    </Alert>\r\n                  )}\r\n                  <Typography\r\n                    variant=\"body2\"\r\n                    sx={{\r\n                      mt: 2,\r\n                      textAlign: \"center\",\r\n                      color: theme.palette.text.secondary,\r\n                    }}\r\n                  >\r\n                    Don't have an account?{\" \"}\r\n                    <Link\r\n                      to=\"/register-form\"\r\n                      style={{\r\n                        color: theme.palette.primary.main,\r\n                        fontWeight: 600,\r\n                        textDecoration: \"none\",\r\n                        \"&:hover\": {\r\n                          textDecoration: \"underline\",\r\n                        },\r\n                      }}\r\n                    >\r\n                      Sign Up\r\n                    </Link>\r\n                  </Typography>\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </Container>\r\n        </Box>\r\n\r\n        {/* Founder Section */}\r\n        <Box sx={{ py: { xs: 6, md: 8 }, bgcolor: theme.palette.background.paper }}>\r\n          <Container maxWidth=\"md\">\r\n            <Grid container spacing={4} justifyContent=\"center\" alignItems=\"center\">\r\n              <Grid item xs={12} md={4} sx={{ textAlign: \"center\" }}>\r\n                <Avatar\r\n                  src={`/images/tareq.jpg`} // Corrected image path\r\n                  sx={{ width: 150, height: 150, mx: \"auto\", mb: 2, boxShadow: theme.shadows[3] }}\r\n                />\r\n                <Typography variant=\"h5\" component=\"h3\" sx={{ fontWeight: 600, color: theme.palette.text.primary, textAlign: \"center\" }}>\r\n                  Tareq Al-Sharif\r\n                </Typography>\r\n                <Typography variant=\"body2\" color={theme.palette.text.secondary} sx={{ textAlign: \"center\" }}>\r\n                  Founder & CEO\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={12} md={8} sx={{ textAlign: \"center\" }}>\r\n                <Typography\r\n                  variant=\"h4\"\r\n                  component=\"h2\"\r\n                  sx={{\r\n                    mb: 3,\r\n                    fontWeight: 700,\r\n                    color: theme.palette.text.primary,\r\n                    textAlign: \"center\",\r\n                  }}\r\n                >\r\n                  A Message from Our Founder\r\n                </Typography>\r\n                <Typography variant=\"body1\" sx={{ color: theme.palette.text.secondary, textAlign: \"center\" }}>\r\n                  Welcome to SwipeScout! I founded this platform with a vision to\r\n                  revolutionize how people connect in the professional world. I\r\n                  believe that true potential and personality are best conveyed\r\n                  through authentic human interaction, and video is the most\r\n                  powerful tool for that. Our mission is to make recruitment more\r\n                  personal, efficient, and enjoyable for everyone. Join us and\r\n                  experience the future of hiring.\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Container>\r\n        </Box>\r\n\r\n        {/* See SwipeScout in Action Section */}\r\n        <Box sx={{ py: { xs: 6, md: 8 }, bgcolor: theme.palette.grey[100] }}>\r\n          <Container maxWidth=\"lg\">\r\n            <Typography\r\n              variant=\"h3\"\r\n              component=\"h2\"\r\n              sx={{\r\n                textAlign: \"center\",\r\n                mb: 6,\r\n                fontWeight: 700,\r\n                color: theme.palette.text.primary,\r\n              }}\r\n            >\r\n              See SwipeScout in Action\r\n            </Typography>\r\n            <Grid container spacing={3} sx={{ p: 2 }}>\r\n              {mockVideoResumes.map((video) => (\r\n                <Grid\r\n                  item\r\n                  key={video.id}\r\n                  xs={12}\r\n                  sm={6}\r\n                  md={6}\r\n                  lg={6}\r\n                  sx={{ display: \"flex\", justifyContent: \"center\" }}\r\n                >\r\n                  <Card\r\n                    sx={{\r\n                      width: \"300px\",\r\n                      maxWidth: \"100%\",\r\n                      borderRadius: theme.shape.borderRadius * 1.5, // More rounded\r\n                      boxShadow: theme.shadows[3],\r\n                      transition: \"transform 0.2s ease-in-out\",\r\n                      \"&:hover\": {\r\n                        transform: \"scale(1.02)\",\r\n                      },\r\n                      position: \"relative\",\r\n                      overflow: \"hidden\",\r\n                      aspectRatio: \"9/16\",\r\n                    }}\r\n                    onClick={() => handleVideoClick(video.id)}\r\n                  >\r\n                    {(video.status === \"uploading\" ||\r\n                      video.status === \"processing\") && (\r\n                      <StatusBorder status={video.status} />\r\n                    )}\r\n                    <CardMedia\r\n                      component=\"div\"\r\n                      sx={{\r\n                        position: \"relative\",\r\n                        width: \"100%\",\r\n                        height: \"100%\",\r\n                        backgroundColor: theme.palette.grey[900], // Dark background for video area\r\n                        cursor: \"pointer\",\r\n                      }}\r\n                    >\r\n                      {video.video_url && (\r\n                        <video\r\n                          ref={(el) => (videoRefs.current[video.id] = el)}\r\n                          src={video.video_url}\r\n                          style={{\r\n                            width: \"100%\",\r\n                            height: \"100%\",\r\n                            objectFit: \"cover\",\r\n                            display: \"block\",\r\n                          }}\r\n                          muted={isMuted}\r\n                          loop\r\n                          playsInline\r\n                          disablePictureInPicture\r\n                          controlsList=\"nodownload\"\r\n                        />\r\n                      )}\r\n                      <Box\r\n                        className=\"play-icon-overlay\"\r\n                        sx={{\r\n                          position: \"absolute\",\r\n                          top: \"50%\",\r\n                          left: \"50%\",\r\n                          transform: \"translate(-50%, -50%)\",\r\n                          color: theme.palette.primary.contrastText,\r\n                          bgcolor: 'rgba(0,0,0,0.7)',\r\n                          borderRadius: \"50%\",\r\n                          p: 2,\r\n                          display: \"flex\",\r\n                          alignItems: \"center\",\r\n                          justifyContent: \"center\",\r\n                          opacity:\r\n                            playingVideoId === video.id ||\r\n                            video.status === \"uploading\" ||\r\n                            video.status === \"processing\"\r\n                              ? 0\r\n                              : 1,\r\n                          transition: \"opacity 0.3s\",\r\n                        }}\r\n                      >\r\n                        <PlayArrow fontSize=\"large\" />\r\n                      </Box>\r\n                      <IconButton\r\n                        onClick={(e) => toggleMute(e, video.id)}\r\n                        sx={{\r\n                          position: \"absolute\",\r\n                          top: 8,\r\n                          right: 8,\r\n                          zIndex: 2,\r\n                          backgroundColor: 'rgba(0,0,0,0.5)',\r\n                          color: theme.palette.primary.contrastText,\r\n                          opacity: playingVideoId === video.id ? 1 : 0,\r\n                          transition: \"opacity 0.3s\",\r\n                        }}\r\n                      >\r\n                        {isMuted ? <VolumeOff /> : <VolumeUp />}\r\n                      </IconButton>\r\n                      <IconButton\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          handleFullscreen(video.id);\r\n                        }}\r\n                        sx={{\r\n                          position: \"absolute\",\r\n                          bottom: 8,\r\n                          right: 8,\r\n                          zIndex: 2,\r\n                          backgroundColor: 'rgba(0,0,0,0.5)',\r\n                          color: theme.palette.primary.contrastText,\r\n                          opacity: playingVideoId === video.id ? 1 : 0,\r\n                          transition: \"opacity 0.3s\",\r\n                        }}\r\n                      >\r\n                        <Fullscreen />\r\n                      </IconButton>\r\n                      <Box\r\n                        sx={{\r\n                          position: \"absolute\",\r\n                          bottom: 0,\r\n                          left: 0,\r\n                          right: 0,\r\n                          p: 2,\r\n                          color: theme.palette.primary.contrastText,\r\n                          background:\r\n                            \"linear-gradient(to top, rgba(0,0,0,0.7), transparent)\",\r\n                          zIndex: 1,\r\n                        }}\r\n                      >\r\n                        <Typography\r\n                          variant=\"subtitle1\"\r\n                          noWrap\r\n                          sx={{ color: theme.palette.primary.contrastText }}\r\n                        >\r\n                          {video.video_title || \"Untitled Video\"}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" sx={{ color: theme.palette.grey[300] }}>\r\n                          {video.video_type || \"Uncategorized\"} â€¢{\" \"}\r\n                          {Math.round(video.video_duration || 0)}s\r\n                        </Typography>\r\n                      </Box>\r\n                    </CardMedia>\r\n                  </Card>\r\n                </Grid>\r\n              ))}\r\n            </Grid>\r\n            <Box sx={{ textAlign: \"center\", mt: 6 }}>\r\n              <Button\r\n                component={Link}\r\n                to=\"/videos/all\"\r\n                variant=\"contained\"\r\n                size=\"large\"\r\n                sx={{\r\n                  bgcolor: theme.palette.primary.main,\r\n                  color: theme.palette.primary.contrastText,\r\n                  fontWeight: 600,\r\n                  px: 6,\r\n                  py: 1.5,\r\n                  borderRadius: theme.shape.borderRadius,\r\n                  boxShadow: theme.shadows[3],\r\n                  '&:hover': {\r\n                    bgcolor: theme.palette.primary.dark,\r\n                  },\r\n                }}\r\n              >\r\n                Browse All Videos\r\n              </Button>\r\n            </Box>\r\n          </Container>\r\n        </Box>\r\n\r\n         {/* Premium Features Section */}\r\n        <Box sx={{ background: theme.palette.background.paper, py: 8 }}>\r\n          <Container maxWidth=\"lg\">\r\n            <Typography\r\n              variant=\"h3\"\r\n              component=\"h2\"\r\n              align=\"center\"\r\n              gutterBottom\r\n              sx={{ fontWeight: 'bold', mb: 6, color: theme.palette.text.primary }}\r\n            >\r\n              Unlock More with Premium Features\r\n            </Typography>\r\n            <Grid container spacing={4} alignItems=\"stretch\">\r\n              <Grid item xs={12} md={4}>\r\n                <StyledFeatureCard elevation={3}>\r\n                  <CardContent sx={{ flexGrow: 1, display: 'flex', flexDirection: 'column', alignItems: 'center', textAlign: 'center' }}>\r\n                    <MonetizationOnIcon sx={{ fontSize: 60, color: theme.palette.success.main, mb: 2 }} />\r\n                    <Typography gutterBottom variant=\"h5\" component=\"div\" sx={{ fontWeight: 'bold', color: theme.palette.primary.main }}>\r\n                      Advanced Analytics\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      Gain deeper insights into your profile views, video performance, and application success rates.\r\n                    </Typography>\r\n                  </CardContent>\r\n                </StyledFeatureCard>\r\n              </Grid>\r\n              <Grid item xs={12} md={4}>\r\n                <StyledFeatureCard elevation={3}>\r\n                  <CardContent sx={{ flexGrow: 1, display: 'flex', flexDirection: 'column', alignItems: 'center', textAlign: 'center' }}>\r\n                    <VideoCall sx={{ fontSize: 60, color: theme.palette.info.main, mb: 2 }} />\r\n                    <Typography gutterBottom variant=\"h5\" component=\"div\" sx={{ fontWeight: 'bold', color: theme.palette.primary.main }}>\r\n                      Enhanced Video Tools\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      Access professional video editing features, longer video uploads, and premium templates.\r\n                    </Typography>\r\n                  </CardContent>\r\n                </StyledFeatureCard>\r\n              </Grid>\r\n              <Grid item xs={12} md={4}>\r\n                <StyledFeatureCard elevation={3}>\r\n                  <CardContent sx={{ flexGrow: 1, display: 'flex', flexDirection: 'column', alignItems: 'center', textAlign: 'center' }}>\r\n                    <TrendingUp sx={{ fontSize: 60, color: theme.palette.warning.main, mb: 2 }} />\r\n                    <Typography gutterBottom variant=\"h5\" component=\"div\" sx={{ fontWeight: 'bold', color: theme.palette.primary.main }}>\r\n                      Priority Matching\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      Get prioritized in our matching algorithm and connect with exclusive job opportunities or top candidates faster.\r\n                    </Typography>\r\n                  </CardContent>\r\n                </StyledFeatureCard>\r\n              </Grid>\r\n            </Grid>\r\n            <Box sx={{ textAlign: 'center', mt: 6 }}>\r\n              <Button\r\n                variant=\"contained\"\r\n                size=\"large\"\r\n                sx={{\r\n                  bgcolor: theme.palette.success.main,\r\n                  color: 'white',\r\n                  '&:hover': { bgcolor: theme.palette.success.dark },\r\n                  py: 1.5,\r\n                  px: 5,\r\n                  borderRadius: '30px',\r\n                  fontWeight: 'bold',\r\n                }}\r\n                component={Link}\r\n                to=\"/pricing\"\r\n                onClick={() => window.scrollTo(0, 0)}\r\n              >\r\n                View Pricing Plans\r\n              </Button>\r\n            </Box>\r\n          </Container>\r\n        </Box>\r\n        {/* Testimonials Section */}\r\n        <Box sx={{ py: { xs: 6, md: 8 }, bgcolor: theme.palette.background.default }}>\r\n          <Container maxWidth=\"lg\">\r\n            <Typography\r\n              variant=\"h3\"\r\n              component=\"h2\"\r\n              sx={{\r\n                textAlign: \"center\",\r\n                mb: 6,\r\n                fontWeight: 700,\r\n                color: theme.palette.text.primary,\r\n              }}\r\n            >\r\n              What Our Users Say\r\n            </Typography>\r\n            <Grid container spacing={4}>\r\n              {testimonials.map((testimonial, index) => (\r\n                <Grid item xs={12} md={4} key={index}>\r\n                  <Card sx={{\r\n                    height: \"100%\",\r\n                    p: 3,\r\n                    boxShadow: theme.shadows[3],\r\n                    borderRadius: theme.shape.borderRadius * 1.5,\r\n                    backgroundColor: theme.palette.background.paper,\r\n                  }}>\r\n                    <Box sx={{ display: \"flex\", alignItems: \"center\", mb: 3 }}>\r\n                      <Avatar\r\n                        src={testimonial.avatar}\r\n                        sx={{ width: 60, height: 60, mr: 2, boxShadow: theme.shadows[1] }}\r\n                      />\r\n                      <Box>\r\n                        <Typography variant=\"h6\" component=\"h3\" sx={{ color: theme.palette.text.primary }}>\r\n                          {testimonial.name}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color={theme.palette.text.secondary}>\r\n                          {testimonial.role}\r\n                        </Typography>\r\n                      </Box>\r\n                    </Box>\r\n                    <Typography variant=\"body1\" sx={{ fontStyle: \"italic\", color: theme.palette.text.primary }}>\r\n                      \"{testimonial.quote}\"\r\n                    </Typography>\r\n                    <Box sx={{ mt: 2 }}>\r\n                      {[1, 2, 3, 4, 5].map((starIndex) => (\r\n                        <Star\r\n                          key={starIndex}\r\n                          sx={{\r\n                            fontSize: 16,\r\n                            mr: 0.5,\r\n                            color:\r\n                              starIndex <= testimonial.rating\r\n                                ? theme.palette.warning.main // Use warning color for stars\r\n                                : theme.palette.grey[300], // Light grey for empty\r\n                          }}\r\n                        />\r\n                      ))}\r\n                    </Box>\r\n                  </Card>\r\n                </Grid>\r\n              ))}\r\n            </Grid>\r\n          </Container>\r\n        </Box>\r\n\r\n        \r\n\r\n        {/* Call to Action Section */}\r\n        <Box\r\n          sx={{\r\n            pt: { xs: 6, md: 8 },\r\n            pb: { xs: 6, md: 8 },\r\n            background: `linear-gradient(170deg, ${theme.palette.primary.light} 0%, ${theme.palette.primary.main} 100%)`, // Gradient background\r\n            color: theme.palette.primary.contrastText,\r\n            textAlign: \"center\",\r\n            position: 'relative',\r\n            overflow: 'hidden',\r\n            borderRadius: theme.shape.borderRadius, // Apply global border radius\r\n            boxShadow: theme.shadows[4], // Subtle shadow\r\n            // Adjusted for full width with internal spacing\r\n            width: '98%',\r\n            mx: 'auto', // Center the section\r\n            px: { xs: 2, md: 4 }, // Add horizontal padding\r\n          }}\r\n        >\r\n          <Container maxWidth=\"md\">\r\n            <Typography\r\n              variant=\"h3\"\r\n              component=\"h2\"\r\n              sx={{\r\n                mb: 2,\r\n                fontWeight: 800,\r\n                color: theme.palette.primary.contrastText,\r\n                textShadow: '0 2px 4px rgba(0,0,0,0.1)',\r\n                position: 'relative',\r\n                display: 'inline-block',\r\n                '&:after': {\r\n                  content: '\"\"',\r\n                  position: 'absolute',\r\n                  bottom: -8,\r\n                  left: '25%',\r\n                  width: '50%',\r\n                  height: '3px',\r\n                  background: theme.palette.secondary.main, // Secondary color for underline\r\n                  borderRadius: '3px'\r\n                }\r\n              }}\r\n            >\r\n              Ready to Transform Your Recruitment?\r\n            </Typography>\r\n            <Typography\r\n              variant=\"h5\"\r\n              component=\"p\"\r\n              sx={{\r\n                mb: 4,\r\n                fontWeight: 500,\r\n                color: theme.palette.primary.contrastText + 'CC',\r\n                maxWidth: '700px',\r\n                mx: 'auto',\r\n                lineHeight: 1.6\r\n              }}\r\n            >\r\n              Join thousands of professionals and companies finding better matches through video.\r\n            </Typography>\r\n            <Button\r\n              component={Link}\r\n              to=\"/register-form\"\r\n              variant=\"contained\"\r\n              size=\"large\"\r\n              sx={{\r\n                background: theme.palette.secondary.main, // Secondary color for button\r\n                color: theme.palette.secondary.contrastText, // Dark text\r\n                fontWeight: 700,\r\n                px: 6,\r\n                py: 2,\r\n                fontSize: '1.1rem',\r\n                borderRadius: theme.shape.borderRadius,\r\n                boxShadow: theme.shadows[4],\r\n                textTransform: 'uppercase',\r\n                letterSpacing: '1px',\r\n                position: 'relative',\r\n                overflow: 'hidden',\r\n                '&:hover': {\r\n                  background: theme.palette.secondary.dark,\r\n                  boxShadow: theme.shadows[6],\r\n                  transform: 'translateY(-2px)',\r\n                },\r\n                '&:active': {\r\n                  transform: 'translateY(0)',\r\n                },\r\n                transition: 'all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)',\r\n              }}\r\n            >\r\n              Get Started Free\r\n              <Box\r\n                component=\"span\"\r\n                sx={{\r\n                  ml: 1,\r\n                  animation: 'pulse 2s infinite',\r\n                  display: 'inline-block'\r\n                }}\r\n              >\r\n                â†’\r\n              </Box>\r\n            </Button>\r\n\r\n            <Box\r\n              sx={{\r\n                mt: 4,\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                gap: 3,\r\n                flexWrap: 'wrap'\r\n              }}\r\n            >\r\n              <Typography variant=\"caption\" sx={{ color: theme.palette.primary.contrastText + 'CC', display: 'flex', alignItems: 'center' }}>\r\n                <CheckCircle sx={{ color: theme.palette.success.light, mr: 1, fontSize: '1rem' }} />\r\n                No credit card required to start\r\n              </Typography>\r\n              <Typography variant=\"caption\" sx={{ color: theme.palette.primary.contrastText + 'CC', display: 'flex', alignItems: 'center' }}>\r\n                <TrendingUp sx={{ color: theme.palette.info.light, mr: 1, fontSize: '1rem' }} />\r\n                30-second signup\r\n              </Typography>\r\n              <Typography variant=\"caption\" sx={{ color: theme.palette.primary.contrastText + 'CC', display: 'flex', alignItems: 'center' }}>\r\n                <People sx={{ color: theme.palette.warning.light, mr: 1, fontSize: '1rem' }} />\r\n                Free forever plan\r\n              </Typography>\r\n            </Box>\r\n          </Container>\r\n        </Box>\r\n        <Box sx={{ mt: 1, bgcolor: theme.palette.background.default, py: 2 }}></  Box>\r\n        <Footer />\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\nexport default HomePage;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\HowItWorks.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\InterviewPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'updateInterviewStatus' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 8,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 8,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "updateInterviewStatus"
            },
            "fix": {
              "range": [
                268,
                295
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'updateInterviewStatus'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'navigate' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 51,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 51,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "navigate"
            },
            "fix": {
              "range": [
                1598,
                1629
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'navigate'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has missing dependencies: 'fetchInterviewDetails' and 'fetchInterviews'. Either include them or remove the dependency array.",
        "line": 71,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 71,
        "endColumn": 10,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchInterviewDetails, fetchInterviews, id]",
            "fix": {
              "range": [
                2374,
                2378
              ],
              "text": "[fetchInterviewDetails, fetchInterviews, id]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { \r\n  getUserInterviews, \r\n  getInterviewDetails, \r\n  updateInterviewStatus,\r\n  rescheduleInterview,\r\n  cancelInterview,\r\n  joinInterview\r\n} from '@/services/api';\r\nimport VideoCallInterface from '../components/VideoCallInterface';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/UI/card.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/UI/avatar.jsx';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/UI/tabs.jsx';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogFooter,\r\n} from '@/components/UI/dialog.jsx';\r\nimport { Input } from '@/components/UI/input.jsx';\r\nimport { Label } from '@/components/UI/label.jsx';\r\nimport { Textarea } from '@/components/UI/textarea.jsx';\r\nimport {\r\n  Video,\r\n  Calendar,\r\n  Clock,\r\n  User,\r\n  Briefcase,\r\n  CheckCircle,\r\n  XCircle,\r\n  AlertCircle,\r\n  PlayCircle,\r\n  Edit,\r\n  Loader2,\r\n  MapPin\r\n} from 'lucide-react';\r\nimport themeColors from '@/config/theme-colors-jobseeker';\r\n\r\nconst VITE_API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:5000';\r\n\r\nexport default function InterviewPage() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const { t } = useTranslation();\r\n  const { toast } = useToast();\r\n  \r\n  const [interviews, setInterviews] = useState([]);\r\n  const [selectedInterview, setSelectedInterview] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState('upcoming');\r\n  const [showVideoCall, setShowVideoCall] = useState(false);\r\n  const [rescheduleDialog, setRescheduleDialog] = useState(false);\r\n  const [cancelDialog, setCancelDialog] = useState(false);\r\n  const [newDateTime, setNewDateTime] = useState('');\r\n  const [cancelReason, setCancelReason] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchInterviews();\r\n    if (id) {\r\n      fetchInterviewDetails(id);\r\n    }\r\n  }, [id]);\r\n\r\n  const fetchInterviews = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getUserInterviews();\r\n      setInterviews(response.data.interviews || []);\r\n    } catch (error) {\r\n      console.error('Failed to fetch interviews:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to load interviews\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchInterviewDetails = async (interviewId) => {\r\n    try {\r\n      const response = await getInterviewDetails(interviewId);\r\n      setSelectedInterview(response.data.interview);\r\n    } catch (error) {\r\n      console.error('Failed to fetch interview details:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to load interview details\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleJoinInterview = async (interview) => {\r\n    try {\r\n      const response = await joinInterview(interview.id);\r\n      setSelectedInterview({\r\n        ...interview,\r\n        meetingLink: response.data.meetingLink,\r\n        roomName: response.data.roomName\r\n      });\r\n      setShowVideoCall(true);\r\n    } catch (error) {\r\n      console.error('Failed to join interview:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: error.response?.data?.message || \"Failed to join interview\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleReschedule = async () => {\r\n    if (!newDateTime) {\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Please select a new date and time\",\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await rescheduleInterview(selectedInterview.id, {\r\n        newDateTime,\r\n        reason: 'Rescheduled by user'\r\n      });\r\n      \r\n      setRescheduleDialog(false);\r\n      setNewDateTime('');\r\n      \r\n      toast({\r\n        title: \"Success\",\r\n        description: \"Interview rescheduled successfully\",\r\n      });\r\n      \r\n      fetchInterviews();\r\n      if (selectedInterview) {\r\n        fetchInterviewDetails(selectedInterview.id);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to reschedule interview:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to reschedule interview\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleCancel = async () => {\r\n    if (!cancelReason.trim()) {\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Please provide a reason for cancellation\",\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await cancelInterview(selectedInterview.id, { reason: cancelReason });\r\n      \r\n      setCancelDialog(false);\r\n      setCancelReason('');\r\n      \r\n      toast({\r\n        title: \"Success\",\r\n        description: \"Interview cancelled successfully\",\r\n      });\r\n      \r\n      fetchInterviews();\r\n      if (selectedInterview) {\r\n        fetchInterviewDetails(selectedInterview.id);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to cancel interview:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to cancel interview\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const getStatusBadge = (status) => {\r\n    const badges = {\r\n      scheduled: { variant: 'default', icon: Calendar, label: 'Scheduled', className: 'bg-blue-100 text-blue-800' },\r\n      in_progress: { variant: 'default', icon: PlayCircle, label: 'In Progress', className: 'bg-yellow-100 text-yellow-800' },\r\n      completed: { variant: 'default', icon: CheckCircle, label: 'Completed', className: 'bg-green-100 text-green-800' },\r\n      cancelled: { variant: 'destructive', icon: XCircle, label: 'Cancelled', className: 'bg-red-100 text-red-800' },\r\n      rescheduled: { variant: 'default', icon: Edit, label: 'Rescheduled', className: 'bg-purple-100 text-purple-800' }\r\n    };\r\n\r\n    const config = badges[status] || badges.scheduled;\r\n    const Icon = config.icon;\r\n\r\n    return (\r\n      <Badge className={config.className}>\r\n        <Icon className=\"h-3 w-3 mr-1\" />\r\n        {config.label}\r\n      </Badge>\r\n    );\r\n  };\r\n\r\n  const filterInterviews = (status) => {\r\n    if (status === 'upcoming') {\r\n      return interviews.filter(interview => \r\n        ['scheduled', 'rescheduled'].includes(interview.status) &&\r\n        new Date(interview.scheduled_at) > new Date()\r\n      );\r\n    }\r\n    if (status === 'past') {\r\n      return interviews.filter(interview => \r\n        ['completed', 'cancelled'].includes(interview.status) ||\r\n        new Date(interview.scheduled_at) < new Date()\r\n      );\r\n    }\r\n    return interviews;\r\n  };\r\n\r\n  const canJoinInterview = (interview) => {\r\n    const now = new Date();\r\n    const scheduledTime = new Date(interview.scheduled_at);\r\n    const timeDiff = (scheduledTime.getTime() - now.getTime()) / (1000 * 60);\r\n    return timeDiff <= 15 && timeDiff >= -60 && interview.status === 'scheduled';\r\n  };\r\n\r\n  if (showVideoCall && selectedInterview) {\r\n    return (\r\n      <VideoCallInterface\r\n        interviewId={selectedInterview.id}\r\n        roomName={selectedInterview.roomName}\r\n        meetingLink={selectedInterview.meetingLink}\r\n        onCallEnd={() => {\r\n          setShowVideoCall(false);\r\n          fetchInterviews();\r\n        }}\r\n        interviewDetails={selectedInterview}\r\n      />\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-screen\">\r\n        <Loader2 className=\"h-12 w-12 animate-spin ${themeColors.iconBackgrounds.primary.split(' ')[1]}\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-6 px-4 max-w-7xl\">\r\n      {/* Header */}\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"`${themeColors.text.gradient} text-4xl font-bold  mb-2\">\r\n          {t('interviews.title') || 'Interviews'}\r\n        </h1>\r\n        <p className=\"text-muted-foreground\">\r\n          Manage and join your scheduled interviews\r\n        </p>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\r\n        <TabsList>\r\n          <TabsTrigger value=\"upcoming\">\r\n            Upcoming ({filterInterviews('upcoming').length})\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"past\">\r\n            Past ({filterInterviews('past').length})\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"all\">\r\n            All ({interviews.length})\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        {/* Upcoming Interviews */}\r\n        <TabsContent value=\"upcoming\" className=\"space-y-6\">\r\n          {filterInterviews('upcoming').length > 0 ? (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n              {filterInterviews('upcoming').map((interview) => (\r\n                <InterviewCard\r\n                  key={interview.id}\r\n                  interview={interview}\r\n                  user={user}\r\n                  canJoin={canJoinInterview(interview)}\r\n                  onJoin={handleJoinInterview}\r\n                  onReschedule={(int) => {\r\n                    setSelectedInterview(int);\r\n                    setRescheduleDialog(true);\r\n                  }}\r\n                  onCancel={(int) => {\r\n                    setSelectedInterview(int);\r\n                    setCancelDialog(true);\r\n                  }}\r\n                  getStatusBadge={getStatusBadge}\r\n                />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <Card className=\"text-center py-12\">\r\n              <CardContent>\r\n                <Calendar className=\"h-16 w-16 mx-auto text-muted-foreground mb-4\" />\r\n                <h3 className=\"text-xl font-semibold mb-2\">No upcoming interviews</h3>\r\n                <p className=\"text-muted-foreground\">\r\n                  Your scheduled interviews will appear here\r\n                </p>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n        </TabsContent>\r\n\r\n        {/* Past Interviews */}\r\n        <TabsContent value=\"past\" className=\"space-y-6\">\r\n          {filterInterviews('past').length > 0 ? (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n              {filterInterviews('past').map((interview) => (\r\n                <InterviewCard\r\n                  key={interview.id}\r\n                  interview={interview}\r\n                  user={user}\r\n                  canJoin={false}\r\n                  getStatusBadge={getStatusBadge}\r\n                />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <Card className=\"text-center py-12\">\r\n              <CardContent>\r\n                <Clock className=\"h-16 w-16 mx-auto text-muted-foreground mb-4\" />\r\n                <h3 className=\"text-xl font-semibold mb-2\">No past interviews</h3>\r\n                <p className=\"text-muted-foreground\">\r\n                  Completed and cancelled interviews will appear here\r\n                </p>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n        </TabsContent>\r\n\r\n        {/* All Interviews */}\r\n        <TabsContent value=\"all\" className=\"space-y-6\">\r\n          {interviews.length > 0 ? (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n              {interviews.map((interview) => (\r\n                <InterviewCard\r\n                  key={interview.id}\r\n                  interview={interview}\r\n                  user={user}\r\n                  canJoin={canJoinInterview(interview)}\r\n                  onJoin={handleJoinInterview}\r\n                  onReschedule={(int) => {\r\n                    setSelectedInterview(int);\r\n                    setRescheduleDialog(true);\r\n                  }}\r\n                  onCancel={(int) => {\r\n                    setSelectedInterview(int);\r\n                    setCancelDialog(true);\r\n                  }}\r\n                  getStatusBadge={getStatusBadge}\r\n                />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <Card className=\"text-center py-12\">\r\n              <CardContent>\r\n                <Video className=\"h-16 w-16 mx-auto text-muted-foreground mb-4\" />\r\n                <h3 className=\"text-xl font-semibold mb-2\">No interviews yet</h3>\r\n                <p className=\"text-muted-foreground\">\r\n                  Your interviews will appear here once scheduled\r\n                </p>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      {/* Reschedule Dialog */}\r\n      <Dialog open={rescheduleDialog} onOpenChange={setRescheduleDialog}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>Reschedule Interview</DialogTitle>\r\n            <DialogDescription>\r\n              Select a new date and time for the interview\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4 py-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"newDateTime\">New Date & Time</Label>\r\n              <Input\r\n                id=\"newDateTime\"\r\n                type=\"datetime-local\"\r\n                value={newDateTime}\r\n                onChange={(e) => setNewDateTime(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setRescheduleDialog(false)}>\r\n              Cancel\r\n            </Button>\r\n            <Button \r\n              onClick={handleReschedule}\r\n              className={`${themeColors.buttons.primary} text-white  hover:from-purple-700 hover:to-cyan-700`}\r\n            >\r\n              Reschedule\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Cancel Dialog */}\r\n      <Dialog open={cancelDialog} onOpenChange={setCancelDialog}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>Cancel Interview</DialogTitle>\r\n            <DialogDescription>\r\n              Please provide a reason for cancelling this interview\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4 py-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"cancelReason\">Reason for Cancellation</Label>\r\n              <Textarea\r\n                id=\"cancelReason\"\r\n                value={cancelReason}\r\n                onChange={(e) => setCancelReason(e.target.value)}\r\n                placeholder=\"Please explain why you need to cancel...\"\r\n                rows={4}\r\n              />\r\n            </div>\r\n          </div>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setCancelDialog(false)}>\r\n              Keep Interview\r\n            </Button>\r\n            <Button \r\n              variant=\"destructive\"\r\n              onClick={handleCancel}\r\n            >\r\n              Cancel Interview\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Interview Card Component\r\nfunction InterviewCard({ interview, user, canJoin, onJoin, onReschedule, onCancel, getStatusBadge }) {\r\n  return (\r\n    <Card className=\"hover:shadow-lg transition-all duration-200 border-l-4 border-l-purple-500\">\r\n      <CardHeader>\r\n        <div className=\"flex justify-between items-start mb-2\">\r\n          <div className=\"flex-grow\">\r\n            <CardTitle className=\"text-lg mb-1\">{interview.job?.title || 'Interview'}</CardTitle>\r\n            <CardDescription className=\"flex items-center gap-2\">\r\n              <User className=\"h-3 w-3\" />\r\n              {user?.role === 'employer' \r\n                ? interview.candidate?.displayName || interview.candidate?.fullName\r\n                : interview.employer?.companyName || interview.employer?.displayName}\r\n            </CardDescription>\r\n          </div>\r\n        </div>\r\n        {getStatusBadge(interview.status)}\r\n      </CardHeader>\r\n      \r\n      <CardContent className=\"space-y-4\">\r\n        {/* Date & Time */}\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex items-center gap-2 text-sm\">\r\n            <Calendar className=\"h-4 w-4 text-muted-foreground\" />\r\n            <span>{new Date(interview.scheduled_at).toLocaleDateString()}</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-2 text-sm\">\r\n            <Clock className=\"h-4 w-4 text-muted-foreground\" />\r\n            <span>{new Date(interview.scheduled_at).toLocaleTimeString()}</span>\r\n          </div>\r\n          {interview.location && (\r\n            <div className=\"flex items-center gap-2 text-sm\">\r\n              <MapPin className=\"h-4 w-4 text-muted-foreground\" />\r\n              <span>{interview.location}</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Action Buttons */}\r\n        <div className=\"space-y-2\">\r\n          {canJoin && (\r\n            <Button \r\n              className={`${themeColors.buttons.primary} text-white w-full  hover:from-purple-700 hover:to-cyan-700`}\r\n              onClick={() => onJoin(interview)}\r\n            >\r\n              <Video className=\"h-4 w-4 mr-2\" />\r\n              Join Interview\r\n            </Button>\r\n          )}\r\n          \r\n          {interview.status === 'scheduled' && !canJoin && (\r\n            <div className=\"flex gap-2\">\r\n              {onReschedule && (\r\n                <Button \r\n                  variant=\"outline\" \r\n                  className=\"flex-1\"\r\n                  onClick={() => onReschedule(interview)}\r\n                >\r\n                  <Edit className=\"h-4 w-4 mr-2\" />\r\n                  Reschedule\r\n                </Button>\r\n              )}\r\n              {onCancel && (\r\n                <Button \r\n                  variant=\"outline\" \r\n                  className=\"flex-1 text-red-600 hover:text-red-700 hover:bg-red-50\"\r\n                  onClick={() => onCancel(interview)}\r\n                >\r\n                  <XCircle className=\"h-4 w-4 mr-2\" />\r\n                  Cancel\r\n                </Button>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\InterviewPage_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 46,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 46,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                748,
                783
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'updateInterviewStatus' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 51,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 51,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "updateInterviewStatus"
            },
            "fix": {
              "range": [
                889,
                916
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'updateInterviewStatus'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'navigate' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 60,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 60,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "navigate"
            },
            "fix": {
              "range": [
                1140,
                1171
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'navigate'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 69,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 69,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "error"
            },
            "fix": {
              "range": [
                1456,
                1461
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'error'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'tabValue' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 70,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 70,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "tabValue"
            },
            "fix": {
              "range": [
                1501,
                1509
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'tabValue'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setTabValue' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 70,
        "column": 20,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 70,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setTabValue"
            },
            "fix": {
              "range": [
                1509,
                1522
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setTabValue'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'rescheduleDialog' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 72,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 72,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "rescheduleDialog"
            },
            "fix": {
              "range": [
                1611,
                1627
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'rescheduleDialog'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'cancelDialog' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 73,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 73,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "cancelDialog"
            },
            "fix": {
              "range": [
                1679,
                1691
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'cancelDialog'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'anchorEl' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 76,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 76,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "anchorEl"
            },
            "fix": {
              "range": [
                1851,
                1859
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'anchorEl'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setAnchorEl' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 76,
        "column": 20,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 76,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setAnchorEl"
            },
            "fix": {
              "range": [
                1859,
                1872
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setAnchorEl'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleReschedule' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 123,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 123,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleReschedule"
            },
            "fix": {
              "range": [
                3211,
                3723
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleReschedule'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleCancel' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 141,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 141,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleCancel"
            },
            "fix": {
              "range": [
                3729,
                4175
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleCancel'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'filterInterviews' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 178,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 178,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "filterInterviews"
            },
            "fix": {
              "range": [
                4852,
                5354
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'filterInterviews'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 13,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useTheme } from '@mui/material';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  Card,\r\n  CardContent,\r\n  Button,\r\n  Grid,\r\n  Chip,\r\n  Avatar,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Alert,\r\n  CircularProgress,\r\n  Tabs,\r\n  Tab,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemAvatar,\r\n  Divider,\r\n  IconButton,\r\n  Menu,\r\n  MenuItem\r\n} from '@mui/material';\r\nimport {\r\n  VideoCall,\r\n  Schedule,\r\n  Person,\r\n  Work,\r\n  AccessTime,\r\n  Event,\r\n  MoreVert,\r\n  Edit,\r\n  Cancel,\r\n  CheckCircle,\r\n  Pending\r\n} from '@mui/icons-material';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { \r\n  getUserInterviews, \r\n  getInterviewDetails, \r\n  updateInterviewStatus,\r\n  rescheduleInterview,\r\n  cancelInterview,\r\n  joinInterview\r\n} from '@/services/api';\r\nimport VideoCallInterface from '../components/VideoCallInterface';\r\n\r\nconst InterviewPage = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const { t } = useTranslation();\r\n  \r\n  const theme = useTheme();\r\n  \r\n  const [interviews, setInterviews] = useState([]);\r\n  const [selectedInterview, setSelectedInterview] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [tabValue, setTabValue] = useState(0);\r\n  const [showVideoCall, setShowVideoCall] = useState(false);\r\n  const [rescheduleDialog, setRescheduleDialog] = useState(false);\r\n  const [cancelDialog, setCancelDialog] = useState(false);\r\n  const [newDateTime, setNewDateTime] = useState('');\r\n  const [cancelReason, setCancelReason] = useState('');\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchInterviews();\r\n    if (id) {\r\n      fetchInterviewDetails(id);\r\n    }\r\n  }, [id]);\r\n\r\n  const fetchInterviews = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getUserInterviews();\r\n      setInterviews(response.data.interviews || []);\r\n    } catch (error) {\r\n      console.error('Failed to fetch interviews:', error);\r\n      setError('Failed to load interviews');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchInterviewDetails = async (interviewId) => {\r\n    try {\r\n      const response = await getInterviewDetails(interviewId);\r\n      setSelectedInterview(response.data.interview);\r\n    } catch (error) {\r\n      console.error('Failed to fetch interview details:', error);\r\n      setError('Failed to load interview details');\r\n    }\r\n  };\r\n\r\n  const handleJoinInterview = async (interview) => {\r\n    try {\r\n      const response = await joinInterview(interview.id);\r\n      setSelectedInterview({\r\n        ...interview,\r\n        meetingLink: response.data.meetingLink,\r\n        roomName: response.data.roomName\r\n      });\r\n      setShowVideoCall(true);\r\n    } catch (error) {\r\n      console.error('Failed to join interview:', error);\r\n      setError(error.response?.data?.message || 'Failed to join interview');\r\n    }\r\n  };\r\n\r\n  const handleReschedule = async () => {\r\n    try {\r\n      await rescheduleInterview(selectedInterview.id, {\r\n        newDateTime,\r\n        reason: 'Rescheduled by user'\r\n      });\r\n      setRescheduleDialog(false);\r\n      setNewDateTime('');\r\n      fetchInterviews();\r\n      if (selectedInterview) {\r\n        fetchInterviewDetails(selectedInterview.id);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to reschedule interview:', error);\r\n      setError('Failed to reschedule interview');\r\n    }\r\n  };\r\n\r\n  const handleCancel = async () => {\r\n    try {\r\n      await cancelInterview(selectedInterview.id, { reason: cancelReason });\r\n      setCancelDialog(false);\r\n      setCancelReason('');\r\n      fetchInterviews();\r\n      if (selectedInterview) {\r\n        fetchInterviewDetails(selectedInterview.id);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to cancel interview:', error);\r\n      setError('Failed to cancel interview');\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'scheduled': return 'primary';\r\n      case 'in_progress': return 'warning';\r\n      case 'completed': return 'success';\r\n      case 'cancelled': return 'error';\r\n      case 'rescheduled': return 'info';\r\n      default: return 'default';\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status) => {\r\n    switch (status) {\r\n      case 'scheduled': return <Schedule />;\r\n      case 'in_progress': return <VideoCall />;\r\n      case 'completed': return <CheckCircle />;\r\n      case 'cancelled': return <Cancel />;\r\n      case 'rescheduled': return <Edit />;\r\n      default: return <Pending />;\r\n    }\r\n  };\r\n\r\n  const filterInterviews = (status) => {\r\n    if (status === 'upcoming') {\r\n      return interviews.filter(interview => \r\n        ['scheduled', 'rescheduled'].includes(interview.status) &&\r\n        new Date(interview.scheduled_at) > new Date()\r\n      );\r\n    }\r\n    if (status === 'past') {\r\n      return interviews.filter(interview => \r\n        ['completed', 'cancelled'].includes(interview.status) ||\r\n        new Date(interview.scheduled_at) < new Date()\r\n      );\r\n    }\r\n    return interviews;\r\n  };\r\n\r\n  const canJoinInterview = (interview) => {\r\n    const now = new Date();\r\n    const scheduledTime = new Date(interview.scheduled_at);\r\n    const timeDiff = (scheduledTime.getTime() - now.getTime()) / (1000 * 60);\r\n    return timeDiff <= 15 && timeDiff >= -60 && interview.status === 'scheduled';\r\n  };\r\n\r\n  if (showVideoCall && selectedInterview) {\r\n    return (\r\n      <VideoCallInterface\r\n        interviewId={selectedInterview.id}\r\n        roomName={selectedInterview.roomName}\r\n        meetingLink={selectedInterview.meetingLink}\r\n        onCallEnd={() => {\r\n          setShowVideoCall(false);\r\n          fetchInterviews();\r\n        }}\r\n        interviewDetails={selectedInterview}\r\n      />\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"60vh\">\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        py: { xs: 2, md: 4 }, // Adjust padding for mobile\r\n        px: { xs: 2, md: 4 }, // Adjust padding for mobile\r\n        backgroundColor: theme.palette.background.default,\r\n      }}\r\n    >\r\n      <Container maxWidth=\"lg\">\r\n        <Typography\r\n          variant=\"h4\"\r\n          component=\"h1\"\r\n          sx={{\r\n            fontWeight: \"bold\",\r\n            mb: { xs: 2, md: 4 },\r\n            fontSize: { xs: \"1.5rem\", md: \"2rem\" }, // Adjust font size for mobile\r\n          }}\r\n        >\r\n          {t('interviews.title')}\r\n        </Typography>\r\n        <Grid container spacing={{ xs: 2, md: 4 }}>\r\n          {interviews.map((interview, index) => (\r\n            <Grid item xs={12} sm={6} md={4} key={index}>\r\n              <Card\r\n                sx={{\r\n                  p: { xs: 2, md: 3 },\r\n                  borderRadius: theme.shape.borderRadius,\r\n                  boxShadow: theme.shadows[3],\r\n                  \"&:hover\": {\r\n                    boxShadow: theme.shadows[6],\r\n                  },\r\n                }}\r\n              >\r\n                <CardContent>\r\n                  <Box mb={2}>\r\n                    <Typography variant=\"h6\" component=\"div\" fontWeight=\"medium\">\r\n                      {interview.job?.title}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      {user?.role === 'employer' \r\n                        ? interview.candidate?.displayName \r\n                        : interview.employer?.displayName}\r\n                    </Typography>\r\n                  </Box>\r\n\r\n                  <Box display=\"flex\" alignItems=\"center\" gap={2} mb={2}>\r\n                    <Box display=\"flex\" alignItems=\"center\" gap={0.5}>\r\n                      <Event fontSize=\"small\" />\r\n                      <Typography variant=\"body2\">\r\n                        {new Date(interview.scheduled_at).toLocaleDateString()}\r\n                      </Typography>\r\n                    </Box>\r\n                    <Box display=\"flex\" alignItems=\"center\" gap={0.5}>\r\n                      <AccessTime fontSize=\"small\" />\r\n                      <Typography variant=\"body2\">\r\n                        {new Date(interview.scheduled_at).toLocaleTimeString()}\r\n                      </Typography>\r\n                    </Box>\r\n                  </Box>\r\n\r\n                  <Box display=\"flex\" alignItems=\"center\" gap={2}>\r\n                    <Chip\r\n                      icon={getStatusIcon(interview.status)}\r\n                      label={interview.status.replace('_', ' ').toUpperCase()}\r\n                      color={getStatusColor(interview.status)}\r\n                      size=\"small\"\r\n                    />\r\n                    \r\n                    {canJoinInterview(interview) && (\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        startIcon={<VideoCall />}\r\n                        onClick={() => handleJoinInterview(interview)}\r\n                        size=\"small\"\r\n                      >\r\n                        Join Interview\r\n                      </Button>\r\n                    )}\r\n                  </Box>\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n      </Container>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default InterviewPage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\JobDetailsPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'themeColors' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 6,
        "column": 8,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 6,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "themeColors"
            },
            "fix": {
              "range": [
                280,
                292
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'themeColors'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getBadgeClass' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 6,
        "column": 39,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 6,
        "endColumn": 52,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "getBadgeClass"
            },
            "fix": {
              "range": [
                309,
                324
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'getBadgeClass'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getStatusClass' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 6,
        "column": 54,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 6,
        "endColumn": 68,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "getStatusClass"
            },
            "fix": {
              "range": [
                324,
                340
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'getStatusClass'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'showVideoInfo' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 33,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 33,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "showVideoInfo"
            },
            "fix": {
              "range": [
                1290,
                1303
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'showVideoInfo'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setShowVideoInfo' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 33,
        "column": 25,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 33,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setShowVideoInfo"
            },
            "fix": {
              "range": [
                1303,
                1321
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setShowVideoInfo'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'isHovering' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 39,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 39,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "isHovering"
            },
            "fix": {
              "range": [
                1580,
                1590
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'isHovering'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { getJobDetails } from '@/services/api';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useVideoContext } from '@/contexts/VideoContext';\r\nimport themeColors, { getButtonClass, getBadgeClass, getStatusClass } from '@/config/theme-colors-jobseeker';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport localize from '@/utils/localize';\r\nimport { Card } from '@/components/UI/card.jsx';\r\nimport {\r\n  BuildingOfficeIcon,\r\n  MapPinIcon,\r\n  PlayIcon,\r\n  PauseIcon,\r\n  SpeakerWaveIcon,\r\n  SpeakerXIcon,\r\n  DocumentTextIcon,\r\n  CalendarIcon,\r\n  ClockIcon,\r\n} from '@/components/icons/heroicons';\r\n\r\n// Note: This page intentionally uses Tailwind utility classes for layout and\r\n// uses shared color utility helpers from theme-colors-jobseeker for consistency.\r\n\r\nconst JobDetailsPage = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [job, setJob] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: \"\", severity: \"success\" });\r\n  const [showVideoInfo, setShowVideoInfo] = useState(false);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [isMuted, setIsMuted] = useState(true);\r\n  const { role } = useAuth();\r\n  const { videos: localVideos } = useVideoContext();\r\n  const videoRef = React.useRef(null);\r\n  const [isHovering, setIsHovering] = useState(false);\r\n  const [isMouseOverControls, setIsMouseOverControls] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchJobDetails = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await getJobDetails(id);\r\n        setJob(response.data.job);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error(\"Error fetching job details:\", err);\r\n        setError(\"Failed to load job details\");\r\n        setLoading(false);\r\n        setSnackbar({ open: true, message: \"Failed to load job details\", severity: \"error\" });\r\n      }\r\n    };\r\n\r\n    fetchJobDetails();\r\n  }, [id]);\r\n\r\n  const getDisplayVideo = () => {\r\n    // 1. Check for local videos first (uploading/processing)\r\n    const associatedLocalVideo = localVideos.find(v => v.job_id === id);\r\n    \r\n    if (associatedLocalVideo && \r\n        (associatedLocalVideo.status === 'uploading' || \r\n         associatedLocalVideo.status === 'processing' || \r\n         associatedLocalVideo.status === 'failed') && \r\n        associatedLocalVideo.video_url\r\n    ) {\r\n      return associatedLocalVideo;\r\n    }\r\n\r\n    // 2. Check for completed server video in job data\r\n    if (job?.video?.video_url && job.video.status === 'completed') {\r\n      return job.video;\r\n    }\r\n\r\n    // 3. Check if job has a video_id but no full video object\r\n    if (job?.video_id) {\r\n      return {\r\n        id: job.video_id,\r\n        status: job.video?.status || 'processing',\r\n        video_title: job.title ? `${job.title} Video` : 'Job Video',\r\n        submitted_at: job.video?.submitted_at || new Date().toISOString(),\r\n        video_url: null\r\n      };\r\n    }\r\n    \r\n    // 4. Check if there's a completed local video for this job\r\n    const completedLocalVideo = localVideos.find(v => \r\n      v.job_id === id && v.status === 'completed'\r\n    );\r\n    if (completedLocalVideo) {\r\n      return completedLocalVideo;\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  const displayVideo = getDisplayVideo();\r\n  const hasVideo = () => !!displayVideo;\r\n  const getVideoUrl = () => displayVideo?.video_url || null;\r\n\r\n  const togglePlayback = () => {\r\n    if (!videoRef.current) return;\r\n    if (isPlaying) {\r\n      videoRef.current.pause();\r\n    } else {\r\n      videoRef.current.play().catch(e => console.log(\"Play failed:\", e));\r\n    }\r\n    setIsPlaying(!isPlaying);\r\n  };\r\n\r\n  const toggleMute = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.muted = !isMuted;\r\n      setIsMuted(!isMuted);\r\n    }\r\n  };\r\n\r\n  const formatSalary = (amount) => {\r\n    if (!amount) return \"Not specified\";\r\n    return new Intl.NumberFormat(\"en-US\", {\r\n      style: \"currency\",\r\n      currency: \"USD\",\r\n      maximumFractionDigits: 0\r\n    }).format(amount);\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return \"Not specified\";\r\n    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n      year: \"numeric\",\r\n      month: \"long\",\r\n      day: \"numeric\"\r\n    });\r\n  };\r\n\r\n  const formatTime = (seconds) => {\r\n    if (!seconds) return \"00:00\";\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = Math.floor(seconds % 60);\r\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const renderVideoHero = () => {\r\n    if (!hasVideo()) return null;\r\n\r\n    const videoUrl = getVideoUrl();\r\n    const video = displayVideo;\r\n\r\n\r\n\r\nconst handleMouseEnterVideo = () => {\r\n  setIsHovering(true);\r\n  if (!isPlaying && !isMouseOverControls) {\r\n    videoRef.current?.play().catch(e => console.log(\"Play failed:\", e));\r\n  }\r\n};\r\n\r\nconst handleMouseLeaveVideo = () => {\r\n  setIsHovering(false);\r\n  if (isPlaying && !isMouseOverControls) {\r\n    videoRef.current?.pause();\r\n  }\r\n};\r\n\r\n\r\n\r\n    \r\n    return (\r\n      <div\r\n        className=\"w-full relative rounded-2xl overflow-hidden shadow-lg mb-6 bg-black\"\r\n        onClick={togglePlayback}\r\n        onMouseEnter={handleMouseEnterVideo}\r\n        onMouseLeave={handleMouseLeaveVideo}\r\n      >\r\n        {videoUrl ? (\r\n          <>\r\n            <video\r\n              ref={videoRef}\r\n              src={videoUrl}\r\n              controls={false}\r\n              autoPlay={isPlaying}\r\n              muted={isMuted}\r\n              loop\r\n              onEnded={() => setIsPlaying(false)}\r\n              onPlay={() => setIsPlaying(true)}\r\n              onPause={() => setIsPlaying(false)}\r\n              className=\"w-full h-[60vh] min-h-[400px] max-h-[800px] object-cover absolute inset-0\"\r\n            />\r\n\r\n            <div className=\"absolute left-0 right-0 bottom-0 p-4 bg-gradient-to-t from-black/90 to-transparent text-white z-10\">\r\n              <div className=\"mb-4\">\r\n                <h1 className=\"text-3xl font-bold mb-1\">{job?.title}</h1>\r\n                <div className=\"flex gap-4 text-sm text-white/80\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <BuildingOfficeIcon className=\"w-5 h-5 text-white/90\" />\r\n                      <span>{job?.employer?.company_name || job?.company || job?.companyName || job?.employerProfile?.company_name}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <MapPinIcon className=\"w-5 h-5 text-white/90\" />\r\n                      <span>{job?.location}</span>\r\n                    </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"absolute top-4 right-4 max-w-xs transition-all\">\r\n                <div className=\"text-sm\">{displayVideo.video_title || \"Video Title\"}</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"absolute left-0 right-0 bottom-0 flex items-center justify-between p-2 text-white/95 bg-black/20 z-20\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={(e) => { e.stopPropagation(); togglePlayback(); }}\r\n                className=\"p-2 rounded bg-white/10 hover:bg-white/20\"\r\n                aria-label={isPlaying ? 'Pause video' : 'Play video'}\r\n              >\r\n                {isPlaying ? <PauseIcon className=\"w-5 h-5\" /> : <PlayIcon className=\"w-5 h-5\" />}\r\n              </button>\r\n\r\n              <div className=\"text-xs\">\r\n                {videoRef.current ? formatTime(videoRef.current.currentTime) : '00:00'} / {videoRef.current ? formatTime(videoRef.current.duration) : '00:00'}\r\n              </div>\r\n\r\n              <button\r\n                type=\"button\"\r\n                onClick={(e) => { e.stopPropagation(); toggleMute(); }}\r\n                className=\"p-2 rounded bg-white/10 hover:bg-white/20\"\r\n                aria-label={isMuted ? 'Unmute' : 'Mute'}\r\n              >\r\n                {isMuted ? <SpeakerXIcon className=\"w-5 h-5\" /> : <SpeakerWaveIcon className=\"w-5 h-5\" />}\r\n              </button>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <div\r\n            onMouseEnter={() => setIsMouseOverControls(true)}\r\n            onMouseLeave={() => setIsMouseOverControls(false)}\r\n            className=\"w-full h-[60vh] min-h-[400px] max-h-[800px] flex flex-col items-center justify-center bg-gray-900 text-white p-6\"\r\n          >\r\n            {(video.status === 'uploading' || video.status === 'processing') && (\r\n              <>\r\n                <div className=\"loader mb-4\" />\r\n                <h3 className=\"text-xl\">{video.status === 'uploading' ? `Uploading: ${video.progress || 0}%` : 'Processing your video...'}</h3>\r\n                {video.status === 'uploading' && (\r\n                  <div className=\"w-4/5 bg-white/10 rounded-full mt-4 overflow-hidden\">\r\n                    <div className=\"h-2 bg-indigo-600\" style={{ width: `${video.progress || 0}%` }} />\r\n                  </div>\r\n                )}\r\n                <p className=\"mt-2 text-sm\">This may take a few moments...</p>\r\n              </>\r\n            )}\r\n\r\n            {video.status === 'failed' && (\r\n              <>\r\n                <div className=\"text-6xl mb-2\"><DocumentTextIcon className=\"w-12 h-12 text-yellow-400\" /></div>\r\n                <h3 className=\"text-xl\">Video upload failed</h3>\r\n                <p className=\"mt-1 text-sm\">Please check the videos page for details or try again</p>\r\n              </>\r\n            )}\r\n\r\n            {(!video.status || video.status === 'completed') && !videoUrl && (\r\n              <>\r\n                <div className=\"text-6xl mb-2\"><DocumentTextIcon className=\"w-12 h-12 text-slate-300\" /></div>\r\n                <h3 className=\"text-xl\">Video content not available</h3>\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {(video.status === 'processing' || video.status === 'failed') && (\r\n          <div className={`absolute inset-0 rounded border-4 ${video.status === 'processing' ? 'border-indigo-700' : 'border-red-600'} pointer-events-none`} />\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen pt-16 pb-16\">\r\n        <div className=\"max-w-5xl mx-auto\">\r\n          <div className=\"flex justify-center my-8\">\r\n            <div className=\"loader\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !job) {\r\n    return (\r\n      <div className=\"min-h-screen pt-16 pb-16\">\r\n        <div className=\"max-w-5xl mx-auto\">\r\n          <div className=\"bg-red-50 border border-red-200 text-red-700 p-4 rounded mb-4\">{error || \"Job not found\"}</div>\r\n          <button\r\n            className={`px-4 py-2 rounded ${getButtonClass('outline')}`}\r\n            onClick={() => navigate(\"/jobs-Listing-Page\")}\r\n          >\r\n            Back to Jobs\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen pt-12 pb-12\">\r\n      <div className=\"max-w-5xl mx-auto\">\r\n          <div className=\"mb-4\">\r\n            <Button variant=\"outline\" onClick={() => navigate('/jobs-Listing-Page')}>Back to Jobs</Button>\r\n          </div>\r\n\r\n        {hasVideo() && renderVideoHero()}\r\n\r\n        <Card className=\"bg-white rounded-2xl shadow-md p-6 mb-6\">\r\n          <div className=\"flex items-start gap-4\">\r\n            <div className=\"w-16 h-16 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 text-2xl\"><DocumentTextIcon className=\"w-8 h-8 text-indigo-600\" /></div>\r\n            <div className=\"flex-1\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <div className=\"text-sm text-slate-500\">Job:</div>\r\n                  <h2 className=\"text-2xl font-bold\">{job.title}</h2>\r\n                  <div className=\"flex gap-4 mt-2 text-sm text-slate-600\">\r\n                    <div>Posted: {formatDate(job.posted_at)}</div>\r\n                    {job.deadline && <div>Expires: {formatDate(job.deadline)}</div>}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <Button variant=\"outline\" size=\"sm\" onClick={() => navigate(`/employer-profile/${job.employer?.id || job.employerProfile?.id || job.employerProfileId}`)}>\r\n                    About {job.employer?.company_name || job.company || job.companyName || job.employerProfile?.company_name}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6\">\r\n            <div>\r\n              <div className=\"mb-4\">\r\n                <div className=\"text-sm text-slate-500\">Location</div>\r\n                <div className=\"text-base\">{job.location} {job.remote_ok ? \"(Remote OK)\" : \"\"}</div>\r\n              </div>\r\n\r\n              <div className=\"mb-4\">\r\n                <div className=\"text-sm text-slate-500\">Salary Range</div>\r\n                <div className=\"text-base\">{(job.salary_min || job.salary_max || job.salaryMin || job.salaryMax) ? `${formatSalary(job.salaryMin || job.salary_min)} - ${formatSalary(job.salaryMax || job.salary_max)}` : 'Not specified'}</div>\r\n              </div>\r\n\r\n              <div className=\"mb-4\">\r\n                <div className=\"text-sm text-slate-500\">Employment Type</div>\r\n                <div className=\"text-base\">{job.employment_type ? job.employment_type.replace('-', ' ').toUpperCase() : 'Not specified'}</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <div className=\"mb-4\">\r\n                <div className=\"text-sm text-slate-500\">Experience Level</div>\r\n                <div className=\"text-base\">{job.experience_level ? job.experience_level : 'Not specified'}</div>\r\n              </div>\r\n\r\n              <div className=\"mb-4\">\r\n                <div className=\"text-sm text-slate-500\">Education Level</div>\r\n                <div className=\"text-base\">{job.education_level ? job.education_level : 'Not specified'}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mt-6\">\r\n            <div className=\"text-sm text-slate-500 mb-2\">Job Description</div>\r\n            <div className=\"whitespace-pre-line text-base text-slate-800\">{job.description}</div>\r\n          </div>\r\n\r\n          {job.requirements && job.requirements.length > 0 && (\r\n            <div className=\"mt-6\">\r\n              <div className=\"text-sm text-slate-500 mb-2\">Requirements</div>\r\n              <ul className=\"list-disc pl-6\">\r\n                {job.requirements.map((req, i) => <li key={i} className=\"mb-1\">{req}</li>)}\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          {job.responsibilities && job.responsibilities.length > 0 && (\r\n            <div className=\"mt-6\">\r\n              <div className=\"text-sm text-slate-500 mb-2\">Responsibilities</div>\r\n              <ul className=\"list-disc pl-6\">\r\n                {job.responsibilities.map((r, i) => <li key={i} className=\"mb-1\">{r}</li>)}\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          {job.skills && job.skills.length > 0 && (\r\n            <div className=\"mt-6\">\r\n              <div className=\"text-sm text-slate-500 mb-2\">Required Skills</div>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {job.skills.map(s => (\r\n                  <Badge key={s.id} variant=\"outline\" className=\"px-2 py-1\">{localize(s.name)}</Badge>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {job.categories && job.categories.length > 0 && (\r\n            <div className=\"mt-6\">\r\n              <div className=\"text-sm text-slate-500 mb-2\">Categories</div>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {job.categories.map(c => (<Badge key={c.id} variant=\"secondary\" className=\"px-2 py-1\">{localize(c.name)}</Badge>))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {role === 'job_seeker' && (\r\n            <div className=\"flex justify-center mt-6\">\r\n              <Button variant=\"default\" size=\"lg\" onClick={() => navigate(`/apply/${job.id}`)} className=\"rounded-full px-8\">Apply Now</Button>\r\n            </div>\r\n          )}\r\n        </Card>\r\n      </div>\r\n\r\n      {snackbar.open && (\r\n        <div className={`fixed top-6 right-6 p-3 rounded ${snackbar.severity === 'error' ? 'bg-red-50 border border-red-200 text-red-800' : 'bg-green-50 border border-green-200 text-green-800'}`}>\r\n          {snackbar.message}\r\n          <button className=\"ml-3 font-bold\" onClick={() => setSnackbar({ ...snackbar, open: false })}>Ã—</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JobDetailsPage;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\JobPostingForm.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\JobSearchPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setIndustry' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 43,
        "column": 20,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 43,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setIndustry"
            },
            "fix": {
              "range": [
                1828,
                1841
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setIndustry'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'filterOptions' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 49,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 49,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "filterOptions"
            },
            "fix": {
              "range": [
                2100,
                2113
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'filterOptions'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchJobs'. Either include it or remove the dependency array.",
        "line": 65,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 65,
        "endColumn": 8,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchJobs]",
            "fix": {
              "range": [
                2786,
                2788
              ],
              "text": "[fetchJobs]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleJobTypeChange' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 76,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 76,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleJobTypeChange"
            },
            "fix": {
              "range": [
                3040,
                3241
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleJobTypeChange'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { searchJobs, applyToJob, getFilterOptions, saveVideo, unsaveVideo } from '@/services/api';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/UI/card.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Input } from '@/components/UI/input.jsx';\r\nimport { Label } from '@/components/UI/label.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/UI/avatar.jsx';\r\nimport { Alert, AlertDescription } from '@/components/UI/alert.jsx';\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/UI/dialog.jsx';\r\nimport { Textarea } from '@/components/UI/textarea.jsx';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/UI/select.jsx';\r\nimport { Checkbox } from '@/components/UI/checkbox.jsx';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport {\r\n  Search,\r\n  MapPin,\r\n  Briefcase,\r\n  DollarSign,\r\n  Clock,\r\n  Building2,\r\n  CheckCircle,\r\n  Bookmark,\r\n  BookmarkCheck,\r\n  Share2,\r\n  Loader2,\r\n  AlertCircle,\r\n  PlayCircle\r\n} from 'lucide-react';\r\nimport themeColors from '@/config/theme-colors-jobseeker';\r\nimport localize from '../utils/localize';\r\n\r\nexport default function JobSearchPage() {\r\n  const { user } = useAuth();\r\n  const { toast } = useToast();\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [location, setLocation] = useState(\"\");\r\n  const [minSalary, setMinSalary] = useState(\"\");\r\n  const [maxSalary, setMaxSalary] = useState(\"\");\r\n  const [jobTypes, setJobTypes] = useState([]);\r\n  const [experienceLevel, setExperienceLevel] = useState(\"any\");\r\n  const [industry, setIndustry] = useState(\"any\");\r\n  const [jobs, setJobs] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [page, setPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [filterOptions, setFilterOptions] = useState({});\r\n  const [applyDialog, setApplyDialog] = useState({ open: false, job: null });\r\n  const [applicationMessage, setApplicationMessage] = useState(\"\");\r\n  const [savedJobs, setSavedJobs] = useState(new Set());\r\n\r\n  const jobTypeOptions = [\"Full-Time\", \"Part-Time\", \"Contract\", \"Freelance\", \"Internship\"];\r\n  const experienceLevelOptions = [\r\n    { value: \"any\", label: \"Any Experience\" },\r\n    { value: \"entry\", label: \"Entry Level (0-2 years)\" },\r\n    { value: \"mid\", label: \"Mid Level (3-5 years)\" },\r\n    { value: \"senior\", label: \"Senior Level (6+ years)\" }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    loadFilterOptions();\r\n    fetchJobs();\r\n  }, []);\r\n\r\n  const loadFilterOptions = async () => {\r\n    try {\r\n      const response = await getFilterOptions();\r\n      setFilterOptions(response.data);\r\n    } catch (error) {\r\n      console.error('Error loading filter options:', error);\r\n    }\r\n  };\r\n\r\n  const handleJobTypeChange = (event) => {\r\n    const { value, checked } = event.target;\r\n    setJobTypes((prev) =>\r\n      checked ? [...prev, value] : prev.filter((type) => type !== value)\r\n    );\r\n  };\r\n\r\n  const fetchJobs = async (currentPage = 1) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const searchParams = {\r\n        q: searchTerm,\r\n        location: location || undefined,\r\n        minSalary: minSalary || undefined,\r\n        maxSalary: maxSalary || undefined,\r\n        jobTypes: jobTypes.length > 0 ? jobTypes : undefined,\r\n        experienceLevel: experienceLevel === \"any\" ? undefined : experienceLevel,\r\n        industry: industry === \"any\" ? undefined : industry,\r\n        page: currentPage,\r\n        limit: 12\r\n      };\r\n\r\n      const response = await searchJobs(searchParams);\r\n      setJobs(response.data.jobs || []);\r\n      setTotalPages(response.data.totalPages || 1);\r\n      setPage(currentPage);\r\n    } catch (error) {\r\n      console.error('Error fetching jobs:', error);\r\n      setError('Failed to fetch jobs. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    setPage(1);\r\n    fetchJobs(1);\r\n  };\r\n\r\n  const handlePageChange = (event, newPage) => {\r\n    fetchJobs(newPage);\r\n  };\r\n\r\n  const handleApply = (job) => {\r\n    setApplyDialog({ open: true, job });\r\n    setApplicationMessage(`Dear Hiring Manager,\\n\\nI am very interested in the ${localize(job.title)} position at ${localize(job.company)}. I believe my skills and experience make me a great fit for this role.\\n\\nBest regards,\\n${user?.firstName} ${user?.lastName}`);\r\n  };\r\n\r\n  const handleSendApplication = async () => {\r\n    try {\r\n      await applyToJob(applyDialog.job.id, { message: applicationMessage });\r\n      toast({\r\n        title: \"Success!\",\r\n        description: \"Application sent successfully!\",\r\n      });\r\n      setApplyDialog({ open: false, job: null });\r\n      setApplicationMessage(\"\");\r\n    } catch (error) {\r\n      console.error('Error sending application:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to send application. Please try again.\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSaveJob = async (jobId) => {\r\n    try {\r\n      if (savedJobs.has(jobId)) {\r\n        await unsaveVideo(jobId);\r\n        setSavedJobs(prev => {\r\n          const newSet = new Set(prev);\r\n          newSet.delete(jobId);\r\n          return newSet;\r\n        });\r\n        toast({\r\n          description: \"Job removed from saved list\",\r\n        });\r\n      } else {\r\n        await saveVideo(jobId);\r\n        setSavedJobs(prev => new Set(prev).add(jobId));\r\n        toast({\r\n          title: \"Saved!\",\r\n          description: \"Job saved successfully!\",\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error saving/unsaving job:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to save job. Please try again.\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const JobCard = ({ job }) => (\r\n    <Card className=\"h-full flex flex-col hover:shadow-lg transition-all duration-200 border-l-4 border-l-cyan-500\">\r\n      <CardContent className=\"flex-grow p-6\">\r\n        <div className=\"flex justify-between items-start mb-4\">\r\n          <div className=\"flex items-center gap-3 flex-grow\">\r\n            <Avatar className=\"h-12 w-12 cursor-pointer\" onClick={() => job.companyVideoId && window.open(`/company-video/${job.companyVideoId}`, '_blank')}>\r\n              <AvatarImage src={job.companyLogo} />\r\n              <AvatarFallback className=\"bg-gradient-to-br from-purple-500 to-cyan-500 text-white\">\r\n                {job.company?.[0]}\r\n              </AvatarFallback>\r\n            </Avatar>\r\n            <div className=\"flex-grow min-w-0\">\r\n              <h3 className=\"font-bold text-lg truncate\">{localize(job.title)}</h3>\r\n              <p \r\n                className={`text-sm text-muted-foreground ${job.companyVideoId ? `cursor-pointer hover:${themeColors.iconBackgrounds.primary.split(' ')[1]}` : ''} flex items-center gap-1`}\r\n                onClick={() => job.companyVideoId && window.open(`/company-video/${job.companyVideoId}`, '_blank')}\r\n              >\r\n                {localize(job.company)}\r\n                {job.companyVideoId && (\r\n                  <Badge variant=\"outline\" className=\"ml-1 text-xs h-5\">\r\n                    <PlayCircle className=\"h-3 w-3 mr-1\" />\r\n                    Video\r\n                  </Badge>\r\n                )}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            onClick={() => handleSaveJob(job.id)}\r\n            className=\"shrink-0\"\r\n          >\r\n            {savedJobs.has(job.id) ? (\r\n              <BookmarkCheck className={`h-5 w-5 ${themeColors.iconBackgrounds.primary.split(' ')[1]} fill-current`} />\r\n            ) : (\r\n              <Bookmark className=\"h-5 w-5\" />\r\n            )}\r\n          </Button>\r\n        </div>\r\n\r\n            {job.description && (\r\n          <p className=\"text-sm text-muted-foreground mb-4 line-clamp-3\">\r\n            {localize(job.description)}\r\n          </p>\r\n        )}\r\n\r\n        <div className=\"space-y-2 mb-4\">\r\n              {job.location && (\r\n            <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n              <MapPin className=\"h-4 w-4\" />\r\n              <span>{localize(job.location)}</span>\r\n            </div>\r\n          )}\r\n\r\n          {job.employment_type && (\r\n            <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n              <Clock className=\"h-4 w-4\" />\r\n              <span>{localize(job.employment_type)}</span>\r\n            </div>\r\n          )}\r\n\r\n          {job.experience_level && (\r\n            <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n              <Briefcase className=\"h-4 w-4\" />\r\n              <span>{localize(job.experience_level)} level</span>\r\n            </div>\r\n          )}\r\n\r\n          {(job.salary_min || job.salary_max) && (\r\n            <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n              <DollarSign className=\"h-4 w-4\" />\r\n              <span>\r\n                {job.salary_min && job.salary_max \r\n                  ? `$${job.salary_min.toLocaleString()} - $${job.salary_max.toLocaleString()}`\r\n                  : job.salary_min \r\n                    ? `From $${job.salary_min.toLocaleString()}`\r\n                    : `Up to $${job.salary_max.toLocaleString()}`\r\n                }\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {job.skills && job.skills.length > 0 && (\r\n          <div className=\"mb-4\">\r\n            <p className=\"text-sm font-medium mb-2\">Required Skills:</p>\r\n            <div className=\"flex flex-wrap gap-1\">\r\n              {job.skills.slice(0, 4).map((skill, index) => (\r\n                <Badge key={index} variant=\"outline\" className=\"text-xs\">\r\n                  {localize(skill.name || skill)}\r\n                </Badge>\r\n              ))}\r\n              {job.skills.length > 4 && (\r\n                <Badge variant=\"outline\" className=\"text-xs\">\r\n                  +{job.skills.length - 4} more\r\n                </Badge>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"flex gap-2 mt-auto\">\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            className=\"flex-1\"\r\n            onClick={() => window.open(`/job/${job.id}`, '_blank')}\r\n          >\r\n            View Details\r\n          </Button>\r\n          <Button\r\n            variant=\"default\"\r\n            size=\"sm\"\r\n            className={`${themeColors.buttons.primary} text-white flex-1 `}\r\n            onClick={() => handleApply(job)}\r\n          >\r\n            <CheckCircle className=\"h-4 w-4 mr-1\" />\r\n            Apply Now\r\n          </Button>\r\n        </div>\r\n\r\n        {job.posted_at && (\r\n          <p className=\"text-xs text-muted-foreground mt-3 text-center\">\r\n            Posted {new Date(job.posted_at).toLocaleDateString()}\r\n          </p>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-6 px-4 max-w-7xl\">\r\n      <h1 className={`${themeColors.text.gradient} text-4xl font-bold mb-6 `}>\r\n        Find Your Dream Job\r\n      </h1>\r\n\r\n      {/* Search Filters */}\r\n      <Card className=\"mb-6\">\r\n        <CardContent className=\"p-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-6 gap-4\">\r\n            <div className=\"md:col-span-2\">\r\n              <Label htmlFor=\"search\">Search jobs</Label>\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n                <Input\r\n                  id=\"search\"\r\n                  placeholder=\"Job title, company, keywords...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  className=\"pl-9\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"location\">Location</Label>\r\n              <Input\r\n                id=\"location\"\r\n                placeholder=\"City, State, Country\"\r\n                value={location}\r\n                onChange={(e) => setLocation(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"experience\">Experience Level</Label>\r\n              <Select value={experienceLevel} onValueChange={setExperienceLevel}>\r\n                <SelectTrigger id=\"experience\">\r\n                  <SelectValue placeholder=\"Any Experience\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {experienceLevelOptions.map((option) => (\r\n                    <SelectItem key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"minSalary\">Min Salary</Label>\r\n              <Input\r\n                id=\"minSalary\"\r\n                type=\"number\"\r\n                placeholder=\"50000\"\r\n                value={minSalary}\r\n                onChange={(e) => setMinSalary(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"maxSalary\">Max Salary</Label>\r\n              <Input\r\n                id=\"maxSalary\"\r\n                type=\"number\"\r\n                placeholder=\"100000\"\r\n                value={maxSalary}\r\n                onChange={(e) => setMaxSalary(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Job Type Filters */}\r\n          <div className=\"mt-6\">\r\n            <Label className=\"text-base font-semibold mb-3 block\">Job Type:</Label>\r\n            <div className=\"flex flex-wrap gap-4\">\r\n              {jobTypeOptions.map((type) => (\r\n                <div key={type} className=\"flex items-center space-x-2\">\r\n                  <Checkbox\r\n                    id={type}\r\n                    checked={jobTypes.includes(type)}\r\n                    onCheckedChange={(checked) => {\r\n                      setJobTypes(prev =>\r\n                        checked ? [...prev, type] : prev.filter(t => t !== type)\r\n                      );\r\n                    }}\r\n                  />\r\n                  <Label htmlFor={type} className=\"cursor-pointer\">\r\n                    {type}\r\n                  </Label>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mt-6\">\r\n            <Button\r\n              onClick={handleSearch}\r\n              disabled={loading}\r\n              className={`${themeColors.buttons.primary} text-white `}\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                  Searching...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Search className=\"mr-2 h-4 w-4\" />\r\n                  Search Jobs\r\n                </>\r\n              )}\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Error Alert */}\r\n      {error && (\r\n        <Alert variant=\"destructive\" className=\"mb-6\">\r\n          <AlertCircle className=\"h-4 w-4\" />\r\n          <AlertDescription>{error}</AlertDescription>\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Results */}\r\n      {loading ? (\r\n        <div className=\"flex justify-center py-12\">\r\n          <Loader2 className={`h-12 w-12 animate-spin ${themeColors.iconBackgrounds.primary.split(' ')[1]}`} />\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <h2 className=\"text-2xl font-semibold mb-4\">\r\n            {jobs.length > 0 \r\n              ? `Found ${jobs.length} jobs` \r\n              : 'No jobs found'\r\n            }\r\n          </h2>\r\n\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {jobs.map((job) => (\r\n              <JobCard key={job.id} job={job} />\r\n            ))}\r\n          </div>\r\n\r\n          {/* Pagination */}\r\n          {totalPages > 1 && (\r\n            <div className=\"flex justify-center gap-2 mt-8\">\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => handlePageChange(null, page - 1)}\r\n                disabled={page === 1}\r\n              >\r\n                Previous\r\n              </Button>\r\n              <span className=\"flex items-center px-4 text-sm text-muted-foreground\">\r\n                Page {page} of {totalPages}\r\n              </span>\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => handlePageChange(null, page + 1)}\r\n                disabled={page === totalPages}\r\n              >\r\n                Next\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* Apply Dialog */}\r\n      <Dialog \r\n        open={applyDialog.open} \r\n        onOpenChange={(open) => !open && setApplyDialog({ open: false, job: null })}\r\n      >\r\n        <DialogContent className=\"sm:max-w-[600px]\">\r\n          <DialogHeader>\r\n            <DialogTitle>\r\n              Apply for {applyDialog.job?.title} at {applyDialog.job?.company}\r\n            </DialogTitle>\r\n            <DialogDescription>\r\n              Submit your application with a personalized cover letter.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <div className=\"py-4\">\r\n            <Label htmlFor=\"coverLetter\">Cover Letter</Label>\r\n            <Textarea\r\n              id=\"coverLetter\"\r\n              placeholder=\"Write your cover letter...\"\r\n              value={applicationMessage}\r\n              onChange={(e) => setApplicationMessage(e.target.value)}\r\n              rows={8}\r\n              className=\"mt-2\"\r\n            />\r\n          </div>\r\n          <DialogFooter>\r\n            <Button \r\n              variant=\"outline\" \r\n              onClick={() => setApplyDialog({ open: false, job: null })}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button \r\n              onClick={handleSendApplication}\r\n              disabled={!applicationMessage.trim()}\r\n              className={`${themeColors.buttons.primary} text-white `}\r\n            >\r\n              Send Application\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\JobSeekerDashboard.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useAuth' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 7,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 7,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useAuth"
            },
            "fix": {
              "range": [
                251,
                300
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useAuth'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'createSkill' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 9,
        "column": 70,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 9,
        "endColumn": 81,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "createSkill"
            },
            "fix": {
              "range": [
                489,
                502
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'createSkill'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 88,
        "column": 22,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 88,
        "endColumn": 23
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 116,
        "column": 30,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 116,
        "endColumn": 33
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'logErr' is defined but never used.",
        "line": 145,
        "column": 26,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 145,
        "endColumn": 32
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'toast'. Either include it or remove the dependency array.",
        "line": 159,
        "column": 8,
        "nodeType": "ArrayExpression",
        "endLine": 159,
        "endColumn": 10,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [toast]",
            "fix": {
              "range": [
                7717,
                7719
              ],
              "text": "[toast]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 647,
        "column": 58,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 647,
        "endColumn": 59
      }
    ],
    "suppressedMessages": [],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n    Eye, ThumbsUp, Briefcase, MessageSquare, Bell, TrendingUp,\r\n    PlayCircle, Plus, ArrowRight, MapPin, Loader2\r\n} from 'lucide-react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { getJobSeekerDashboardStats, getRecentActivities, getJobRecommendations } from '../services/dashboardService';\r\nimport { getSwipeStats, getVideoEngagement, addUserSkill, getSkills, createSkill } from '@/services/api';\r\nimport { Line, Bar, Doughnut } from 'react-chartjs-2';\r\nimport {\r\n    Chart as ChartJS,\r\n    CategoryScale,\r\n    LinearScale,\r\n    PointElement, \r\n    LineElement,\r\n    BarElement,\r\n    ArcElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend,\r\n} from 'chart.js';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/UI/card.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/UI/avatar.jsx';\r\nimport { Progress } from '@/components/UI/progress.jsx';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter, DialogDescription } from '@/components/UI/dialog.jsx';\r\nimport { Input } from '@/components/UI/input.jsx';\r\nimport { Label } from '@/components/UI/label.jsx';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/UI/select.jsx';\r\nimport { useToast } from '@/hooks/use-toast';\r\n\r\n// Register ChartJS components\r\nChartJS.register(\r\n    CategoryScale,\r\n    LinearScale,\r\n    PointElement,\r\n    LineElement,\r\n    BarElement,\r\n    ArcElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend\r\n);\r\n\r\nconst JobSeekerDashboard = () => {\r\n  // const { user } = useAuth(); // Removed: unused variable\r\n    const navigate = useNavigate();\r\n    const { toast } = useToast();\r\n    const [stats, setStats] = useState(null);\r\n    const [activities, setActivities] = useState([]);\r\n    const [recommendations, setRecommendations] = useState([]);\r\n    const [swipeStats, setSwipeStats] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [openAddSkillDialog, setOpenAddSkillDialog] = useState(false);\r\n    const [viewAllOpen, setViewAllOpen] = useState(false);\r\n    const [viewAllPage, setViewAllPage] = useState(1);\r\n    const itemsPerPage = 6;\r\n    const [newSkillName, setNewSkillName] = useState(\"\");\r\n    const [newSkillLevel, setNewSkillLevel] = useState(\"Intermediate\");\r\n    const [newSkillYears, setNewSkillYears] = useState(0);\r\n    const [addingSkill, setAddingSkill] = useState(false);\r\n    const [skillsList, setSkillsList] = useState([]);\r\n    const [skillCategories, setSkillCategories] = useState([]);\r\n    const [selectedCategory, setSelectedCategory] = useState(null);\r\n    const [skillSearchLoading, setSkillSearchLoading] = useState(false);\r\n    const [selectedSkillId, setSelectedSkillId] = useState(null);\r\n\r\n    // Helper to safely get a localized string from value that may be a string or an object\r\n    const localize = (val, preferred = 'en') => {\r\n        if (val == null) return '';\r\n        if (typeof val === 'string') return val;\r\n        if (typeof val === 'number') return String(val);\r\n        if (typeof val === 'object') {\r\n            try {\r\n                if (preferred && val[preferred]) return val[preferred];\r\n                // try navigator language if available\r\n                if (typeof navigator !== 'undefined') {\r\n                    const lang = (navigator.language || navigator.userLanguage || '').split('-')[0];\r\n                    if (lang && val[lang]) return val[lang];\r\n                }\r\n                // fallback to first string value\r\n                for (const k of Object.keys(val)) {\r\n                    if (typeof val[k] === 'string') return val[k];\r\n                }\r\n                return JSON.stringify(val);\r\n            } catch (e) {\r\n                return String(val);\r\n            }\r\n        }\r\n        return String(val);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchDashboardData = async () => {\r\n            try {\r\n                setLoading(true);\r\n\r\n                // Fetch dashboard statistics\r\n                const statsResponse = await getJobSeekerDashboardStats();\r\n                const statsPayload = statsResponse?.stats ?? statsResponse?.data ?? statsResponse;\r\n                setStats(statsPayload || {});\r\n\r\n                // Fetch video engagement stats\r\n                try {\r\n                    const videoEngResp = await getVideoEngagement();\r\n                    const videoEngPayload = videoEngResp?.data?.stats ?? videoEngResp?.stats ?? videoEngResp?.data ?? videoEngResp;\r\n                    setSwipeStats({ videoEngagement: videoEngPayload?.stats ? videoEngPayload.stats : videoEngPayload });\r\n                } catch (e) {\r\n                    console.warn('Failed to fetch video engagement stats:', e);\r\n                    try {\r\n                        const swipeResp = await getSwipeStats();\r\n                        const swipePayload = swipeResp?.stats ?? swipeResp?.data ?? swipeResp;\r\n                        setSwipeStats(swipePayload || null);\r\n                    } catch (err) {\r\n                        setSwipeStats(null);\r\n                    }\r\n                }\r\n\r\n                // Fetch recent activities\r\n                const activitiesResponse = await getRecentActivities('jobseeker');\r\n                const activitiesPayload = activitiesResponse?.activities ?? activitiesResponse?.data ?? activitiesResponse;\r\n                const rawActivities = Array.isArray(activitiesPayload) ? activitiesPayload : (activitiesPayload?.activities || []);\r\n                const normalized = rawActivities.map(a => ({\r\n                    type: a.type || a.event_type || a.action || a.activityType || 'activity',\r\n                    title: a.title || a.message || a.description || a.action || (a.type ? `${a.type} event` : 'Activity'),\r\n                    time: a.time || a.created_at || a.date || a.timestamp || ''\r\n                }));\r\n                setActivities(normalized);\r\n\r\n                // Fetch job recommendations\r\n                const recommendationsResponse = await getJobRecommendations();\r\n                const recsPayload = recommendationsResponse?.recommendations ?? recommendationsResponse?.data ?? recommendationsResponse;\r\n                setRecommendations(Array.isArray(recsPayload) ? recsPayload : (recsPayload?.recommendations || []));\r\n            } catch (error) {\r\n                // Improved logging for Axios and other errors\r\n                try {\r\n                    // Prefer structured server message when available\r\n                    const serverData = error?.response?.data ?? error;\r\n                    const serverMsg = serverData?.error || serverData?.message || (typeof serverData === 'string' ? serverData : null);\r\n                    const msg = serverMsg ? serverMsg : (error?.message || String(error));\r\n                    console.error('Error fetching dashboard data:', serverData);\r\n                    toast({ description: `Failed to load dashboard: ${msg}`, variant: 'destructive' });\r\n                } catch (logErr) {\r\n                    console.error('Error fetching dashboard data:', error);\r\n                    toast({ description: `Failed to load dashboard`, variant: 'destructive' });\r\n                }\r\n                // provide safe defaults\r\n                setStats({});\r\n                setActivities([]);\r\n                setRecommendations([]);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchDashboardData();\r\n    }, []);\r\n\r\n    // Activity chart data\r\n    const activityLabels = stats?.profile_views_chart?.labels\r\n        ?? stats?.profileViewsChart?.labels\r\n        ?? (stats?.profile_views_daily?.map(d => d.date))\r\n        ?? ['Week 1','Week 2','Week 3','Week 4'];\r\n\r\n    const activityData = stats?.profile_views_chart?.data\r\n        ?? stats?.profileViewsChart?.data\r\n        ?? (stats?.profile_views_daily?.map(d => d.views))\r\n        ?? (Array.isArray(stats?.profile_views) ? stats.profile_views : null)\r\n        ?? [12,19,15,25,22,30];\r\n\r\n    const activityChartData = {\r\n        labels: activityLabels,\r\n        datasets: [\r\n            {\r\n                label: 'Profile Views',\r\n                data: activityData,\r\n                borderColor: '#06b6d4',\r\n                backgroundColor: 'rgba(6, 182, 212, 0.1)',\r\n                tension: 0.4,\r\n            }\r\n        ]\r\n    };\r\n\r\n    // Job Engagement chart data\r\n    const videoEng = swipeStats?.videoEngagement ?? stats?.video_engagement ?? stats?.videoEngagement ?? null;\r\n    const likes = videoEng?.likes ?? videoEng?.likesPct ?? 0;\r\n    const shares = videoEng?.shares ?? videoEng?.sharesPct ?? 0;\r\n    const saves = videoEng?.saves ?? videoEng?.savesPct ?? 0;\r\n\r\n    let chartValues = [likes, shares, saves];\r\n    if (videoEng && typeof videoEng.likes === 'number' && typeof videoEng.shares === 'number' && typeof videoEng.saves === 'number') {\r\n        const total = (videoEng.likes + videoEng.shares + videoEng.saves) || 1;\r\n        chartValues = [\r\n            Math.round((videoEng.likes / total) * 100),\r\n            Math.round((videoEng.shares / total) * 100),\r\n            Math.round((videoEng.saves / total) * 100)\r\n        ];\r\n    } else if (videoEng && typeof videoEng.likesPct === 'number') {\r\n        chartValues = [videoEng.likesPct, videoEng.sharesPct, videoEng.savesPct];\r\n    } else if (!videoEng) {\r\n        chartValues = [60,25,15];\r\n    }\r\n\r\n    const swipeChartData = {\r\n        labels: ['Likes', 'Shares', 'Saves'],\r\n        datasets: [\r\n            {\r\n                data: chartValues,\r\n                backgroundColor: ['rgba(6,182,212,0.6)', 'rgba(147,51,234,0.6)', 'rgba(236,72,153,0.6)'],\r\n                borderColor: ['#06b6d4', '#9333ea', '#ec4899'],\r\n                borderWidth: 2\r\n            }\r\n        ]\r\n    };\r\n\r\n    const skillsSource = stats?.skills_chart ?? stats?.skillsChart ?? [];\r\n    const skillsChartData = {\r\n        labels: (skillsSource || []).map(s => localize(s?.name)) || ['React','JavaScript'],\r\n        datasets: [\r\n            {\r\n                label: 'Skill Level',\r\n                data: (skillsSource || []).map(s => s.level ?? 0) || [85,90],\r\n                backgroundColor: 'rgba(147,51,234,0.6)',\r\n                borderColor: '#9333ea',\r\n                borderWidth: 2\r\n            }\r\n        ]\r\n    };\r\n\r\n    const handleOpenAddSkill = () => {\r\n        setNewSkillName(\"\");\r\n        setNewSkillLevel(\"Intermediate\");\r\n        setNewSkillYears(0);\r\n        setSelectedCategory(null);\r\n        setSelectedSkillId(null);\r\n        // fetch available skills for suggestions and categories\r\n        (async () => {\r\n            setSkillSearchLoading(true);\r\n            try {\r\n                const res = await getSkills();\r\n                const list = (res?.data?.skills || res?.skills || res || []).map(s => ({\r\n                    id: s.id ?? s._id ?? s.skill_id ?? null,\r\n                    name: s.name ?? s.skill ?? '',\r\n                    category: s.category ?? s.group ?? null,\r\n                    raw: s\r\n                }));\r\n                setSkillsList(list);\r\n                const cats = Array.from(new Set(list.map(s => s.category).filter(Boolean)));\r\n                setSkillCategories(cats);\r\n            } catch (e) {\r\n                console.warn('Failed to load skills for suggestions:', e);\r\n                setSkillsList([]);\r\n                setSkillCategories([]);\r\n            } finally {\r\n                setSkillSearchLoading(false);\r\n            }\r\n        })();\r\n\r\n        setOpenAddSkillDialog(true);\r\n    };\r\n\r\n    const handleCloseAddSkill = () => {\r\n        setOpenAddSkillDialog(false);\r\n    };\r\n\r\n    const handleConfirmAddSkill = async () => {\r\n        if (!newSkillName.trim()) return;\r\n        setAddingSkill(true);\r\n        try {\r\n            // Only allow adding when a skill from suggestions (with id) is selected\r\n            if (!selectedSkillId) {\r\n                toast({ description: 'Please select a skill from the suggestions before adding.', variant: 'destructive' });\r\n                setAddingSkill(false);\r\n                return;\r\n            }\r\n\r\n            const payload = {\r\n                skill_id: selectedSkillId,\r\n                level: newSkillLevel,\r\n                years_experience: Number(newSkillYears || 0)\r\n            };\r\n\r\n            await addUserSkill(payload);\r\n\r\n            const statsResponse = await getJobSeekerDashboardStats();\r\n            const statsPayload = statsResponse?.stats ?? statsResponse?.data ?? statsResponse;\r\n            setStats(statsPayload || {});\r\n            \r\n            toast({ description: \"Skill added successfully!\" });\r\n        } catch (e) {\r\n            console.error('Add skill error:', e);\r\n            toast({ description: \"Failed to add skill\", variant: \"destructive\" });\r\n        } finally {\r\n            setAddingSkill(false);\r\n            setOpenAddSkillDialog(false);\r\n        }\r\n    };\r\n\r\n    const handleUploadVideoClick = () => {\r\n        navigate('/jobseeker-tabs?group=profileContent&tab=video-upload');\r\n    };\r\n\r\n    const getActivityIcon = (type) => {\r\n        switch(type) {\r\n            case 'view': return <Eye className=\"h-5 w-5 text-cyan-600\" />;\r\n            case 'match': return <ThumbsUp className=\"h-5 w-5 text-green-600\" />;\r\n            case 'application': return <Briefcase className=\"h-5 w-5 text-purple-600\" />;\r\n            case 'message': return <MessageSquare className=\"h-5 w-5 text-blue-600\" />;\r\n            default: return <Bell className=\"h-5 w-5 text-gray-600\" />;\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex justify-center items-center min-h-[calc(100vh-56px)]\">\r\n                <Loader2 className=\"h-12 w-12 animate-spin text-purple-600\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"container mx-auto py-6 px-4 max-w-7xl\">\r\n            <div className=\"flex justify-between items-center mb-6\">\r\n                <h1 className=\"text-4xl font-bold bg-gradient-to-r from-purple-600 to-cyan-600 bg-clip-text text-transparent\">\r\n                    Dashboard\r\n                </h1>\r\n\r\n                <div className=\"flex gap-2\">\r\n                    <Button\r\n                        onClick={handleUploadVideoClick}\r\n                        className=\"bg-gradient-to-r from-purple-600 to-cyan-600 hover:from-purple-700 hover:to-cyan-700\"\r\n                    >\r\n                        <PlayCircle className=\"h-4 w-4 mr-2\" />\r\n                        Upload Video CV\r\n                    </Button>\r\n\r\n                    <Button\r\n                        variant=\"outline\"\r\n                        onClick={handleOpenAddSkill}\r\n                        className=\"border-purple-600 text-purple-600 hover:bg-purple-50\"\r\n                    >\r\n                        <Plus className=\"h-4 w-4 mr-2\" />\r\n                        Add Skills\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Statistics Cards */}\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6\">\r\n                <Card className=\"hover:shadow-lg transition-all duration-200 border-l-4 border-l-cyan-500\">\r\n                    <CardContent className=\"pt-6 text-center\">\r\n                        <div className=\"w-16 h-16 rounded-full bg-cyan-100 flex items-center justify-center mx-auto mb-4\">\r\n                            <Eye className=\"h-8 w-8 text-cyan-600\" />\r\n                        </div>\r\n                        <h3 className=\"text-3xl font-bold mb-1\">{stats?.profile_views ?? stats?.profileViews ?? 0}</h3>\r\n                        <p className=\"text-sm text-gray-600\">Profile Views</p>\r\n                    </CardContent>\r\n                </Card>\r\n\r\n                <Card className=\"hover:shadow-lg transition-all duration-200 border-l-4 border-l-green-500\">\r\n                    <CardContent className=\"pt-6 text-center\">\r\n                        <div className=\"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-4\">\r\n                            <ThumbsUp className=\"h-8 w-8 text-green-600\" />\r\n                        </div>\r\n                        <h3 className=\"text-3xl font-bold mb-1\">{stats?.matches || 0}</h3>\r\n                        <p className=\"text-sm text-gray-600\">Matches</p>\r\n                    </CardContent>\r\n                </Card>\r\n\r\n                <Card className=\"hover:shadow-lg transition-all duration-200 border-l-4 border-l-purple-500\">\r\n                    <CardContent className=\"pt-6 text-center\">\r\n                        <div className=\"w-16 h-16 rounded-full bg-purple-100 flex items-center justify-center mx-auto mb-4\">\r\n                            <Briefcase className=\"h-8 w-8 text-purple-600\" />\r\n                        </div>\r\n                        <h3 className=\"text-3xl font-bold mb-1\">{stats?.applications || 0}</h3>\r\n                        <p className=\"text-sm text-gray-600\">Applications</p>\r\n                    </CardContent>\r\n                </Card>\r\n\r\n                <Card className=\"hover:shadow-lg transition-all duration-200 border-l-4 border-l-blue-500\">\r\n                    <CardContent className=\"pt-6 text-center\">\r\n                        <div className=\"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center mx-auto mb-4\">\r\n                            <MessageSquare className=\"h-8 w-8 text-blue-600\" />\r\n                        </div>\r\n                        <h3 className=\"text-3xl font-bold mb-1\">{stats?.unread_messages || 0}</h3>\r\n                        <p className=\"text-sm text-gray-600\">Unread Messages</p>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n\r\n            {/* Charts and Recommendations */}\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n                <div className=\"lg:col-span-2 space-y-6\">\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle>Profile Activity</CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <div className=\"h-[300px]\">\r\n                                <Line\r\n                                    data={activityChartData}\r\n                                    options={{\r\n                                        responsive: true,\r\n                                        maintainAspectRatio: false,\r\n                                        plugins: {\r\n                                            legend: {\r\n                                                position: 'top',\r\n                                            },\r\n                                        },\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        <Card>\r\n                            <CardHeader>\r\n                                <CardTitle>Job Engagement</CardTitle>\r\n                            </CardHeader>\r\n                            <CardContent>\r\n                                <div className=\"h-[250px]\">\r\n                                    <Doughnut\r\n                                        data={swipeChartData}\r\n                                        options={{\r\n                                            responsive: true,\r\n                                            maintainAspectRatio: false,\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            </CardContent>\r\n                        </Card>\r\n\r\n                        <Card>\r\n                            <CardHeader>\r\n                                <CardTitle>Skill Level</CardTitle>\r\n                            </CardHeader>\r\n                            <CardContent>\r\n                                <div className=\"h-[250px]\">\r\n                                    <Bar\r\n                                        data={skillsChartData}\r\n                                        options={{\r\n                                            responsive: true,\r\n                                            maintainAspectRatio: false,\r\n                                            indexAxis: 'y',\r\n                                            plugins: {\r\n                                                legend: {\r\n                                                    display: false,\r\n                                                },\r\n                                            },\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-6\">\r\n                    <Card>\r\n                        <CardHeader className=\"flex flex-row items-center justify-between\">\r\n                            <CardTitle>Recent Activities</CardTitle>\r\n                            <Bell className=\"h-5 w-5 text-gray-600\" />\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <div className=\"space-y-3 max-h-[300px] overflow-auto\">\r\n                                {(activities?.length ?? 0) === 0 ? (\r\n                                    <div className=\"text-center py-8 text-gray-500\">\r\n                                        <p className=\"font-medium\">No recent activities</p>\r\n                                        <p className=\"text-sm\">Your activities will appear here</p>\r\n                                    </div>\r\n                                ) : (\r\n                                    activities.map((activity, index) => (\r\n                                        <div key={index} className=\"flex items-start gap-3 pb-3 border-b last:border-0\">\r\n                                            <div className=\"mt-0.5\">\r\n                                                {getActivityIcon(activity.type)}\r\n                                            </div>\r\n                                            <div className=\"flex-1 min-w-0\">\r\n                                                <p className=\"text-sm font-medium\">{activity.title}</p>\r\n                                                <p className=\"text-xs text-gray-500\">{activity.time}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))\r\n                                )}\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n\r\n                    <Card>\r\n                        <CardHeader className=\"flex flex-row items-center justify-between\">\r\n                            <CardTitle>Recommended Jobs</CardTitle>\r\n                            <Button\r\n                                variant=\"ghost\"\r\n                                size=\"sm\"\r\n                                onClick={() => setViewAllOpen(true)}\r\n                                className=\"text-purple-600 hover:text-purple-700\"\r\n                            >\r\n                                View All <ArrowRight className=\"h-4 w-4 ml-1\" />\r\n                            </Button>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <div className=\"space-y-3 max-h-[350px] overflow-auto\">\r\n                                {recommendations.length === 0 ? (\r\n                                    <div className=\"text-center py-8 text-gray-500\">\r\n                                        <p className=\"font-medium\">No recommendations</p>\r\n                                        <p className=\"text-sm\">Check back later for job matches</p>\r\n                                    </div>\r\n                                ) : (\r\n                                    recommendations.map((job) => (\r\n                                        <div key={job.id} className=\"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer\">\r\n                                            <Avatar>\r\n                                                <AvatarImage src={job.company?.logo_url} />\r\n                                                <AvatarFallback>{(localize(job.company?.name) || 'C').charAt(0)}</AvatarFallback>\r\n                                            </Avatar>\r\n                                            <div className=\"flex-1 min-w-0\">\r\n                                                <p className=\"font-medium text-sm truncate\">{localize(job.title)}</p>\r\n                                                <p className=\"text-xs text-gray-600 truncate\">{localize(job.company?.name)}</p>\r\n                                                <div className=\"flex items-center gap-1 text-xs text-gray-500 mt-1\">\r\n                                                    <MapPin className=\"h-3 w-3\" />\r\n                                                    {localize(job.location)}\r\n                                                </div>\r\n                                            </div>\r\n                                            <Badge className=\"bg-gradient-to-r from-purple-600 to-cyan-600\">\r\n                                                {job.match_percentage}%\r\n                                            </Badge>\r\n                                        </div>\r\n                                    ))\r\n                                )}\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Tips Section */}\r\n            <Card className=\"mt-6\">\r\n                <CardHeader>\r\n                    <CardTitle>Tips to Improve Your Chances</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                        <Card className=\"border-l-4 border-l-cyan-500\">\r\n                            <CardContent className=\"pt-6\">\r\n                                <div className=\"flex items-center gap-2 mb-3\">\r\n                                    <TrendingUp className=\"h-5 w-5 text-cyan-600\" />\r\n                                    <h3 className=\"font-semibold\">Complete Your Profile</h3>\r\n                                </div>\r\n                                <p className=\"text-sm text-gray-600 mb-4\">\r\n                                    Complete profiles get more attention from employers.\r\n                                </p>\r\n                                <Progress value={stats?.profile_completion || 0} className=\"h-2\" />\r\n                                <p className=\"text-xs text-right mt-1 text-gray-600\">\r\n                                    {stats?.profile_completion || 0}% Complete\r\n                                </p>\r\n                            </CardContent>\r\n                        </Card>\r\n\r\n                        <Card className=\"border-l-4 border-l-purple-500\">\r\n                            <CardContent className=\"pt-6\">\r\n                                <div className=\"flex items-center gap-2 mb-3\">\r\n                                    <PlayCircle className=\"h-5 w-5 text-purple-600\" />\r\n                                    <h3 className=\"font-semibold\">Add Video CV</h3>\r\n                                </div>\r\n                                <p className=\"text-sm text-gray-600 mb-4\">\r\n                                    A video increases matching chances by 70% and makes you stand out.\r\n                                </p>\r\n                                <Button\r\n                                    variant=\"outline\"\r\n                                    className=\"w-full border-purple-600 text-purple-600 hover:bg-purple-50\"\r\n                                    onClick={handleUploadVideoClick}\r\n                                >\r\n                                    Upload Video\r\n                                </Button>\r\n                            </CardContent>\r\n                        </Card>\r\n\r\n                        <Card className=\"border-l-4 border-l-pink-500\">\r\n                            <CardContent className=\"pt-6\">\r\n                                <div className=\"flex items-center gap-2 mb-3\">\r\n                                    <Briefcase className=\"h-5 w-5 text-pink-600\" />\r\n                                    <h3 className=\"font-semibold\">Update Your Skills</h3>\r\n                                </div>\r\n                                <p className=\"text-sm text-gray-600 mb-4\">\r\n                                    Add in-demand skills to increase your visibility.\r\n                                </p>\r\n                                <Button\r\n                                    variant=\"outline\"\r\n                                    className=\"w-full border-pink-600 text-pink-600 hover:bg-pink-50\"\r\n                                    onClick={handleOpenAddSkill}\r\n                                >\r\n                                    Add Skills\r\n                                </Button>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n\r\n            {/* Add Skill Dialog */}\r\n            <Dialog open={openAddSkillDialog} onClose={handleCloseAddSkill}>\r\n                <DialogContent>\r\n                    <DialogHeader>\r\n                        <DialogTitle>Add a Skill</DialogTitle>\r\n                        <DialogDescription>Add a new skill to your profile to improve job matching</DialogDescription>\r\n                    </DialogHeader>\r\n                    <div className=\"space-y-4 py-4\">\r\n                        <div>\r\n                            <Label htmlFor=\"skill-name\">Skill Name</Label>\r\n                            <Input\r\n                                id=\"skill-name\"\r\n                                value={newSkillName}\r\n                                onChange={(e) => {\r\n                                    setNewSkillName(e.target.value);\r\n                                    // clear selected id when user types freely\r\n                                    setSelectedSkillId(null);\r\n                                }}\r\n                                placeholder=\"e.g. React, Python\"\r\n                            />\r\n                            {newSkillName && !selectedSkillId && (\r\n                                <div className=\"text-xs text-yellow-600 mt-1\">Please select a skill from the suggestions below to enable adding.</div>\r\n                            )}\r\n                            {/* Category filter and suggestions */}\r\n                            <div className=\"mt-2\">\r\n                                {skillSearchLoading ? (\r\n                                    <div className=\"text-sm text-gray-500\">Loading skills...</div>\r\n                                ) : (\r\n                                    <>\r\n                                        {skillCategories.length > 0 && (\r\n                                            <div className=\"flex gap-2 mb-2 flex-wrap\">\r\n                                                <button type=\"button\" className={`px-2 py-1 text-xs rounded ${selectedCategory === null ? 'bg-purple-600 text-white' : 'bg-gray-100'}`} onClick={() => setSelectedCategory(null)}>All</button>\r\n                                                {skillCategories.map(cat => (\r\n                                                    <button key={cat} type=\"button\" className={`px-2 py-1 text-xs rounded ${selectedCategory === cat ? 'bg-purple-600 text-white' : 'bg-gray-100'}`} onClick={() => setSelectedCategory(cat)}>{cat}</button>\r\n                                                ))}\r\n                                            </div>\r\n                                        )}\r\n\r\n                                        <div className=\"max-h-40 overflow-auto border rounded bg-white\">\r\n                                            {skillsList.filter(s => {\r\n                                                if (!s || !s.name) return false;\r\n                                                if (selectedCategory && s.category !== selectedCategory) return false;\r\n                                                if (!newSkillName) return true;\r\n                                                try {\r\n                                                    const name = typeof s.name === 'string' ? s.name : localize(s.name);\r\n                                                    return name.toLowerCase().includes(newSkillName.trim().toLowerCase());\r\n                                                } catch (e) {\r\n                                                    return String(localize(s.name)).toLowerCase().includes(newSkillName.trim().toLowerCase());\r\n                                                }\r\n                                                }).slice(0, 50).map(s => (\r\n                                                <div key={s.id || (typeof s.name === 'string' ? s.name : JSON.stringify(s.name))} className=\"px-3 py-2 hover:bg-gray-50 cursor-pointer text-sm flex justify-between\" onClick={() => { setNewSkillName(localize(s.name)); setSelectedSkillId(s.id ?? s._id ?? null); setSelectedCategory(s.category ?? null); }}>\r\n                                                    <div>{localize(s.name)}</div>\r\n                                                    {s.category && <div className=\"text-xs text-gray-400\">{s.category}</div>}\r\n                                                </div>\r\n                                            ))}\r\n                                            {skillsList.length === 0 && !skillSearchLoading && (\r\n                                                <div className=\"px-3 py-2 text-sm text-gray-500\">No suggestions available</div>\r\n                                            )}\r\n                                        </div>\r\n                                    </>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <Label htmlFor=\"skill-level\">Level</Label>\r\n                            <Select value={newSkillLevel} onValueChange={setNewSkillLevel}>\r\n                                <SelectTrigger>\r\n                                    <SelectValue />\r\n                                </SelectTrigger>\r\n                                <SelectContent>\r\n                                    <SelectItem value=\"Beginner\">Beginner</SelectItem>\r\n                                    <SelectItem value=\"Intermediate\">Intermediate</SelectItem>\r\n                                    <SelectItem value=\"Advanced\">Advanced</SelectItem>\r\n                                    <SelectItem value=\"Expert\">Expert</SelectItem>\r\n                                </SelectContent>\r\n                            </Select>\r\n                        </div>\r\n                        <div>\r\n                            <Label htmlFor=\"skill-years\">Years of Experience</Label>\r\n                            <Input\r\n                                id=\"skill-years\"\r\n                                type=\"number\"\r\n                                value={newSkillYears}\r\n                                onChange={(e) => setNewSkillYears(e.target.value)}\r\n                                min=\"0\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <DialogFooter>\r\n                        <Button variant=\"outline\" onClick={handleCloseAddSkill} disabled={addingSkill}>\r\n                            Cancel\r\n                        </Button>\r\n                        <Button onClick={handleConfirmAddSkill} disabled={addingSkill || !selectedSkillId}>\r\n                            {addingSkill ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : \"Add Skill\"}\r\n                        </Button>\r\n                    </DialogFooter>\r\n                </DialogContent>\r\n            </Dialog>\r\n\r\n            {/* View All Recommendations Dialog */}\r\n            <Dialog open={viewAllOpen} onOpenChange={setViewAllOpen}>\r\n                <DialogContent className=\"max-w-2xl\">\r\n                    <DialogHeader>\r\n                        <DialogTitle>Recommended Jobs</DialogTitle>\r\n                    </DialogHeader>\r\n                    <div className=\"space-y-2 max-h-[400px] overflow-auto\">\r\n                        {recommendations.length === 0 ? (\r\n                            <div className=\"text-center py-8 text-gray-500\">\r\n                                <p>No recommendations available</p>\r\n                            </div>\r\n                        ) : (\r\n                            recommendations.slice((viewAllPage - 1) * itemsPerPage, viewAllPage * itemsPerPage).map((job) => (\r\n                                <div key={job.id} className=\"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50\">\r\n                                    <Avatar>\r\n                                        <AvatarImage src={job.company?.logo_url} />\r\n                                        <AvatarFallback>{(localize(job.company?.name) || 'C').charAt(0)}</AvatarFallback>\r\n                                    </Avatar>\r\n                                    <div className=\"flex-1\">\r\n                                        <p className=\"font-medium\">{localize(job.title)}</p>\r\n                                        <p className=\"text-sm text-gray-600\">\r\n                                            {localize(job.company?.name)}{job.location ? ` â€¢ ${localize(job.location)}` : ''}\r\n                                        </p>\r\n                                    </div>\r\n                                            <Badge>{localize(job.match_percentage ? `${job.match_percentage}%` : job.score ? Math.round(job.score) + '%' : 'â€”')}</Badge>\r\n                                </div>\r\n                            ))\r\n                        )}\r\n                    </div>\r\n                    <DialogFooter className=\"justify-between\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <Button variant=\"outline\" onClick={() => setViewAllPage(p => Math.max(1, p - 1))} disabled={viewAllPage === 1}>\r\n                                Previous\r\n                            </Button>\r\n                            <span className=\"text-sm\">Page {viewAllPage} of {Math.max(1, Math.ceil(recommendations.length / itemsPerPage))}</span>\r\n                            <Button variant=\"outline\" onClick={() => setViewAllPage(p => Math.min(Math.ceil(recommendations.length / itemsPerPage), p + 1))} disabled={viewAllPage >= Math.ceil(recommendations.length / itemsPerPage)}>\r\n                                Next\r\n                            </Button>\r\n                        </div>\r\n                        <Button onClick={() => setViewAllOpen(false)}>Close</Button>\r\n                    </DialogFooter>\r\n                </DialogContent>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default JobSeekerDashboard;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\JobSeekerDashboard_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useAuth' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 46,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 46,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useAuth"
            },
            "fix": {
              "range": [
                1017,
                1066
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useAuth'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 93,
        "column": 49,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 93,
        "endColumn": 54,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                2273,
                2282
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 163,
        "column": 30,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 163,
        "endColumn": 33
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 287,
        "column": 22,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 287,
        "endColumn": 23
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 296,
        "column": 26,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 296,
        "endColumn": 29
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n    Box,\r\n    Container,\r\n    Grid,\r\n    Paper,\r\n    Typography,\r\n    Card,\r\n    CardContent,\r\n    Button,\r\n    List,\r\n    ListItem,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    Divider,\r\n    Avatar,\r\n    Chip,\r\n    CircularProgress,\r\n    IconButton,\r\n    LinearProgress,\r\n    useTheme,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogActions,\r\n    TextField,\r\n    FormControl,\r\n    InputLabel,\r\n    Select,\r\n    MenuItem\r\n} from '@mui/material';\r\nimport { styled } from '@mui/material/styles'; // <--- added import\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n    Visibility as VisibilityIcon,\r\n    ThumbUp as ThumbUpIcon,\r\n    Work as WorkIcon,\r\n    Message as MessageIcon,\r\n    Notifications as NotificationsIcon,\r\n    TrendingUp as TrendingUpIcon,\r\n    PlayCircleOutline as PlayCircleOutlineIcon,\r\n    Add as AddIcon,\r\n    ArrowForward as ArrowForwardIcon,\r\n    LocationOn as LocationOnIcon\r\n} from '@mui/icons-material';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { getJobSeekerDashboardStats, getRecentActivities, getJobRecommendations } from '../services/dashboardService';\r\nimport { getSwipeStats, getVideoEngagement, addUserSkill, getSkills, createSkill } from '@/services/api';\r\nimport { Line, Bar, Doughnut } from 'react-chartjs-2';\r\nimport {\r\n    Chart as ChartJS,\r\n    CategoryScale,\r\n    LinearScale,\r\n    PointElement, \r\n    LineElement,\r\n    BarElement,\r\n    ArcElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend,\r\n} from 'chart.js';\r\n\r\n// Register ChartJS components\r\nChartJS.register(\r\n    CategoryScale,\r\n    LinearScale,\r\n    PointElement,\r\n    LineElement,\r\n    BarElement,\r\n    ArcElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend\r\n);\r\n\r\nconst DashboardContainer = styled(Container)(({ theme }) => ({\r\n    padding: theme.spacing(3),\r\n    backgroundColor: theme.palette.background.default,\r\n    minHeight: 'calc(100vh - 56px)',\r\n}));\r\n\r\nconst StatsCard = styled(Card)(({ theme }) => ({\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    transition: 'transform 0.2s',\r\n    '&:hover': {\r\n        transform: 'translateY(-4px)',\r\n        boxShadow: theme.shadows[4],\r\n    },\r\n}));\r\n\r\nconst StatsCardContent = styled(CardContent)(({ theme }) => ({\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    textAlign: 'center',\r\n    flex: 1,\r\n}));\r\n\r\nconst StatsIcon = styled(Box)(({ theme, color }) => ({\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: '50%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginBottom: theme.spacing(2),\r\n    backgroundColor: theme.palette[color].light,\r\n    color: theme.palette[color].main,\r\n}));\r\n\r\nconst ActivityItem = styled(ListItem)(({ theme }) => ({\r\n    padding: theme.spacing(1.5),\r\n    borderBottom: `1px solid ${theme.palette.divider}`,\r\n    '&:last-child': {\r\n        borderBottom: 'none',\r\n    },\r\n}));\r\n\r\nconst JobSeekerDashboard = () => {\r\n  // const { user } = useAuth(); // Removed: unused variable\n    const navigate = useNavigate(); // <--- existing\r\n    const theme = useTheme(); // <--- moved here (before any early returns / JSX)\r\n    const [stats, setStats] = useState(null);\r\n    const [activities, setActivities] = useState([]);\r\n    const [recommendations, setRecommendations] = useState([]);\r\n    const [swipeStats, setSwipeStats] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [openAddSkillDialog, setOpenAddSkillDialog] = useState(false);\r\n    const [viewAllOpen, setViewAllOpen] = useState(false);\r\n    const [viewAllPage, setViewAllPage] = useState(1);\r\n    const itemsPerPage = 6;\r\n    const [newSkillName, setNewSkillName] = useState(\"\");\r\n    const [newSkillLevel, setNewSkillLevel] = useState(\"Intermediate\");\r\n    const [newSkillYears, setNewSkillYears] = useState(0);\r\n    const [addingSkill, setAddingSkill] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const fetchDashboardData = async () => {\r\n            try {\r\n                setLoading(true);\r\n\r\n                // Fetch dashboard statistics\r\n                const statsResponse = await getJobSeekerDashboardStats();\r\n                // service returns response.data â€” accept multiple shapes defensively\r\n                const statsPayload = statsResponse?.stats ?? statsResponse?.data ?? statsResponse;\r\n                setStats(statsPayload || {});\r\n\r\n                // Fetch aggregated video engagement (likes/shares/saves) for Job Engagement visualization\r\n                try {\r\n                    const videoEngResp = await getVideoEngagement();\r\n                    const videoEngPayload = videoEngResp?.data?.stats ?? videoEngResp?.stats ?? videoEngResp?.data ?? videoEngResp;\r\n                    // Normalized to { likes, shares, saves, likesPct, sharesPct, savesPct }\r\n                    setSwipeStats({ videoEngagement: videoEngPayload?.stats ? videoEngPayload.stats : videoEngPayload });\r\n                } catch (e) {\r\n                    console.warn('Failed to fetch video engagement stats:', e);\r\n                    // fall back to old swipe stats if available\r\n                    try {\r\n                        const swipeResp = await getSwipeStats();\r\n                        const swipePayload = swipeResp?.stats ?? swipeResp?.data ?? swipeResp;\r\n                        setSwipeStats(swipePayload || null);\r\n                    } catch (err) {\r\n                        setSwipeStats(null);\r\n                    }\r\n                }\r\n\r\n                // Fetch recent activities (ask backend for jobseeker activities)\r\n                const activitiesResponse = await getRecentActivities('jobseeker');\r\n                const activitiesPayload = activitiesResponse?.activities ?? activitiesResponse?.data ?? activitiesResponse;\r\n                const rawActivities = Array.isArray(activitiesPayload) ? activitiesPayload : (activitiesPayload?.activities || []);\r\n                const normalized = rawActivities.map(a => ({\r\n                    type: a.type || a.event_type || a.action || a.activityType || 'activity',\r\n                    title: a.title || a.message || a.description || a.action || (a.type ? `${a.type} event` : 'Activity'),\r\n                    time: a.time || a.created_at || a.date || a.timestamp || ''\r\n                }));\r\n                setActivities(normalized);\r\n\r\n                // Fetch job recommendations\r\n                const recommendationsResponse = await getJobRecommendations();\r\n                const recsPayload = recommendationsResponse?.recommendations ?? recommendationsResponse?.data ?? recommendationsResponse;\r\n                setRecommendations(Array.isArray(recsPayload) ? recsPayload : (recsPayload?.recommendations || []));\r\n            } catch (error) {\r\n                console.error('Error fetching dashboard data:', error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchDashboardData();\r\n    }, []);\r\n\r\n    // Activity chart data â€” derive from multiple possible shapes\r\n    const activityLabels = stats?.profile_views_chart?.labels\r\n        ?? stats?.profileViewsChart?.labels\r\n        ?? (stats?.profile_views_daily?.map(d => d.date))\r\n        ?? ['Week 1','Week 2','Week 3','Week 4'];\r\n\r\n    const activityData = stats?.profile_views_chart?.data\r\n        ?? stats?.profileViewsChart?.data\r\n        ?? (stats?.profile_views_daily?.map(d => d.views))\r\n        ?? (Array.isArray(stats?.profile_views) ? stats.profile_views : null)\r\n        ?? [12,19,15,25,22,30];\r\n\r\n    const activityChartData = {\r\n        labels: activityLabels,\r\n        datasets: [\r\n            {\r\n                label: 'Profile Views',\r\n                data: activityData,\r\n                borderColor: 'rgba(75, 192, 192, 1)',\r\n                backgroundColor: 'rgba(75, 192, 192, 0.12)',\r\n                tension: 0.4,\r\n            }\r\n        ]\r\n    };\r\n\r\n    // Job Engagement chart data (video engagement: likes / shares / saves)\r\n    const videoEng = swipeStats?.videoEngagement ?? stats?.video_engagement ?? stats?.videoEngagement ?? null;\r\n    const likes = videoEng?.likes ?? videoEng?.likesPct ?? 0;\r\n    const shares = videoEng?.shares ?? videoEng?.sharesPct ?? 0;\r\n    const saves = videoEng?.saves ?? videoEng?.savesPct ?? 0;\r\n\r\n    // If backend returned absolute numbers, compute relative percentages for the chart\r\n    let chartValues = [likes, shares, saves];\r\n    if (videoEng && typeof videoEng.likes === 'number' && typeof videoEng.shares === 'number' && typeof videoEng.saves === 'number') {\r\n        const total = (videoEng.likes + videoEng.shares + videoEng.saves) || 1;\r\n        chartValues = [\r\n            Math.round((videoEng.likes / total) * 100),\r\n            Math.round((videoEng.shares / total) * 100),\r\n            Math.round((videoEng.saves / total) * 100)\r\n        ];\r\n    } else if (videoEng && typeof videoEng.likesPct === 'number') {\r\n        chartValues = [videoEng.likesPct, videoEng.sharesPct, videoEng.savesPct];\r\n    } else if (!videoEng) {\r\n        chartValues = [60,25,15]; // fallback\r\n    }\r\n\r\n    const swipeChartData = {\r\n        labels: ['Likes', 'Shares', 'Saves'],\r\n        datasets: [\r\n            {\r\n                data: chartValues,\r\n                backgroundColor: ['rgba(75,192,192,0.6)', 'rgba(255,206,86,0.6)', 'rgba(153,102,255,0.6)'],\r\n                borderColor: ['rgba(75,192,192,1)', 'rgba(255,206,86,1)', 'rgba(153,102,255,1)'],\r\n                borderWidth: 1\r\n            }\r\n        ]\r\n    };\r\n\r\n    const skillsSource = stats?.skills_chart ?? stats?.skillsChart ?? [];\r\n    const skillsChartData = {\r\n        labels: (skillsSource || []).map(s => s.name) || ['React','JavaScript'],\r\n        datasets: [\r\n            {\r\n                label: 'Skill Level',\r\n                data: (skillsSource || []).map(s => s.level) || [85,90],\r\n                backgroundColor: 'rgba(54,162,235,0.6)',\r\n                borderColor: 'rgba(54,162,235,1)',\r\n                borderWidth: 1\r\n            }\r\n        ]\r\n    };\r\n\r\n    // Add Skill handlers\r\n    const handleOpenAddSkill = () => {\r\n        setNewSkillName(\"\");\r\n        setNewSkillLevel(\"Intermediate\");\r\n        setNewSkillYears(0);\r\n        setOpenAddSkillDialog(true);\r\n    };\r\n\r\n    const handleCloseAddSkill = () => {\r\n        setOpenAddSkillDialog(false);\r\n    };\r\n\r\n    const handleConfirmAddSkill = async () => {\r\n        if (!newSkillName.trim()) return;\r\n        setAddingSkill(true);\r\n        try {\r\n            // Ensure the skill exists in global skills table: try search first\r\n            let skillId = null;\r\n            try {\r\n                const searchRes = await getSkills(newSkillName);\r\n                const found = (searchRes?.data?.skills || searchRes?.skills || []).find(s => s.name?.toLowerCase() === newSkillName.trim().toLowerCase());\r\n                if (found) skillId = found.id;\r\n            } catch (e) {\r\n                // ignore search errors and try to create\r\n            }\r\n\r\n            // If skill not found, create it using general skills endpoint\r\n            if (!skillId) {\r\n                try {\r\n                    const createRes = await createSkill({ name: newSkillName });\r\n                    skillId = createRes?.data?.skill?.id || createRes?.skill?.id;\r\n                } catch (err) {\r\n                    // If create returns 400 (already exists), try fetching again\r\n                    try {\r\n                        const retry = await getSkills(newSkillName);\r\n                        const found2 = (retry?.data?.skills || retry?.skills || []).find(s => s.name?.toLowerCase() === newSkillName.trim().toLowerCase());\r\n                        if (found2) skillId = found2.id;\r\n                    } catch (e2) {\r\n                        console.error('Failed to create or find skill:', e2);\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!skillId) {\r\n                throw new Error('Unable to resolve skill id for: ' + newSkillName);\r\n            }\r\n\r\n            // Call job-seeker addSkill endpoint which expects { skill_id, level, years_experience }\r\n            const payload = {\r\n                skill_id: skillId,\r\n                level: newSkillLevel,\r\n                years_experience: Number(newSkillYears || 0)\r\n            };\r\n\r\n            await addUserSkill(payload);\r\n\r\n            // refresh dashboard/stats\r\n            const statsResponse = await getJobSeekerDashboardStats();\r\n            const statsPayload = statsResponse?.stats ?? statsResponse?.data ?? statsResponse;\r\n            setStats(statsPayload || {});\r\n        } catch (e) {\r\n            console.error('Add skill error:', e);\r\n        } finally {\r\n            setAddingSkill(false);\r\n            setOpenAddSkillDialog(false);\r\n        }\r\n    };\r\n\r\n    // Navigate to video upload tab\r\n    const handleUploadVideoClick = () => {\r\n        navigate('/jobseeker-tabs?group=profileContent&tab=video-upload');\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: 'calc(100vh - 56px)' }}>\r\n                <CircularProgress />\r\n            </Box>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <DashboardContainer maxWidth=\"lg\" sx={{ mt: 4 ,\r\n    bgcolor: 'background.jobseeker',\r\n    padding: theme.spacing(2),\r\n    mb: 0,\r\n    paddingBottom: 4,\r\n}}>\r\n            <Box sx={{ mb: 3, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                <Typography variant=\"h4\">Dashboard</Typography>\r\n\r\n                <Box>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        startIcon={<PlayCircleOutlineIcon />}\r\n                        sx={{ mr: 1 }}\r\n                        onClick={handleUploadVideoClick} // <--- navigate to tab\r\n                    >\r\n                        Upload Video CV\r\n                    </Button>\r\n\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        startIcon={<AddIcon />}\r\n                        onClick={handleOpenAddSkill} // <--- open dialog\r\n                    >\r\n                        Add Skills\r\n                    </Button>\r\n                </Box>\r\n            </Box>\r\n\r\n            {/* Statistics Cards */}\r\n            <Grid container spacing={3} sx={{ mb: 4 }}>\r\n                <Grid item xs={12} sm={6} md={3}>\r\n                    <StatsCard>\r\n                        <StatsCardContent>\r\n                            <StatsIcon color=\"primary\">\r\n                                <VisibilityIcon fontSize=\"large\" />\r\n                            </StatsIcon>\r\n                            <Typography variant=\"h4\" gutterBottom>\r\n                                {stats?.profile_views ?? stats?.profileViews ?? 0}\r\n                            </Typography>\r\n                            <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                                Profile Views\r\n                            </Typography>\r\n                        </StatsCardContent>\r\n                    </StatsCard>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6} md={3}>\r\n                    <StatsCard>\r\n                        <StatsCardContent>\r\n                            <StatsIcon color=\"success\">\r\n                                <ThumbUpIcon fontSize=\"large\" />\r\n                            </StatsIcon>\r\n                            <Typography variant=\"h4\" gutterBottom>\r\n                                {stats?.matches || 0}\r\n                            </Typography>\r\n                            <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                                Matches\r\n                            </Typography>\r\n                        </StatsCardContent>\r\n                    </StatsCard>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6} md={3}>\r\n                    <StatsCard>\r\n                        <StatsCardContent>\r\n                            <StatsIcon color=\"warning\">\r\n                                <WorkIcon fontSize=\"large\" />\r\n                            </StatsIcon>\r\n                            <Typography variant=\"h4\" gutterBottom>\r\n                                {stats?.applications || 0}\r\n                            </Typography>\r\n                            <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                                Applications\r\n                            </Typography>\r\n                        </StatsCardContent>\r\n                    </StatsCard>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6} md={3}>\r\n                    <StatsCard>\r\n                        <StatsCardContent>\r\n                            <StatsIcon color=\"info\">\r\n                                <MessageIcon fontSize=\"large\" />\r\n                            </StatsIcon>\r\n                            <Typography variant=\"h4\" gutterBottom>\r\n                                {stats?.unread_messages || 0}\r\n                            </Typography>\r\n                            <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                                Unread Messages\r\n                            </Typography>\r\n                        </StatsCardContent>\r\n                    </StatsCard>\r\n                </Grid>\r\n            </Grid>\r\n\r\n            {/* Charts and Recommendations */}\r\n            <Grid container spacing={3}>\r\n                <Grid item xs={12} md={8}>\r\n                    <Paper sx={{ p: 3, mb: 3 }}>\r\n                        <Typography variant=\"h6\" gutterBottom>\r\n                            Profile Activity\r\n                        </Typography>\r\n                        <Box sx={{ height: 300 }}>\r\n                            <Line\r\n                                data={activityChartData}\r\n                                options={{\r\n                                    responsive: true,\r\n                                    maintainAspectRatio: false,\r\n                                    plugins: {\r\n                                        legend: {\r\n                                            position: 'top',\r\n                                        },\r\n                                    },\r\n                                }}\r\n                            />\r\n                        </Box>\r\n                    </Paper>\r\n\r\n                    <Grid container spacing={3}>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <Paper sx={{ p: 3 }}>\r\n                                <Typography variant=\"h6\" gutterBottom>\r\n                                    Job Engagement\r\n                                </Typography>\r\n                                <Box sx={{ height: 250 }}>\r\n                                    <Doughnut\r\n                                        data={swipeChartData}\r\n                                        options={{\r\n                                            responsive: true,\r\n                                            maintainAspectRatio: false,\r\n                                        }}\r\n                                    />\r\n                                </Box>\r\n                            </Paper>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6}>\r\n                            <Paper sx={{ p: 3 }}>\r\n                                <Typography variant=\"h6\" gutterBottom>\r\n                                    Skill Level\r\n                                </Typography>\r\n                                <Box sx={{ height: 250 }}>\r\n                                    <Bar\r\n                                        data={skillsChartData}\r\n                                        options={{\r\n                                            responsive: true,\r\n                                            maintainAspectRatio: false,\r\n                                            indexAxis: 'y',\r\n                                            plugins: {\r\n                                                legend: {\r\n                                                    display: false,\r\n                                                },\r\n                                            },\r\n                                        }}\r\n                                    />\r\n                                </Box>\r\n                            </Paper>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} md={4}>\r\n                    <Paper sx={{ mb: 3 }}>\r\n                        <Box sx={{ p: 2, borderBottom: 1, borderColor: 'divider', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                            <Typography variant=\"h6\">\r\n                                Recent Activities\r\n                            </Typography>\r\n                            <IconButton size=\"small\">\r\n                                <NotificationsIcon />\r\n                            </IconButton>\r\n                        </Box>\r\n\r\n                        <List sx={{ maxHeight: 300, overflow: 'auto' }}>\r\n                            { (activities?.length ?? 0) === 0 ? (\r\n                                <ListItem>\r\n                                    <ListItemText\r\n                                        primary=\"No recent activities\"\r\n                                        secondary=\"Your activities will appear here as you interact with the platform\"\r\n                                    />\r\n                                </ListItem>\r\n                            ) : (\r\n                                activities.map((activity, index) => (\r\n                                    <ActivityItem key={index}>\r\n                                        <ListItemIcon>\r\n                                            {activity.type === 'view' && <VisibilityIcon color=\"primary\" />}\r\n                                            {activity.type === 'match' && <ThumbUpIcon color=\"success\" />}\r\n                                            {activity.type === 'application' && <WorkIcon color=\"warning\" />}\r\n                                            {activity.type === 'message' && <MessageIcon color=\"info\" />}\r\n                                        </ListItemIcon>\r\n                                        <ListItemText\r\n                                            primary={activity.title}\r\n                                            secondary={activity.time}\r\n                                        />\r\n                                    </ActivityItem>\r\n                                ))\r\n                            )}\r\n                        </List>\r\n                    </Paper>\r\n\r\n                    <Paper>\r\n                        <Box sx={{ p: 2, borderBottom: 1, borderColor: 'divider', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                            <Typography variant=\"h6\">\r\n                                Recommended Jobs\r\n                            </Typography>\r\n                            <Button\r\n                                endIcon={<ArrowForwardIcon />}\r\n                                size=\"small\"\r\n                                onClick={() => setViewAllOpen(true)}\r\n                            >\r\n                                View All\r\n                            </Button>\r\n                        </Box>\r\n\r\n                        <List sx={{ maxHeight: 350, overflow: 'auto' }}>\r\n                            {recommendations.length === 0 ? (\r\n                                <ListItem>\r\n                                    <ListItemText\r\n                                        primary=\"No recommendations at the moment\"\r\n                                        secondary=\"Recommendations will appear here based on your skills and interests\"\r\n                                    />\r\n                                </ListItem>\r\n                            ) : (\r\n                                recommendations.map((job, index) => (\r\n                                    <React.Fragment key={job.id}>\r\n                                        <ListItem\r\n                                            button\r\n                                            sx={{ py: 2 }}\r\n                                        >\r\n                                            <Avatar\r\n                                                src={job.company.logo_url}\r\n                                                sx={{ mr: 2 }}\r\n                                            />\r\n                                            <ListItemText\r\n                                                primary={job.title}\r\n                                                secondary={\r\n                                                    <React.Fragment>\r\n                                                        <Typography variant=\"body2\" component=\"span\">\r\n                                                            {job.company.name}\r\n                                                        </Typography>\r\n                                                        <Box sx={{ display: 'flex', alignItems: 'center', mt: 0.5 }}>\r\n                                                            <LocationOnIcon fontSize=\"small\" sx={{ mr: 0.5, fontSize: 16 }} />\r\n                                                            <Typography variant=\"body2\" component=\"span\" color=\"textSecondary\">\r\n                                                                {job.location}\r\n                                                            </Typography>\r\n                                                        </Box>\r\n                                                    </React.Fragment>\r\n                                                }\r\n                                            />\r\n                                            <Box>\r\n                                                <Chip\r\n                                                    label={job.match_percentage + '%'}\r\n                                                    size=\"small\"\r\n                                                    color=\"primary\"\r\n                                                />\r\n                                            </Box>\r\n                                        </ListItem>\r\n                                        {index < recommendations.length - 1 && <Divider />}\r\n                                    </React.Fragment>\r\n                                ))\r\n                            )}\r\n                        </List>\r\n                    </Paper>\r\n                </Grid>\r\n            </Grid>\r\n\r\n            {/* Tips and Improvements Section */}\r\n            <Paper sx={{ p: 3, mt: 3 }}>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                    Tips to Improve Your Chances\r\n                </Typography>\r\n\r\n                <Grid container spacing={2} sx={{ mt: 1 }}>\r\n                    <Grid item xs={12} sm={4}>\r\n                        <Card>\r\n                            <CardContent>\r\n                                <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                                    <TrendingUpIcon color=\"primary\" sx={{ mr: 1 }} />\r\n                                    <Typography variant=\"subtitle1\">\r\n                                        Complete Your Profile\r\n                                    </Typography>\r\n                                </Box>\r\n                                <Typography variant=\"body2\" color=\"textSecondary\">\r\n                                    Complete profiles get more attention from employers.\r\n                                </Typography>\r\n                                <LinearProgress\r\n                                    variant=\"determinate\"\r\n                                    value={stats?.profile_completion || 0}\r\n                                    sx={{ mt: 2 }}\r\n                                />\r\n                                <Typography variant=\"caption\" sx={{ display: 'block', mt: 0.5, textAlign: 'right' }}>\r\n                            {typeof stats?.profile_completion === 'number' ? `${stats.profile_completion}% Complete` : `${stats?.profile_completion ?? 0}% Complete`}\r\n                                </Typography>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} sm={4}>\r\n                        <Card>\r\n                            <CardContent>\r\n                                <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                                    <PlayCircleOutlineIcon color=\"primary\" sx={{ mr: 1 }} />\r\n                                    <Typography variant=\"subtitle1\">\r\n                                        Add Video CV\r\n                                    </Typography>\r\n                                </Box>\r\n                                <Typography variant=\"body2\" color=\"textSecondary\">\r\n                                    A video increases matching chances by 70% and makes you stand out.\r\n                                </Typography>\r\n                                <Button\r\n                                    variant=\"outlined\"\r\n                                    color=\"primary\"\r\n                                    fullWidth\r\n                                    sx={{ mt: 2 }}\r\n                                    onClick={handleUploadVideoClick}\r\n                                >\r\n                                    Upload Video\r\n                                </Button>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} sm={4}>\r\n                    <Card>\r\n                        <CardContent>\r\n                            <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                                <WorkIcon color=\"primary\" sx={{ mr: 1 }} />\r\n                                <Typography variant=\"subtitle1\">\r\n                                    Update Your Skills\r\n                                </Typography>\r\n                            </Box>\r\n                            <Typography variant=\"body2\" color=\"textSecondary\">\r\n                                Add the most in-demand skills in your field to increase your visibility.\r\n                            </Typography>\r\n                            <Button\r\n                                    variant=\"outlined\"\r\n                                    color=\"primary\"\r\n                                    fullWidth\r\n                                    sx={{ mt: 2 }}\r\n                                    onClick={handleOpenAddSkill}\r\n                                >\r\n                                    Add Skills\r\n                                </Button>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n            </Grid>\r\n        </Paper>\r\n\r\n        {/* Add Skill Dialog */}\r\n        <Dialog open={openAddSkillDialog} onClose={handleCloseAddSkill} maxWidth=\"sm\" fullWidth>\r\n            <DialogTitle>Add a Skill</DialogTitle>\r\n            <DialogContent>\r\n                <TextField\r\n                    label=\"Skill name\"\r\n                    value={newSkillName}\r\n                    onChange={(e) => setNewSkillName(e.target.value)}\r\n                    fullWidth\r\n                    sx={{ mb: 2 }}\r\n                />\r\n                <FormControl fullWidth sx={{ mb: 2 }}>\r\n                    <InputLabel>Level</InputLabel>\r\n                    <Select\r\n                        value={newSkillLevel}\r\n                        label=\"Level\"\r\n                        onChange={(e) => setNewSkillLevel(e.target.value)}\r\n                    >\r\n                        <MenuItem value=\"Beginner\">Beginner</MenuItem>\r\n                        <MenuItem value=\"Intermediate\">Intermediate</MenuItem>\r\n                        <MenuItem value=\"Advanced\">Advanced</MenuItem>\r\n                        <MenuItem value=\"Expert\">Expert</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n                <TextField\r\n                    label=\"Years of experience\"\r\n                    type=\"number\"\r\n                    value={newSkillYears}\r\n                    onChange={(e) => setNewSkillYears(e.target.value)}\r\n                    fullWidth\r\n                />\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={handleCloseAddSkill} disabled={addingSkill}>Cancel</Button>\r\n                <Button onClick={handleConfirmAddSkill} variant=\"contained\" disabled={addingSkill}>\r\n                    {addingSkill ? <CircularProgress size={20} /> : \"Add Skill\"}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n        {/* View All Recommendations Dialog */}\r\n        <Dialog open={viewAllOpen} onClose={() => setViewAllOpen(false)} maxWidth=\"md\" fullWidth>\r\n            <DialogTitle>Recommended Jobs</DialogTitle>\r\n            <DialogContent>\r\n                <List>\r\n                    {recommendations.length === 0 ? (\r\n                        <ListItem>\r\n                            <ListItemText primary=\"No recommendations\" secondary=\"There are no recommendations to show right now.\" />\r\n                        </ListItem>\r\n                    ) : (\r\n                        (recommendations.slice((viewAllPage - 1) * itemsPerPage, viewAllPage * itemsPerPage)).map((job) => (\r\n                            <ListItem key={job.id} sx={{ py: 1.5 }}>\r\n                                <Avatar src={job.company?.logo_url} sx={{ mr: 2 }} />\r\n                                <ListItemText\r\n                                    primary={job.title}\r\n                                    secondary={job.company?.name + (job.location ? ` â€¢ ${job.location}` : '')}\r\n                                />\r\n                                <Chip label={job.match_percentage ? `${job.match_percentage}%` : job.score ? Math.round(job.score) + '%' : 'â€”'} size=\"small\" color=\"primary\" />\r\n                            </ListItem>\r\n                        ))\r\n                    )}\r\n                </List>\r\n            </DialogContent>\r\n            <DialogActions sx={{ justifyContent: 'space-between', px: 3 }}> \r\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                    <Button onClick={() => setViewAllPage(p => Math.max(1, p - 1))} disabled={viewAllPage === 1}>Previous</Button>\r\n                    <Typography variant=\"body2\">Page {viewAllPage} of {Math.max(1, Math.ceil(recommendations.length / itemsPerPage))}</Typography>\r\n                    <Button onClick={() => setViewAllPage(p => Math.min(Math.ceil(recommendations.length / itemsPerPage), p + 1))} disabled={viewAllPage >= Math.ceil(recommendations.length / itemsPerPage)}>Next</Button>\r\n                </Box>\r\n                <Button onClick={() => setViewAllOpen(false)}>Close</Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    </DashboardContainer>\r\n);\r\n};\r\n\r\nexport default JobSeekerDashboard;\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\JobseekerExploreSidebar.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useEffect' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 35,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useEffect"
            },
            "fix": {
              "range": [
                32,
                43
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useEffect'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'drawerWidthDesktop' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 217,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 217,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "drawerWidthDesktop"
            },
            "fix": {
              "range": [
                6409,
                6439
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'drawerWidthDesktop'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'drawerWidthMobile' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 218,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 218,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "drawerWidthMobile"
            },
            "fix": {
              "range": [
                6443,
                6472
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'drawerWidthMobile'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'toggleDrawer' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 220,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 220,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "toggleDrawer"
            },
            "fix": {
              "range": [
                6478,
                6545
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'toggleDrawer'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'drawerContent' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 224,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 224,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "drawerContent"
            },
            "fix": {
              "range": [
                6551,
                8774
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'drawerContent'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useRef, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n  Box,\r\n  Drawer,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  Avatar,\r\n  Typography,\r\n  useTheme,\r\n  useMediaQuery\r\n} from \"@mui/material\";\r\nimport {\r\n  Home,\r\n  Search,\r\n  Group,\r\n  Bookmark,\r\n  Settings,\r\n  VideoLibrary,\r\n  Menu,\r\n  PlayArrow\r\n} from \"@mui/icons-material\";\r\n\r\n\r\n// --- Mock Data for Video Resumes (using Cloudinary URLs from previous example) ---\r\nconst mockVideoResumes = [\r\n  {\r\n    id: '1',\r\n    title: \"Full Stack Developer\",\r\n    experience: \"5 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935204/Jobseeker/wvepwzroiy6s942idqal.mp4'\r\n  },\r\n  {\r\n    id: '2',\r\n    title: \"Mobile App Developer\",\r\n    experience: \"3 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935204/Jobseeker/mrghiax1ijujzwzg5uwg.mp4'\r\n  },\r\n  {\r\n    id: '3',\r\n    title: \"Data Analyst\",\r\n    experience: \"4 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935199/Jobseeker/yioadeex8ubryf1uy8su.mp4'\r\n  },\r\n  {\r\n    id: '4',\r\n    title: \"Cloud Architect\",\r\n    experience: \"7 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935200/Jobseeker/mn3dew4rgwaaji9z23xd.mp4'\r\n  },\r\n  {\r\n    id: '5',\r\n    title: \"Technical Writer\",\r\n    experience: \"2 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935200/Jobseeker/fgb77awqtyrh5praep5u.mp4'\r\n  },\r\n  {\r\n    id: '6',\r\n    title: \"Network Engineer\",\r\n    experience: \"6 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935198/Jobseeker/ghqvk7qvqipsocpet1gp.mp4'\r\n  },\r\n  {\r\n    id: '7',\r\n    title: \"DevOps Specialist\",\r\n    experience: \"5 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935195/Jobseeker/oqzzdjldzfgd0qpratac.mp4'\r\n  },\r\n  {\r\n    id: '8',\r\n    title: \"Cybersecurity Analyst\",\r\n    experience: \"3 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935197/Jobseeker/vsae57raurfootdj5pvi.mp4'\r\n  },\r\n  {\r\n    id: '9',\r\n    title: \"Game Developer\",\r\n    experience: \"4 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935196/Jobseeker/h5qg3cfiszmjefiquvrm.mp4'\r\n  },\r\n  {\r\n    id: '10',\r\n    title: \"Product Manager\",\r\n    experience: \"8 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935194/Jobseeker/zedgzvmwlurqi4zhhluw.mp4'\r\n  },\r\n  {\r\n    id: '11',\r\n    title: \"AI Engineer\",\r\n    experience: \"6 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935193/Jobseeker/wjlhdsvjbg6pwwe8heoy.mp4'\r\n  },\r\n  {\r\n    id: '12',\r\n    title: \"UI/UX Designer\",\r\n    experience: \"3 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935193/Jobseeker/ds9oofsbwgtntxt3zgxx.mp4'\r\n  }\r\n];\r\n\r\n// --- Playable Video Preview Component ---\r\nconst PlayableVideoPreview = ({ title, experience, videoUrl, onClick }) => {\r\n  const theme = useTheme();\r\n  const videoRef = useRef(null);\r\n  const [isPlaying, setIsPlaying] = useState(false); // Initially paused\r\n\r\n  const handleMouseEnter = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.play().catch(e => console.error(\"Video autoplay on hover failed:\", e));\r\n      setIsPlaying(true);\r\n    }\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.pause();\r\n      setIsPlaying(false);\r\n      videoRef.current.currentTime = 0; // Reset video to start\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      onClick={onClick}\r\n      onMouseEnter={handleMouseEnter}\r\n      onMouseLeave={handleMouseLeave}\r\n      sx={{\r\n        position: \"relative\",\r\n        borderRadius: 2,\r\n        overflow: \"hidden\",\r\n        aspectRatio: \"9/16\", // Standard vertical video aspect ratio\r\n        bgcolor: theme.palette.action.hover,\r\n        cursor: \"pointer\",\r\n        pt:2,\r\n        transition: \"transform 0.2s\",\r\n        \"&:hover\": {\r\n          transform: \"scale(1.02)\",\r\n        }\r\n      }}\r\n    >\r\n     <video\r\n        ref={videoRef}\r\n        loop // Loop the video preview\r\n        //muted // Mute by default for autoplay on hover\r\n        playsInline // Important for mobile browsers\r\n        preload=\"metadata\" // Load enough data to get duration/dimensions\r\n        style={{\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n          objectFit: \"cover\",\r\n          opacity: 0.9,\r\n          display: 'block' // Remove extra space below video\r\n        }}\r\n      >\r\n        <source src={videoUrl} type=\"video/mp4\" />\r\n        {/* Fallback text for browsers that don't support the video tag */}\r\n        Your browser does not support the video tag.\r\n      </video>\r\n\r\n      {/* Play Icon - Visible when not playing on hover */}\r\n      {!isPlaying && (\r\n        <Box\r\n          className=\"play-icon-overlay\"\r\n          sx={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -50%)\",\r\n            color: \"#fff\",\r\n            bgcolor: \"rgba(255, 64, 129, 0.7)\", // Pinkish red\r\n            borderRadius: \"50%\",\r\n            p: 2,\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            opacity: 1, // Always visible when paused\r\n            transition: \"opacity 0.3s\",\r\n          }}\r\n        >\r\n          <PlayArrow fontSize=\"large\" />\r\n        </Box>\r\n      )}\r\n\r\n\r\n      <Box\r\n        sx={{\r\n          position: \"absolute\",\r\n          bottom: 0,\r\n          left: 0,\r\n          right: 0,\r\n          p: 2,\r\n          background: \"linear-gradient(transparent, rgba(0,0,0,0.8))\",\r\n          color: '#fff' // Ensure text is white\r\n        }}\r\n      >\r\n        <Typography variant=\"subtitle2\" color=\"inherit\" fontWeight=\"bold\">\r\n          {title}\r\n        </Typography>\r\n        <Typography variant=\"caption\" color=\"rgba(255,255,255,0.8)\">\r\n          {experience} experience\r\n        </Typography>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\n// --- JobseekerExplorePage Component ---\r\nconst JobseekerExplorePage = () => {\r\n  const [activeTab, setActiveTab] = useState(\"candidates\");\r\n  const [mobileOpen, setMobileOpen] = useState(false);\r\n  const navigate = useNavigate();\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n\r\n  const drawerWidthDesktop = 80;\r\n  const drawerWidthMobile = 60;\r\n\r\n  const toggleDrawer = () => {\r\n    setMobileOpen(!mobileOpen);\r\n  };\r\n\r\n  const drawerContent = <Box sx={{\r\n  //backgroundclr\r\n        height: \"100vh\", display: \"flex\", flexDirection: \"column\", alignItems: \"center\", pt: 2, \"& .MuiListItem-root\": { color: \"rgb(39, 56, 83)\", \"&.Mui-selected\": { color: \"#ffffff\" } } }}>\r\n      <Avatar src=\"/employer-logo.png\" sx={{ width: isMobile ? 36 : 48, height: isMobile ? 36 : 48, mb: 3, border: `2px solid ${theme.palette.text.primary}` }} />\r\n\r\n      <List sx={{ width: \"100%\" }}>\r\n        {[{ icon: <Home fontSize={isMobile ? \"small\" : \"medium\"} />, value: \"home\" }, { icon: <Search fontSize={isMobile ? \"small\" : \"medium\"} />, value: \"search\" }, { icon: <Group fontSize={isMobile ? \"small\" : \"medium\"} />, value: \"candidates\" }, { icon: <Bookmark fontSize={isMobile ? \"small\" : \"medium\"} />, value: \"saved\" }, { icon: <VideoLibrary fontSize={isMobile ? \"small\" : \"medium\"} />, value: \"video-resumes\" }].map(\r\n          item =>\r\n            <ListItem\r\n              key={item.value}\r\n              component=\"div\"\r\n              selected={activeTab === item.value}\r\n              onClick={() => {\r\n                setActiveTab(item.value);\r\n                if (isMobile) setMobileOpen(false);\r\n                if (item.value === \"home\") navigate(\"/\");\r\n              }}\r\n              sx={{\r\n                justifyContent: \"center\",\r\n                py: 2,\r\n                cursor: \"pointer\",\r\n                \"&.Mui-selected\": {\r\n                  borderLeft: `3px solid ${theme.palette.primary.main}`\r\n                }\r\n              }}\r\n            >\r\n              <ListItemIcon\r\n                sx={{\r\n                  minWidth: \"auto\",\r\n                  color:\r\n                    activeTab === item.value\r\n                      ? theme.palette.primary.main\r\n                      : theme.palette.text.primary\r\n                }}\r\n              >\r\n                {item.icon}\r\n              </ListItemIcon>\r\n            </ListItem>\r\n        )}\r\n      </List>\r\n\r\n      <Box sx={{ mt: \"auto\", pb: 2, display: \"flex\", justifyContent: \"center\" }}>\r\n        <IconButton sx={{ color: theme.palette.text.white, p: isMobile ? 0.5 : 1 }}>\r\n          <Settings fontSize={isMobile ? \"small\" : \"medium\"} />\r\n        </IconButton>\r\n      </Box>\r\n    </Box>;\r\n\r\n  return (\r\n    <Box sx={{ display: \"flex\" }}>\r\n      {/* Mobile Menu Icon */}\r\n      {/*{isMobile && (\r\n        <IconButton\r\n          color=\"#ffffff\"\r\n          aria-label=\"open drawer\"\r\n          onClick={toggleDrawer}\r\n          sx={{\r\n            position: \"fixed\",\r\n            top: 16,\r\n            left: 16,\r\n            zIndex: theme.zIndex.drawer + 1,\r\n            color: \"#ffffff\",\r\n          }}\r\n        >\r\n          <Menu />\r\n        </IconButton>\r\n      )}\r\n\r\n       Responsive Drawer \r\n      <Drawer\r\n        variant={isMobile ? \"temporary\" : \"permanent\"}\r\n        open={isMobile ? mobileOpen : true}\r\n        onClose={toggleDrawer}\r\n        ModalProps={{ keepMounted: true }}\r\n        sx={{\r\n          width: isMobile ? drawerWidthMobile : drawerWidthDesktop,\r\n          flexShrink: 0,\r\n          \"& .MuiDrawer-paper\": {\r\n            width: isMobile ? drawerWidthMobile : drawerWidthDesktop,\r\n            boxSizing: \"border-box\",\r\n            borderRight: \"none\",\r\n            bgcolor: theme.palette.background.paper,\r\n            display: \"flex\",\r\n            flexDirection: \"column\"\r\n          }\r\n        }}\r\n      >\r\n        {drawerContent}\r\n      </Drawer>*/}\r\n\r\n      {/* Main Content */}\r\n      <Box\r\n        component=\"main\"\r\n        sx={{\r\n          flexGrow: 1,\r\n          p: 2,\r\n          mt: 0,\r\n          pl:5,\r\n          height: \"100vh\",\r\n          bgcolor: 'background.default',\r\n          overflowY: \"auto\"\r\n        }}\r\n      >\r\n        <Box\r\n          sx={{\r\n            display: \"grid\",\r\n            gridTemplateColumns: \"repeat(auto-fill, minmax(300px, 1fr))\",\r\n            gap: 2\r\n          }}\r\n        >\r\n          {mockVideoResumes.map(video => (\r\n            <PlayableVideoPreview\r\n              key={video.id}\r\n              title={video.title}\r\n              experience={video.experience}\r\n              videoUrl={video.videoUrl} // Pass the video URL\r\n              onClick={() => navigate(`/jobseeker-video-feed/${video.id}`)} // Navigate to feed on click\r\n            />\r\n          ))}\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default JobseekerExplorePage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\JobseekerPointsPage.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\JobSeekerProfile.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'themeColors' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 41,
        "column": 8,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 41,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "themeColors"
            },
            "fix": {
              "range": [
                1012,
                1029
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'themeColors'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setCurrentVideoIndex' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 61,
        "column": 29,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 61,
        "endColumn": 49,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setCurrentVideoIndex"
            },
            "fix": {
              "range": [
                1820,
                1842
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setCurrentVideoIndex'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchProfileData'. Either include it or remove the dependency array.",
        "line": 65,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 65,
        "endColumn": 8,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchProfileData]",
            "fix": {
              "range": [
                1913,
                1915
              ],
              "text": "[fetchProfileData]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { \r\n  getUserProfile, \r\n  getUserVideos, \r\n  getUserSkills, \r\n  getUserExperiences, \r\n  getUserEducation \r\n} from '../services/api.js';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/UI/card.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport localize from '@/utils/localize';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/UI/avatar.jsx';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/UI/tabs.jsx';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport {\r\n  User,\r\n  MapPin,\r\n  Mail,\r\n  Phone,\r\n  Globe,\r\n  Linkedin,\r\n  Github,\r\n  Twitter,\r\n  Briefcase,\r\n  GraduationCap,\r\n  Calendar,\r\n  Edit,\r\n  Play,\r\n  Pause,\r\n  Heart,\r\n  Share2,\r\n  Bookmark,\r\n  Volume2,\r\n  VolumeX,\r\n  Loader2,\r\n  Award,\r\n  FileText\r\n} from 'lucide-react';\r\nimport themeColors from '@/config/theme-colors-jobseeker';\r\n\r\nconst VITE_API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:5000';\r\n\r\nexport default function JobSeekerProfile() {\r\n  const navigate = useNavigate();\r\n  const { toast } = useToast();\r\n  const videoRef = useRef(null);\r\n\r\n  const [profile, setProfile] = useState(null);\r\n  const [videos, setVideos] = useState([]);\r\n  const [skills, setSkills] = useState([]);\r\n  const [experiences, setExperiences] = useState([]);\r\n  const [education, setEducation] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  \r\n  // Video player state\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [currentVideoIndex, setCurrentVideoIndex] = useState(0);\r\n\r\n  useEffect(() => {\r\n    fetchProfileData();\r\n  }, []);\r\n\r\n  const fetchProfileData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const [profileRes, videosRes, skillsRes, expRes, eduRes] = await Promise.all([\r\n        getUserProfile(),\r\n        getUserVideos(),\r\n        getUserSkills(),\r\n        getUserExperiences(),\r\n        getUserEducation()\r\n      ]);\r\n\r\n      setProfile(profileRes.data);\r\n      setVideos(videosRes.data.videos || []);\r\n      setSkills(skillsRes.data.skills || []);\r\n      setExperiences(expRes.data.experiences || []);\r\n      setEducation(eduRes.data.education || []);\r\n    } catch (error) {\r\n      console.error('Error fetching profile data:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to load profile data\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handlePlayPause = () => {\r\n    if (videoRef.current) {\r\n      if (isPlaying) {\r\n        videoRef.current.pause();\r\n      } else {\r\n        videoRef.current.play();\r\n      }\r\n      setIsPlaying(!isPlaying);\r\n    }\r\n  };\r\n\r\n  const handleMuteToggle = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.muted = !isMuted;\r\n      setIsMuted(!isMuted);\r\n    }\r\n  };\r\n\r\n  const handleEditProfile = (openTab = '', action = '') => {\r\n    // Navigate to the profile tab inside the jobseeker-tabs layout\r\n    // `jobseekerTabsConfig` uses the group key `profileContent` and the tab path `my-profile`.\r\n    // Add mode=edit so the tab renders the edit form.\r\n    // Optionally pass openTab and action so EditJobSeekerProfile can select a specific inner tab\r\n    // and open the add dialog (e.g. openTab=skills&action=add).\r\n    let url = '/jobseeker-tabs?group=profileContent&tab=my-profile&mode=edit';\r\n    if (openTab) url += `&openTab=${encodeURIComponent(openTab)}`;\r\n    if (action) url += `&action=${encodeURIComponent(action)}`;\r\n    navigate(url);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-screen\">\r\n        <Loader2 className=\"h-12 w-12 animate-spin ${themeColors.iconBackgrounds.primary.split(' ')[1]}\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const currentVideo = videos[currentVideoIndex];\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-6 px-4 max-w-7xl\">\r\n      {/* Header Section */}\r\n      <div className=\"mb-8\">\r\n        <Card className=\"border-l-4 border-l-cyan-500\">\r\n          <CardContent className=\"p-8\">\r\n            <div className=\"flex flex-col lg:flex-row gap-6\">\r\n              {/* Profile Info Section */}\r\n              <div className=\"flex-grow\">\r\n                <div className=\"flex items-start gap-6 mb-6\">\r\n                  {/* Avatar */}\r\n                  <Avatar className=\"h-24 w-24\">\r\n                    <AvatarImage \r\n                      src={profile?.profilePicture ? `${VITE_API_BASE_URL}${profile.profilePicture}` : ''} \r\n                      alt={profile?.fullName}\r\n                    />\r\n                    <AvatarFallback className=\"bg-gradient-to-br from-cyan-500 to-purple-500 text-white text-3xl\">\r\n                      {profile?.fullName?.charAt(0) || 'U'}\r\n                    </AvatarFallback>\r\n                  </Avatar>\r\n\r\n                  {/* Name & Title */}\r\n                  <div className=\"flex-grow\">\r\n                    <div className=\"flex justify-between items-start mb-3\">\r\n                      <div>\r\n                        <h1 className=\"text-4xl font-bold mb-2\">{profile?.fullName || 'User Name'}</h1>\r\n                        <p className=\"text-xl text-muted-foreground\">{profile?.headline || 'Professional Title'}</p>\r\n                      </div>\r\n                      <Button onClick={handleEditProfile} className=\"bg-cyan-600 hover:bg-cyan-700\">\r\n                        <Edit className=\"h-4 w-4 mr-2\" />\r\n                        Edit Profile\r\n                      </Button>\r\n                    </div>\r\n\r\n                    {/* Contact Info Grid */}\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                      {profile?.location && (\r\n                        <div className=\"flex items-center gap-2 text-sm\">\r\n                          <MapPin className=\"h-4 w-4 text-muted-foreground\" />\r\n                          <span>{profile.location}</span>\r\n                        </div>\r\n                      )}\r\n\r\n                      {profile?.email && (\r\n                        <div className=\"flex items-center gap-2 text-sm\">\r\n                          <Mail className=\"h-4 w-4 text-muted-foreground\" />\r\n                          <a href={`mailto:${profile.email}`} className=\"hover:text-cyan-600\">\r\n                            {profile.email}\r\n                          </a>\r\n                        </div>\r\n                      )}\r\n\r\n                      {profile?.phone && (\r\n                        <div className=\"flex items-center gap-2 text-sm\">\r\n                          <Phone className=\"h-4 w-4 text-muted-foreground\" />\r\n                          <span>{profile.phone}</span>\r\n                        </div>\r\n                      )}\r\n\r\n                      {profile?.website && (\r\n                        <div className=\"flex items-center gap-2 text-sm\">\r\n                          <Globe className=\"h-4 w-4 text-muted-foreground\" />\r\n                          <a href={profile.website} target=\"_blank\" rel=\"noopener noreferrer\" className=\"hover:text-cyan-600\">\r\n                            Website\r\n                          </a>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    {/* Social Links */}\r\n                    {(profile?.linkedin || profile?.github || profile?.twitter) && (\r\n                      <div className=\"flex gap-2 mt-4\">\r\n                        {profile?.linkedin && (\r\n                          <Button variant=\"outline\" size=\"icon\" asChild>\r\n                            <a href={profile.linkedin} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                              <Linkedin className=\"h-4 w-4\" />\r\n                            </a>\r\n                          </Button>\r\n                        )}\r\n                        {profile?.github && (\r\n                          <Button variant=\"outline\" size=\"icon\" asChild>\r\n                            <a href={profile.github} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                              <Github className=\"h-4 w-4\" />\r\n                            </a>\r\n                          </Button>\r\n                        )}\r\n                        {profile?.twitter && (\r\n                          <Button variant=\"outline\" size=\"icon\" asChild>\r\n                            <a href={profile.twitter} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                              <Twitter className=\"h-4 w-4\" />\r\n                            </a>\r\n                          </Button>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* About Me */}\r\n                {profile?.bio && (\r\n                  <div>\r\n                    <h3 className=\"font-semibold text-lg mb-2\">About Me</h3>\r\n                    <p className=\"text-muted-foreground whitespace-pre-line\">{profile.bio}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Video Resume Section */}\r\n              {currentVideo && (\r\n                <div className=\"lg:w-[350px] flex-shrink-0\">\r\n                  <Card className=\"overflow-hidden\">\r\n                    <CardHeader className=\"bg-gradient-to-r from-cyan-600 to-purple-600 text-white p-4\">\r\n                      <CardTitle className=\"text-lg\">Video Resume</CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent className=\"p-0\">\r\n                      <div className=\"relative bg-black aspect-[9/16] max-h-[450px]\">\r\n                        <video\r\n                          ref={videoRef}\r\n                          src={`${VITE_API_BASE_URL}${currentVideo.videoUrl}`}\r\n                          className=\"w-full h-full object-cover\"\r\n                          loop\r\n                          onClick={handlePlayPause}\r\n                        />\r\n                        \r\n                        {/* Video Controls Overlay */}\r\n                        <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 hover:opacity-100 transition-opacity\">\r\n                          <div className=\"absolute bottom-0 left-0 right-0 p-4 space-y-3\">\r\n                            {/* Play/Pause Button */}\r\n                            <div className=\"flex justify-center\">\r\n                              <Button \r\n                                size=\"icon\" \r\n                                variant=\"ghost\" \r\n                                className=\"h-12 w-12 rounded-full bg-white/20 hover:bg-white/30 text-white\"\r\n                                onClick={handlePlayPause}\r\n                              >\r\n                                {isPlaying ? <Pause className=\"h-6 w-6\" /> : <Play className=\"h-6 w-6\" />}\r\n                              </Button>\r\n                            </div>\r\n\r\n                            {/* Action Buttons */}\r\n                            <div className=\"flex justify-between items-center\">\r\n                              <div className=\"flex gap-2\">\r\n                                <Button size=\"icon\" variant=\"ghost\" className=\"text-white hover:bg-white/20\">\r\n                                  <Heart className=\"h-5 w-5\" />\r\n                                </Button>\r\n                                <Button size=\"icon\" variant=\"ghost\" className=\"text-white hover:bg-white/20\">\r\n                                  <Bookmark className=\"h-5 w-5\" />\r\n                                </Button>\r\n                                <Button size=\"icon\" variant=\"ghost\" className=\"text-white hover:bg-white/20\">\r\n                                  <Share2 className=\"h-5 w-5\" />\r\n                                </Button>\r\n                              </div>\r\n                              <Button \r\n                                size=\"icon\" \r\n                                variant=\"ghost\" \r\n                                className=\"text-white hover:bg-white/20\"\r\n                                onClick={handleMuteToggle}\r\n                              >\r\n                                {isMuted ? <VolumeX className=\"h-5 w-5\" /> : <Volume2 className=\"h-5 w-5\" />}\r\n                              </Button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Video Title */}\r\n                      <div className=\"p-4\">\r\n                        <p className=\"font-medium\">{currentVideo.title}</p>\r\n                        {currentVideo.description && (\r\n                          <p className=\"text-sm text-muted-foreground mt-1\">{currentVideo.description}</p>\r\n                        )}\r\n                      </div>\r\n                    </CardContent>\r\n                  </Card>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Tabs Section */}\r\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\r\n        <TabsList className=\"grid w-full grid-cols-4\">\r\n          <TabsTrigger value=\"overview\">Overview</TabsTrigger>\r\n          <TabsTrigger value=\"experience\">Experience</TabsTrigger>\r\n          <TabsTrigger value=\"education\">Education</TabsTrigger>\r\n          <TabsTrigger value=\"skills\">Skills</TabsTrigger>\r\n        </TabsList>\r\n\r\n        {/* Overview Tab */}\r\n        <TabsContent value=\"overview\" className=\"space-y-6\">\r\n          {/* Skills Preview */}\r\n          {skills.length > 0 && (\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Award className=\"h-5 w-5 text-cyan-600\" />\r\n                  Top Skills\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {skills.slice(0, 10).map((skill, index) => (\r\n                    <Badge key={index} variant=\"secondary\" className=\"bg-cyan-100 text-cyan-800\">\r\n                      {skill.name}\r\n                      {skill.level && <span className=\"ml-1 text-xs\">Ã¢â‚¬Â¢ {skill.level}</span>}\r\n                    </Badge>\r\n                  ))}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n\r\n          {/* Latest Experience */}\r\n          {experiences.length > 0 && (\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Briefcase className=\"h-5 w-5 ${themeColors.iconBackgrounds.primary.split(' ')[1]}\" />\r\n                  Latest Experience\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                {experiences.slice(0, 2).map((exp, index) => (\r\n                  <div key={index} className={index > 0 ? \"mt-4 pt-4 border-t\" : \"\"}>\r\n                    <h3 className=\"font-semibold text-lg\">{exp.title}</h3>\r\n                    <p className=\"text-muted-foreground\">{exp.company}</p>\r\n                    <div className=\"flex items-center gap-2 text-sm text-muted-foreground mt-1\">\r\n                      <Calendar className=\"h-3 w-3\" />\r\n                      <span>\r\n                        {exp.startDate} - {exp.current ? 'Present' : exp.endDate}\r\n                      </span>\r\n                    </div>\r\n                    {exp.description && (\r\n                      <p className=\"mt-2 text-sm\">{exp.description}</p>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n\r\n          {/* Latest Education */}\r\n          {education.length > 0 && (\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <GraduationCap className=\"h-5 w-5 text-cyan-600\" />\r\n                  Education\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                {education.slice(0, 2).map((edu, index) => (\r\n                  <div key={index} className={index > 0 ? \"mt-4 pt-4 border-t\" : \"\"}>\r\n                    <h3 className=\"font-semibold text-lg\">{edu.degree}</h3>\r\n                    <p className=\"text-muted-foreground\">{edu.institution}</p>\r\n                    <div className=\"flex items-center gap-2 text-sm text-muted-foreground mt-1\">\r\n                      <Calendar className=\"h-3 w-3\" />\r\n                      <span>\r\n                        {edu.startYear} - {edu.endYear || 'Present'}\r\n                      </span>\r\n                    </div>\r\n                    {edu.description && (\r\n                      <p className=\"mt-2 text-sm\">{edu.description}</p>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n        </TabsContent>\r\n\r\n        {/* Experience Tab */}\r\n        <TabsContent value=\"experience\" className=\"space-y-6\">\r\n          {experiences.length > 0 ? (\r\n            experiences.map((exp, index) => (\r\n              <Card key={index} className=\"border-l-4 border-l-purple-500\">\r\n                <CardContent className=\"p-6\">\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div>\r\n                      <h3 className=\"font-semibold text-xl\">{exp.title}</h3>\r\n                      <p className=\"text-lg text-muted-foreground\">{exp.company}</p>\r\n                      <div className=\"flex items-center gap-2 text-sm text-muted-foreground mt-2\">\r\n                        <Calendar className=\"h-4 w-4\" />\r\n                        <span>\r\n                          {exp.startDate} - {exp.current ? 'Present' : exp.endDate}\r\n                        </span>\r\n                      </div>\r\n                      {exp.location && (\r\n                        <div className=\"flex items-center gap-2 text-sm text-muted-foreground mt-1\">\r\n                          <MapPin className=\"h-4 w-4\" />\r\n                          <span>{exp.location}</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    {exp.current && (\r\n                      <Badge className=\"bg-green-100 text-green-800\">Current</Badge>\r\n                    )}\r\n                  </div>\r\n                  {exp.description && (\r\n                    <p className=\"mt-4 text-muted-foreground whitespace-pre-line\">{exp.description}</p>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n            ))\r\n          ) : (\r\n            <Card className=\"text-center py-12\">\r\n              <CardContent>\r\n                <Briefcase className=\"h-16 w-16 mx-auto text-muted-foreground mb-4\" />\r\n                <h3 className=\"text-xl font-semibold mb-2\">No experience added yet</h3>\r\n                <p className=\"text-muted-foreground mb-4\">\r\n                  Add your work experience to showcase your professional journey\r\n                </p>\r\n                <Button \r\n                  onClick={() => handleEditProfile('experience', 'add')}\r\n                  className=\"bg-gradient-to-r from-cyan-600 to-purple-600 hover:from-cyan-700 hover:to-purple-700\"\r\n                >\r\n                  Add Experience\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n        </TabsContent>\r\n\r\n        {/* Education Tab */}\r\n        <TabsContent value=\"education\" className=\"space-y-6\">\r\n          {education.length > 0 ? (\r\n            education.map((edu, index) => (\r\n              <Card key={index} className=\"border-l-4 border-l-cyan-500\">\r\n                <CardContent className=\"p-6\">\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div>\r\n                      <h3 className=\"font-semibold text-xl\">{edu.degree}</h3>\r\n                      <p className=\"text-lg text-muted-foreground\">{edu.institution}</p>\r\n                      <div className=\"flex items-center gap-2 text-sm text-muted-foreground mt-2\">\r\n                        <Calendar className=\"h-4 w-4\" />\r\n                        <span>\r\n                          {edu.startYear} - {edu.endYear || 'Present'}\r\n                        </span>\r\n                      </div>\r\n                      {edu.fieldOfStudy && (\r\n                        <div className=\"flex items-center gap-2 text-sm mt-1\">\r\n                          <Badge variant=\"outline\">{localize(edu.fieldOfStudy)}</Badge>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    {edu.gpa && (\r\n                      <Badge variant=\"secondary\">GPA: {edu.gpa}</Badge>\r\n                    )}\r\n                  </div>\r\n                  {edu.description && (\r\n                    <p className=\"mt-4 text-muted-foreground whitespace-pre-line\">{edu.description}</p>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n            ))\r\n          ) : (\r\n            <Card className=\"text-center py-12\">\r\n              <CardContent>\r\n                <GraduationCap className=\"h-16 w-16 mx-auto text-muted-foreground mb-4\" />\r\n                <h3 className=\"text-xl font-semibold mb-2\">No education added yet</h3>\r\n                <p className=\"text-muted-foreground mb-4\">\r\n                  Add your educational background to complete your profile\r\n                </p>\r\n                <Button \r\n                  onClick={() => handleEditProfile('education', 'add')}\r\n                  className=\"bg-gradient-to-r from-cyan-600 to-purple-600 hover:from-cyan-700 hover:to-purple-700\"\r\n                >\r\n                  Add Education\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n        </TabsContent>\r\n\r\n        {/* Skills Tab */}\r\n        <TabsContent value=\"skills\" className=\"space-y-6\">\r\n          {skills.length > 0 ? (\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>All Skills</CardTitle>\r\n                <CardDescription>\r\n                  {skills.length} skill{skills.length !== 1 ? 's' : ''} listed\r\n                </CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"flex flex-wrap gap-3\">\r\n                  {skills.map((skill, index) => (\r\n                    <Badge \r\n                      key={index} \r\n                      variant=\"secondary\" \r\n                      className=\"bg-gradient-to-r from-cyan-100 to-purple-100 text-gray-800 px-4 py-2 text-sm\"\r\n                    >\r\n                      {skill.name}\r\n                      {skill.level && (\r\n                        <span className=\"ml-2 text-xs opacity-75\">Ã¢â‚¬Â¢ {skill.level}</span>\r\n                      )}\r\n                    </Badge>\r\n                  ))}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          ) : (\r\n            <Card className=\"text-center py-12\">\r\n              <CardContent>\r\n                <Award className=\"h-16 w-16 mx-auto text-muted-foreground mb-4\" />\r\n                <h3 className=\"text-xl font-semibold mb-2\">No skills added yet</h3>\r\n                <p className=\"text-muted-foreground mb-4\">\r\n                  Add your skills to help employers find you\r\n                </p>\r\n                <Button \r\n                  onClick={() => handleEditProfile('skills', 'add')}\r\n                  className=\"bg-gradient-to-r from-cyan-600 to-purple-600 hover:from-cyan-700 hover:to-purple-700\"\r\n                >\r\n                  Add Skills\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n        </TabsContent>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\JobseekerProfileView.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState, useEffect, useRef  } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Grid,\r\n  Typography,\r\n  Avatar,\r\n  Chip,\r\n  Tabs,\r\n  Tab,\r\n  Card,\r\n  CardContent,\r\n  IconButton,\r\n  Divider,\r\n  Paper,\r\n  styled,\r\n  useTheme,\r\n  useMediaQuery,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  Tooltip\r\n} from '@mui/material';\r\nimport {\r\n  PlayArrow as PlayArrowIcon,\r\n  Pause as PauseIcon,\r\n  Favorite as FavoriteIcon,\r\n  Share as ShareIcon,\r\n  Bookmark as BookmarkIcon,\r\n  Work as WorkIcon,\r\n  School as SchoolIcon,\r\n  LocationOn as LocationIcon,\r\n  Email as EmailIcon,\r\n  Phone as PhoneIcon,\r\n  Language as LanguageIcon,\r\n  LinkedIn as LinkedInIcon,\r\n  GitHub as GitHubIcon,\r\n  Twitter as TwitterIcon,\r\n  VolumeUp,\r\n  VolumeOff\r\n} from '@mui/icons-material';\r\nimport { useParams } from 'react-router-dom';\r\nimport { getJobSeekerProfile, getUserVideosByUserId, getJobSeekerSkills, getJobSeekerExperiences, getJobSeekerEducation } from '../services/api.js';\r\n\r\n// Enhanced styled components (same as original)\r\nconst ProfileContainer = styled(Box)(({ theme }) => ({\r\n  backgroundColor: theme.palette.background.paper,\r\n  minHeight: '100vh',\r\n  paddingTop: theme.spacing(4),\r\n  paddingBottom: theme.spacing(6)\r\n}));\r\n\r\nconst ProfileHeader = styled(Box)(({ theme }) => ({\r\n  position: 'relative',\r\n  marginBottom: theme.spacing(4),\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  gap: theme.spacing(3),\r\n  [theme.breakpoints.up('md')]: {\r\n    flexDirection: 'row',\r\n    gap: theme.spacing(4)\r\n  }\r\n}));\r\n\r\nconst ProfileInfo = styled(Box)(({ theme }) => ({\r\n  flex: 1,\r\n  padding: theme.spacing(3),\r\n  borderRadius: theme.shape.borderRadius,\r\n  backgroundColor: theme.palette.background.default,\r\n  boxShadow: theme.shadows[1],\r\n  [theme.breakpoints.up('md')]: {\r\n    paddingRight: theme.spacing(4),\r\n  }\r\n}));\r\n\r\nconst MainVideoContainer = styled(Box)(({ theme }) => ({\r\n  width: '100%',\r\n  height: 300,\r\n  borderRadius: theme.shape.borderRadius,\r\n  overflow: 'hidden',\r\n  position: 'relative',\r\n  backgroundColor: theme.palette.grey[900],\r\n  boxShadow: theme.shadows[4],\r\n  [theme.breakpoints.up('md')]: {\r\n    width: 350,\r\n    height: 450,\r\n    flexShrink: 0\r\n  }\r\n}));\r\n\r\nconst VideoControls = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  bottom: 0,\r\n  left: 0,\r\n  right: 0,\r\n  color: '#fff',\r\n  padding: theme.spacing(1),\r\n  backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'space-between',\r\n  transition: 'opacity 0.3s ease',\r\n}));\r\n\r\nconst VideoActions = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  right: theme.spacing(2),\r\n  top: theme.spacing(2),\r\n  display: 'flex',\r\n  color: theme.palette.common.white,\r\n  flexDirection: 'column',\r\n  alignItems: 'center',\r\n  gap: theme.spacing(2),\r\n  opacity: 0.8,\r\n  '&:hover': {\r\n    opacity: 1\r\n  }\r\n}));\r\n\r\nconst ProfileAvatar = styled(Avatar)(({ theme }) => ({\r\n  width: 120,\r\n  height: 120,\r\n  border: `4px solid ${theme.palette.primary.main}`,\r\n  marginRight: theme.spacing(3),\r\n  boxShadow: theme.shadows[4]\r\n}));\r\n\r\nconst SkillChip = styled(Chip)(({ theme }) => ({\r\n  margin: theme.spacing(0.5),\r\n  backgroundColor: theme.palette.primary.light,\r\n  color: theme.palette.primary.contrastText,\r\n  fontWeight: 500,\r\n  '&:hover': {\r\n    backgroundColor: theme.palette.primary.main,\r\n    transform: 'translateY(-2px)'\r\n  }\r\n}));\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`profile-tabpanel-${index}`}\r\n      aria-labelledby={`profile-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>\r\n          {children}\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst VideoCard = styled(Card)(({ theme }) => ({\r\n  height: '100%',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  borderRadius: theme.shape.borderRadius,\r\n  overflow: 'hidden',\r\n  transition: 'transform 0.3s ease, box-shadow 0.3s ease',\r\n  '&:hover': {\r\n    transform: 'translateY(-8px)',\r\n    boxShadow: theme.shadows[8],\r\n    '& $VideoCardMedia': {\r\n      '&:after': {\r\n        opacity: 1\r\n      }\r\n    }\r\n  }\r\n}));\r\n\r\nconst VideoCardMedia = styled(Box)(({ theme }) => ({\r\n  position: 'relative',\r\n  paddingTop: '56.25%', // 16:9 aspect ratio\r\n  backgroundColor: theme.palette.grey[800],\r\n  '&:after': {\r\n    content: '\"\"',\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    background: 'rgba(0,0,0,0.2)',\r\n    opacity: 0,\r\n    transition: 'opacity 0.3s ease'\r\n  }\r\n}));\r\n\r\nconst VideoPlayButton = styled(IconButton)(({ theme }) => ({\r\n  position: 'absolute',\r\n  top: '50%',\r\n  left: '50%',\r\n  transform: 'translate(-50%, -50%)',\r\n  backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n  color: theme.palette.common.white,\r\n  '&:hover': {\r\n    backgroundColor: theme.palette.primary.main,\r\n    transform: 'translate(-50%, -50%) scale(1.1)'\r\n  }\r\n}));\r\n\r\nconst ExperienceCard = styled(Card)(({ theme }) => ({\r\n  marginBottom: theme.spacing(3),\r\n  borderLeft: `4px solid ${theme.palette.primary.main}`,\r\n  transition: 'transform 0.3s ease',\r\n  '&:hover': {\r\n    transform: 'translateX(5px)'\r\n  }\r\n}));\r\n\r\nconst JobSeekerPublicProfile = ({userId:propUserId}) => {\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\r\n  const { userId  } = useParams(); // Get job seeker ID from URL params\r\n  \r\n  const id = userId || propUserId; // Use propUserId if userId is not available in URL\r\n  // State\r\n  const [tabValue, setTabValue] = useState(0);\r\n  const [profile, setProfile] = useState(null);\r\n  const [skills, setSkills] = useState([]);\r\n  const [experiences, setExperiences] = useState([]);\r\n  const [education, setEducation] = useState([]);\r\n  const [videos, setVideos] = useState([]);\r\n  const [mainVideo, setMainVideo] = useState({ video_url: '', video_title: '' });\r\n  const [loading, setLoading] = useState(true);\r\n  \r\n  // Video states\r\n  const [mainVideoState, setMainVideoState] = useState({\r\n    isPlaying: false,\r\n    isMuted: true\r\n  });\r\n  \r\n  const [videoStates, setVideoStates] = useState({});\r\n  \r\n  // Refs\r\n  const mainVideoRef = useRef(null);\r\n  const videoRefs = useRef({});\r\n  \r\n  // Fetch job seeker data by ID\r\n  useEffect(() => {\r\n    const fetchJobSeekerData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        const profileResponse = await getJobSeekerProfile(id);\r\n        setProfile(profileResponse.data);\r\n        \r\n        const skillsResponse = await getJobSeekerSkills(id);\r\n        setSkills(skillsResponse.data.skills);\r\n        \r\n        const experiencesResponse = await getJobSeekerExperiences(id);\r\n        const educationResponse = await getJobSeekerEducation(id);\r\n        setExperiences(experiencesResponse.data.experiences);\r\n        setEducation(educationResponse.data.educations);\r\n        \r\n        const videosResponse = await getUserVideosByUserId(id);\r\n        setVideos(videosResponse.data.videos);\r\n        \r\n        const mainVideo = videosResponse.data.videos.find(video => video.video_position === \"main\");\r\n        setMainVideo(mainVideo || { video_url: '', video_title: '' });\r\n        \r\n        // Initialize video states\r\n        const initialVideoStates = {};\r\n        videosResponse.data.videos.forEach(video => {\r\n          initialVideoStates[video.id] = {\r\n            isPlaying: false,\r\n            isMuted: true\r\n          };\r\n        });\r\n        setVideoStates(initialVideoStates);\r\n        \r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error('Error fetching job seeker data:', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    if (id) {\r\n      fetchJobSeekerData();\r\n    }\r\n  }, [id]);\r\n  \r\n  const handleTabChange = (event, newValue) => {\r\n    setTabValue(newValue);\r\n  };\r\n  \r\n  // Main video controls\r\n  const toggleMainVideoPlayback = () => {\r\n    if (mainVideoRef.current) {\r\n      if (mainVideoState.isPlaying) {\r\n        mainVideoRef.current.pause();\r\n      } else {\r\n        mainVideoRef.current.play();\r\n      }\r\n      setMainVideoState(prev => ({\r\n        ...prev,\r\n        isPlaying: !prev.isPlaying\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const toggleMainVideoMute = () => {\r\n    if (mainVideoRef.current) {\r\n      mainVideoRef.current.muted = !mainVideoState.isMuted;\r\n      setMainVideoState(prev => ({\r\n        ...prev,\r\n        isMuted: !prev.isMuted\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const handleMainVideoEnded = () => {\r\n    setMainVideoState(prev => ({\r\n      ...prev,\r\n      isPlaying: false\r\n    }));\r\n  };\r\n  \r\n  // Gallery video controls\r\n  const toggleVideoPlayback = (videoId) => {\r\n    const videoRef = videoRefs.current[videoId];\r\n    if (videoRef) {\r\n      if (videoStates[videoId]?.isPlaying) {\r\n        videoRef.pause();\r\n      } else {\r\n        videoRef.play();\r\n      }\r\n      setVideoStates(prev => ({\r\n        ...prev,\r\n        [videoId]: {\r\n          ...prev[videoId],\r\n          isPlaying: !prev[videoId]?.isPlaying\r\n        }\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const toggleVideoMute = (videoId) => {\r\n    const videoRef = videoRefs.current[videoId];\r\n    if (videoRef) {\r\n      videoRef.muted = !videoStates[videoId]?.isMuted;\r\n      setVideoStates(prev => ({\r\n        ...prev,\r\n        [videoId]: {\r\n          ...prev[videoId],\r\n          isMuted: !prev[videoId]?.isMuted\r\n        }\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const VITE_API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:5000';\r\n\r\n  const handleVideoEnded = (videoId) => {\r\n    setVideoStates(prev => ({\r\n      ...prev,\r\n      [videoId]: {\r\n        ...prev[videoId],\r\n        isPlaying: false\r\n      }\r\n    }));\r\n  };\r\n  \r\n  // Format date\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'Present';\r\n    const date = new Date(dateString);\r\n    const months = [\r\n      'January', 'February', 'March', 'April', 'May', 'June',\r\n      'July', 'August', 'September', 'October', 'November', 'December'\r\n    ];\r\n    return `${months[date.getMonth()]} ${date.getFullYear()}`;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <ProfileContainer>\r\n        <Container maxWidth=\"lg\">\r\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"60vh\">\r\n            <Typography variant=\"h6\">Loading profile...</Typography>\r\n          </Box>\r\n        </Container>\r\n      </ProfileContainer>\r\n    );\r\n  }\r\n\r\n  if (!profile) {\r\n    return (\r\n      <ProfileContainer>\r\n        <Container maxWidth=\"lg\">\r\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"60vh\">\r\n            <Typography variant=\"h6\">Profile not found</Typography>\r\n          </Box>\r\n        </Container>\r\n      </ProfileContainer>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ProfileContainer sx={{\r\n      //backgroundclr \r\n      padding: 0,\r\n      minHeight: '100vh',\r\n      height: '100%', \r\n      mt: 0,\r\n      pt: 2, \r\n      mb: 0,\r\n      paddingBottom: 4,\r\n    }}>\r\n      <Container maxWidth=\"lg\"  sx={{ mt: isMobile ? 3 : 0 }}>\r\n        {/* Profile Header */}\r\n        <ProfileHeader>\r\n          <ProfileInfo>\r\n            <Box sx={{ display: 'flex', alignItems: 'center', mb: 3 }}>\r\n              <ProfileAvatar src={`${VITE_API_BASE_URL}${profile.profile_pic}`} alt={profile.name} />\r\n              <Box>\r\n                <Typography variant=\"h4\" component=\"h1\" gutterBottom fontWeight=\"bold\">\r\n                  {profile.name}\r\n                </Typography>\r\n                <Typography variant=\"h6\" color=\"primary\" fontWeight=\"medium\">\r\n                  {profile.title}\r\n                </Typography>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', mt: 1 }}>\r\n                  <LocationIcon fontSize=\"small\" color=\"action\" />\r\n                  <Typography variant=\"body2\" color=\"textSecondary\" sx={{ ml: 0.5 }}>\r\n                    {profile.location}\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n            </Box>\r\n\r\n            <Typography variant=\"body1\" paragraph sx={{ mb: 3, lineHeight: 1.8 }}>\r\n              {profile.bio}\r\n            </Typography>\r\n\r\n            <Box sx={{ mb: 3 }}>\r\n              <Typography variant=\"subtitle1\" gutterBottom fontWeight=\"bold\">\r\n                Skills\r\n              </Typography>\r\n              <Box sx={{ display: 'flex', flexWrap: 'wrap' }}>\r\n                {skills.map((skill, index) => (\r\n                  <SkillChip key={index} label={skill.name} sx={{ mb: 1, mr: 1 }} />\r\n                ))}\r\n              </Box>\r\n            </Box>\r\n\r\n            <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2, mb: 2 }}>\r\n              {profile.email && (\r\n                <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                  <EmailIcon fontSize=\"small\" color=\"action\" />\r\n                  <Typography variant=\"body2\" sx={{ ml: 0.5 }}>\r\n                    {profile.email}\r\n                  </Typography>\r\n                </Box>\r\n              )}\r\n              {profile.phone && (\r\n                <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                  <PhoneIcon fontSize=\"small\" color=\"action\" />\r\n                  <Typography variant=\"body2\" sx={{ ml: 0.5 }}>\r\n                    {profile.phone}\r\n                  </Typography>\r\n                </Box>\r\n              )}\r\n              {profile.website && (\r\n                <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                  <LanguageIcon fontSize=\"small\" color=\"action\" />\r\n                  <Typography variant=\"body2\" sx={{ ml: 0.5 }}>\r\n                    {profile.website}\r\n                  </Typography>\r\n                </Box>\r\n              )}\r\n            </Box>\r\n\r\n            <Box sx={{ display: 'flex', mt: 2, gap: 1 }}>\r\n              {profile.social?.linkedin && (\r\n                <Tooltip title=\"LinkedIn\">\r\n                  <IconButton color=\"primary\" aria-label=\"LinkedIn\" href={profile.social.linkedin} target=\"_blank\">\r\n                    <LinkedInIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              )}\r\n              {profile.social?.github && (\r\n                <Tooltip title=\"GitHub\">\r\n                  <IconButton color=\"primary\" aria-label=\"GitHub\" href={profile.social.github} target=\"_blank\">\r\n                    <GitHubIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              )}\r\n              {profile.social?.twitter && (\r\n                <Tooltip title=\"Twitter\">\r\n                  <IconButton color=\"primary\" aria-label=\"Twitter\" href={profile.social.twitter} target=\"_blank\">\r\n                    <TwitterIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              )}\r\n            </Box>\r\n          </ProfileInfo>\r\n\r\n          {/* Main Video */}\r\n          {mainVideo.video_url && (\r\n            <MainVideoContainer>\r\n              <video\r\n                ref={mainVideoRef}\r\n                src={mainVideo.video_url}\r\n                width=\"100%\"\r\n                height=\"100%\"\r\n                muted={mainVideoState.isMuted}\r\n                onEnded={handleMainVideoEnded}\r\n                onClick={toggleMainVideoPlayback}\r\n                style={{ objectFit: 'cover', cursor: 'pointer' }}\r\n              />\r\n\r\n              <VideoControls>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                  <IconButton size=\"small\" color=\"inherit\" onClick={toggleMainVideoPlayback}>\r\n                    {mainVideoState.isPlaying ? <PauseIcon /> : <PlayArrowIcon />}\r\n                  </IconButton>\r\n                  <IconButton size=\"small\" color=\"inherit\" onClick={toggleMainVideoMute}>\r\n                    {mainVideoState.isMuted ? <VolumeOff /> : <VolumeUp />}\r\n                  </IconButton>\r\n                </Box>\r\n                <Typography variant=\"caption\" color=\"inherit\" noWrap sx={{ maxWidth: '60%' }}>\r\n                  {mainVideo.video_title || 'Intro Video'}\r\n                </Typography>\r\n              </VideoControls>\r\n\r\n              <VideoActions>\r\n                <Tooltip title=\"Like\">\r\n                  <IconButton color=\"inherit\">\r\n                    <FavoriteIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n                <Tooltip title=\"Share\">\r\n                  <IconButton color=\"inherit\">\r\n                    <ShareIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n                <Tooltip title=\"Save\">\r\n                  <IconButton color=\"inherit\">\r\n                    <BookmarkIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              </VideoActions>\r\n            </MainVideoContainer>\r\n          )}\r\n        </ProfileHeader>\r\n\r\n        {/* Tabs Section */}\r\n        <Paper sx={{ mb: 4, borderRadius: theme.shape.borderRadius, overflow: 'hidden', boxShadow: theme.shadows[3] }}>\r\n          <Tabs\r\n            value={tabValue}\r\n            onChange={handleTabChange}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            variant={isMobile ? \"scrollable\" : \"fullWidth\"}\r\n            scrollButtons={isMobile ? \"auto\" : false}\r\n            centered={!isMobile}\r\n            sx={{\r\n              '& .MuiTab-root': {\r\n                fontSize: isMobile ? '0.875rem' : '1rem',\r\n                fontWeight: 500,\r\n                minHeight: 48\r\n              }\r\n            }}\r\n          >\r\n            <Tab label=\"Experience\" icon={<WorkIcon />} iconPosition=\"start\" />\r\n            <Tab label=\"Education\" icon={<SchoolIcon />} iconPosition=\"start\" />\r\n            <Tab label=\"Skills\" />\r\n            <Tab label=\"Additional Info\" />\r\n          </Tabs>\r\n\r\n          {/* Experience Tab */}\r\n          <TabPanel value={tabValue} index={0}>\r\n            {experiences.length > 0 ? (\r\n              experiences.map((exp) => (\r\n                <ExperienceCard key={exp.id} sx={{ mb: 3 }}>\r\n                  <CardContent>\r\n                    <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\r\n                      <Box>\r\n                        <Typography variant=\"h6\" component=\"h3\" fontWeight=\"medium\">\r\n                          {exp.title}{exp.position ? ` - ${exp.position}` : ''}\r\n                        </Typography>\r\n                        <Typography variant=\"subtitle1\" color=\"primary\" fontWeight=\"medium\">\r\n                          {exp.company_name}\r\n                        </Typography>\r\n                      </Box>\r\n                      <Typography variant=\"body2\" color=\"textSecondary\">\r\n                        {formatDate(exp.start_date)} - {exp.currently_working ? 'Present' : formatDate(exp.end_date)}\r\n                      </Typography>\r\n                    </Box>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', mt: 1, mb: 1 }}>\r\n                      <LocationIcon fontSize=\"small\" color=\"action\" />\r\n                      <Typography variant=\"body2\" color=\"textSecondary\" sx={{ ml: 0.5 }}>\r\n                        {exp.location}\r\n                      </Typography>\r\n                    </Box>\r\n                    <Typography variant=\"body2\" sx={{ lineHeight: 1.7 }}>\r\n                      {exp.description}\r\n                    </Typography>\r\n                  </CardContent>\r\n                </ExperienceCard>\r\n              ))\r\n            ) : (\r\n              <Typography variant=\"body1\" color=\"textSecondary\" sx={{ textAlign: 'center', py: 4 }}>\r\n                No experience information available\r\n              </Typography>\r\n            )}\r\n          </TabPanel>\r\n\r\n          {/* Education Tab */}\r\n          <TabPanel value={tabValue} index={1}>\r\n            {education.length > 0 ? (\r\n              education.map((edu) => (\r\n                <ExperienceCard key={edu.id} sx={{ mb: 3 }}>\r\n                  <CardContent>\r\n                    <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\r\n                      <Box>\r\n                        <Typography variant=\"h6\" component=\"h3\" fontWeight=\"medium\">\r\n                          {edu.degree}\r\n                        </Typography>\r\n                        <Typography variant=\"subtitle1\" color=\"primary\" fontWeight=\"medium\">\r\n                          {edu.institution}\r\n                        </Typography>\r\n                        {edu.field && (\r\n                          <Typography variant=\"body2\" color=\"textSecondary\">\r\n                            {edu.field}\r\n                          </Typography>\r\n                        )}\r\n                      </Box>\r\n                      <Typography variant=\"body2\" color=\"textSecondary\">\r\n                        {formatDate(edu.startDate)} - {formatDate(edu.endDate)}\r\n                      </Typography>\r\n                    </Box>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', mt: 1, mb: 1 }}>\r\n                      <LocationIcon fontSize=\"small\" color=\"action\" />\r\n                      <Typography variant=\"body2\" color=\"textSecondary\" sx={{ ml: 0.5 }}>\r\n                        {edu.location}\r\n                      </Typography>\r\n                    </Box>\r\n                    {edu.description && (\r\n                      <Typography variant=\"body2\" sx={{ lineHeight: 1.7 }}>\r\n                        {edu.description}\r\n                      </Typography>\r\n                    )}\r\n                  </CardContent>\r\n                </ExperienceCard>\r\n              ))\r\n            ) : (\r\n              <Typography variant=\"body1\" color=\"textSecondary\" sx={{ textAlign: 'center', py: 4 }}>\r\n                No education information available\r\n              </Typography>\r\n            )}\r\n          </TabPanel>\r\n\r\n          {/* Skills Tab */}\r\n          <TabPanel value={tabValue} index={2}>\r\n            <Grid container spacing={2}>\r\n              {skills.length > 0 ? (\r\n                skills.map((skill, index) => (\r\n                  <Grid item xs={12} sm={6} md={4} key={index}>\r\n                    <Paper sx={{ \r\n                      p: 2, \r\n                      display: 'flex', \r\n                      alignItems: 'center', \r\n                      height: '100%',\r\n                      transition: 'transform 0.3s ease',\r\n                      '&:hover': {\r\n                        transform: 'translateY(-3px)',\r\n                        boxShadow: theme.shadows[4]\r\n                      }\r\n                    }}>\r\n                      <SkillChip label={skill.name} sx={{ mr: 1 }} />\r\n                      {skill.level && (\r\n                        <Typography variant=\"caption\" color=\"textSecondary\">\r\n                          {skill.level}\r\n                        </Typography>\r\n                      )}\r\n                    </Paper>\r\n                  </Grid>\r\n                ))\r\n              ) : (\r\n                <Grid item xs={12}>\r\n                  <Typography variant=\"body1\" color=\"textSecondary\" sx={{ textAlign: 'center', py: 4 }}>\r\n                    No skills information available\r\n                  </Typography>\r\n                </Grid>\r\n              )}\r\n            </Grid>\r\n          </TabPanel>\r\n\r\n          {/* Additional Info Tab */}\r\n          <TabPanel value={tabValue} index={3}>\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} md={6}>\r\n                <Typography variant=\"h6\" gutterBottom fontWeight=\"medium\">\r\n                  Contact Information\r\n                </Typography>\r\n                <List>\r\n                  {profile.email && (\r\n                    <ListItem sx={{ px: 0 }}>\r\n                      <ListItemIcon sx={{ minWidth: 36 }}>\r\n                        <EmailIcon color=\"primary\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary=\"Email\" \r\n                        secondary={profile.email} \r\n                        secondaryTypographyProps={{ sx: { wordBreak: 'break-all' } }}\r\n                      />\r\n                    </ListItem>\r\n                  )}\r\n                  {profile.phone && (\r\n                    <ListItem sx={{ px: 0 }}>\r\n                      <ListItemIcon sx={{ minWidth: 36 }}>\r\n                        <PhoneIcon color=\"primary\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"Phone Number\" secondary={profile.phone} />\r\n                    </ListItem>\r\n                  )}\r\n                  {profile.website && (\r\n                    <ListItem sx={{ px: 0 }}>\r\n                      <ListItemIcon sx={{ minWidth: 36 }}>\r\n                        <LanguageIcon color=\"primary\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary=\"Website\" \r\n                        secondary={profile.website} \r\n                        secondaryTypographyProps={{ sx: { wordBreak: 'break-all' } }}\r\n                      />\r\n                    </ListItem>\r\n                  )}\r\n                  {profile.location && (\r\n                    <ListItem sx={{ px: 0 }}>\r\n                      <ListItemIcon sx={{ minWidth: 36 }}>\r\n                        <LocationIcon color=\"primary\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"Location\" secondary={profile.location} />\r\n                    </ListItem>\r\n                  )}\r\n                </List>\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <Typography variant=\"h6\" gutterBottom fontWeight=\"medium\">\r\n                  Social Media\r\n                </Typography>\r\n                <List>\r\n                  {profile.social?.linkedin && (\r\n                    <ListItem button component=\"a\" href={profile.social.linkedin} target=\"_blank\" sx={{ px: 0 }}>\r\n                      <ListItemIcon sx={{ minWidth: 36 }}>\r\n                        <LinkedInIcon color=\"primary\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary=\"LinkedIn\" \r\n                        secondary={profile.social.linkedin} \r\n                        secondaryTypographyProps={{ sx: { wordBreak: 'break-all' } }}\r\n                      />\r\n                    </ListItem>\r\n                  )}\r\n                  {profile.social?.github && (\r\n                    <ListItem button component=\"a\" href={profile.social.github} target=\"_blank\" sx={{ px: 0 }}>\r\n                      <ListItemIcon sx={{ minWidth: 36 }}>\r\n                        <GitHubIcon color=\"primary\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary=\"GitHub\" \r\n                        secondary={profile.social.github} \r\n                        secondaryTypographyProps={{ sx: { wordBreak: 'break-all' } }}\r\n                      />\r\n                    </ListItem>\r\n                  )}\r\n                  {profile.social?.twitter && (\r\n                    <ListItem button component=\"a\" href={profile.social.twitter} target=\"_blank\" sx={{ px: 0 }}>\r\n                      <ListItemIcon sx={{ minWidth: 36 }}>\r\n                        <TwitterIcon color=\"primary\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary=\"Twitter\" \r\n                        secondary={profile.social.twitter} \r\n                        secondaryTypographyProps={{ sx: { wordBreak: 'break-all' } }}\r\n                      />\r\n                    </ListItem>\r\n                  )}\r\n                </List>\r\n              </Grid>\r\n            </Grid>\r\n          </TabPanel>\r\n        </Paper>\r\n\r\n        {/* Videos Gallery */}\r\n        {videos.length > 0 && (\r\n          <Box sx={{ mb: 4 }}>\r\n            <Typography variant=\"h5\" component=\"h2\" gutterBottom fontWeight=\"bold\">\r\n              My Videos\r\n            </Typography>\r\n            <Divider sx={{ mb: 3 }} />\r\n\r\n            <Grid container spacing={3}>\r\n              {videos.filter(video => video.video_position !== \"main\").map((video) => (\r\n                <Grid item xs={12} sm={6} md={4} lg={3} key={video.id}>\r\n                  <VideoCard>\r\n                    <VideoCardMedia>\r\n                      <video\r\n                        ref={el => videoRefs.current[video.id] = el}\r\n                        src={video.video_url}\r\n                        width=\"100%\"\r\n                        height=\"100%\"\r\n                        style={{\r\n                          position: 'absolute',\r\n                          top: 0,\r\n                          left: 0,\r\n                          width: '100%',\r\n                          height: '100%',\r\n                          objectFit: 'cover',\r\n                          cursor: 'pointer'\r\n                        }}\r\n                        muted={videoStates[video.id]?.isMuted ?? true}\r\n                        onClick={() => toggleVideoPlayback(video.id)}\r\n                        onEnded={() => handleVideoEnded(video.id)}\r\n                      />\r\n                      <VideoPlayButton \r\n                        aria-label=\"play\" \r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          toggleVideoPlayback(video.id);\r\n                        }}\r\n                      >\r\n                        {videoStates[video.id]?.isPlaying ? <PauseIcon /> : <PlayArrowIcon />}\r\n                      </VideoPlayButton>\r\n                      <Box sx={{\r\n                        position: 'absolute',\r\n                        bottom: 8,\r\n                        left: 8,\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: 1\r\n                      }}>\r\n                        <IconButton \r\n                          size=\"small\" \r\n                          color=\"inherit\" \r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            toggleVideoMute(video.id);\r\n                          }}\r\n                          sx={{\r\n                            backgroundColor: 'rgba(0,0,0,0.6)',\r\n                            '&:hover': {\r\n                              backgroundColor: 'rgba(0,0,0,0.8)'\r\n                            }\r\n                          }}\r\n                        >\r\n                          {videoStates[video.id]?.isMuted ? <VolumeOff fontSize=\"small\" /> : <VolumeUp fontSize=\"small\" />}\r\n                        </IconButton>\r\n                      </Box>\r\n                    </VideoCardMedia>\r\n                    <CardContent>\r\n                      <Typography variant=\"subtitle1\" component=\"h3\" noWrap>\r\n                        {video.video_title}\r\n                      </Typography>\r\n                      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mt: 1 }}>\r\n                        {video.video_duration && (\r\n                          <Typography variant=\"caption\" color=\"textSecondary\">\r\n                            {Math.round(video.video_duration)}s\r\n                          </Typography>\r\n                        )}\r\n                        {video.views && (\r\n                          <Typography variant=\"caption\" color=\"textSecondary\">\r\n                            {video.views} views\r\n                          </Typography>\r\n                        )}\r\n                      </Box>\r\n                    </CardContent>\r\n                  </VideoCard>\r\n                </Grid>\r\n              ))}\r\n            </Grid>\r\n          </Box>\r\n        )}\r\n      </Container>\r\n    </ProfileContainer>\r\n  );\r\n};\r\n\r\nexport default JobSeekerPublicProfile;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\JobSeekerProfile_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 183,
        "column": 39,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 183,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                4318,
                4327
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'navigate' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 212,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 212,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "navigate"
            },
            "fix": {
              "range": [
                5095,
                5126
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'navigate'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState, useEffect, useRef  } from 'react';\r\nimport {\r\n  Box,\r\n  Dialog,\r\n  Container,\r\n  Grid,\r\n  Typography,\r\n  Avatar,\r\n  Button,\r\n  Chip,\r\n  Tabs,\r\n  Tab,\r\n  Card,\r\n  CardContent,\r\n  IconButton,\r\n  Divider,\r\n  Paper,\r\n  styled,\r\n  useTheme,\r\n  useMediaQuery,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  Tooltip\r\n} from '@mui/material';\r\nimport {\r\n  Edit as EditIcon,\r\n  PlayArrow as PlayArrowIcon,\r\n  Pause as PauseIcon,\r\n  Favorite as FavoriteIcon,\r\n  Share as ShareIcon,\r\n  Bookmark as BookmarkIcon,\r\n  Work as WorkIcon,\r\n  School as SchoolIcon,\r\n  LocationOn as LocationIcon,\r\n  Email as EmailIcon,\r\n  Phone as PhoneIcon,\r\n  Language as LanguageIcon,\r\n  LinkedIn as LinkedInIcon,\r\n  GitHub as GitHubIcon,\r\n  Twitter as TwitterIcon,\r\n  VolumeUp,\r\n  VolumeOff\r\n} from '@mui/icons-material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getUserProfile, getUserVideos, getUserSkills, getUserExperiences, getUserEducation } from '../services/api.js';\r\nimport EditJobSeekerProfile from './EditJobSeekerProfile';\r\n\r\n\r\n// Enhanced styled components\r\nconst ProfileContainer = styled(Box)(({ theme }) => ({\r\n  backgroundColor: theme.palette.background.paper,\r\n  minHeight: '100vh',\r\n  paddingTop: theme.spacing(4),\r\n  paddingBottom: theme.spacing(6)\r\n}));\r\n\r\nconst ProfileHeader = styled(Box)(({ theme }) => ({\r\n  position: 'relative',\r\n  marginBottom: theme.spacing(4),\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  gap: theme.spacing(3),\r\n  [theme.breakpoints.up('md')]: {\r\n    flexDirection: 'row',\r\n    gap: theme.spacing(4)\r\n  }\r\n}));\r\n\r\nconst ProfileInfo = styled(Box)(({ theme }) => ({\r\n  flex: 1,\r\n  padding: theme.spacing(3),\r\n  borderRadius: theme.shape.borderRadius,\r\n  backgroundColor: 'background.jobseeker',\r\n  boxShadow: theme.shadows[1],\r\n  [theme.breakpoints.up('md')]: {\r\n    paddingRight: theme.spacing(4),\r\n  }\r\n}));\r\n\r\nconst MainVideoContainer = styled(Box)(({ theme }) => ({\r\n  width: '100%',\r\n  height: 300,\r\n  borderRadius: theme.shape.borderRadius,\r\n  overflow: 'hidden',\r\n  position: 'relative',\r\n  backgroundColor: theme.palette.grey[900],\r\n  boxShadow: theme.shadows[4],\r\n  [theme.breakpoints.up('md')]: {\r\n    width: 350,\r\n    height: 450,\r\n    flexShrink: 0\r\n  }\r\n}));\r\n\r\nconst VideoControls = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  bottom: 0,\r\n  left: 0,\r\n  right: 0,\r\n  color: '#fff',\r\n  padding: theme.spacing(1),\r\n  backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'space-between',\r\n  transition: 'opacity 0.3s ease',\r\n}));\r\n\r\nconst VideoActions = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  right: theme.spacing(2),\r\n  top: theme.spacing(2),\r\n  display: 'flex',\r\n  color: theme.palette.common.white,\r\n  flexDirection: 'column',\r\n  alignItems: 'center',\r\n  gap: theme.spacing(2),\r\n  opacity: 0.8,\r\n  '&:hover': {\r\n    opacity: 1\r\n  }\r\n}));\r\n\r\nconst ProfileAvatar = styled(Avatar)(({ theme }) => ({\r\n  width: 120,\r\n  height: 120,\r\n  border: `4px solid ${theme.palette.primary.main}`,\r\n  marginRight: theme.spacing(3),\r\n  boxShadow: theme.shadows[4]\r\n}));\r\n\r\nconst SkillChip = styled(Chip)(({ theme }) => ({\r\n  margin: theme.spacing(0.5),\r\n  backgroundColor: theme.palette.primary.light,\r\n  color: theme.palette.primary.contrastText,\r\n  fontWeight: 500,\r\n  '&:hover': {\r\n    backgroundColor: theme.palette.primary.main,\r\n    transform: 'translateY(-2px)'\r\n  }\r\n}));\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`profile-tabpanel-${index}`}\r\n      aria-labelledby={`profile-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>\r\n          {children}\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst VideoCard = styled(Card)(({ theme }) => ({\r\n  height: '100%',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  borderRadius: theme.shape.borderRadius,\r\n  overflow: 'hidden',\r\n  transition: 'transform 0.3s ease, box-shadow 0.3s ease',\r\n  '&:hover': {\r\n    transform: 'translateY(-8px)',\r\n    boxShadow: theme.shadows[8],\r\n    '& $VideoCardMedia': {\r\n      '&:after': {\r\n        opacity: 1\r\n      }\r\n    }\r\n  }\r\n}));\r\n\r\nconst VideoCardMedia = styled(Box)(({ theme }) => ({\r\n  position: 'relative',\r\n  paddingTop: '56.25%' // 16:9 aspect ratio\r\n}));\r\n\r\nconst VideoPlayButton = styled(IconButton)(({ theme }) => ({\r\n  position: 'absolute',\r\n  top: '50%',\r\n  left: '50%',\r\n  transform: 'translate(-50%, -50%)',\r\n  backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n  color: theme.palette.common.white,\r\n  '&:hover': {\r\n    backgroundColor: theme.palette.primary.main,\r\n    transform: 'translate(-50%, -50%) scale(1.1)'\r\n  }\r\n}));\r\n\r\nconst ExperienceCard = styled(Card)(({ theme }) => ({\r\n  marginBottom: theme.spacing(3),\r\n  borderLeft: `4px solid ${theme.palette.primary.main}`,\r\n  transition: 'transform 0.3s ease',\r\n  '&:hover': {\r\n    transform: 'translateX(5px)'\r\n  }\r\n}));\r\n\r\nconst JobSeekerProfile = () => {\r\n  const theme = useTheme();\r\n  const navigate = useNavigate();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\r\n  \r\n  // State\r\n  const [tabValue, setTabValue] = useState(0);\r\n  const [profile, setProfile] = useState(null);\r\n  const [skills, setSkills] = useState([]);\r\n  const [experiences, setExperiences] = useState([]);\r\n  const [education, setEducation] = useState([]);\r\n  const [videos, setVideos] = useState([]);\r\n  const [mainVideo, setMainVideo] = useState({ video_url: '', video_title: '' });\r\n  const [loading, setLoading] = useState(true);\r\n  \r\n  // Video states\r\n  const [mainVideoState, setMainVideoState] = useState({\r\n    isPlaying: false,\r\n    isMuted: true\r\n  });\r\n  \r\n  const [videoStates, setVideoStates] = useState({});\r\n  const [editOpen, setEditOpen] = useState(false);\r\n  \r\n  // Refs\r\n  const mainVideoRef = useRef(null);\r\n  const videoRefs = useRef({});\r\n  \r\n  // Fetch user data\r\n  useEffect(() => {\r\n    const fetchUserData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        const profileResponse = await getUserProfile();\r\n        console.log(\"profileResponse :::::::::::::::::\");\r\n        console.log(profileResponse.data);\r\n        setProfile(profileResponse.data);\r\n        \r\n        try {\r\n        const skillsResponse = await getUserSkills() || [];\r\n        setSkills(skillsResponse.data.skills);\r\n        } catch (error) {\r\n          console.error('Error fetching user skills:', error);\r\n          setSkills([]); // Fallback to empty array if error occurs\r\n        }\r\n        \r\n        const experiencesResponse = await getUserExperiences() || [];\r\n        const educationResponse = await getUserEducation() || [];\r\n        setExperiences(experiencesResponse.data.experiences);\r\n        setEducation(educationResponse.data.educations);\r\n        \r\n        const videosResponse = await getUserVideos() || [];\r\n        console.log(\"videosResponse\");\r\n        console.log(videosResponse.data.videos);\r\n        setVideos(videosResponse.data.videos);\r\n        \r\n        const mainVideo = videosResponse.data.videos.find(video => video.video_position === \"main\");\r\n        setMainVideo(mainVideo || { video_url: '', video_title: '' });\r\n        \r\n        // Initialize video states\r\n        const initialVideoStates = {};\r\n        videosResponse.data.videos.forEach(video => {\r\n          initialVideoStates[video.id] = {\r\n            isPlaying: false,\r\n            isMuted: true\r\n          };\r\n        });\r\n        setVideoStates(initialVideoStates);\r\n        \r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error('Error fetching user data:', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchUserData();\r\n  }, []);\r\n  \r\n  const handleTabChange = (event, newValue) => {\r\n    setTabValue(newValue);\r\n  };\r\n  \r\n  // Main video controls\r\n  const toggleMainVideoPlayback = () => {\r\n    if (mainVideoRef.current) {\r\n      if (mainVideoState.isPlaying) {\r\n        mainVideoRef.current.pause();\r\n      } else {\r\n        mainVideoRef.current.play();\r\n      }\r\n      setMainVideoState(prev => ({\r\n        ...prev,\r\n        isPlaying: !prev.isPlaying\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const toggleMainVideoMute = () => {\r\n    if (mainVideoRef.current) {\r\n      mainVideoRef.current.muted = !mainVideoState.isMuted;\r\n      setMainVideoState(prev => ({\r\n        ...prev,\r\n        isMuted: !prev.isMuted\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const handleMainVideoEnded = () => {\r\n    setMainVideoState(prev => ({\r\n      ...prev,\r\n      isPlaying: false\r\n    }));\r\n  };\r\n  \r\n  // Gallery video controls\r\n  const toggleVideoPlayback = (videoId) => {\r\n    const videoRef = videoRefs.current[videoId];\r\n    if (videoRef) {\r\n      if (videoStates[videoId]?.isPlaying) {\r\n        videoRef.pause();\r\n      } else {\r\n        videoRef.play();\r\n      } \r\n      setVideoStates(prev => ({\r\n        ...prev,\r\n        [videoId]: {\r\n          ...prev[videoId],\r\n          isPlaying: !prev[videoId]?.isPlaying\r\n        }\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const toggleVideoMute = (videoId) => {\r\n    const videoRef = videoRefs.current[videoId];\r\n    if (videoRef) {\r\n      videoRef.muted = !videoStates[videoId]?.isMuted;\r\n      setVideoStates(prev => ({\r\n        ...prev,\r\n        [videoId]: {\r\n          ...prev[videoId],\r\n          isMuted: !prev[videoId]?.isMuted\r\n        }\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const VITE_API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:5000';\r\n\r\n  const handleVideoEnded = (videoId) => {\r\n    setVideoStates(prev => ({\r\n      ...prev,\r\n      [videoId]: {\r\n        ...prev[videoId],\r\n        isPlaying: false\r\n      }\r\n    }));\r\n  };\r\n  \r\n  const handleEditProfile = () => {\r\n    setEditOpen(true);\r\n  };\r\n\r\n  const handleCloseEdit = () => {\r\n    setEditOpen(false);\r\n  };\r\n\r\n  const handleProfileSaved = (updatedProfile) => {\r\n    if (updatedProfile) setProfile(updatedProfile);\r\n    setEditOpen(false);\r\n  };\r\n  \r\n  // Format date\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'Present';\r\n    const date = new Date(dateString);\r\n    const months = [\r\n      'January', 'February', 'March', 'April', 'May', 'June',\r\n      'July', 'August', 'September', 'October', 'November', 'December'\r\n    ];\r\n    return `${months[date.getMonth()]} ${date.getFullYear()}`;\r\n  };\r\n\r\n    // Mock data for demonstration\r\nconst mockProfile = {\r\n  // id: '1',\r\n  // name: 'A SAMPLE Profile data / Start Edit Yours instead',\r\n  // title: 'Frontend Developer',\r\n  // location: 'Riyadh, Saudi Arabia',\r\n  // bio: 'Frontend developer with 5 years of experience in web application development using React and Angular. Specializing in UI design and user experience improvement.',\r\n  // email: 'ahmed@example.com',\r\n  // phone: '+966 50 123 4567',\r\n  // website: 'www.ahmeddev.com',\r\n  // avatar: 'https://randomuser.me/api/portraits/men/32.jpg',\r\n  // mainVideo: 'https://www.w3schools.com/html/mov_bbb.mp4',\r\n  // social: {\r\n  //   linkedin: 'linkedin.com/in/ahmed',\r\n  //   github: 'github.com/ahmed',\r\n  //   twitter: 'twitter.com/ahmed'\r\n  // }\r\n};\r\n\r\nconst mockSkills = [\r\n  // 'React', 'Angular', 'JavaScript', 'TypeScript', 'HTML5', 'CSS3',\r\n  // 'Material UI', 'Redux', 'Node.js', 'Express', 'MongoDB', 'Git',\r\n  // 'Responsive Design', 'UI/UX', 'RESTful APIs', 'GraphQL'\r\n];\r\n\r\nconst mockExperiences = [\r\n  // {\r\n  //   id: '1',\r\n  //   company: 'Advanced Technology Company',\r\n  //   position: 'Senior Frontend Developer',\r\n  //   startDate: '2020-01',\r\n  //   endDate: null,\r\n  //   current: true,\r\n  //   description: 'Developed user interfaces for web applications using React and TypeScript. Designed and implemented application architecture and managed application state using Redux. Collaborated with a team of developers to improve application performance and user experience.',\r\n  //   location: 'Riyadh'\r\n  // },\r\n  // {\r\n  //   id: '2',\r\n  //   company: 'Global Software Company',\r\n  //   position: 'Frontend Developer',\r\n  //   startDate: '2018-03',\r\n  //   endDate: '2019-12',\r\n  //   current: false,\r\n  //   description: 'Developed user interfaces for web applications using Angular. Implemented user designs and improved user experience. Collaborated with a team of developers to build interactive web applications.',\r\n  //   location: 'Jeddah'\r\n  // },\r\n  // {\r\n  //   id: '3',\r\n  //   company: 'Digital Solutions Company',\r\n  //   position: 'Web Developer',\r\n  //   startDate: '2016-06',\r\n  //   endDate: '2018-02',\r\n  //   current: false,\r\n  //   description: 'Developed websites using HTML, CSS, and JavaScript. Implemented user designs and improved user experience. Collaborated with a team of developers to build interactive websites.',\r\n  //   location: 'Dammam'\r\n  // }\r\n];\r\n\r\nconst mockEducation = [\r\n  // {\r\n  //   id: '1',\r\n  //   institution: 'King Saud University',\r\n  //   degree: 'Bachelor of Computer Science',\r\n  //   field: 'Computer Science',\r\n  //   startDate: '2012-09',\r\n  //   endDate: '2016-05',\r\n  //   description: 'Specialized in software development and software engineering. Graduation project: Developed a web application for project management.',\r\n  //   location: 'Riyadh'\r\n  // },\r\n  // {\r\n  //   id: '2',\r\n  //   institution: 'Programming Academy',\r\n  //   degree: 'Advanced Web Development Certificate',\r\n  //   field: 'Web Development',\r\n  //   startDate: '2016-06',\r\n  //   endDate: '2016-08',\r\n  //   description: 'Intensive course in web development using the latest technologies.',\r\n  //   location: 'Riyadh'\r\n  // }\r\n];\r\n\r\nconst mockVideos = [\r\n  // {\r\n  //   id: '1',\r\n  //   title: 'Introduction to Myself',\r\n  //   thumbnail: 'https://i.ytimg.com/vi/dQw4w9WgXcQ/maxresdefault.jpg',\r\n  //   url: 'https://www.w3schools.com/html/mov_bbb.mp4',\r\n  //   duration: 30,\r\n  //   type: 'intro',\r\n  //   views: 120\r\n  // },\r\n  // {\r\n  //   id: '2',\r\n  //   title: 'My React Skills',\r\n  //   thumbnail: 'https://i.ytimg.com/vi/LDZX4ooRsWs/maxresdefault.jpg',\r\n  //   url: 'https://www.w3schools.com/html/mov_bbb.mp4',\r\n  //   duration: 45,\r\n  //   type: 'skills',\r\n  //   views: 85\r\n  // },\r\n  // {\r\n  //   id: '3',\r\n  //   title: 'My Previous Experiences',\r\n  //   thumbnail: 'https://i.ytimg.com/vi/kJQP7kiw5Fk/maxresdefault.jpg',\r\n  //   url: 'https://www.w3schools.com/html/mov_bbb.mp4',\r\n  //   duration: 40,\r\n  //   type: 'experience',\r\n  //   views: 67\r\n  // },\r\n  // {\r\n  //   id: '4',\r\n  //   title: 'My Previous Projects',\r\n  //   thumbnail: 'https://i.ytimg.com/vi/JGwWNGJdvx8/maxresdefault.jpg',\r\n  //   url: 'https://www.w3schools.com/html/mov_bbb.mp4',\r\n  //   duration: 35,\r\n  //   type: 'portfolio',\r\n  //   views: 92\r\n  // },\r\n  // {\r\n  //   id: '5',\r\n  //   title: 'Why I am a Good Fit for the Job',\r\n  //   thumbnail: 'https://i.ytimg.com/vi/RgKAFK5djSk/maxresdefault.jpg',\r\n  //   url: 'https://www.w3schools.com/html/mov_bbb.mp4',\r\n  //   duration: 42,\r\n  //   type: 'outro',\r\n  //   views: 105\r\n  // },\r\n  // {\r\n  //   id: '6',\r\n  //   title: 'My Angular Skills',\r\n  //   thumbnail: 'https://i.ytimg.com/vi/fRh_vgS2dFE/maxresdefault.jpg',\r\n  //   url: 'https://www.w3schools.com/html/mov_bbb.mp4',\r\n  //   duration: 38,\r\n  //   type: 'skills',\r\n  //   views: 73\r\n  // }\r\n];\r\n\r\n  \r\n  // Use mock data if real data is not available\r\n  const userData = profile || mockProfile;\r\n  const userSkills = profile ? skills : mockSkills;\r\n  const userExperiences = profile ? experiences : mockExperiences;\r\n  const userEducation = profile ? education : mockEducation;\r\n  const userVideos = profile ? videos : mockVideos;\r\n\r\n\r\n  if (loading) {\r\n    return (\r\n      <ProfileContainer>\r\n        <Container maxWidth=\"lg\">\r\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"60vh\">\r\n            <Typography variant=\"h6\">Loading profile...</Typography>\r\n          </Box>\r\n        </Container>\r\n      </ProfileContainer>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ProfileContainer  sx={{\r\n    bgcolor: 'background.jobseeker',\r\n    padding: 0,\r\n    minHeight: '100vh',\r\n    height: '100%', \r\n    mt: 0,\r\n    pt: 4, \r\n    mb: 0,\r\n    paddingBottom: 4,\r\n  }}>\r\n      <Container maxWidth=\"lg\"  sx={{ mt: isMobile ? 2 : 0 }}>\r\n        {/* Profile Header */}\r\n        <ProfileHeader>\r\n          <ProfileInfo>\r\n            <Box sx={{ display: 'flex', alignItems: 'center', mb: 3 }}>\r\n              <ProfileAvatar src={VITE_API_BASE_URL+userData.profile_pic} alt={userData.first_name} />\r\n              <Box>\r\n                <Typography variant=\"h4\" component=\"h1\" gutterBottom fontWeight=\"bold\">\r\n                  {(userData.first_name || '') + ' ' + (userData.Second_name || '') + ' ' + (userData.last_name || '')}\r\n                </Typography>\r\n                <Typography variant=\"h6\" color=\"primary\" fontWeight=\"medium\">\r\n                  {userData.title}\r\n                </Typography>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', mt: 1 }}>\r\n                  <LocationIcon fontSize=\"small\" color=\"action\" />\r\n                  <Typography variant=\"body2\" color=\"textSecondary\" sx={{ ml: 0.5 }}>\r\n                    {userData.location}\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n            </Box>\r\n\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              startIcon={<EditIcon />}\r\n              onClick={handleEditProfile}\r\n              sx={{ mb: 3, boxShadow: 2 }}\r\n            >\r\n              Edit Profile\r\n            </Button>\r\n\r\n            <Typography variant=\"body1\" paragraph sx={{ mb: 3, lineHeight: 1.8 }}>\r\n              {userData.bio}\r\n            </Typography>\r\n\r\n            <Box sx={{ mb: 3 }}>\r\n              <Typography variant=\"subtitle1\" gutterBottom fontWeight=\"bold\">\r\n                Skills\r\n              </Typography>\r\n              <Box sx={{ display: 'flex', flexWrap: 'wrap' }}>\r\n                {userSkills.map((skill, index) => (\r\n                  <SkillChip key={index} label={profile?skill.name:skill} sx={{ mb: 1, mr: 1 }} />\r\n                ))}\r\n              </Box>\r\n            </Box>\r\n\r\n            <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2, mb: 2 }}>\r\n              {userData.email && (\r\n                <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                  <EmailIcon fontSize=\"small\" color=\"action\" />\r\n                  <Typography variant=\"body2\" sx={{ ml: 0.5 }}>\r\n                    {userData.email}\r\n                  </Typography>\r\n                </Box>\r\n              )}\r\n              {userData.phone && (\r\n                <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                  <PhoneIcon fontSize=\"small\" color=\"action\" />\r\n                  <Typography variant=\"body2\" sx={{ ml: 0.5 }}>\r\n                    {userData.phone}\r\n                  </Typography>\r\n                </Box>\r\n              )}\r\n              {userData.website && (\r\n                <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                  <LanguageIcon fontSize=\"small\" color=\"action\" />\r\n                  <Typography variant=\"body2\" sx={{ ml: 0.5 }}>\r\n                    {userData.website}\r\n                  </Typography>\r\n                </Box>\r\n              )}\r\n            </Box>\r\n\r\n            <Box sx={{ display: 'flex', mt: 2, gap: 1 }}>\r\n              {userData.social?.linkedin && (\r\n                <Tooltip title=\"LinkedIn\">\r\n                  <IconButton color=\"primary\" aria-label=\"LinkedIn\" href={userData.social.linkedin} target=\"_blank\">\r\n                    <LinkedInIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              )}\r\n              {userData.social?.github && (\r\n                <Tooltip title=\"GitHub\">\r\n                  <IconButton color=\"primary\" aria-label=\"GitHub\" href={userData.social.github} target=\"_blank\">\r\n                    <GitHubIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              )}\r\n              {userData.social?.twitter && (\r\n                <Tooltip title=\"Twitter\">\r\n                  <IconButton color=\"primary\" aria-label=\"Twitter\" href={userData.social.twitter} target=\"_blank\">\r\n                    <TwitterIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              )}\r\n            </Box>\r\n          </ProfileInfo>\r\n\r\n          {/* Main Video */}\r\n          {mainVideo.video_url && (\r\n            <MainVideoContainer>\r\n              <video\r\n                ref={mainVideoRef}\r\n                src={mainVideo.video_url}\r\n                width=\"100%\"\r\n                height=\"100%\"\r\n                muted={mainVideoState.isMuted}\r\n                onEnded={handleMainVideoEnded}\r\n                onClick={toggleMainVideoPlayback}\r\n                style={{ objectFit: 'cover', cursor: 'pointer' }}\r\n              />\r\n\r\n              <VideoControls>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                  <IconButton size=\"small\" color=\"inherit\" onClick={toggleMainVideoPlayback}>\r\n                    {mainVideoState.isPlaying ? <PauseIcon /> : <PlayArrowIcon />}\r\n                  </IconButton>\r\n                  <IconButton size=\"small\" color=\"inherit\" onClick={toggleMainVideoMute}>\r\n                    {mainVideoState.isMuted ? <VolumeOff /> : <VolumeUp />}\r\n                  </IconButton>\r\n                </Box>\r\n                <Typography variant=\"caption\" color=\"inherit\" noWrap sx={{ maxWidth: '60%' }}>\r\n                  {mainVideo.video_title || 'Intro Video'}\r\n                </Typography>\r\n              </VideoControls>\r\n\r\n              <VideoActions>\r\n                <Tooltip title=\"Like\">\r\n                  <IconButton color=\"inherit\">\r\n                    <FavoriteIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n                <Tooltip title=\"Share\">\r\n                  <IconButton color=\"inherit\">\r\n                    <ShareIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n                <Tooltip title=\"Save\">\r\n                  <IconButton color=\"inherit\">\r\n                    <BookmarkIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              </VideoActions>\r\n            </MainVideoContainer>\r\n          )}\r\n        </ProfileHeader>\r\n\r\n        {/* Tabs Section */}\r\n        <Paper sx={{ mb: 4, borderRadius:2, overflow: 'hidden', boxShadow: theme.shadows[3] }}>\r\n          <Tabs\r\n            value={tabValue}\r\n            onChange={handleTabChange}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            variant={isMobile ? \"scrollable\" : \"fullWidth\"}\r\n            scrollButtons={isMobile ? \"auto\" : false}\r\n            centered={!isMobile}\r\n            sx={{\r\n              '& .MuiTab-root': {\r\n                fontSize: isMobile ? '0.875rem' : '1rem',\r\n                fontWeight: 500,\r\n                minHeight: 48\r\n              }\r\n            }}\r\n          >\r\n            <Tab label=\"Experience\" icon={<WorkIcon />} iconPosition=\"start\" />\r\n            <Tab label=\"Education\" icon={<SchoolIcon />} iconPosition=\"start\" />\r\n            <Tab label=\"Skills\" />\r\n            <Tab label=\"Additional Info\" />\r\n          </Tabs>\r\n\r\n          {/* Experience Tab */}\r\n          <TabPanel value={tabValue} index={0}>\r\n            {userExperiences.length > 0 ? (\r\n              userExperiences.map((exp) => (\r\n                <ExperienceCard key={exp.id} sx={{ mb: 3 }}>\r\n                  <CardContent>\r\n                    <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\r\n                      <Box>\r\n                        <Typography variant=\"h6\" component=\"h3\" fontWeight=\"medium\">\r\n                          {exp.title}{exp.position ? ` - ${exp.position}` : ''}\r\n                        </Typography>\r\n                        <Typography variant=\"subtitle1\" color=\"primary\" fontWeight=\"medium\">\r\n                          {exp.company_name}\r\n                        </Typography>\r\n                      </Box>\r\n                      <Typography variant=\"body2\" color=\"textSecondary\">\r\n                        {formatDate(exp.start_date)} - {exp.currently_working ? 'Present' : formatDate(exp.end_date)}\r\n                      </Typography>\r\n                    </Box>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', mt: 1, mb: 1 }}>\r\n                      <LocationIcon fontSize=\"small\" color=\"action\" />\r\n                      <Typography variant=\"body2\" color=\"textSecondary\" sx={{ ml: 0.5 }}>\r\n                        {exp.location}\r\n                      </Typography>\r\n                    </Box>\r\n                    <Typography variant=\"body2\" sx={{ lineHeight: 1.7 }}>\r\n                      {exp.description}\r\n                    </Typography>\r\n                  </CardContent>\r\n                </ExperienceCard>\r\n              ))\r\n            ) : (\r\n              <Typography variant=\"body1\" color=\"textSecondary\" sx={{ textAlign: 'center', py: 4 }}>\r\n                No experience information available\r\n              </Typography>\r\n            )}\r\n          </TabPanel>\r\n\r\n          {/* Education Tab */}\r\n          <TabPanel value={tabValue} index={1}>\r\n            {userEducation.length > 0 ? (\r\n              userEducation.map((edu) => (\r\n                <ExperienceCard key={edu.id} sx={{ mb: 3 }}>\r\n                  <CardContent>\r\n                    <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\r\n                      <Box>\r\n                        <Typography variant=\"h6\" component=\"h3\" fontWeight=\"medium\">\r\n                          {edu.degree}\r\n                        </Typography>\r\n                        <Typography variant=\"subtitle1\" color=\"primary\" fontWeight=\"medium\">\r\n                          {edu.institution}\r\n                        </Typography>\r\n                        {edu.field && (\r\n                          <Typography variant=\"body2\" color=\"textSecondary\">\r\n                            {edu.field}\r\n                          </Typography>\r\n                        )}\r\n                      </Box>\r\n                      <Typography variant=\"body2\" color=\"textSecondary\">\r\n                        {formatDate(edu.startDate)} - {formatDate(edu.endDate)}\r\n                      </Typography>\r\n                    </Box>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', mt: 1, mb: 1 }}>\r\n                      <LocationIcon fontSize=\"small\" color=\"action\" />\r\n                      <Typography variant=\"body2\" color=\"textSecondary\" sx={{ ml: 0.5 }}>\r\n                        {edu.location}\r\n                      </Typography>\r\n                    </Box>\r\n                    {edu.description && (\r\n                      <Typography variant=\"body2\" sx={{ lineHeight: 1.7 }}>\r\n                        {edu.description}\r\n                      </Typography>\r\n                    )}\r\n                  </CardContent>\r\n                </ExperienceCard>\r\n              ))\r\n            ) : (\r\n              <Typography variant=\"body1\" color=\"textSecondary\" sx={{ textAlign: 'center', py: 4 }}>\r\n                No education information available\r\n              </Typography>\r\n            )}\r\n          </TabPanel>\r\n\r\n          {/* Skills Tab */}\r\n          <TabPanel value={tabValue} index={2}>\r\n            <Grid container spacing={2}>\r\n              {userSkills.length > 0 ? (\r\n                userSkills.map((skill, index) => (\r\n                  <Grid item xs={12} sm={6} md={4} key={index}>\r\n                    <Paper sx={{ \r\n                      p: 2, \r\n                      display: 'flex', \r\n                      alignItems: 'center', \r\n                      height: '100%',\r\n                      transition: 'transform 0.3s ease',\r\n                      '&:hover': {\r\n                        transform: 'translateY(-3px)',\r\n                        boxShadow: theme.shadows[4]\r\n                      }\r\n                    }}>\r\n                      <SkillChip label={profile?skill.name:skill} sx={{ mr: 1 }} />\r\n                      {skill.level && (\r\n                        <Typography variant=\"caption\" color=\"textSecondary\">\r\n                          {skill.level}\r\n                        </Typography>\r\n                      )}\r\n                    </Paper>\r\n                  </Grid>\r\n                ))\r\n              ) : (\r\n                <Grid item xs={12}>\r\n                  <Typography variant=\"body1\" color=\"textSecondary\" sx={{ textAlign: 'center', py: 4 }}>\r\n                    No skills information available\r\n                  </Typography>\r\n                </Grid>\r\n              )}\r\n            </Grid>\r\n          </TabPanel>\r\n\r\n          {/* Additional Info Tab */}\r\n          <TabPanel value={tabValue} index={3}>\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} md={6}>\r\n                <Typography variant=\"h6\" gutterBottom fontWeight=\"medium\">\r\n                  Contact Information\r\n                </Typography>\r\n                <List>\r\n                  {userData.email && (\r\n                    <ListItem sx={{ px: 0 }}>\r\n                      <ListItemIcon sx={{ minWidth: 36 }}>\r\n                        <EmailIcon color=\"primary\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary=\"Email\" \r\n                        secondary={userData.email} \r\n                        secondaryTypographyProps={{ sx: { wordBreak: 'break-all' } }}\r\n                      />\r\n                    </ListItem>\r\n                  )}\r\n                  {userData.phone && (\r\n                    <ListItem sx={{ px: 0 }}>\r\n                      <ListItemIcon sx={{ minWidth: 36 }}>\r\n                        <PhoneIcon color=\"primary\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"Phone Number\" secondary={userData.phone} />\r\n                    </ListItem>\r\n                  )}\r\n                  {userData.website && (\r\n                    <ListItem sx={{ px: 0 }}>\r\n                      <ListItemIcon sx={{ minWidth: 36 }}>\r\n                        <LanguageIcon color=\"primary\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary=\"Website\" \r\n                        secondary={userData.website} \r\n                        secondaryTypographyProps={{ sx: { wordBreak: 'break-all' } }}\r\n                      />\r\n                    </ListItem>\r\n                  )}\r\n                  {userData.location && (\r\n                    <ListItem sx={{ px: 0 }}>\r\n                      <ListItemIcon sx={{ minWidth: 36 }}>\r\n                        <LocationIcon color=\"primary\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"Location\" secondary={userData.location} />\r\n                    </ListItem>\r\n                  )}\r\n                </List>\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <Typography variant=\"h6\" gutterBottom fontWeight=\"medium\">\r\n                  Social Media\r\n                </Typography>\r\n                <List>\r\n                  {userData.social?.linkedin && (\r\n                    <ListItem button component=\"a\" href={userData.social.linkedin} target=\"_blank\" sx={{ px: 0 }}>\r\n                      <ListItemIcon sx={{ minWidth: 36 }}>\r\n                        <LinkedInIcon color=\"primary\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary=\"LinkedIn\" \r\n                        secondary={userData.social.linkedin} \r\n                        secondaryTypographyProps={{ sx: { wordBreak: 'break-all' } }}\r\n                      />\r\n                    </ListItem>\r\n                  )}\r\n                  {userData.social?.github && (\r\n                    <ListItem button component=\"a\" href={userData.social.github} target=\"_blank\" sx={{ px: 0 }}>\r\n                      <ListItemIcon sx={{ minWidth: 36 }}>\r\n                        <GitHubIcon color=\"primary\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary=\"GitHub\" \r\n                        secondary={userData.social.github} \r\n                        secondaryTypographyProps={{ sx: { wordBreak: 'break-all' } }}\r\n                      />\r\n                    </ListItem>\r\n                  )}\r\n                  {userData.social?.twitter && (\r\n                    <ListItem button component=\"a\" href={userData.social.twitter} target=\"_blank\" sx={{ px: 0 }}>\r\n                      <ListItemIcon sx={{ minWidth: 36 }}>\r\n                        <TwitterIcon color=\"primary\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary=\"Twitter\" \r\n                        secondary={userData.social.twitter} \r\n                        secondaryTypographyProps={{ sx: { wordBreak: 'break-all' } }}\r\n                      />\r\n                    </ListItem>\r\n                  )}\r\n                </List>\r\n              </Grid>\r\n            </Grid>\r\n          </TabPanel>\r\n        </Paper>\r\n\r\n        {/* Videos Gallery */}\r\n        {userVideos.length > 0 && (\r\n          <Box sx={{ mb: 4 }}>\r\n            <Typography variant=\"h5\" component=\"h2\" gutterBottom fontWeight=\"bold\">\r\n              My Videos\r\n            </Typography>\r\n            <Divider sx={{ mb: 3 }} />\r\n\r\n            <Grid container spacing={3}>\r\n              {userVideos.filter(video => video.video_position !== \"main\").map((video) => (\r\n                <Grid item xs={12} sm={6} md={4} lg={3} key={video.id}>\r\n                  <VideoCard>\r\n                    <VideoCardMedia>\r\n                      <video\r\n                        ref={el => videoRefs.current[video.id] = el}\r\n                        src={video.video_url}\r\n                        width=\"100%\"\r\n                        height=\"100%\"\r\n                        style={{\r\n                          position: 'absolute',\r\n                          top: 0,\r\n                          left: 0,\r\n                          width: '100%',\r\n                          height: '100%',\r\n                          objectFit: 'cover',\r\n                          cursor: 'pointer'\r\n                        }}\r\n                        muted={videoStates[video.id]?.isMuted ?? true}\r\n                        onClick={() => toggleVideoPlayback(video.id)}\r\n                        onEnded={() => handleVideoEnded(video.id)}\r\n                      />\r\n                      <VideoPlayButton \r\n                        aria-label=\"play\" \r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          toggleVideoPlayback(video.id);\r\n                        }}\r\n                      >\r\n                        {videoStates[video.id]?.isPlaying ? <PauseIcon /> : <PlayArrowIcon />}\r\n                      </VideoPlayButton>\r\n                      <Box sx={{\r\n                        position: 'absolute',\r\n                        bottom: 8,\r\n                        left: 8,\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: 1\r\n                      }}>\r\n                        <IconButton \r\n                          size=\"small\" \r\n                          color=\"inherit\" \r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            toggleVideoMute(video.id);\r\n                          }}\r\n                          sx={{\r\n                            backgroundColor: 'rgba(0,0,0,0.6)',\r\n                            '&:hover': {\r\n                              backgroundColor: 'rgba(0,0,0,0.8)'\r\n                            }\r\n                          }}\r\n                        >\r\n                          {videoStates[video.id]?.isMuted ? <VolumeOff fontSize=\"small\" /> : <VolumeUp fontSize=\"small\" />}\r\n                        </IconButton>\r\n                      </Box>\r\n                    </VideoCardMedia>\r\n                    <CardContent>\r\n                      <Typography variant=\"subtitle1\" component=\"h3\" noWrap>\r\n                        {video.video_title}\r\n                      </Typography>\r\n                      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mt: 1 }}>\r\n                        {video.video_duration && (\r\n                          <Typography variant=\"caption\" color=\"textSecondary\">\r\n                            {Math.round(video.video_duration)}s\r\n                          </Typography>\r\n                        )}\r\n                        {video.views && (\r\n                          <Typography variant=\"caption\" color=\"textSecondary\">\r\n                            {video.views} views\r\n                          </Typography>\r\n                        )}\r\n                      </Box>\r\n                    </CardContent>\r\n                  </VideoCard>\r\n                </Grid>\r\n              ))}\r\n            </Grid>\r\n          </Box>\r\n        )}\r\n        {/* Edit Profile Dialog */}\r\n        <Dialog open={editOpen} onClose={handleCloseEdit} maxWidth=\"md\" fullWidth>\r\n          <EditJobSeekerProfile initialProfile={profile} onClose={handleCloseEdit} onSaved={handleProfileSaved} />\r\n        </Dialog>\r\n      </Container>\r\n    </ProfileContainer>\r\n  );\r\n};\r\n\r\nexport default JobSeekerProfile;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\JobseekerTabs.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\JobseekerTabsNew.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\JobseekerTabs_OLD.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useCallback' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 47,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 58,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useCallback"
            },
            "fix": {
              "range": [
                44,
                57
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useCallback'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useTranslation' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 35,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 35,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useTranslation"
            },
            "fix": {
              "range": [
                691,
                738
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useTranslation'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 41,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 41,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                987,
                1022
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 132,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 132,
        "endColumn": 15
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleVideoUpload' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 273,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 273,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleVideoUpload"
            },
            "fix": {
              "range": [
                8365,
                8934
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleVideoUpload'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'response' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 281,
        "column": 13,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 281,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "response"
            },
            "fix": {
              "range": [
                8629,
                8815
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'response'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect, useMemo, useCallback } from \"react\";\r\nimport {\r\n  Box,\r\n  CssBaseline,\r\n  Tabs,\r\n  Tab,\r\n  Typography,\r\n  Container,\r\n  useMediaQuery,\r\n  useTheme,\r\n  Paper,\r\n  Divider,\r\n  Grid,\r\n  Card,\r\n  CardContent,\r\n  IconButton,\r\n  Badge\r\n} from \"@mui/material\";\r\nimport { useNavigate, useSearchParams } from 'react-router-dom';\r\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\r\nimport {\r\n  Search,\r\n  Work,\r\n  VideoLibrary,\r\n  Person,\r\n  CalendarToday,\r\n  Notifications,\r\n  Settings as SettingsIcon,\r\n  Bookmark,\r\n  Favorite,\r\n  Visibility as VisibilityIcon,\r\n  ThumbUp as ThumbUpIcon,\r\n  Message as MessageIcon\r\n} from '@mui/icons-material';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport Header from '../components/Headers/admin/Header';\r\nimport Footer from '../components/Headers/admin/Footer';\r\nimport FloatingNavigationPanel from '../components/FloatingNavigationPanel';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\nimport { jobseekerTabCategories } from '../config/jobseekerTabsConfig';\r\nimport { getJobseekerStats } from '@/services/api';\r\n\r\n// Import Job Seeker specific pages\r\nimport JobSearchPage from './JobSearchPage';\r\nimport ResumeBuilderPage from './ResumeBuilderPage';\r\nimport InterviewPage from './InterviewPage';\r\nimport NotificationSettingsPage from './NotificationSettingsPage';\r\nimport AllVideosPage from './AllVideosPage';\r\nimport SavedVideosPage from './SavedVideosPage';\r\nimport LikedVideosPage from './LikedVideosPage';\r\nimport JobSeekerProfile from './JobSeekerProfile';\r\nimport Settings from './Settings';\r\nimport VideoUpload from './VideoUpload'; // Ensure this import exists\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`jobseeker-tabpanel-${index}`}\r\n      aria-labelledby={`jobseeker-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        // allow content to expand naturally so page scrollbar appears\r\n        <Box sx={{ py: 2 }}>\r\n          {children}\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst a11yProps = (index) => {\r\n  return {\r\n    id: `jobseeker-tab-${index}`,\r\n    'aria-controls': `jobseeker-tabpanel-${index}`,\r\n  };\r\n};\r\n\r\nconst JobseekerTabs = () => {\r\n  // const { t } = useTranslation(); // Removed: unused variable\n  const [darkMode, setDarkMode] = useState(true);\r\n  const [currentTab, setCurrentTab] = useState(0);\r\n  const { user, role } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"md\"));\r\n  const [stats, setStats] = useState({\r\n    activeApplications: 0,\r\n    upcomingInterviews: 0,\r\n    myVideos: 0,\r\n    savedJobs: 0\r\n  });\r\n\r\n \r\n  // Read tab group and tab from URL\r\n  const tabCategoryKey = searchParams.get(\"group\") || \"dashboard\";\r\n  const tabParam = searchParams.get(\"tab\") || \"overview\";\r\n\r\n  // Get translated tab categories â€” call directly to avoid unstable memo dependency shapes\r\n  const jobseekerTabCategoriesData = jobseekerTabCategories();\r\n\r\n  // Find the category to display (plain derivation keeps hooks order stable)\r\n  const tabCategory =\r\n    jobseekerTabCategoriesData.find((cat) => cat.key === tabCategoryKey) ||\r\n    jobseekerTabCategoriesData[0];\r\n\r\n  const filteredTabs = tabCategory.tabs;\r\n\r\n  // Find tab index by tab path\r\n  useEffect(() => {\r\n    if (tabParam) {\r\n      const index = filteredTabs.findIndex((tab) => tab.path === tabParam);\r\n      setCurrentTab(index !== -1 ? index : 0); // Default to the first tab if not found\r\n    } else {\r\n      setCurrentTab(0); // Default to the first tab if no tabParam is provided\r\n    }\r\n  }, [tabParam, filteredTabs]);\r\n\r\n  // When tab is changed, update both tab and group in URL\r\n  // Use a stable function (no useCallback) to avoid changing dependency arrays\r\n  function handleTabChange(event, newValue) {\r\n    setCurrentTab(newValue);\r\n    try {\r\n      setSearchParams({ group: tabCategory.key, tab: filteredTabs[newValue].path });\r\n    } catch (e) {\r\n      // guard: fallback to first tab\r\n      setSearchParams({ group: tabCategory.key, tab: filteredTabs[0]?.path || \"overview\" });\r\n    }\r\n  }\r\n\r\n  const customTheme = useMemo(\r\n    () =>\r\n      createTheme({\r\n        palette: {\r\n          mode: darkMode ? \"dark\" : \"light\",\r\n          primary: {\r\n            main: darkMode ? \"#a78bfa\" : \"#4f46e5\",\r\n            contrastText: darkMode ? \"#ffffff\" : \"#ffffff\",\r\n          },\r\n          secondary: {\r\n            main: darkMode ? \"#4ade80\" : \"#059669\",\r\n          },\r\n          background: {\r\n            default: darkMode ? \"#0f0f23\" : \"#f8fafc\",\r\n            paper: darkMode ? \"#1a1b3a\" : \"#ffffff\",\r\n            paper2: darkMode ? \"#2d2e5f\" : \"#f1f5f9\",\r\n            hover: darkMode ? \"#232b52ff\" : \"#e2e8f0\",\r\n            selected: darkMode ? \"#afbcfaff\" : \"#3f4b81ff\",\r\n          },\r\n          divider: darkMode ? \"#374151\" : \"#e5e7eb\",\r\n          text: {\r\n            primary: darkMode ? \"#f1f5f9\" : \"#0f172a\",\r\n            secondary: darkMode ? \"#cbd5e1\" : \"#475569\",\r\n          },\r\n        },\r\n        typography: {\r\n          fontFamily: '\"Inter\", \"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n          h4: {\r\n            fontWeight: 700,\r\n            fontSize: \"2rem\",\r\n          },\r\n          h6: {\r\n            fontWeight: 600,\r\n          },\r\n        },\r\n        shape: {\r\n          borderRadius: 12,\r\n        },\r\n        components: {\r\n          MuiButton: {\r\n            styleOverrides: {\r\n              root: {\r\n                borderRadius: 8,\r\n                textTransform: \"none\",\r\n                fontWeight: 600,\r\n              },\r\n            },\r\n          },\r\n          MuiCard: {\r\n            styleOverrides: {\r\n              root: {\r\n                boxShadow: darkMode\r\n                  ? \"0 4px 6px rgba(0, 0, 0, 0.3)\"\r\n                  : \"0 4px 6px rgba(0, 0, 0, 0.1)\",\r\n                transition: \"all 0.2s ease-in-out\",\r\n                \"&:hover\": {\r\n                  transform: \"translateY(-2px)\",\r\n                  boxShadow: darkMode\r\n                    ? \"0 8px 25px rgba(0, 0, 0, 0.4)\"\r\n                    : \"0 8px 25px rgba(0, 0, 0, 0.15)\",\r\n                },\r\n              },\r\n            },\r\n          },\r\n          MuiTabs: {\r\n            styleOverrides: {\r\n              root: {\r\n                minHeight: 48,\r\n              },\r\n              indicator: {\r\n                backgroundColor: darkMode ? \"#a78bfa\" : \"#4f46e5\",\r\n                height: 3,\r\n                borderRadius: \"3px 3px 0 0\",\r\n              },\r\n            },\r\n          },\r\n          MuiTab: {\r\n            styleOverrides: {\r\n              root: {\r\n                textTransform: \"none\",\r\n                fontWeight: 500,\r\n                fontSize: \"0.875rem\",\r\n                minHeight: 48,\r\n                \"&.Mui-selected\": {\r\n                  fontWeight: 600,\r\n                },\r\n              },\r\n            },\r\n          },\r\n        },\r\n      }),\r\n    [darkMode]\r\n  );\r\n\r\n  \r\n  useEffect(() => {\r\n    if (user) {\r\n      const primary = Array.isArray(role) ? role[0] : role;\r\n      if (primary && primary !== \"job_seeker\" && primary !== \"employee\") {\r\n        if (primary === \"employer\" || primary === \"recruiter\") navigate(\"/employer-tabs\");\r\n        else if (primary === \"admin\") navigate(\"/admin-dashboard\");\r\n        else navigate(\"/\");\r\n      }\r\n    }\r\n  }, [user, role, navigate]);\r\n\r\n  useEffect(() => {\r\n    const fetchStats = async () => {\r\n      try {\r\n        const statsResponse = await getJobseekerStats();\r\n        if (statsResponse && statsResponse.data) {\r\n          setStats(statsResponse.data);\r\n        } else {\r\n          console.error(\"Unexpected API response format:\", statsResponse);\r\n          setStats({\r\n            activeApplications: 0,\r\n            upcomingInterviews: 0,\r\n            myVideos: 0,\r\n            savedJobs: 0\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch jobseeker stats:\", error);\r\n        setStats({\r\n          activeApplications: 0,\r\n          upcomingInterviews: 0,\r\n          myVideos: 0,\r\n          savedJobs: 0\r\n        });\r\n      }\r\n    };\r\n\r\n    fetchStats();\r\n  }, []);\r\n\r\n  const handleVideoUpload = async (videoData) => {\r\n    const payload = {\r\n      // ...existing code...\r\n      videoPosition: videoData.videoPosition || 'intro', // Replace 'intro' with a valid default value\r\n      // ...existing code...\r\n    };\r\n\r\n    try {\r\n      const response = await fetch('/api/videos/upload', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload),\r\n      });\r\n      // ...existing code...\r\n    } catch (error) {\r\n      console.error('Video upload failed:', error);\r\n    }\r\n  };\r\n\r\n  if (!user || !(Array.isArray(role) ? role.includes(\"job_seeker\") || role.includes(\"employee\") : role === \"job_seeker\" || role === \"employee\")) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <ThemeProvider theme={customTheme}>\r\n      <CssBaseline />\r\n      <Box\r\n        sx={{\r\n          // let the document's scrollbar handle vertical scrolling\r\n          bgcolor: \"background.default\",\r\n          // remove forced full-height flex layout and overflow handling\r\n        }}\r\n      >\r\n        <Header darkMode={darkMode} setDarkMode={setDarkMode} />\r\n\r\n        {/* Floating Navigation Panel */}\r\n        <FloatingNavigationPanel \r\n          role={role} \r\n          onPageChange={(pagePath) => navigate(pagePath)} \r\n        />\r\n\r\n        {/* restore Container to normal flow so it contributes to page height */}\r\n        <Container\r\n          maxWidth=\"lg\"\r\n          sx={{\r\n            mt: { xs: 2, md: 3 },\r\n            mb: { xs: 3, md: 4 },\r\n            px: { xs: 2, sm: 3, md: 4 },\r\n            // removed flexGrow/minHeight so container height grows with content\r\n          }}\r\n        >\r\n          {/* Welcome Section */}\r\n          <Box sx={{ mb: { xs: 3, md: 4 } }}>\r\n            <Typography\r\n              variant=\"h5\"\r\n              component=\"h1\"\r\n              gutterBottom\r\n              sx={{\r\n                fontSize: { xs: \"1.5rem\", md: \"2rem\" },\r\n                fontWeight: \"bold\",\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              Welcome back, {user?.firstName || \"Job Seeker\"}! ðŸ‘‹\r\n            </Typography>\r\n            <Typography\r\n              variant=\"body2\"\r\n              color=\"text.secondary\"\r\n              sx={{\r\n                fontSize: { xs: \"0.9rem\", md: \"1rem\" },\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              Manage your job search, profile, and career opportunities all in\r\n              one place.\r\n            </Typography>\r\n          </Box>\r\n\r\n          {/* Quick Stats Cards */}\r\n          <Grid container spacing={{ xs: 2, md: 3 }} sx={{ mb: { xs: 3, md: 4 } }}>\r\n              {/* Small stats: Profile Views, Matches, Applications, Unread Messages */}\r\n              <Grid item xs={6} sm={4} md={3}>\r\n                <Card>\r\n                  <CardContent sx={{ textAlign: \"center\" }}>\r\n                    <Badge\r\n                      badgeContent={(stats?.profileViews ?? stats?.profile_views ?? 0) === 0 ? '0' : (stats?.profileViews ?? stats?.profile_views ?? 0)}\r\n                      color=\"primary\"\r\n                    >\r\n                      <VisibilityIcon\r\n                        color=\"primary\"\r\n                        sx={{ fontSize: { xs: 40, md: 50 } }}\r\n                      />\r\n                    </Badge>\r\n                    <Typography\r\n                      variant=\"body2\"\r\n                      sx={{\r\n                        mt: 1,\r\n                        fontSize: { xs: \"0.8rem\", md: \"1rem\" },\r\n                      }}\r\n                    >\r\n                      Profile Views\r\n                    </Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n\r\n              <Grid item xs={6} sm={4} md={3}>\r\n                <Card>\r\n                  <CardContent sx={{ textAlign: \"center\" }}>\r\n                    <Badge\r\n                      badgeContent={(stats?.matches ?? 0) === 0 ? '0' : (stats?.matches ?? 0)}\r\n                      color=\"secondary\"\r\n                    >\r\n                      <ThumbUpIcon\r\n                        color=\"secondary\"\r\n                        sx={{ fontSize: { xs: 40, md: 50 } }}\r\n                      />\r\n                    </Badge>\r\n                    <Typography\r\n                      variant=\"body2\"\r\n                      sx={{\r\n                        mt: 1,\r\n                        fontSize: { xs: \"0.8rem\", md: \"1rem\" },\r\n                      }}\r\n                    >\r\n                      Matches\r\n                    </Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n\r\n              <Grid item xs={6} sm={4} md={3}>\r\n                <Card>\r\n                  <CardContent sx={{ textAlign: \"center\" }}>\r\n                    <Badge\r\n                      badgeContent={(stats?.applications ?? stats?.applications_count ?? 0) === 0 ? '0' : (stats?.applications ?? stats?.applications_count ?? 0)}\r\n                      color=\"warning\"\r\n                    >\r\n                      <Work\r\n                        color=\"warning\"\r\n                        sx={{ fontSize: { xs: 40, md: 50 } }}\r\n                      />\r\n                    </Badge>\r\n                    <Typography\r\n                      variant=\"body2\"\r\n                      sx={{\r\n                        mt: 1,\r\n                        fontSize: { xs: \"0.8rem\", md: \"1rem\" },\r\n                      }}\r\n                    >\r\n                      Applications\r\n                    </Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n\r\n              <Grid item xs={6} sm={4} md={3}>\r\n                <Card>\r\n                  <CardContent sx={{ textAlign: \"center\" }}>\r\n                    <Badge\r\n                      badgeContent={(stats?.unreadMessages ?? stats?.unread_messages ?? 0) === 0 ? '0' : (stats?.unreadMessages ?? stats?.unread_messages ?? 0)}\r\n                      color=\"info\"\r\n                    >\r\n                      <MessageIcon\r\n                        color=\"info\"\r\n                        sx={{ fontSize: { xs: 40, md: 50 } }}\r\n                      />\r\n                    </Badge>\r\n                    <Typography\r\n                      variant=\"body2\"\r\n                      sx={{\r\n                        mt: 1,\r\n                        fontSize: { xs: \"0.8rem\", md: \"1rem\" },\r\n                      }}\r\n                    >\r\n                      Unread Messages\r\n                    </Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n          </Grid>\r\n\r\n          {/* Main Navigation Tabs */}\r\n          <Paper elevation={2} sx={{ mb: { xs: 2, md: 3 } }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n              <Tabs\r\n                value={currentTab}\r\n                onChange={handleTabChange}\r\n                aria-label=\"Job Seeker Dashboard Tabs\"\r\n                variant={isMobile ? \"scrollable\" : \"standard\"}\r\n                scrollButtons=\"auto\"\r\n                allowScrollButtonsMobile\r\n                sx={{\r\n                  px: { xs: 1, md: 2 },\r\n                  \"& .MuiTab-root\": {\r\n                    fontSize: { xs: \"0.8rem\", md: \"1rem\" },\r\n                  },\r\n                }}\r\n              >\r\n                {filteredTabs.map((tab, index) => (\r\n                  <Tab\r\n                    key={tab.path}\r\n                    label={\r\n                      <Box\r\n                        sx={{\r\n                          display: \"flex\",\r\n                          alignItems: \"center\",\r\n                          gap: 1,\r\n                        }}\r\n                      >\r\n                        {React.createElement(tab.icon, {\r\n                          sx: { fontSize: { xs: 20, md: 24 } },\r\n                        })}\r\n                        <span>{tab.label}</span>\r\n                      </Box>\r\n                    }\r\n                    {...a11yProps(index)}\r\n                  />\r\n                ))}\r\n              </Tabs>\r\n            </Box>\r\n\r\n            {/* Tab Content */}\r\n            {filteredTabs.map((tab, index) => (\r\n              <TabPanel key={tab.path} value={currentTab} index={index}>\r\n                <Box sx={{ p: 2 }}>\r\n                  <Typography\r\n                    variant=\"body2\"\r\n                    color=\"text.secondary\"\r\n                    sx={{ mb: 2 }}\r\n                  >\r\n                    {tab.description}\r\n                  </Typography>\r\n                  {tab.context\r\n                    ? React.createElement(tab.component, { context: tab.context })\r\n                    : React.createElement(tab.component)}\r\n                </Box>\r\n              </TabPanel>\r\n            ))}\r\n          </Paper>\r\n        </Container>\r\n\r\n        <Footer />\r\n      </Box>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default JobseekerTabs;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\JobseekerVideoExamples.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useEffect' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 47,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 56,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useEffect"
            },
            "fix": {
              "range": [
                44,
                55
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useEffect'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'drawerWidthDesktop' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 217,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 217,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "drawerWidthDesktop"
            },
            "fix": {
              "range": [
                6422,
                6452
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'drawerWidthDesktop'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'drawerWidthMobile' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 218,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 218,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "drawerWidthMobile"
            },
            "fix": {
              "range": [
                6456,
                6485
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'drawerWidthMobile'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'toggleDrawer' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 220,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 220,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "toggleDrawer"
            },
            "fix": {
              "range": [
                6491,
                6558
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'toggleDrawer'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'drawerContent' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 224,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 224,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "drawerContent"
            },
            "fix": {
              "range": [
                6564,
                8787
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'drawerContent'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState, useRef, useEffect  } from 'react';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n  Box,\r\n  Drawer,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  Avatar,\r\n  Typography,\r\n  useTheme,\r\n  useMediaQuery\r\n} from \"@mui/material\";\r\nimport {\r\n  Home,\r\n  Search,\r\n  Group,\r\n  Bookmark,\r\n  Settings,\r\n  VideoLibrary,\r\n  Menu,\r\n  PlayArrow\r\n} from \"@mui/icons-material\";\r\n\r\n\r\n// --- Mock Data for Video Resumes (using Cloudinary URLs from previous example) ---\r\nconst mockVideoResumes = [\r\n  {\r\n    id: '1',\r\n    title: \"Full Stack Developer\",\r\n    experience: \"5 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935204/Jobseeker/wvepwzroiy6s942idqal.mp4'\r\n  },\r\n  {\r\n    id: '2',\r\n    title: \"Mobile App Developer\",\r\n    experience: \"3 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935204/Jobseeker/mrghiax1ijujzwzg5uwg.mp4'\r\n  },\r\n  {\r\n    id: '3',\r\n    title: \"Data Analyst\",\r\n    experience: \"4 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935199/Jobseeker/yioadeex8ubryf1uy8su.mp4'\r\n  },\r\n  {\r\n    id: '4',\r\n    title: \"Cloud Architect\",\r\n    experience: \"7 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935200/Jobseeker/mn3dew4rgwaaji9z23xd.mp4'\r\n  },\r\n  {\r\n    id: '5',\r\n    title: \"Technical Writer\",\r\n    experience: \"2 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935200/Jobseeker/fgb77awqtyrh5praep5u.mp4'\r\n  },\r\n  {\r\n    id: '6',\r\n    title: \"Network Engineer\",\r\n    experience: \"6 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935198/Jobseeker/ghqvk7qvqipsocpet1gp.mp4'\r\n  },\r\n  {\r\n    id: '7',\r\n    title: \"DevOps Specialist\",\r\n    experience: \"5 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935195/Jobseeker/oqzzdjldzfgd0qpratac.mp4'\r\n  },\r\n  {\r\n    id: '8',\r\n    title: \"Cybersecurity Analyst\",\r\n    experience: \"3 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935197/Jobseeker/vsae57raurfootdj5pvi.mp4'\r\n  },\r\n  {\r\n    id: '9',\r\n    title: \"Game Developer\",\r\n    experience: \"4 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935196/Jobseeker/h5qg3cfiszmjefiquvrm.mp4'\r\n  },\r\n  {\r\n    id: '10',\r\n    title: \"Product Manager\",\r\n    experience: \"8 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935194/Jobseeker/zedgzvmwlurqi4zhhluw.mp4'\r\n  },\r\n  {\r\n    id: '11',\r\n    title: \"AI Engineer\",\r\n    experience: \"6 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935193/Jobseeker/wjlhdsvjbg6pwwe8heoy.mp4'\r\n  },\r\n  {\r\n    id: '12',\r\n    title: \"UI/UX Designer\",\r\n    experience: \"3 years\",\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935193/Jobseeker/ds9oofsbwgtntxt3zgxx.mp4'\r\n  }\r\n];\r\n\r\n// --- Playable Video Preview Component ---\r\nconst PlayableVideoPreview = ({ title, experience, videoUrl, onClick }) => {\r\n  const theme = useTheme();\r\n  const videoRef = useRef(null);\r\n  const [isPlaying, setIsPlaying] = useState(false); // Initially paused\r\n\r\n  const handleMouseEnter = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.play().catch(e => console.error(\"Video autoplay on hover failed:\", e));\r\n      setIsPlaying(true);\r\n    }\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.pause();\r\n      setIsPlaying(false);\r\n      videoRef.current.currentTime = 0; // Reset video to start\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      onClick={onClick}\r\n      onMouseEnter={handleMouseEnter}\r\n      onMouseLeave={handleMouseLeave}\r\n      sx={{\r\n        position: \"relative\",\r\n        borderRadius: 2,\r\n        overflow: \"hidden\",\r\n        aspectRatio: \"9/16\", // Standard vertical video aspect ratio\r\n        bgcolor: theme.palette.action.hover,\r\n        cursor: \"pointer\",\r\n        pt:2,\r\n        transition: \"transform 0.2s\",\r\n        \"&:hover\": {\r\n          transform: \"scale(1.02)\",\r\n        }\r\n      }}\r\n    >\r\n     <video\r\n        ref={videoRef}\r\n        loop // Loop the video preview\r\n        //muted // Mute by default for autoplay on hover\r\n        playsInline // Important for mobile browsers\r\n        preload=\"metadata\" // Load enough data to get duration/dimensions\r\n        style={{\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n          objectFit: \"cover\",\r\n          opacity: 0.9,\r\n          display: 'block' // Remove extra space below video\r\n        }}\r\n      >\r\n        <source src={videoUrl} type=\"video/mp4\" />\r\n        {/* Fallback text for browsers that don't support the video tag */}\r\n        Your browser does not support the video tag.\r\n      </video>\r\n\r\n      {/* Play Icon - Visible when not playing on hover */}\r\n      {!isPlaying && (\r\n        <Box\r\n          className=\"play-icon-overlay\"\r\n          sx={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -50%)\",\r\n            color: \"#fff\",\r\n            bgcolor: \"rgba(255, 64, 129, 0.7)\", // Pinkish red\r\n            borderRadius: \"50%\",\r\n            p: 2,\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            opacity: 1, // Always visible when paused\r\n            transition: \"opacity 0.3s\",\r\n          }}\r\n        >\r\n          <PlayArrow fontSize=\"large\" />\r\n        </Box>\r\n      )}\r\n\r\n\r\n      <Box\r\n        sx={{\r\n          position: \"absolute\",\r\n          bottom: 0,\r\n          left: 0,\r\n          right: 0,\r\n          p: 2,\r\n          background: \"linear-gradient(transparent, rgba(0,0,0,0.8))\",\r\n          color: '#fff' // Ensure text is white\r\n        }}\r\n      >\r\n        <Typography variant=\"subtitle2\" color=\"inherit\" fontWeight=\"bold\">\r\n          {title}\r\n        </Typography>\r\n        <Typography variant=\"caption\" color=\"rgba(255,255,255,0.8)\">\r\n          {experience} experience\r\n        </Typography>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\n// --- JobseekerExplorePage Component ---\r\nconst JobseekerExplorePage = () => {\r\n  const [activeTab, setActiveTab] = useState(\"candidates\");\r\n  const [mobileOpen, setMobileOpen] = useState(false);\r\n  const navigate = useNavigate();\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n\r\n  const drawerWidthDesktop = 80;\r\n  const drawerWidthMobile = 60;\r\n\r\n  const toggleDrawer = () => {\r\n    setMobileOpen(!mobileOpen);\r\n  };\r\n\r\n  const drawerContent = <Box sx={{\r\n  //backgroundclr\r\n        height: \"100vh\", display: \"flex\", flexDirection: \"column\", alignItems: \"center\", pt: 2, \"& .MuiListItem-root\": { color: \"rgb(39, 56, 83)\", \"&.Mui-selected\": { color: \"#ffffff\" } } }}>\r\n      <Avatar src=\"/employer-logo.png\" sx={{ width: isMobile ? 36 : 48, height: isMobile ? 36 : 48, mb: 3, border: `2px solid ${theme.palette.text.primary}` }} />\r\n\r\n      <List sx={{ width: \"100%\" }}>\r\n        {[{ icon: <Home fontSize={isMobile ? \"small\" : \"medium\"} />, value: \"home\" }, { icon: <Search fontSize={isMobile ? \"small\" : \"medium\"} />, value: \"search\" }, { icon: <Group fontSize={isMobile ? \"small\" : \"medium\"} />, value: \"candidates\" }, { icon: <Bookmark fontSize={isMobile ? \"small\" : \"medium\"} />, value: \"saved\" }, { icon: <VideoLibrary fontSize={isMobile ? \"small\" : \"medium\"} />, value: \"video-resumes\" }].map(\r\n          item =>\r\n            <ListItem\r\n              key={item.value}\r\n              component=\"div\"\r\n              selected={activeTab === item.value}\r\n              onClick={() => {\r\n                setActiveTab(item.value);\r\n                if (isMobile) setMobileOpen(false);\r\n                if (item.value === \"home\") navigate(\"/\");\r\n              }}\r\n              sx={{\r\n                justifyContent: \"center\",\r\n                py: 2,\r\n                cursor: \"pointer\",\r\n                \"&.Mui-selected\": {\r\n                  borderLeft: `3px solid ${theme.palette.primary.main}`\r\n                }\r\n              }}\r\n            >\r\n              <ListItemIcon\r\n                sx={{\r\n                  minWidth: \"auto\",\r\n                  color:\r\n                    activeTab === item.value\r\n                      ? theme.palette.primary.main\r\n                      : theme.palette.text.primary\r\n                }}\r\n              >\r\n                {item.icon}\r\n              </ListItemIcon>\r\n            </ListItem>\r\n        )}\r\n      </List>\r\n\r\n      <Box sx={{ mt: \"auto\", pb: 2, display: \"flex\", justifyContent: \"center\" }}>\r\n        <IconButton sx={{ color: theme.palette.text.white, p: isMobile ? 0.5 : 1 }}>\r\n          <Settings fontSize={isMobile ? \"small\" : \"medium\"} />\r\n        </IconButton>\r\n      </Box>\r\n    </Box>;\r\n\r\n  return (\r\n    <Box sx={{ display: \"flex\" }}>\r\n      {/* Mobile Menu Icon */}\r\n      {/*{isMobile && (\r\n        <IconButton\r\n          color=\"#ffffff\"\r\n          aria-label=\"open drawer\"\r\n          onClick={toggleDrawer}\r\n          sx={{\r\n            position: \"fixed\",\r\n            top: 16,\r\n            left: 16,\r\n            zIndex: theme.zIndex.drawer + 1,\r\n            color: \"#ffffff\",\r\n          }}\r\n        >\r\n          <Menu />\r\n        </IconButton>\r\n      )}\r\n\r\n       Responsive Drawer \r\n      <Drawer\r\n        variant={isMobile ? \"temporary\" : \"permanent\"}\r\n        open={isMobile ? mobileOpen : true}\r\n        onClose={toggleDrawer}\r\n        ModalProps={{ keepMounted: true }}\r\n        sx={{\r\n          width: isMobile ? drawerWidthMobile : drawerWidthDesktop,\r\n          flexShrink: 0,\r\n          \"& .MuiDrawer-paper\": {\r\n            width: isMobile ? drawerWidthMobile : drawerWidthDesktop,\r\n            boxSizing: \"border-box\",\r\n            borderRight: \"none\",\r\n            bgcolor: theme.palette.background.paper,\r\n            display: \"flex\",\r\n            flexDirection: \"column\"\r\n          }\r\n        }}\r\n      >\r\n        {drawerContent}\r\n      </Drawer>*/}\r\n\r\n      {/* Main Content */}\r\n      <Box\r\n        component=\"main\"\r\n        sx={{\r\n          flexGrow: 1,\r\n          p: 2,\r\n          mt: 0,\r\n          pl:5,\r\n          height: \"100vh\",\r\n          bgcolor: 'background.default',\r\n          overflowY: \"auto\"\r\n        }}\r\n      >\r\n        <Box\r\n          sx={{\r\n            display: \"grid\",\r\n            gridTemplateColumns: \"repeat(auto-fill, minmax(300px, 1fr))\",\r\n            gap: 2\r\n          }}\r\n        >\r\n          {mockVideoResumes.map(video => (\r\n            <PlayableVideoPreview\r\n              key={video.id}\r\n              title={video.title}\r\n              experience={video.experience}\r\n              videoUrl={video.videoUrl} // Pass the video URL\r\n              onClick={() => navigate(`/jobseeker-video-feed/${video.id}`)} // Navigate to feed on click\r\n            />\r\n          ))}\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default JobseekerExplorePage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\JobseekerVideoFeed.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has missing dependencies: 'handleSwipeDown', 'handleSwipeUp', and 'togglePlay'. Either include them or remove the dependency array.",
        "line": 389,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 389,
        "endColumn": 36,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [currentVideoIndex, handleSwipeDown, handleSwipeUp, isPlaying, togglePlay]",
            "fix": {
              "range": [
                12785,
                12815
              ],
              "text": "[currentVideoIndex, handleSwipeDown, handleSwipeUp, isPlaying, togglePlay]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState, useRef, useEffect  } from 'react';\r\nimport {\r\n  Box,\r\n  IconButton,\r\n  Typography,\r\n  Chip,\r\n  Stack,\r\n  Avatar,\r\n  CircularProgress,\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Button,\r\n} from '@mui/material';\r\nimport {\r\n  FavoriteBorder,\r\n  Favorite,\r\n  BookmarkBorder,\r\n  Bookmark,\r\n  Share,\r\n  MoreVert,\r\n  ArrowUpward,\r\n  ArrowDownward,\r\n  Close,\r\n  PlayArrow,\r\n} from '@mui/icons-material';\r\nimport { styled } from '@mui/system';\r\nimport { useNavigate ,useParams  } from 'react-router-dom';\r\n\r\n\r\n// Mock data (keep this outside the component to avoid re-creation on every render)\r\nconst mockJobVideos = [\r\n  {\r\n    id: '1',\r\n    company: 'Innovate Solutions',\r\n    jobTitle: 'Senior React Developer',\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935204/Jobseeker/wvepwzroiy6s942idqal.mp4',\r\n    logoUrl: 'https://via.placeholder.com/48/8E44AD/FFFFFF?text=IS',\r\n    tags: ['React', 'Node.js', 'AWS', 'Full-time'],\r\n    description: 'Lead our next-gen web applications team. You will be responsible for designing and implementing scalable solutions, mentoring junior developers, and pushing technological boundaries.',\r\n    location: 'Remote, USA',\r\n    salary: '$100,000 - $140,000',\r\n    posted: '5 days ago',\r\n    saved: false,\r\n    liked: false\r\n  },\r\n  {\r\n    id: '2',\r\n    company: 'Global Fintech',\r\n    jobTitle: 'Backend Engineer (Python)',\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935204/Jobseeker/mrghiax1ijujzwzg5uwg.mp4',\r\n    logoUrl: 'https://via.placeholder.com/48/27AE60/FFFFFF?text=GF',\r\n    tags: ['Python', 'Django', 'APIs', 'Finance'],\r\n    description: 'Build robust and secure backend services for our financial trading platforms. Experience with high-frequency trading systems is a plus.',\r\n    location: 'London, UK',\r\n    salary: 'Ø¢Â£70,000 - Ø¢Â£100,000',\r\n    posted: '1 day ago',\r\n    saved: false,\r\n    liked: false\r\n  },\r\n  {\r\n    id: '3',\r\n    company: 'Creative Agency X',\r\n    jobTitle: 'Digital Marketing Specialist',\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935199/Jobseeker/yioadeex8ubryf1uy8su.mp4',\r\n    logoUrl: 'https://via.placeholder.com/48/D35400/FFFFFF?text=CAX',\r\n    tags: ['SEO', 'Content', 'Social Media', 'Marketing'],\r\n    description: 'Drive online presence and lead generation for our diverse client portfolio. A passion for creative campaigns and analytics is key.',\r\n    location: 'Berlin, Germany',\r\n    salary: 'Ã¢â€šÂ¬45,000 - Ã¢â€šÂ¬65,000',\r\n    posted: '3 weeks ago',\r\n    saved: false,\r\n    liked: false\r\n  },\r\n  {\r\n    id: '4',\r\n    company: 'MediCare Tech',\r\n    jobTitle: 'Healthcare IT Support',\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935200/Jobseeker/mn3dew4rgwaaji9z23xd.mp4',\r\n    logoUrl: 'https://via.placeholder.com/48/1ABC9C/FFFFFF?text=MC',\r\n    tags: ['IT Support', 'Healthcare', 'Troubleshooting', 'Entry-level'],\r\n    description: 'Provide technical assistance to healthcare professionals. Great opportunity for recent graduates looking to start their career in health tech.',\r\n    location: 'Boston, MA',\r\n    salary: '$40,000 - $55,000',\r\n    posted: '4 days ago',\r\n    saved: false,\r\n    liked: false\r\n  },\r\n  {\r\n    id: '5',\r\n    company: 'EduLearn Platform',\r\n    jobTitle: 'Online Course Creator',\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935200/Jobseeker/fgb77awqtyrh5praep5u.mp4',\r\n    logoUrl: 'https://via.placeholder.com/48/9B59B6/FFFFFF?text=EL',\r\n    tags: ['Education', 'Content Development', 'E-learning'],\r\n    description: 'Develop engaging video content and curriculum for our online learning platform. Expertise in STEM subjects preferred.',\r\n    location: 'Remote',\r\n    salary: '$50/hour - $80/hour',\r\n    posted: '1 month ago',\r\n    saved: false,\r\n    liked: false\r\n  },\r\n  {\r\n    id: '6',\r\n    company: 'GreenEnergy Solutions',\r\n    jobTitle: 'Renewable Energy Project Manager',\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935198/Jobseeker/ghqvk7qvqipsocpet1gp.mp4',\r\n    logoUrl: 'https://via.placeholder.com/48/2ECC71/FFFFFF?text=GE',\r\n    tags: ['Project Management', 'Sustainability', 'Engineering'],\r\n    description: 'Oversee renewable energy projects from conception to completion. Strong leadership and technical background required.',\r\n    location: 'Austin, TX',\r\n    salary: '$95,000 - $130,000',\r\n    posted: '2 days ago',\r\n    saved: false,\r\n    liked: false\r\n  },\r\n  {\r\n    id: '7',\r\n    company: 'Logistics Innovations',\r\n    jobTitle: 'Supply Chain Analyst',\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935195/Jobseeker/oqzzdjldzfgd0qpratac.mp4',\r\n    logoUrl: 'https://via.placeholder.com/48/3498DB/FFFFFF?text=LI',\r\n    tags: ['Supply Chain', 'Analytics', 'Logistics', 'Optimization'],\r\n    description: 'Analyze and optimize our global supply chain operations. Help us reduce costs and improve efficiency across all stages.',\r\n    location: 'Chicago, IL',\r\n    salary: '$70,000 - $95,000',\r\n    posted: '1 week ago',\r\n    saved: false,\r\n    liked: false\r\n  },\r\n  {\r\n    id: '8',\r\n    company: 'Artisan Crafts Co.',\r\n    jobTitle: 'E-commerce Manager',\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935197/Jobseeker/vsae57raurfootdj5pvi.mp4',\r\n    logoUrl: 'https://via.placeholder.com/48/E67E22/FFFFFF?text=AC',\r\n    tags: ['E-commerce', 'Shopify', 'Online Sales', 'Retail'],\r\n    description: 'Manage and grow our online store for handmade goods. Experience with digital marketing and inventory management is crucial.',\r\n    location: 'Portland, OR',\r\n    salary: '$60,000 - $85,000',\r\n    posted: '3 days ago',\r\n    saved: false,\r\n    liked: false\r\n  },\r\n  {\r\n    id: '9',\r\n    company: 'Digital Health Hub',\r\n    jobTitle: 'Clinical Research Coordinator',\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935196/Jobseeker/h5qg3cfiszmjefiquvrm.mp4',\r\n    logoUrl: 'https://via.placeholder.com/48/C0392B/FFFFFF?text=DHH',\r\n    tags: ['Clinical', 'Research', 'Healthcare', 'Data Entry'],\r\n    description: 'Support clinical trials by coordinating study activities, managing patient data, and ensuring compliance with protocols.',\r\n    location: 'San Diego, CA',\r\n    salary: '$55,000 - $70,000',\r\n    posted: '2 weeks ago',\r\n    saved: false,\r\n    liked: false\r\n  },\r\n  {\r\n    id: '10',\r\n    company: 'Future Robotics',\r\n    jobTitle: 'Robotics Engineer',\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935194/Jobseeker/zedgzvmwlurqi4zhhluw.mp4',\r\n    logoUrl: 'https://via.placeholder.com/48/7F8C8D/FFFFFF?text=FR',\r\n    tags: ['Robotics', 'AI', 'Embedded Systems', 'R&D'],\r\n    description: 'Design, develop, and test robotic systems for industrial automation. A strong background in mechatronics and control systems is ideal.',\r\n    location: 'Silicon Valley, CA',\r\n    salary: '$110,000 - $160,000',\r\n    posted: '6 days ago',\r\n    saved: false,\r\n    liked: false\r\n  },\r\n  {\r\n    id: '11',\r\n    company: 'Smart City Solutions',\r\n    jobTitle: 'Urban Planner',\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935193/Jobseeker/wjlhdsvjbg6pwwe8heoy.mp4',\r\n    logoUrl: 'https://via.placeholder.com/48/F39C12/FFFFFF?text=SCS',\r\n    tags: ['Urban Planning', 'Sustainability', 'GIS', 'Community'],\r\n    description: 'Contribute to sustainable urban development projects. Analyze spatial data, design community initiatives, and prepare reports.',\r\n    location: 'Vancouver, Canada',\r\n    salary: '$75,000 - $100,000',\r\n    posted: '3 days ago',\r\n    saved: false,\r\n    liked: false\r\n  },\r\n  {\r\n    id: '12',\r\n    company: 'Quantum Innovations',\r\n    jobTitle: 'Machine Learning Scientist',\r\n    videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935193/Jobseeker/ds9oofsbwgtntxt3zgxx.mp4',\r\n    logoUrl: 'https://via.placeholder.com/48/95A5A6/FFFFFF?text=QI',\r\n    tags: ['Machine Learning', 'Deep Learning', 'AI', 'Research'],\r\n    description: 'Conduct cutting-edge research in machine learning and develop innovative AI solutions for complex problems.',\r\n    location: 'Cambridge, MA',\r\n    salary: '$120,000 - $180,000',\r\n    posted: '4 days ago',\r\n    saved: false,\r\n    liked: false\r\n  }\r\n];\r\n\r\n// Styled components (unchanged)\r\nconst VideoContainer = styled('div')({\r\n  position: 'relative',\r\n  width: '100%',\r\n  height: '100vh',\r\n  overflow: 'hidden',\r\n  backgroundColor: '#000',\r\n});\r\n\r\nconst StyledVideo = styled('video')({\r\n  width: '100%',\r\n  height: '100%',\r\n  objectFit: 'cover',\r\n});\r\n\r\nconst OverlayContent = styled('div')({\r\n  position: 'absolute',\r\n  bottom: 0,\r\n  left: 0,\r\n  right: 0,\r\n  padding: '16px',\r\n  background: 'linear-gradient(transparent, rgba(0,0,0,0.7))',\r\n  color: '#fff',\r\n  zIndex: 1,\r\n});\r\n\r\nconst RightActionBar = styled('div')({\r\n  position: 'absolute',\r\n  right: '16px',\r\n  bottom: '120px',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  alignItems: 'center',\r\n  gap: '16px',\r\n  zIndex: 2,\r\n});\r\n\r\nconst ActionButton = styled(IconButton)({\r\n  color: '#fff',\r\n  backgroundColor: 'rgba(0,0,0,0.3)',\r\n  '&:hover': {\r\n    backgroundColor: 'rgba(0,0,0,0.5)',\r\n  },\r\n});\r\n\r\nconst ConnectButton = styled(Button)({\r\n  position: 'absolute',\r\n  right: '16px',\r\n  bottom: '16px',\r\n  zIndex: 2,\r\n  backgroundColor: '#1976d2',\r\n  color: '#fff',\r\n  fontWeight: 'bold',\r\n  '&:hover': {\r\n    backgroundColor: '#1565c0',\r\n  },\r\n});\r\n\r\nconst JobDetailDialog = styled(Dialog)({\r\n  '& .MuiDialog-paper': {\r\n    borderRadius: '16px',\r\n    maxWidth: '600px',\r\n    width: '90%',\r\n  },\r\n});\r\n\r\n\r\nconst JobseekerVideoFeed = () => {\r\n  const { vid } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  // Initialize videos state FIRST, so it's available for initialIndex calculation\r\n  const [videos, setVideos] = useState(mockJobVideos);\r\n\r\n  const initialIndex = vid ? videos.findIndex(video => video.id === vid) : 0;\r\n  const [currentVideoIndex, setCurrentVideoIndex] = useState(\r\n    initialIndex >= 0 ? initialIndex : 0\r\n  );\r\n\r\n  const [isPlaying, setIsPlaying] = useState(false); // Start as false (paused)\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n  const videoRef = useRef(null);\r\n\r\n  const currentVideo = videos[currentVideoIndex];\r\n\r\n  // Function to attempt playing the video\r\n  const tryPlayVideo = () => {\r\n    if (videoRef.current) {\r\n      const playPromise = videoRef.current.play();\r\n      if (playPromise !== undefined) {\r\n        playPromise.then(() => {\r\n          setIsPlaying(true);\r\n        }).catch(error => {\r\n          console.warn('Autoplay prevented:', error);\r\n          setIsPlaying(false);\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSwipeUp = () => {\r\n    if (currentVideoIndex < videos.length - 1) {\r\n      setCurrentVideoIndex(currentVideoIndex + 1);\r\n      setIsLoading(true);\r\n      setIsPlaying(false);\r\n    }\r\n  };\r\n\r\n  const handleSwipeDown = () => {\r\n    if (currentVideoIndex > 0) {\r\n      setCurrentVideoIndex(currentVideoIndex - 1);\r\n      setIsLoading(true);\r\n      setIsPlaying(false);\r\n    }\r\n  };\r\n\r\n  const togglePlay = () => {\r\n    if (videoRef.current) {\r\n      if (isPlaying) {\r\n        videoRef.current.pause();\r\n        setIsPlaying(false);\r\n      } else {\r\n        tryPlayVideo();\r\n      }\r\n    }\r\n  };\r\n\r\n  const toggleLike = () => {\r\n    const updatedVideos = [...videos];\r\n    updatedVideos[currentVideoIndex].liked = !updatedVideos[currentVideoIndex].liked;\r\n    setVideos(updatedVideos);\r\n  };\r\n\r\n  const toggleSave = () => {\r\n    const updatedVideos = [...videos];\r\n    updatedVideos[currentVideoIndex].saved = !updatedVideos[currentVideoIndex].saved;\r\n    setVideos(updatedVideos);\r\n  };\r\n\r\n  const handleVideoLoaded = () => {\r\n    setIsLoading(false);\r\n    tryPlayVideo();\r\n  };\r\n\r\n  const handleVideoError = (e) => {\r\n    console.error('Video loading failed:', e);\r\n    setIsLoading(false);\r\n    setIsPlaying(false);\r\n  };\r\n\r\n  const handleOpenDialog = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.pause();\r\n      setIsPlaying(false);\r\n    }\r\n    setOpenDialog(true);\r\n  };\r\n\r\n  const handleCloseDialog = () => {\r\n    if (videoRef.current) {\r\n      tryPlayVideo();\r\n    }\r\n    setOpenDialog(false);\r\n  };\r\n\r\n  const handleCloseFeed = () => {\r\n    navigate(-1); // Go back to the previous page\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      if (e.key === 'ArrowUp') {\r\n        handleSwipeUp();\r\n      } else if (e.key === 'ArrowDown') {\r\n        handleSwipeDown();\r\n      } else if (e.key === ' ') {\r\n        e.preventDefault();\r\n        togglePlay();\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [currentVideoIndex, isPlaying]);\r\n\r\n  useEffect(() => {\r\n    if (videoRef.current) {\r\n      setIsLoading(true);\r\n      videoRef.current.muted = false; // Ensure video is muted for initial autoplay attempt\r\n      videoRef.current.load(); // Load the new video source\r\n\r\n      // After loading, the onLoadedData handler will attempt to play.\r\n      // If it fails due to browser policy, setIsPlaying will remain false,\r\n      // and the play button will be visible.\r\n    }\r\n  }, [currentVideoIndex, currentVideo.videoUrl]); // Depend on videoUrl to trigger reload\r\n\r\n  return (\r\n    <Box sx={{ position: 'relative', height: '100vh', overflow: 'hidden' }}>\r\n      <VideoContainer\r\n        onClick={togglePlay}\r\n        onTouchStart={(e) => {\r\n          const startY = e.touches[0].clientY;\r\n          const handleTouchEnd = (e) => {\r\n            const endY = e.changedTouches[0].clientY;\r\n            if (endY < startY - 50) {\r\n              handleSwipeUp();\r\n            } else if (endY > startY + 50) {\r\n              handleSwipeDown();\r\n            }\r\n            document.removeEventListener('touchend', handleTouchEnd);\r\n          };\r\n          document.addEventListener('touchend', handleTouchEnd);\r\n        }}\r\n      >\r\n        {isLoading && (\r\n          <Box\r\n            sx={{\r\n              position: 'absolute',\r\n              top: '50%',\r\n              left: '50%',\r\n              transform: 'translate(-50%, -50%)',\r\n              zIndex: 1,\r\n            }}\r\n          >\r\n            <CircularProgress color=\"primary\" />\r\n          </Box>\r\n        )}\r\n\r\n        <StyledVideo\r\n          ref={videoRef}\r\n          src={currentVideo.videoUrl}\r\n          loop\r\n          playsInline\r\n          muted={false} // Explicitly set muted to true here\r\n          onLoadedData={handleVideoLoaded}\r\n          onError={handleVideoError}\r\n          crossOrigin=\"anonymous\"\r\n        />\r\n\r\n        {/* Play Icon - Only visible when not playing and not loading */}\r\n        {!isPlaying && !isLoading && (\r\n          <IconButton\r\n            sx={{\r\n              position: 'absolute',\r\n              top: '50%',\r\n              left: '50%',\r\n              transform: 'translate(-50%, -50%)',\r\n              color: '#fff',\r\n              backgroundColor: 'rgba(0,0,0,0.5)',\r\n              zIndex: 2,\r\n              width: '64px',\r\n              height: '64px',\r\n            }}\r\n            onClick={togglePlay}\r\n          >\r\n            <PlayArrow fontSize=\"large\" />\r\n          </IconButton>\r\n        )}\r\n\r\n        {/* Close Button - Top Left */}\r\n        <IconButton\r\n          sx={{\r\n            position: 'absolute',\r\n            top: '16px',\r\n            left: '16px',\r\n            color: '#fff',\r\n            backgroundColor: 'rgba(0,0,0,0.3)',\r\n            '&:hover': {\r\n              backgroundColor: 'rgba(0,0,0,0.5)',\r\n            },\r\n            zIndex: 3,\r\n          }}\r\n          onClick={handleCloseFeed}\r\n        >\r\n          <Close />\r\n        </IconButton>\r\n\r\n        {/* Overlay Content (Bottom Left) */}\r\n        <OverlayContent>\r\n          <Typography variant=\"h5\" fontWeight=\"bold\" sx={{color:\"#fff\",}}>\r\n            {currentVideo.jobTitle}\r\n          </Typography>\r\n          <Typography variant=\"subtitle1\" sx={{ mb: 1 , color:\"rgba(216, 220, 223, 0.5)\",}}>\r\n            {currentVideo.company}\r\n          </Typography>\r\n          <Stack direction=\"row\" spacing={1} sx={{ mb: 2 }}>\r\n            {currentVideo.tags.map((tag, index) => (\r\n              <Chip\r\n                key={index}\r\n                label={tag}\r\n                size=\"small\"\r\n                sx={{\r\n                  backgroundColor: 'rgba(255,255,255,0.2)',\r\n                  color: '#fff',\r\n                  backdropFilter: 'blur(10px)',\r\n                }}\r\n              />\r\n            ))}\r\n          </Stack>\r\n          <Typography variant=\"body2\" sx={{ mb: 2 , color:\"rgba(238, 238, 238, 0.5)\",}}>\r\n            {currentVideo.description}\r\n          </Typography>\r\n        </OverlayContent>\r\n\r\n        {/* Right Action Bar (navigation arrows THEN icons) */}\r\n        <RightActionBar>\r\n          {/* Navigation Arrows on the right (TOP) */}\r\n          <IconButton\r\n            sx={{\r\n              color: '#fff',\r\n              backgroundColor: 'rgba(0,0,0,0.3)',\r\n              '&:hover': {\r\n                backgroundColor: 'rgba(0,0,0,0.5)',\r\n              },\r\n            }}\r\n            onClick={handleSwipeUp}\r\n            disabled={currentVideoIndex >= videos.length - 1}\r\n          >\r\n            <ArrowUpward />\r\n          </IconButton>\r\n\r\n          <IconButton\r\n            sx={{\r\n              color: '#fff',\r\n              backgroundColor: 'rgba(0,0,0,0.3)',\r\n              '&:hover': {\r\n                backgroundColor: 'rgba(0,0,0,0.5)',\r\n              },\r\n            }}\r\n            onClick={handleSwipeDown}\r\n            disabled={currentVideoIndex <= 0}\r\n          >\r\n            <ArrowDownward />\r\n          </IconButton>\r\n\r\n          {/* Action Icons (BELOW arrows) */}\r\n          <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', mt: 2 }}>\r\n            <Avatar src={currentVideo.logoUrl} sx={{ width: 48, height: 48, mb: 1 }} />\r\n            <ActionButton onClick={toggleLike}>\r\n              {currentVideo.liked ? (\r\n                <Favorite sx={{ color: '#ff4081' }} />\r\n              ) : (\r\n                <FavoriteBorder />\r\n              )}\r\n            </ActionButton>\r\n          </Box>\r\n\r\n          <ActionButton onClick={toggleSave}>\r\n            {currentVideo.saved ? (\r\n              <Bookmark sx={{ color: '#ffc107' }} />\r\n            ) : (\r\n              <BookmarkBorder />\r\n            )}\r\n          </ActionButton>\r\n\r\n          <ActionButton>\r\n            <Share />\r\n          </ActionButton>\r\n\r\n          <ActionButton onClick={handleOpenDialog}>\r\n            <MoreVert />\r\n          </ActionButton>\r\n        </RightActionBar>\r\n\r\n        <ConnectButton\r\n          variant=\"contained\"\r\n          size=\"large\"\r\n          onClick={handleOpenDialog}\r\n        >\r\n          Connect\r\n        </ConnectButton>\r\n      </VideoContainer>\r\n\r\n      {/* Job Details Dialog */}\r\n      <JobDetailDialog open={openDialog} onClose={handleCloseDialog}>\r\n        <DialogTitle sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n          <Typography variant=\"h6\">Job Details</Typography>\r\n          <IconButton onClick={handleCloseDialog}>\r\n            <Close />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n            <Avatar src={currentVideo.logoUrl} sx={{ width: 64, height: 64, mr: 2 }} />\r\n            <Box>\r\n              <Typography variant=\"h5\" fontWeight=\"bold\">\r\n                {currentVideo.jobTitle}\r\n              </Typography>\r\n              <Typography variant=\"subtitle1\">{currentVideo.company}</Typography>\r\n            </Box>\r\n          </Box>\r\n\r\n          <Box sx={{ mb: 3 }}>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {currentVideo.description}\r\n            </Typography>\r\n          </Box>\r\n\r\n          <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1, mb: 3 }}>\r\n            {currentVideo.tags.map((tag, index) => (\r\n              <Chip key={index} label={tag} color=\"primary\" variant=\"outlined\" />\r\n            ))}\r\n          </Box>\r\n\r\n          <Box sx={{ mb: 3 }}>\r\n            <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n              Location\r\n            </Typography>\r\n            <Typography variant=\"body1\">{currentVideo.location}</Typography>\r\n          </Box>\r\n\r\n          <Box sx={{ mb: 3 }}>\r\n            <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n              Salary Range\r\n            </Typography>\r\n            <Typography variant=\"body1\">{currentVideo.salary}</Typography>\r\n          </Box>\r\n\r\n          <Box sx={{ mb: 3 }}>\r\n            <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n              Posted\r\n            </Typography>\r\n            <Typography variant=\"body1\">{currentVideo.posted}</Typography>\r\n          </Box>\r\n\r\n          <Box sx={{ display: 'flex', justifyContent: 'flex-end', gap: 2, mt: 3 }}>\r\n            <Button variant=\"outlined\" onClick={handleCloseDialog}>\r\n              Close\r\n            </Button>\r\n            <Button variant=\"contained\" color=\"primary\">\r\n              Apply Now\r\n            </Button>\r\n          </Box>\r\n        </DialogContent>\r\n      </JobDetailDialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default JobseekerVideoFeed;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\JobsListingPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useAuth' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 3,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 3,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useAuth"
            },
            "fix": {
              "range": [
                102,
                151
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useAuth'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'categories' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 40,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 40,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "categories"
            },
            "fix": {
              "range": [
                1463,
                1473
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'categories'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchJobs'. Either include it or remove the dependency array.",
        "line": 47,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 47,
        "endColumn": 20,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchJobs, statusFilter]",
            "fix": {
              "range": [
                1694,
                1708
              ],
              "text": "[fetchJobs, statusFilter]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'error' is defined but never used.",
        "line": 88,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 88,
        "endColumn": 19
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { getAllJobsPosted, getCategories } from '@/services/api';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/UI/card.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Input } from '@/components/UI/input.jsx';\r\nimport { Label } from '@/components/UI/label.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/UI/dialog.jsx';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/UI/select.jsx';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport {\r\n  Search,\r\n  MapPin,\r\n  Briefcase,\r\n  DollarSign,\r\n  Clock,\r\n  Eye,\r\n  Edit,\r\n  Trash2,\r\n  Users,\r\n  Calendar,\r\n  TrendingUp,\r\n  Loader2,\r\n  Plus,\r\n  Filter,\r\n  PlayCircle\r\n} from 'lucide-react';\r\nimport themeColors from '@/config/theme-colors';\r\n\r\nexport default function JobsListingPage() {\r\n  // const { user } = useAuth(); // Removed: unused variable\n  const { toast } = useToast();\r\n  const navigate = useNavigate();\r\n  const [jobs, setJobs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [statusFilter, setStatusFilter] = useState('all');\r\n  const [categories, setCategories] = useState([]);\r\n  const [selectedJob, setSelectedJob] = useState(null);\r\n  const [deleteDialog, setDeleteDialog] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchJobs();\r\n    fetchCategories();\r\n  }, [statusFilter]);\r\n\r\n  const fetchJobs = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await getAllJobsPosted();\r\n      setJobs(response.data.jobs || []);\r\n    } catch (error) {\r\n      console.error('Error fetching jobs:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to load job listings\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await getCategories();\r\n      setCategories(response.data || []);\r\n    } catch (error) {\r\n      console.error('Error fetching categories:', error);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (jobId) => {\r\n    navigate(`/employer-tabs?group=jobManagement&tab=post-job&edit=${jobId}`);\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      // Add delete API call here\r\n      toast({\r\n        title: \"Success!\",\r\n        description: \"Job deleted successfully\",\r\n      });\r\n      setDeleteDialog(false);\r\n      fetchJobs();\r\n    } catch (error) {\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to delete job\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const filteredJobs = jobs.filter(job => {\r\n    const matchesSearch = job.title?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                         job.description?.toLowerCase().includes(searchTerm.toLowerCase());\r\n    const matchesStatus = statusFilter === 'all' || job.status === statusFilter;\r\n    return matchesSearch && matchesStatus;\r\n  });\r\n\r\n  const JobCard = ({ job }) => (\r\n    <Card className=\"hover:shadow-lg transition-all duration-200 border-l-4 border-l-purple-500\">\r\n      <CardHeader>\r\n        <div className=\"flex justify-between items-start\">\r\n          <div className=\"flex-grow\">\r\n            <CardTitle className=\"text-xl mb-2\">{job.title}</CardTitle>\r\n            <div className=\"flex flex-wrap gap-2 mb-2\">\r\n              <Badge variant={job.status === 'active' ? 'default' : 'secondary'}>\r\n                {job.status || 'Active'}\r\n              </Badge>\r\n              {job.jobType && (\r\n                <Badge variant=\"outline\">\r\n                  <Clock className=\"h-3 w-3 mr-1\" />\r\n                  {job.jobType}\r\n                </Badge>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <Button variant=\"ghost\" size=\"icon\" onClick={() => handleEdit(job.id)}>\r\n              <Edit className=\"h-4 w-4\" />\r\n            </Button>\r\n            <Button \r\n              variant=\"ghost\" \r\n              size=\"icon\" \r\n              onClick={() => {\r\n                setSelectedJob(job);\r\n                setDeleteDialog(true);\r\n              }}\r\n            >\r\n              <Trash2 className=\"h-4 w-4 text-destructive\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent>\r\n        {job.description && (\r\n          <p className=\"text-sm text-muted-foreground mb-4 line-clamp-2\">\r\n            {job.description}\r\n          </p>\r\n        )}\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4\">\r\n          {job.location && (\r\n            <div className=\"flex items-center gap-2 text-sm\">\r\n              <MapPin className=\"h-4 w-4 text-muted-foreground\" />\r\n              <span>{job.location}</span>\r\n            </div>\r\n          )}\r\n\r\n          {(job.minSalary || job.maxSalary) && (\r\n            <div className=\"flex items-center gap-2 text-sm\">\r\n              <DollarSign className=\"h-4 w-4 text-muted-foreground\" />\r\n              <span>\r\n                {job.minSalary && job.maxSalary \r\n                  ? `$${job.minSalary.toLocaleString()} - $${job.maxSalary.toLocaleString()}`\r\n                  : job.minSalary \r\n                    ? `From $${job.minSalary.toLocaleString()}`\r\n                    : `Up to $${job.maxSalary.toLocaleString()}`\r\n                }\r\n              </span>\r\n            </div>\r\n          )}\r\n\r\n          {job.applicants_count !== undefined && (\r\n            <div className=\"flex items-center gap-2 text-sm\">\r\n              <Users className=\"h-4 w-4 text-muted-foreground\" />\r\n              <span>{job.applicants_count} Applicants</span>\r\n            </div>\r\n          )}\r\n\r\n          {job.views !== undefined && (\r\n            <div className=\"flex items-center gap-2 text-sm\">\r\n              <Eye className=\"h-4 w-4 text-muted-foreground\" />\r\n              <span>{job.views} Views</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {job.skills && job.skills.length > 0 && (\r\n          <div className=\"mb-4\">\r\n            <p className=\"text-sm font-medium mb-2\">Required Skills:</p>\r\n            <div className=\"flex flex-wrap gap-1\">\r\n              {job.skills.slice(0, 5).map((skill, index) => (\r\n                <Badge key={index} variant=\"outline\" className=\"text-xs\">\r\n                  {skill.name || skill}\r\n                </Badge>\r\n              ))}\r\n              {job.skills.length > 5 && (\r\n                <Badge variant=\"outline\" className=\"text-xs\">\r\n                  +{job.skills.length - 5} more\r\n                </Badge>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"flex gap-2 mt-4\">\r\n          <Button \r\n            variant=\"outline\" \r\n            size=\"sm\"\r\n            className=\"flex-1\"\r\n            onClick={() => navigate(`/job/${job.id}`)}\r\n          >\r\n            <Eye className=\"h-4 w-4 mr-1\" />\r\n            View Details\r\n          </Button>\r\n          <Button \r\n            variant=\"default\" \r\n            size=\"sm\"\r\n            className={`${themeColors.buttons.primary} text-white flex-1  hover:from-purple-700 hover:to-cyan-700`}\r\n            onClick={() => navigate(`/job/${job.id}/applications`)}\r\n          >\r\n            <Users className=\"h-4 w-4 mr-1\" />\r\n            View Applications\r\n          </Button>\r\n        </div>\r\n\r\n        {job.createdAt && (\r\n          <p className=\"text-xs text-muted-foreground mt-3 text-center\">\r\n            Posted {new Date(job.createdAt).toLocaleDateString()}\r\n          </p>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-6 px-4 max-w-7xl\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"`${themeColors.text.gradient} text-4xl font-bold \">\r\n          My Job Listings\r\n        </h1>\r\n        <Button\r\n          onClick={() => navigate('/employer-tabs?group=jobManagement&tab=post-job')}\r\n          className={`${themeColors.buttons.primary} text-white  hover:from-purple-700 hover:to-cyan-700`}\r\n        >\r\n          <Plus className=\"h-4 w-4 mr-2\" />\r\n          Post New Job\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Stats Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium\">Total Jobs</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold\">{jobs.length}</div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium\">Active Jobs</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-green-600\">\r\n              {jobs.filter(j => j.status === 'active').length}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium\">Total Applicants</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold\">\r\n              {jobs.reduce((sum, j) => sum + (j.applicants_count || 0), 0)}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium\">Total Views</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold\">\r\n              {jobs.reduce((sum, j) => sum + (j.views || 0), 0)}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <Card className=\"mb-6\">\r\n        <CardContent className=\"p-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            <div>\r\n              <Label htmlFor=\"search\">Search Jobs</Label>\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n                <Input\r\n                  id=\"search\"\r\n                  placeholder=\"Search by title or description...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  className=\"pl-9\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"status\">Status Filter</Label>\r\n              <Select value={statusFilter} onValueChange={setStatusFilter}>\r\n                <SelectTrigger id=\"status\">\r\n                  <SelectValue placeholder=\"All Status\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">All Status</SelectItem>\r\n                  <SelectItem value=\"active\">Active</SelectItem>\r\n                  <SelectItem value=\"closed\">Closed</SelectItem>\r\n                  <SelectItem value=\"draft\">Draft</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"flex items-end\">\r\n              <Button variant=\"outline\" className=\"w-full\">\r\n                <Filter className=\"h-4 w-4 mr-2\" />\r\n                More Filters\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Job Listings */}\r\n      {loading ? (\r\n        <div className=\"flex justify-center py-12\">\r\n          <Loader2 className=\"h-12 w-12 animate-spin ${themeColors.iconBackgrounds.primary.split(' ')[1]}\" />\r\n        </div>\r\n      ) : filteredJobs.length > 0 ? (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {filteredJobs.map((job) => (\r\n            <JobCard key={job.id} job={job} />\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <Card className=\"text-center py-12\">\r\n          <CardContent>\r\n            <Briefcase className=\"h-16 w-16 mx-auto text-muted-foreground mb-4\" />\r\n            <h3 className=\"text-xl font-semibold mb-2\">No jobs found</h3>\r\n            <p className=\"text-muted-foreground mb-4\">\r\n              {searchTerm || statusFilter !== 'all' \r\n                ? \"Try adjusting your filters\"\r\n                : \"Start by posting your first job\"}\r\n            </p>\r\n            <Button\r\n              onClick={() => navigate('/employer-tabs?group=jobManagement&tab=post-job')}\r\n              className={`${themeColors.buttons.primary} text-white  hover:from-purple-700 hover:to-cyan-700`}\r\n            >\r\n              <Plus className=\"h-4 w-4 mr-2\" />\r\n              Post a Job\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Delete Confirmation Dialog */}\r\n      <Dialog open={deleteDialog} onOpenChange={setDeleteDialog}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>Delete Job Posting?</DialogTitle>\r\n            <DialogDescription>\r\n              Are you sure you want to delete \"{selectedJob?.title}\"? This action cannot be undone.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setDeleteDialog(false)}>\r\n              Cancel\r\n            </Button>\r\n            <Button \r\n              variant=\"destructive\" \r\n              onClick={handleDelete}\r\n            >\r\n              <Trash2 className=\"h-4 w-4 mr-2\" />\r\n              Delete Job\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\JobsListingPage_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 50,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 50,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                1007,
                1042
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getJobById' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 51,
        "column": 22,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 51,
        "endColumn": 32,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "getJobById"
            },
            "fix": {
              "range": [
                1063,
                1075
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'getJobById'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getEmployerProfile' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 51,
        "column": 34,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 51,
        "endColumn": 52,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "getEmployerProfile"
            },
            "fix": {
              "range": [
                1075,
                1095
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'getEmployerProfile'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 91,
        "column": 47,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 91,
        "endColumn": 52,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                2133,
                2142
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 117,
        "column": 47,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 117,
        "endColumn": 52,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                2752,
                2761
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 148,
        "column": 53,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 148,
        "endColumn": 58,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                3562,
                3571
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'role'. Either include it or remove the dependency array.",
        "line": 236,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 236,
        "endColumn": 65,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [page, searchQuery, locationFilter, categoryFilter, sortBy, role]",
            "fix": {
              "range": [
                6197,
                6256
              ],
              "text": "[page, searchQuery, locationFilter, categoryFilter, sortBy, role]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Grid,\r\n  Typography,\r\n  Card,\r\n  CardContent,\r\n  CardMedia,\r\n  CardActions,\r\n  Button,\r\n  Chip,\r\n  TextField,\r\n  InputAdornment,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Pagination,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  IconButton,\r\n  Divider,\r\n  Paper,\r\n  Skeleton,\r\n  styled,\r\n  useTheme,\r\n  useMediaQuery\r\n} from '@mui/material';\r\nimport {\r\n  Search as SearchIcon,\r\n  LocationOn as LocationIcon,\r\n  Work as WorkIcon,\r\n  PlayArrow as PlayArrowIcon,\r\n  Pause as PauseIcon,\r\n  Close as CloseIcon,\r\n  Favorite as FavoriteIcon,\r\n  FavoriteBorder as FavoriteBorderIcon,\r\n  Share as ShareIcon,\r\n  Business as BusinessIcon,\r\n  AttachMoney as MoneyIcon,\r\n  FilterList as FilterListIcon,\r\n  Sort as SortIcon,\r\n  VolumeOff as VolumeOffIcon,\r\n  VolumeUp as VolumeUpIcon\r\n} from '@mui/icons-material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\nimport { getAllJobs, getJobById, getEmployerProfile, getCategories ,getAllJobsPosted } from '@/services/api';\r\n\r\n// Styled components\r\nconst PageContainer = styled(Box)(({ theme }) => ({\r\n  backgroundColor: theme.palette.background.default,\r\n  minHeight: '100vh',\r\n  padding: theme.spacing(3),\r\n  width: '100%'\r\n}));\r\n\r\nconst SearchPaper = styled(Paper)(({ theme }) => ({\r\n  padding: theme.spacing(3),\r\n  marginBottom: theme.spacing(3),\r\n  width: '100%'\r\n}));\r\n\r\nconst JobCard = styled(Card)(({ theme }) => ({\r\n  width: '100%',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  borderRadius: theme.spacing(1),\r\n  overflow: 'hidden',\r\n  transition: 'transform 0.3s ease, box-shadow 0.3s ease',\r\n  '&:hover': {\r\n    transform: 'translateY(-5px)',\r\n    boxShadow: theme.shadows[10],\r\n  }\r\n}));\r\n\r\nconst JobCardMedia = styled(CardMedia)(({ theme }) => ({\r\n  height: 0,\r\n  paddingTop: '56.25%',\r\n  position: 'relative',\r\n  backgroundColor: theme.palette.grey[200],\r\n  cursor: 'pointer',\r\n  '&:hover .video-controls': {\r\n    opacity: 1\r\n  }\r\n}));\r\n\r\nconst VideoPlayButton = styled(IconButton)(({ theme }) => ({\r\n  position: 'absolute',\r\n  top: '50%',\r\n  left: '50%',\r\n  transform: 'translate(-50%, -50%)',\r\n  backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n  color: '#fff',\r\n  '&:hover': {\r\n    backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n  }\r\n}));\r\n\r\nconst VideoControls = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  bottom: 0,\r\n  left: 0,\r\n  right: 0,\r\n  padding: theme.spacing(1),\r\n  backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'space-between',\r\n  opacity: 0,\r\n  transition: 'opacity 0.3s ease',\r\n}));\r\n\r\nconst JobCardContent = styled(CardContent)(({ theme }) => ({\r\n  flexGrow: 1,\r\n}));\r\n\r\nconst CategoryChip = styled(Chip)(({ theme }) => ({\r\n  margin: theme.spacing(0.5),\r\n  backgroundColor: theme.palette.secondary.light,\r\n  color: theme.palette.secondary.contrastText,\r\n  '&:hover': {\r\n    backgroundColor: theme.palette.secondary.main,\r\n  }\r\n}));\r\n\r\nconst SkillChip = styled(Chip)(({ theme }) => ({\r\n  margin: theme.spacing(0.5),\r\n  backgroundColor: theme.palette.primary.light,\r\n  color: theme.palette.primary.contrastText,\r\n  '&:hover': {\r\n    backgroundColor: theme.palette.primary.main,\r\n  }\r\n}));\r\n\r\nconst VideoDialog = styled(Dialog)(({ theme }) => ({\r\n  '& .MuiDialog-paper': {\r\n    borderRadius: theme.spacing(1),\r\n    overflow: 'hidden',\r\n    width: '100%',\r\n    maxWidth: '800px'\r\n  }\r\n}));\r\n\r\nconst VideoDialogContent = styled(DialogContent)(({ theme }) => ({\r\n  padding: 0,\r\n  backgroundColor: '#000',\r\n  position: 'relative',\r\n}));\r\n\r\nconst JobsListingPage = () => {\r\n  const theme = useTheme();\r\n  const navigate = useNavigate();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\r\n  const {role} =useAuth;\r\n  \r\n  // State\r\n  const [jobs, setJobs] = useState([]);\r\n  const [filteredJobs, setFilteredJobs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [locationFilter, setLocationFilter] = useState('');\r\n  const [categoryFilter, setCategoryFilter] = useState('');\r\n  const [sortBy, setSortBy] = useState('newest');\r\n  const [page, setPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [videoDialog, setVideoDialog] = useState({\r\n    open: false,\r\n    videoUrl: '',\r\n    title: '',\r\n    isPlaying: false,\r\n    isMuted: true\r\n  });\r\n  const [favorites, setFavorites] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [locations, setLocations] = useState([]);\r\n  \r\n  // Refs\r\n  const videoRef = React.useRef(null);\r\n  const hoverVideoRefs = React.useRef({});\r\n  \r\n  // Constants\r\n  const jobsPerPage = 9;\r\n  \r\n  // Fetch jobs and categories\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        let  jobsResponse;\r\n        // Fetch jobs\r\n        if (role==\"job_seeker\")\r\n        {\r\njobsResponse = await getAllJobsPosted({\r\n          page,\r\n          limit: jobsPerPage,\r\n          search: searchQuery,\r\n          location: locationFilter,\r\n          category: categoryFilter,\r\n          sort: sortBy\r\n        });\r\n        }\r\n        else\r\n         jobsResponse = await getAllJobs({\r\n          page,\r\n          limit: jobsPerPage,\r\n          search: searchQuery,\r\n          location: locationFilter,\r\n          category: categoryFilter,\r\n          sort: sortBy\r\n        });\r\n        \r\n        // Fetch categories\r\n        const categoriesResponse = await getCategories();\r\n        \r\n        setJobs(jobsResponse.data.jobs);\r\n        setTotalPages(Math.ceil(jobsResponse.data.total / jobsPerPage));\r\n        setCategories(categoriesResponse.data.categories);\r\n        \r\n        // Extract unique locations from jobs\r\n        const uniqueLocations = [...new Set(jobsResponse.data.jobs.map(job => job.location).filter(Boolean))];\r\n        setLocations(uniqueLocations);\r\n        \r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error('Error fetching data:', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchData();\r\n  }, [page, searchQuery, locationFilter, categoryFilter, sortBy]);\r\n  \r\n  // Apply filters\r\n  useEffect(() => {\r\n    let filtered = [...jobs];\r\n    \r\n    if (searchQuery) {\r\n      filtered = filtered.filter(job => \r\n        job.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        job.description.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        job.company.name.toLowerCase().includes(searchQuery.toLowerCase())\r\n      );\r\n    }\r\n    \r\n    if (locationFilter) {\r\n      filtered = filtered.filter(job => \r\n        job.location.toLowerCase().includes(locationFilter.toLowerCase())\r\n      );\r\n    }\r\n    \r\n    if (categoryFilter) {\r\n      filtered = filtered.filter(job => \r\n        job.categoryRelations && job.categoryRelations.some(categoryRel => \r\n          categoryRel.category_id === categoryFilter\r\n        )\r\n      );\r\n    }\r\n    \r\n    // Sort jobs\r\n    switch (sortBy) {\r\n      case 'newest':\r\n        filtered.sort((a, b) => new Date(b.posted_at) - new Date(a.posted_at));\r\n        break;\r\n      case 'salary-high':\r\n        filtered.sort((a, b) => (b.salary_max || 0) - (a.salary_max || 0));\r\n        break;\r\n      case 'salary-low':\r\n        filtered.sort((a, b) => (a.salary_min || 0) - (b.salary_min || 0));\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    \r\n    setFilteredJobs(filtered);\r\n  }, [jobs, searchQuery, locationFilter, categoryFilter, sortBy]);\r\n  \r\n  // Handle search\r\n  const handleSearch = (e) => {\r\n    setSearchQuery(e.target.value);\r\n    setPage(1);\r\n  };\r\n  \r\n  // Handle location filter\r\n  const handleLocationFilter = (e) => {\r\n    setLocationFilter(e.target.value);\r\n    setPage(1);\r\n  };\r\n  \r\n  // Handle category filter\r\n  const handleCategoryFilter = (e) => {\r\n    setCategoryFilter(e.target.value);\r\n    setPage(1);\r\n  };\r\n  \r\n  // Handle sort change\r\n  const handleSortChange = (e) => {\r\n    setSortBy(e.target.value);\r\n  };\r\n  \r\n  // Handle page change\r\n  const handlePageChange = (event, value) => {\r\n    setPage(value);\r\n    window.scrollTo(0, 0);\r\n  };\r\n  \r\n  // Open video dialog\r\n  const openVideoDialog = (videoUrl, title) => {\r\n    setVideoDialog({\r\n      open: true,\r\n      videoUrl,\r\n      title,\r\n      isPlaying: true,\r\n      isMuted: true\r\n    });\r\n  };\r\n  \r\n  // Close video dialog\r\n  const closeVideoDialog = () => {\r\n    setVideoDialog({\r\n      ...videoDialog,\r\n      open: false,\r\n      isPlaying: false\r\n    });\r\n    \r\n    if (videoRef.current) {\r\n      videoRef.current.pause();\r\n    }\r\n  };\r\n  \r\n  // Toggle video playback\r\n  const toggleVideoPlayback = () => {\r\n    if (videoRef.current) {\r\n      if (videoDialog.isPlaying) {\r\n        videoRef.current.pause();\r\n      } else {\r\n        videoRef.current.play();\r\n      }\r\n      \r\n      setVideoDialog({\r\n        ...videoDialog,\r\n        isPlaying: !videoDialog.isPlaying\r\n      });\r\n    }\r\n  };\r\n  \r\n  // Toggle video mute\r\n  const toggleVideoMute = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.muted = !videoRef.current.muted;\r\n      setVideoDialog({\r\n        ...videoDialog,\r\n        isMuted: !videoDialog.isMuted\r\n      });\r\n    }\r\n  };\r\n  \r\n  // Handle video ended\r\n  const handleVideoEnded = () => {\r\n    setVideoDialog({\r\n      ...videoDialog,\r\n      isPlaying: false\r\n    });\r\n  };\r\n  \r\n  // Handle hover video play\r\n  const handleVideoHover = (jobId, action) => {\r\n    const videoElement = hoverVideoRefs.current[jobId];\r\n    if (videoElement) {\r\n      if (action === 'enter') {\r\n        videoElement.play();\r\n      } else {\r\n        videoElement.pause();\r\n        videoElement.currentTime = 0;\r\n      }\r\n    }\r\n  };\r\n  \r\n  // Toggle favorite\r\n  const toggleFavorite = (jobId) => {\r\n    if (favorites.includes(jobId)) {\r\n      setFavorites(favorites.filter(id => id !== jobId));\r\n    } else {\r\n      setFavorites([...favorites, jobId]);\r\n    }\r\n  };\r\n  \r\n  // Navigate to job details\r\n  const navigateToJobDetails = (jobId) => {\r\n    navigate(`/job/${jobId}`);\r\n  };\r\n  \r\n  // Navigate to employer profile\r\n  const navigateToEmployerProfile = (employerId) => {\r\n    navigate(`/employer/${employerId}`);\r\n  };\r\n  \r\n  // Format date\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return '';\r\n    \r\n    const date = new Date(dateString);\r\n    const options = { year: 'numeric', month: 'long', day: 'numeric' };\r\n    return date.toLocaleDateString('en-US', options);\r\n  };\r\n  \r\n  // Format salary range\r\n  const formatSalaryRange = (min, max, currency = 'USD', period = 'yearly') => {\r\n    if (!min && !max) return 'Salary not specified';\r\n    \r\n    const currencySymbols = {\r\n      USD: '$',\r\n      EUR: 'â‚¬',\r\n      GBP: 'Â£',\r\n      CAD: 'C$',\r\n      AUD: 'A$',\r\n      JPY: 'Â¥',\r\n      INR: 'â‚¹',\r\n      SAR: 'ï·¼',\r\n      AED: 'Ø¯.Ø¥'\r\n    };\r\n    \r\n    const symbol = currencySymbols[currency] || currency;\r\n    \r\n    let range = '';\r\n    if (min && max) {\r\n      range = `${symbol}${min.toLocaleString()} - ${symbol}${max.toLocaleString()}`;\r\n    } else if (min) {\r\n      range = `${symbol}${min.toLocaleString()}+`;\r\n    } else if (max) {\r\n      range = `Up to ${symbol}${max.toLocaleString()}`;\r\n    }\r\n    \r\n    const periodMap = {\r\n      hourly: 'per hour',\r\n      daily: 'per day',\r\n      weekly: 'per week',\r\n      monthly: 'per month',\r\n      yearly: 'per year'\r\n    };\r\n    \r\n    return `${range} ${periodMap[period] || ''}`;\r\n  };\r\n  \r\n  return (\r\n    <PageContainer>\r\n      <Container maxWidth=\"lg\" sx={{ width: '100%', padding: 0 }}>\r\n        {/* Page Header */}\r\n        <Box sx={{ mb: 4, width: '100%' }}>\r\n          <Typography variant=\"h4\" component=\"h1\" gutterBottom>\r\n            Job Listings\r\n          </Typography>\r\n          <Typography variant=\"body1\" color=\"textSecondary\">\r\n            Find your next career opportunity with video previews of companies and positions\r\n          </Typography>\r\n        </Box>\r\n        \r\n        {/* Search and Filter Section */}\r\n        <SearchPaper elevation={1}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} md={4}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Search Jobs\"\r\n                value={searchQuery}\r\n                onChange={handleSearch}\r\n                placeholder=\"Job title, company, or keywords\"\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <SearchIcon />\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6} md={3}>\r\n              <FormControl fullWidth>\r\n                <InputLabel id=\"location-filter-label\">Location</InputLabel>\r\n                <Select\r\n                  labelId=\"location-filter-label\"\r\n                  value={locationFilter}\r\n                  onChange={handleLocationFilter}\r\n                  label=\"Location\"\r\n                  startAdornment={\r\n                    <InputAdornment position=\"start\">\r\n                      <LocationIcon />\r\n                    </InputAdornment>\r\n                  }\r\n                >\r\n                  <MenuItem value=\"\">All Locations</MenuItem>\r\n                  {locations.map((location) => (\r\n                    <MenuItem key={location} value={location}>\r\n                      {location}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6} md={3}>\r\n              <FormControl fullWidth>\r\n                <InputLabel id=\"category-filter-label\">Category</InputLabel>\r\n                <Select\r\n                  labelId=\"category-filter-label\"\r\n                  value={categoryFilter}\r\n                  onChange={handleCategoryFilter}\r\n                  label=\"Category\"\r\n                  startAdornment={\r\n                    <InputAdornment position=\"start\">\r\n                      <FilterListIcon />\r\n                    </InputAdornment>\r\n                  }\r\n                >\r\n                  <MenuItem value=\"\">All Categories</MenuItem>\r\n                  {categories.map((category) => (\r\n                    <MenuItem key={category.id} value={category.id}>\r\n                      {category.name}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} md={2}>\r\n              <FormControl fullWidth>\r\n                <InputLabel id=\"sort-by-label\">Sort By</InputLabel>\r\n                <Select\r\n                  labelId=\"sort-by-label\"\r\n                  value={sortBy}\r\n                  onChange={handleSortChange}\r\n                  label=\"Sort By\"\r\n                  startAdornment={\r\n                    <InputAdornment position=\"start\">\r\n                      <SortIcon />\r\n                    </InputAdornment>\r\n                  }\r\n                >\r\n                  <MenuItem value=\"newest\">Newest</MenuItem>\r\n                  <MenuItem value=\"salary-high\">Highest Salary</MenuItem>\r\n                  <MenuItem value=\"salary-low\">Lowest Salary</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n        </SearchPaper>\r\n        \r\n        {/* Jobs List */}\r\n        {loading ? (\r\n          <Box sx={{ width: '100%' }}>\r\n            {[...Array(3)].map((_, index) => (\r\n              <Box key={index} sx={{ mb: 3, width: '100%' }}>\r\n                <JobCard>\r\n                  <Skeleton variant=\"rectangular\" height={200} width=\"100%\" />\r\n                  <CardContent>\r\n                    <Skeleton variant=\"text\" height={32} width=\"80%\" />\r\n                    <Skeleton variant=\"text\" height={24} width=\"60%\" />\r\n                    <Skeleton variant=\"text\" height={20} width=\"40%\" />\r\n                    <Box sx={{ mt: 2 }}>\r\n                      <Skeleton variant=\"text\" height={20} width=\"100%\" />\r\n                      <Skeleton variant=\"text\" height={20} width=\"100%\" />\r\n                    </Box>\r\n                    <Box sx={{ mt: 2, display: 'flex', gap: 1 }}>\r\n                      <Skeleton variant=\"rectangular\" height={32} width={80} />\r\n                      <Skeleton variant=\"rectangular\" height={32} width={80} />\r\n                    </Box>\r\n                  </CardContent>\r\n                </JobCard>\r\n              </Box>\r\n            ))}\r\n          </Box>\r\n        ) : filteredJobs.length === 0 ? (\r\n          <Box sx={{ textAlign: 'center', py: 5, width: '100%' }}>\r\n            <Typography variant=\"h6\" color=\"textSecondary\">\r\n              No jobs found matching your criteria\r\n            </Typography>\r\n            <Typography variant=\"body1\" color=\"textSecondary\" sx={{ mt: 1 }}>\r\n              Try adjusting your search or filters\r\n            </Typography>\r\n          </Box>\r\n        ) : (\r\n          <Box sx={{ width: '100%' }}>\r\n            {filteredJobs.map((job) => (\r\n              <Box key={job.id} sx={{ mb: 3, width: '100%' }}>\r\n                <JobCard>\r\n                  {job.video?.video_url ? (\r\n                    <Box\r\n                      sx={{\r\n                        height: 0,\r\n                        paddingTop: '56.25%',\r\n                        position: 'relative',\r\n                        backgroundColor: theme.palette.grey[200],\r\n                        overflow: 'hidden',\r\n                        '&:hover video': {\r\n                          opacity: 1,\r\n                        },\r\n                        '& video': {\r\n                          position: 'absolute',\r\n                          top: 0,\r\n                          left: 0,\r\n                          width: '100%',\r\n                          height: '100%',\r\n                          objectFit: 'cover',\r\n                          opacity: 0,\r\n                          transition: 'opacity 0.3s ease-in-out',\r\n                        },\r\n                        '&:hover .video-overlay': {\r\n                          opacity: 0,\r\n                        },\r\n                      }}\r\n                      onMouseEnter={() => handleVideoHover(job.id, 'enter')}\r\n                      onMouseLeave={() => handleVideoHover(job.id, 'leave')}\r\n                      onClick={() => openVideoDialog(job.video.video_url, job.title)}\r\n                    >\r\n                      <video\r\n                        ref={el => hoverVideoRefs.current[job.id] = el}\r\n                        src={job.video.video_url}\r\n                        poster={job.video.thumbnail || `https://via.placeholder.com/640x360?text=${encodeURIComponent(job.title)}`}\r\n                        muted\r\n                        loop\r\n                        playsInline\r\n                      />\r\n                      <VideoPlayButton aria-label=\"play\" className=\"video-overlay\">\r\n                        <PlayArrowIcon />\r\n                      </VideoPlayButton>\r\n                    </Box>\r\n                  ) : ''}\r\n                  \r\n                  <JobCardContent>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                      {job.company.logo && (\r\n                        <><Box\r\n                        component=\"img\"\r\n                        src={job.company.logo || 'https://via.placeholder.com/40x40?text=Logo'}\r\n                        alt={job.company.name}\r\n                        sx={{ width: 40, height: 40, borderRadius: '50%', mr: 1, objectFit: 'cover' ,fontSize:8 }}\r\n                      />\r\n                      <Typography\r\n                        variant=\"subtitle2\"\r\n                        color=\"textSecondary\"\r\n                        sx={{ cursor: 'pointer' }}\r\n                        onClick={() => navigateToEmployerProfile(job.company.id)}\r\n                      >\r\n                        {job.company.name}\r\n                      </Typography></>)}\r\n                    </Box>\r\n                    \r\n                    <Typography\r\n                      variant=\"h6\"\r\n                      component=\"h2\"\r\n                      gutterBottom\r\n                      sx={{\r\n                        overflow: 'hidden',\r\n                        textOverflow: 'ellipsis',\r\n                        display: '-webkit-box',\r\n                        WebkitLineClamp: 2,\r\n                        WebkitBoxOrient: 'vertical',\r\n                        cursor: 'pointer'\r\n                      }}\r\n                      onClick={() => navigateToJobDetails(job.id)}\r\n                    >\r\n                      {job.title}\r\n                    </Typography>\r\n                    \r\n                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                      <LocationIcon fontSize=\"small\" color=\"action\" sx={{ mr: 0.5 }} />\r\n                      <Typography variant=\"body2\" color=\"textSecondary\">\r\n                        {job.location || 'Location not specified'}\r\n                      </Typography>\r\n                    </Box>\r\n                    \r\n                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                      <MoneyIcon fontSize=\"small\" color=\"action\" sx={{ mr: 0.5 }} />\r\n                      <Typography variant=\"body2\" color=\"textSecondary\">\r\n                        {formatSalaryRange(job.salary_min, job.salary_max)}\r\n                      </Typography>\r\n                    </Box>\r\n                    \r\n                    <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5, mb: 2 }}>\r\n                      <Chip\r\n                        label={job.employment_type || 'Full-time'}\r\n                        size=\"small\"\r\n                        color=\"primary\"\r\n                        variant=\"outlined\"\r\n                      />\r\n                      {job.remote_ok && (\r\n                        <Chip\r\n                          label=\"Remote\"\r\n                          size=\"small\"\r\n                          color=\"secondary\"\r\n                          variant=\"outlined\"\r\n                        />\r\n                      )}\r\n                    </Box>\r\n                    \r\n                    <Typography\r\n                      variant=\"body2\"\r\n                      color=\"textSecondary\"\r\n                      sx={{\r\n                        mb: 2,\r\n                        overflow: 'hidden',\r\n                        textOverflow: 'ellipsis',\r\n                        display: '-webkit-box',\r\n                        WebkitLineClamp: 3,\r\n                        WebkitBoxOrient: 'vertical',\r\n                      }}\r\n                    >\r\n                      {job.description || 'No description provided'}\r\n                    </Typography>\r\n                    \r\n                    <Box sx={{ display: 'flex', flexWrap: 'wrap', mb: 1 }}>\r\n                      {job.jobSkills?.slice(0, 3).map((skill, index) => (\r\n                        <SkillChip\r\n                          key={index}\r\n                          label={skill}\r\n                          size=\"small\"\r\n                        />\r\n                      ))}\r\n                      {job.jobSkills?.length > 3 && (\r\n                        <Chip\r\n                          label={`+${job.jobSkills.length - 3}`}\r\n                          size=\"small\"\r\n                          variant=\"outlined\"\r\n                        />\r\n                      )}\r\n                    </Box>\r\n                    \r\n                    <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mt: 'auto' }}>\r\n                      <Typography variant=\"caption\" color=\"textSecondary\">\r\n                        Posted: {formatDate(job.posted_at)}\r\n                      </Typography>\r\n                    </Box>\r\n                  </JobCardContent>\r\n                  \r\n                  <Divider />\r\n                  \r\n                  <CardActions>\r\n                    <Button\r\n                      size=\"small\"\r\n                      color=\"primary\"\r\n                      onClick={() => navigateToJobDetails(job.id)}\r\n                    >\r\n                      View Details\r\n                    </Button>\r\n                    <Box sx={{ flexGrow: 1 }} />\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      color=\"primary\"\r\n                      onClick={() => toggleFavorite(job.id)}\r\n                    >\r\n                      {favorites.includes(job.id) ? (\r\n                        <FavoriteIcon />\r\n                      ) : (\r\n                        <FavoriteBorderIcon />\r\n                      )}\r\n                    </IconButton>\r\n                    <IconButton size=\"small\" color=\"primary\">\r\n                      <ShareIcon />\r\n                    </IconButton>\r\n                  </CardActions>\r\n                </JobCard>\r\n              </Box>\r\n            ))}\r\n          </Box>\r\n        )}\r\n        \r\n        {/* Pagination */}\r\n        {totalPages > 1 && (\r\n          <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4, width: '100%' }}>\r\n            <Pagination\r\n              count={totalPages}\r\n              page={page}\r\n              onChange={handlePageChange}\r\n              color=\"primary\"\r\n              size={isMobile ? 'small' : 'medium'}\r\n            />\r\n          </Box>\r\n        )}\r\n      </Container>\r\n      \r\n      {/* Video Dialog */}\r\n      <VideoDialog\r\n        open={videoDialog.open}\r\n        onClose={closeVideoDialog}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>\r\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n            <Typography variant=\"h6\">{videoDialog.title}</Typography>\r\n            <IconButton edge=\"end\" color=\"inherit\" onClick={closeVideoDialog} aria-label=\"close\">\r\n              <CloseIcon />\r\n            </IconButton>\r\n          </Box>\r\n        </DialogTitle>\r\n        <VideoDialogContent>\r\n          <video\r\n            ref={videoRef}\r\n            src={videoDialog.videoUrl}\r\n            width=\"100%\"\r\n            height=\"auto\"\r\n            autoPlay\r\n            muted={videoDialog.isMuted}\r\n            onEnded={handleVideoEnded}\r\n            style={{ display: 'block' }}\r\n          />\r\n          <VideoControls>\r\n            <IconButton size=\"small\" color=\"inherit\" onClick={toggleVideoPlayback}>\r\n              {videoDialog.isPlaying ? <PauseIcon /> : <PlayArrowIcon />}\r\n            </IconButton>\r\n            <IconButton size=\"small\" color=\"inherit\" onClick={toggleVideoMute}>\r\n              {videoDialog.isMuted ? <VolumeOffIcon /> : <VolumeUpIcon />}\r\n            </IconButton>\r\n            <Typography variant=\"caption\" color=\"inherit\">\r\n              {videoDialog.title}\r\n            </Typography>\r\n          </VideoControls>\r\n        </VideoDialogContent>\r\n      </VideoDialog>\r\n    </PageContainer>\r\n  );\r\n};\r\n\r\nexport default JobsListingPage;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\JobVideos.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useAuth' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 32,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 32,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useAuth"
            },
            "fix": {
              "range": [
                893,
                942
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useAuth'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 33,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 33,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                944,
                979
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 65,
        "column": 45,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 65,
        "endColumn": 50,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                2004,
                2013
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 70,
        "column": 42,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 70,
        "endColumn": 47,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                2144,
                2153
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setCategories' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 101,
        "column": 24,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 101,
        "endColumn": 37,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setCategories"
            },
            "fix": {
              "range": [
                3124,
                3139
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setCategories'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n    Box,\r\n    Grid,\r\n    Typography,\r\n    Card,\r\n    CardMedia,\r\n    CardContent,\r\n    IconButton,\r\n    Drawer,\r\n    List,\r\n    ListItem,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    Divider,\r\n    Button,\r\n    Chip,\r\n    CircularProgress,\r\n    TextField,\r\n    InputAdornment,\r\n    useTheme\r\n} from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport PlayArrowIcon from '@mui/icons-material/PlayArrow';\r\nimport FilterListIcon from '@mui/icons-material/FilterList';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport WorkIcon from '@mui/icons-material/Work';\r\nimport LocationOnIcon from '@mui/icons-material/LocationOn';\r\nimport BusinessIcon from '@mui/icons-material/Business';\r\nimport AttachMoneyIcon from '@mui/icons-material/AttachMoney';\r\nimport CategoryIcon from '@mui/icons-material/Category';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\n// import { getJobVideos } from '../services/jobService'; // Assuming this service exists\r\n\r\nconst JobVideosContainer = styled(Box)(({ theme }) => ({\r\n    padding: theme.spacing(3),\r\n    backgroundColor: theme.palette.background.default,\r\n    minHeight: 'calc(100vh - 56px)',\r\n}));\r\n\r\nconst SidebarButton = styled(Button)(({ theme, active }) => ({\r\n    justifyContent: 'flex-start',\r\n    textAlign: 'left',\r\n    padding: theme.spacing(1.5, 3),\r\n    borderRadius: 0,\r\n    borderLeft: active ? `4px solid ${theme.palette.primary.main}` : 'none',\r\n    backgroundColor: active ? theme.palette.action.selected : 'transparent',\r\n    '&:hover': {\r\n        backgroundColor: theme.palette.action.hover,\r\n    },\r\n}));\r\n\r\nconst VideoCard = styled(Card)(({ theme }) => ({\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    transition: 'transform 0.2s',\r\n    '&:hover': {\r\n        transform: 'translateY(-4px)',\r\n        boxShadow: theme.shadows[6],\r\n    },\r\n}));\r\n\r\nconst VideoCardMedia = styled(CardMedia)(({ theme }) => ({\r\n    paddingTop: '56.25%', // 16:9 aspect ratio\r\n    position: 'relative',\r\n}));\r\n\r\nconst PlayButton = styled(IconButton)(({ theme }) => ({\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n    color: 'white',\r\n    '&:hover': {\r\n        backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n    },\r\n}));\r\n\r\nconst FilterDrawer = styled(Drawer)(({ theme }) => ({\r\n    '& .MuiDrawer-paper': {\r\n        width: 280,\r\n        padding: theme.spacing(2),\r\n    },\r\n}));\r\n\r\nconst SkillChip = styled(Chip)(({ theme }) => ({\r\n    margin: theme.spacing(0.5),\r\n}));\r\n\r\nconst JobVideos = () => {\r\n  // const { user } = useAuth(); // Removed: unused variable\r\n    const [videos, setVideos] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [activeCategory, setActiveCategory] = useState('all');\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [filterDrawerOpen, setFilterDrawerOpen] = useState(false);\r\n    const [selectedVideo, setSelectedVideo] = useState(null);\r\n    const [categories, setCategories] = useState([\r\n        { id: 'all', name: 'All Jobs', icon: <WorkIcon /> },\r\n        { id: 'tech', name: 'Information Technology', icon: <WorkIcon /> },\r\n        { id: 'marketing', name: 'Marketing', icon: <WorkIcon /> },\r\n        { id: 'design', name: 'Design', icon: <WorkIcon /> },\r\n        { id: 'finance', name: 'Finance', icon: <WorkIcon /> },\r\n        { id: 'hr', name: 'Human Resources', icon: <WorkIcon /> },\r\n    ]);\r\n\r\n    useEffect(() => {\r\n        const fetchJobVideos = async () => {\r\n            try {\r\n                setLoading(true);\r\n                // Assuming getJobVideos is a function that takes category and search as parameters\r\n                // const response = await getJobVideos({\r\n                //     category: activeCategory !== 'all' ? activeCategory : undefined,\r\n                //     search: searchQuery || undefined\r\n                // });\r\n                // setVideos(response.data.videos);\r\n\r\n                // Placeholder data for demonstration\r\n                setVideos([\r\n                    { id: '1', job: { title: 'Software Engineer', company: { name: 'Tech Innovations Inc.' }, location: 'New York, USA', skills: [{ id: 's1', name: 'React' }, { id: 's2', name: 'JavaScript' }], category: { name: 'Information Technology' } }, thumbnail_url: '/placeholder-thumbnail.jpg', video_url: 'https://www.w3schools.com/html/mov_bbb.mp4' },\r\n                    { id: '2', job: { title: 'Marketing Manager', company: { name: 'Global Marketing Ltd.' }, location: 'London, UK', skills: [{ id: 's3', name: 'Digital Marketing' }, { id: 's4', name: 'SEO' }], category: { name: 'Marketing' } }, thumbnail_url: '/placeholder-thumbnail.jpg', video_url: 'https://www.w3schools.com/html/mov_bbb.mp4' },\r\n                    { id: '3', job: { title: 'UI/UX Designer', company: { name: 'Creative Solutions Co.' }, location: 'San Francisco, USA', skills: [{ id: 's5', name: 'UI Design' }, { id: 's6', name: 'UX Research' }], category: { name: 'Design' } }, thumbnail_url: '/placeholder-thumbnail.jpg', video_url: 'https://www.w3schools.com/html/mov_bbb.mp4' },\r\n                    { id: '4', job: { title: 'Financial Analyst', company: { name: 'Alpha Finance Group' }, location: 'Chicago, USA', skills: [{ id: 's7', name: 'Financial Modeling' }, { id: 's8', name: 'Data Analysis' }], category: { name: 'Finance' } }, thumbnail_url: '/placeholder-thumbnail.jpg', video_url: 'https://www.w3schools.com/html/mov_bbb.mp4' },\r\n                    { id: '5', job: { title: 'HR Manager', company: { name: 'People First Corp.' }, location: 'Berlin, Germany', skills: [{ id: 's9', name: 'Talent Acquisition' }, { id: 's10', name: 'Employee Relations' }], category: { name: 'Human Resources' } }, thumbnail_url: '/placeholder-thumbnail.jpg', video_url: 'https://www.w3schools.com/html/mov_bbb.mp4' },\r\n                    { id: '6', job: { title: 'Front-end Developer', company: { name: 'Web Wizards Inc.' }, location: 'Los Angeles, USA', skills: [{ id: 's1', name: 'React' }, { id: 's2', name: 'JavaScript' }, { id: 's11', name: 'HTML' }, { id: 's12', name: 'CSS' }], category: { name: 'Information Technology' } }, thumbnail_url: '/placeholder-thumbnail.jpg', video_url: 'https://www.w3schools.com/html/mov_bbb.mp4' },\r\n                ]);\r\n            } catch (error) {\r\n                console.error('Error fetching job videos:', error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchJobVideos();\r\n    }, [activeCategory, searchQuery]);\r\n\r\n    const handleCategoryClick = (categoryId) => {\r\n        setActiveCategory(categoryId);\r\n    };\r\n\r\n    const handleSearchChange = (event) => {\r\n        setSearchQuery(event.target.value);\r\n    };\r\n\r\n    const handleVideoClick = (video) => {\r\n        setSelectedVideo(video);\r\n    };\r\n\r\n    const handleCloseVideo = () => {\r\n        setSelectedVideo(null);\r\n    };\r\n\r\n    const toggleFilterDrawer = () => {\r\n        setFilterDrawerOpen(!filterDrawerOpen);\r\n    };\r\n\r\n    const filteredVideos = videos.filter(video =>\r\n        video.job.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        video.job.company.name.toLowerCase().includes(searchQuery.toLowerCase())\r\n    );\r\n  const theme = useTheme()\r\n\r\n    return (\r\n        <JobVideosContainer sx={{\r\n    //backgroundclr \r\n    padding: theme.spacing(2),\r\n    \r\n    mt: 2,\r\n    }}><br></br>\r\n            <Box sx={{ display: 'flex', mb: 3, justifyContent: 'space-between', alignItems: 'center' ,\r\n    paddingBottom: 4,\r\n}}>\r\n                <Typography variant=\"h4\">Job Videos</Typography>\r\n\r\n                <Box sx={{ display: 'flex', gap: 2 }}>\r\n                    <TextField\r\n                        placeholder=\"Search for jobs...\"\r\n                        variant=\"outlined\"\r\n                        size=\"small\"\r\n                        value={searchQuery}\r\n                        onChange={handleSearchChange}\r\n                        InputProps={{\r\n                            startAdornment: (\r\n                                <InputAdornment position=\"start\">\r\n                                    <SearchIcon />\r\n                                </InputAdornment>\r\n                            ),\r\n                        }}\r\n                    />\r\n\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        startIcon={<FilterListIcon />}\r\n                        onClick={toggleFilterDrawer}\r\n                    >\r\n                        Filter\r\n                    </Button>\r\n                </Box>\r\n            </Box>\r\n\r\n            <Grid container spacing={3}>\r\n                <Grid item xs={12} md={3}>\r\n                    <Card sx={{ mb: 3 }}>\r\n                        <CardContent>\r\n                            <Typography variant=\"h6\" gutterBottom>\r\n                                Categories\r\n                            </Typography>\r\n                            <Divider sx={{ mb: 2 }} />\r\n\r\n                            <List disablePadding>\r\n                                {categories.map((category) => (\r\n                                    <ListItem\r\n                                        key={category.id}\r\n                                        disablePadding\r\n                                        disableGutters\r\n                                    >\r\n                                        <SidebarButton\r\n                                            fullWidth\r\n                                            active={activeCategory === category.id}\r\n                                            onClick={() => handleCategoryClick(category.id)}\r\n                                            startIcon={category.icon}\r\n                                        >\r\n                                            {category.name}\r\n                                        </SidebarButton>\r\n                                    </ListItem>\r\n                                ))}\r\n                            </List>\r\n                        </CardContent>\r\n                    </Card>\r\n\r\n                    <Card>\r\n                        <CardContent>\r\n                            <Typography variant=\"h6\" gutterBottom>\r\n                                Popular Skills\r\n                            </Typography>\r\n                            <Divider sx={{ mb: 2 }} />\r\n\r\n                            <Box sx={{ display: 'flex', flexWrap: 'wrap' }}>\r\n                                <SkillChip label=\"React\" onClick={() => setSearchQuery('React')} />\r\n                                <SkillChip label=\"JavaScript\" onClick={() => setSearchQuery('JavaScript')} />\r\n                                <SkillChip label=\"Node.js\" onClick={() => setSearchQuery('Node.js')} />\r\n                                <SkillChip label=\"UI/UX\" onClick={() => setSearchQuery('UI/UX')} />\r\n                                <SkillChip label=\"Digital Marketing\" onClick={() => setSearchQuery('Digital Marketing')} />\r\n                                <SkillChip label=\"Project Management\" onClick={() => setSearchQuery('Project Management')} />\r\n                            </Box>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} md={9}>\r\n                    {loading ? (\r\n                        <Box sx={{ display: 'flex', justifyContent: 'center', p: 5 }}>\r\n                            <CircularProgress />\r\n                        </Box>\r\n                    ) : filteredVideos.length === 0 ? (\r\n                        <Box sx={{ textAlign: 'center', p: 5 }}>\r\n                            <Typography variant=\"h6\" color=\"textSecondary\">\r\n                                No job videos found\r\n                            </Typography>\r\n                            <Typography variant=\"body2\" color=\"textSecondary\" sx={{ mt: 1 }}>\r\n                                Try changing your search or filter criteria\r\n                            </Typography>\r\n                        </Box>\r\n                    ) : (\r\n                        <Grid container spacing={3}>\r\n                            {filteredVideos.map((video) => (\r\n                                <Grid item xs={12} sm={6} md={4} key={video.id}>\r\n                                    <VideoCard onClick={() => handleVideoClick(video)}>\r\n                                        <VideoCardMedia\r\n                                            image={video.thumbnail_url || '/placeholder-thumbnail.jpg'}\r\n                                            title={video.job.title}\r\n                                        >\r\n                                            <PlayButton aria-label=\"play\">\r\n                                                <PlayArrowIcon fontSize=\"large\" />\r\n                                            </PlayButton>\r\n                                        </VideoCardMedia>\r\n                                        <CardContent>\r\n                                            <Typography variant=\"h6\" noWrap>\r\n                                                {video.job.title}\r\n                                            </Typography>\r\n\r\n                                            <Typography variant=\"body2\" color=\"textSecondary\" noWrap>\r\n                                                {video.job.company.name}\r\n                                            </Typography>\r\n\r\n                                            <Box sx={{ display: 'flex', alignItems: 'center', mt: 1 }}>\r\n                                                <LocationOnIcon fontSize=\"small\" color=\"action\" sx={{ mr: 0.5 }} />\r\n                                                <Typography variant=\"body2\" color=\"textSecondary\" noWrap>\r\n                                                    {video.job.location}\r\n                                                </Typography>\r\n                                            </Box>\r\n\r\n                                            <Box sx={{ mt: 1 }}>\r\n                                                {video.job.skills && video.job.skills.slice(0, 3).map(skill => (\r\n                                                    <SkillChip\r\n                                                        key={skill.id}\r\n                                                        label={skill.name}\r\n                                                        size=\"small\"\r\n                                                        sx={{ mr: 0.5, mb: 0.5 }}\r\n                                                    />\r\n                                                ))}\r\n                                                {video.job.skills && video.job.skills.length > 3 && (\r\n                                                    <Chip\r\n                                                        label={`+${video.job.skills.length - 3}`}\r\n                                                        size=\"small\"\r\n                                                        variant=\"outlined\"\r\n                                                    />\r\n                                                )}\r\n                                            </Box>\r\n                                        </CardContent>\r\n                                    </VideoCard>\r\n                                </Grid>\r\n                            ))}\r\n                        </Grid>\r\n                    )}\r\n                </Grid>\r\n            </Grid>\r\n\r\n            {/* Video Player Modal */}\r\n            {selectedVideo && (\r\n                <Box\r\n                    sx={{\r\n                        position: 'fixed',\r\n                        top: 0,\r\n                        left: 0,\r\n                        right: 0,\r\n                        bottom: 0,\r\n                        backgroundColor: 'rgba(0, 0, 0, 0.9)',\r\n                        display: 'flex',\r\n                        flexDirection: 'column',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        zIndex: 9999,\r\n                        p: 3,\r\n                    }}\r\n                    onClick={handleCloseVideo}\r\n                >\r\n                    <Box\r\n                        sx={{\r\n                            width: '100%',\r\n                            maxWidth: 900,\r\n                            maxHeight: '80vh',\r\n                            position: 'relative',\r\n                            backgroundColor: 'black',\r\n                            borderRadius: 1,\r\n                            overflow: 'hidden',\r\n                        }}\r\n                        onClick={(e) => e.stopPropagation()}\r\n                    >\r\n                        <Box\r\n                            component=\"video\"\r\n                            sx={{\r\n                                width: '100%',\r\n                                maxHeight: '70vh',\r\n                            }}\r\n                            controls\r\n                            autoPlay\r\n                            src={selectedVideo.video_url}\r\n                        />\r\n\r\n                        <Box sx={{ p: 2, backgroundColor: 'white' }}>\r\n                            <Typography variant=\"h6\">{selectedVideo.job.title}</Typography>\r\n                            <Typography variant=\"body2\" color=\"textSecondary\">\r\n                                {selectedVideo.job.company.name}\r\n                            </Typography>\r\n\r\n                            <Grid container spacing={2} sx={{ mt: 1 }}>\r\n                                <Grid item xs={12} sm={6}>\r\n                                    <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                                        <LocationOnIcon fontSize=\"small\" color=\"action\" sx={{ mr: 0.5 }} />\r\n                                        <Typography variant=\"body2\">\r\n                                            {selectedVideo.job.location}\r\n                                        </Typography>\r\n                                    </Box>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={6}>\r\n                                    <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                                        <BusinessIcon fontSize=\"small\" color=\"action\" sx={{ mr: 0.5 }} />\r\n                                        <Typography variant=\"body2\">\r\n                                            {selectedVideo.job.employment_type}\r\n                                        </Typography>\r\n                                    </Box>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={6}>\r\n                                    <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                                        <AttachMoneyIcon fontSize=\"small\" color=\"action\" sx={{ mr: 0.5 }} />\r\n                                        <Typography variant=\"body2\">\r\n                                            {selectedVideo.job.salary_min && selectedVideo.job.salary_max\r\n                                                ? `${selectedVideo.job.salary_min} - ${selectedVideo.job.salary_max}`\r\n                                                : 'Not specified'}\r\n                                        </Typography>\r\n                                    </Box>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={6}>\r\n                                    <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                                        <CategoryIcon fontSize=\"small\" color=\"action\" sx={{ mr: 0.5 }} />\r\n                                                                                <Typography variant=\"body2\">\r\n                                                                                        {selectedVideo.job.categoryRelations?.[0]?.category?.name || selectedVideo.job.category?.name || 'Not specified'}\r\n                                                                                </Typography>\r\n                      \r\n                      </Box>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Box sx={{ mt: 2 }}>\r\n                                <Button variant=\"contained\" color=\"primary\" fullWidth>\r\n                                    Apply for Job\r\n                                </Button>\r\n                            </Box>\r\n                        </Box>\r\n                    </Box>\r\n                </Box>\r\n            )}\r\n\r\n            {/* Filter Drawer */}\r\n            <FilterDrawer\r\n                anchor=\"right\"\r\n                open={filterDrawerOpen}\r\n                onClose={toggleFilterDrawer}\r\n            >\r\n                <Box sx={{ p: 2 }}>\r\n                    <Typography variant=\"h6\" gutterBottom>\r\n                        Filter Jobs\r\n                    </Typography>\r\n                    <Divider sx={{ mb: 2 }} />\r\n\r\n                    <Typography variant=\"subtitle2\" gutterBottom>\r\n                        Job Type\r\n                    </Typography>\r\n                    <List>\r\n                        <ListItem button>\r\n                            <ListItemText primary=\"Full-time\" />\r\n                        </ListItem>\r\n                        <ListItem button>\r\n                            <ListItemText primary=\"Part-time\" />\r\n                        </ListItem>\r\n                        <ListItem button>\r\n                            <ListItemText primary=\"Remote\" />\r\n                        </ListItem>\r\n                        <ListItem button>\r\n                            <ListItemText primary=\"Internship\" />\r\n                        </ListItem>\r\n                    </List>\r\n\r\n                    <Divider sx={{ my: 2 }} />\r\n\r\n                    <Typography variant=\"subtitle2\" gutterBottom>\r\n                        Level\r\n                    </Typography>\r\n                    <List>\r\n                        <ListItem button>\r\n                            <ListItemText primary=\"Entry-level\" />\r\n                        </ListItem>\r\n                        <ListItem button>\r\n                            <ListItemText primary=\"Mid-level\" />\r\n                        </ListItem>\r\n                        <ListItem button>\r\n                            <ListItemText primary=\"Senior-level\" />\r\n                        </ListItem>\r\n                    </List>\r\n\r\n                    <Divider sx={{ my: 2 }} />\r\n\r\n                    <Typography variant=\"subtitle2\" gutterBottom>\r\n                        Salary\r\n                    </Typography>\r\n                    <List>\r\n                        <ListItem button>\r\n                            <ListItemText primary=\"Less than $5,000\" />\r\n                        </ListItem>\r\n                        <ListItem button>\r\n                            <ListItemText primary=\"$5,000 - $10,000\" />\r\n                        </ListItem>\r\n                        <ListItem button>\r\n                            <ListItemText primary=\"$10,000 - $15,000\" />\r\n                        </ListItem>\r\n                        <ListItem button>\r\n                            <ListItemText primary=\"More than $15,000\" />\r\n                        </ListItem>\r\n                    </List>\r\n\r\n                    <Box sx={{ mt: 3, display: 'flex', justifyContent: 'space-between' }}>\r\n                        <Button variant=\"outlined\" onClick={toggleFilterDrawer}>\r\n                            Cancel\r\n                        </Button>\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={toggleFilterDrawer}>\r\n                            Apply\r\n                        </Button>\r\n                    </Box>\r\n                </Box>\r\n            </FilterDrawer>\r\n        </JobVideosContainer>\r\n    );\r\n};\r\n\r\nexport default JobVideos;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\legal\\CommunityGuidelines.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  Paper,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Button,\r\n  useTheme\r\n} from '@mui/material';\r\nimport { Link } from 'react-router-dom';\r\nimport Header from '../../components/Headers/Header';\r\nimport Footer from '../../components/Headers/Footer';\r\nimport { Download, ArrowBack } from '@mui/icons-material';\r\n\r\nconst CommunityGuidelines = () => {\r\n  const theme = useTheme();\r\n  const { t } = useTranslation('legal');\r\n\r\n  const handleDownloadPDF = () => {\r\n    window.open('/legal/community-guidelines.pdf', '_blank');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Box sx={{ backgroundColor: theme.palette.background.default, minHeight: '100vh', py: 4 }}>\r\n        <Container maxWidth=\"md\">\r\n          <Box sx={{ mb: 3 }}>\r\n            <Button\r\n              component={Link}\r\n              to=\"/\"\r\n              startIcon={<ArrowBack />}\r\n              sx={{ mb: 2 }}\r\n            >\r\n              Back to Home\r\n            </Button>\r\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n              <Typography variant=\"h3\" component=\"h1\" gutterBottom>\r\n                Community Guidelines\r\n              </Typography>\r\n              <Button\r\n                variant=\"outlined\"\r\n                startIcon={<Download />}\r\n                onClick={handleDownloadPDF}\r\n              >\r\n                Download PDF\r\n              </Button>\r\n            </Box>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              Last updated: January 20, 2024\r\n            </Typography>\r\n          </Box>\r\n\r\n          <Paper sx={{ p: 4, mb: 4 }}>\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.communityGuidelines.welcome.title\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.communityGuidelines.welcome.content\")}\r\n            </Typography>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.communityGuidelines.respectfulProfessional.title\")}\r\n            </Typography>\r\n            <List>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.communityGuidelines.respectfulProfessional.points.respect\")} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.communityGuidelines.respectfulProfessional.points.noHarassment\")} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.communityGuidelines.respectfulProfessional.points.noInappropriate\")} />\r\n              </ListItem>\r\n            </List>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.communityGuidelines.authenticityAccuracy.title\")}\r\n            </Typography>\r\n            <List>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.communityGuidelines.authenticityAccuracy.points.accurateTruthful\")} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.communityGuidelines.authenticityAccuracy.points.noImpersonation\")} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.communityGuidelines.authenticityAccuracy.points.genuineJobPostings\")} />\r\n              </ListItem>\r\n            </List>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.communityGuidelines.privacyConfidentiality.title\")}\r\n            </Typography>\r\n            <List>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.communityGuidelines.privacyConfidentiality.points.noSharing\")} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.communityGuidelines.privacyConfidentiality.points.respectPrivacy\")} />\r\n              </ListItem>\r\n            </List>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.communityGuidelines.noSpam.title\")}\r\n            </Typography>\r\n            <List>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.communityGuidelines.noSpam.points.noDeceptivePractices\")} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.communityGuidelines.noSpam.points.noIrrelevantContent\")} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.communityGuidelines.noSpam.points.noIllegalActivities\")} />\r\n              </ListItem>\r\n            </List>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.communityGuidelines.intellectualProperty.title\")}\r\n            </Typography>\r\n            <List>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.communityGuidelines.intellectualProperty.points.ownContent\")} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.communityGuidelines.intellectualProperty.points.respectRights\")} />\r\n              </ListItem>\r\n            </List>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.communityGuidelines.reportingViolations.title\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.communityGuidelines.reportingViolations.content\")}\r\n            </Typography>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.communityGuidelines.enforcement.title\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.communityGuidelines.enforcement.content\")}\r\n            </Typography>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.communityGuidelines.contactUs.title\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.communityGuidelines.contactUs.content\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\">\r\n              {t(\"legal.communityGuidelines.contactUs.email\")}\r\n            </Typography>\r\n          </Paper>\r\n        </Container>\r\n      </Box>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CommunityGuidelines;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\legal\\CookiePolicy.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\legal\\CopyrightAndIPTerms.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  Paper,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Button,\r\n  useTheme\r\n} from '@mui/material';\r\nimport { Link } from 'react-router-dom';\r\nimport Header from '../../components/Headers/Header';\r\nimport Footer from '../../components/Headers/Footer';\r\nimport { Download, ArrowBack } from '@mui/icons-material';\r\n\r\nconst CopyrightAndIPTerms = () => {\r\n  const theme = useTheme();\r\n  const { t } = useTranslation('legal');\r\n  const handleDownloadPDF = () => {\r\n    window.open('/legal/copyright-ip-terms.pdf', '_blank');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Box sx={{ backgroundColor: theme.palette.background.default, minHeight: '100vh', py: 4 }}>\r\n        <Container maxWidth=\"md\">\r\n          <Box sx={{ mb: 3 }}>\r\n            <Button\r\n              component={Link}\r\n              to=\"/\"\r\n              startIcon={<ArrowBack />}\r\n              sx={{ mb: 2 }}\r\n            >\r\n              Back to Home\r\n            </Button>\r\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n              <Typography variant=\"h3\" component=\"h1\" gutterBottom>\r\n                {t(\"legal.copyrightAndIPTerms.title\")}\r\n              </Typography>\r\n              <Button\r\n                variant=\"outlined\"\r\n                startIcon={<Download />}\r\n                onClick={handleDownloadPDF}\r\n              >\r\n                {t(\"legal.downloadPDF\")}\r\n              </Button>\r\n            </Box>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              {t(\"legal.lastUpdated\")}: January 20, 2024\r\n            </Typography>\r\n          </Box>\r\n\r\n          <Paper sx={{ p: 4, mb: 4 }}>\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.copyrightAndIPTerms.ownershipOfContent.title\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.copyrightAndIPTerms.ownershipOfContent.content\")}\r\n            </Typography>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.copyrightAndIPTerms.userGeneratedContent.title\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.copyrightAndIPTerms.userGeneratedContent.content1\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.copyrightAndIPTerms.userGeneratedContent.content2\")}\r\n            </Typography>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.copyrightAndIPTerms.reportingInfringement.title\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.copyrightAndIPTerms.reportingInfringement.content\")}\r\n            </Typography>\r\n            <List>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.copyrightAndIPTerms.reportingInfringement.points.signature\")} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.copyrightAndIPTerms.reportingInfringement.points.identification\")} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.copyrightAndIPTerms.reportingInfringement.points.materialIdentification\")} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.copyrightAndIPTerms.reportingInfringement.points.contactInfo\")} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.copyrightAndIPTerms.reportingInfringement.points.goodFaith\")} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.copyrightAndIPTerms.reportingInfringement.points.accuracy\")} />\r\n              </ListItem>\r\n            </List>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.copyrightAndIPTerms.trademarks.title\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.copyrightAndIPTerms.trademarks.content\")}\r\n            </Typography>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.copyrightAndIPTerms.changesToTerms.title\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.copyrightAndIPTerms.changesToTerms.content\")}\r\n            </Typography>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.copyrightAndIPTerms.contactUs.title\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.copyrightAndIPTerms.contactUs.content\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\">\r\n              {t(\"legal.copyrightAndIPTerms.contactUs.email\")}\r\n            </Typography>\r\n          </Paper>\r\n        </Container>\r\n      </Box>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CopyrightAndIPTerms;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\legal\\EULA.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  Paper,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Button,\r\n  useTheme\r\n} from '@mui/material';\r\nimport { Link } from 'react-router-dom';\r\nimport Header from '../../components/Headers/Header';\r\nimport Footer from '../../components/Headers/Footer';\r\nimport { Download, ArrowBack } from '@mui/icons-material';\r\n\r\nconst EULA = () => {\r\n  const theme = useTheme();\r\n  const { t } = useTranslation('legal');\r\n  \r\n  const handleDownloadPDF = () => {\r\n    window.open('/legal/eula.pdf', '_blank');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Box sx={{ backgroundColor: theme.palette.background.default, minHeight: '100vh', py: 4 }}>\r\n        <Container maxWidth=\"md\">\r\n          <Box sx={{ mb: 3 }}>\r\n            <Button\r\n              component={Link}\r\n              to=\"/\"\r\n              startIcon={<ArrowBack />}\r\n              sx={{ mb: 2 }}\r\n            >\r\n              Back to Home\r\n            </Button>\r\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n              <Typography variant=\"h3\" component=\"h1\" gutterBottom>\r\n                {t(\"legal.eula.title\")}\r\n              </Typography>\r\n              <Button\r\n                variant=\"outlined\"\r\n                startIcon={<Download />}\r\n                onClick={handleDownloadPDF}\r\n              >\r\n                {t(\"legal.downloadPDF\")}\r\n              </Button>\r\n            </Box>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              {t(\"legal.lastUpdated\")}: January 20, 2024\r\n            </Typography>\r\n          </Box>\r\n\r\n          <Paper sx={{ p: 4, mb: 4 }}>\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.eula.importantReadCarefully.title\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.eula.importantReadCarefully.content1\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.eula.importantReadCarefully.content2\")}\r\n            </Typography>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.eula.grantOfLicense.title\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.eula.grantOfLicense.content\")}\r\n            </Typography>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.eula.restrictions.title\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.eula.restrictions.content\")}\r\n            </Typography>\r\n            <List>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.eula.restrictions.points.reverseEngineer\")} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.eula.restrictions.points.modifyAdapt\")} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.eula.restrictions.points.rentLease\")} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.eula.restrictions.points.illegalUnauthorized\")} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary={t(\"legal.eula.restrictions.points.removeNotices\")} />\r\n              </ListItem>\r\n            </List>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.eula.intellectualProperty.title\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.eula.intellectualProperty.content\")}\r\n            </Typography>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.eula.termination.title\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.eula.termination.content\")}\r\n            </Typography>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.eula.disclaimerOfWarranties.title\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.eula.disclaimerOfWarranties.content\")}\r\n            </Typography>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.eula.limitationOfLiability.title\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.eula.limitationOfLiability.content\")}\r\n            </Typography>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.eula.governingLaw.title\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.eula.governingLaw.content\")}\r\n            </Typography>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.eula.entireAgreement.title\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.eula.entireAgreement.content\")}\r\n            </Typography>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {t(\"legal.eula.contactInformation.title\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>\r\n              {t(\"legal.eula.contactInformation.content\")}\r\n            </Typography>\r\n            <Typography variant=\"body1\">\r\n              {t(\"legal.eula.contactInformation.email\")}\r\n            </Typography>\r\n          </Paper>\r\n        </Container>\r\n      </Box>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EULA;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\legal\\PrivacyPolicy.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\legal\\TermsOfService.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\LikedVideosPage.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\LikedVideosPage_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 45,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 45,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                720,
                755
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'user' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 58,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 58,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "user"
            },
            "fix": {
              "range": [
                1039,
                1066
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'user'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  Grid,\r\n  Card,\r\n  CardMedia,\r\n  CardContent,\r\n  CardActions,\r\n  IconButton,\r\n  Button,\r\n  Chip,\r\n  Avatar,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  CircularProgress,\r\n  Alert,\r\n  TextField,\r\n  InputAdornment,\r\n  Menu,\r\n  MenuItem,\r\n  Divider,\r\n  Tooltip\r\n} from '@mui/material';\r\nimport {\r\n  PlayArrow,\r\n  Favorite,\r\n  FavoriteBorder,\r\n  Share,\r\n  MoreVert,\r\n  Search,\r\n  FilterList,\r\n  Visibility,\r\n  Work,\r\n  Business,\r\n  Sort,\r\n  Bookmark,\r\n  BookmarkBorder\r\n} from '@mui/icons-material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\nimport { \r\n  getUserLikedVideos, \r\n  unlikeVideo, \r\n  saveVideo,\r\n  unsaveVideo,\r\n  shareVideo \r\n} from '@/services/api';\r\nimport { toast } from 'react-toastify';\r\nimport AllVideosPage from './AllVideosPage';\r\n\r\nconst LikedVideosPage = () => {\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  \r\n  const [likedVideos, setLikedVideos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [filterType, setFilterType] = useState('all');\r\n  const [sortBy, setSortBy] = useState('liked_date');\r\n  const [selectedVideo, setSelectedVideo] = useState(null);\r\n  const [showVideoPlayer, setShowVideoPlayer] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [savedVideos, setSavedVideos] = useState(new Set());\r\n\r\n  useEffect(() => {\r\n    fetchLikedVideos();\r\n  }, []);\r\n\r\n  const fetchLikedVideos = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getUserLikedVideos();\r\n      setLikedVideos(response.data.videos || []);\r\n      \r\n      // Track which videos are saved\r\n      const saved = new Set();\r\n      response.data.videos?.forEach(video => {\r\n        if (video.is_saved) {\r\n          saved.add(video.id);\r\n        }\r\n      });\r\n      setSavedVideos(saved);\r\n    } catch (error) {\r\n      console.error('Failed to fetch liked videos:', error);\r\n      setError('Failed to load liked videos');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleUnlikeVideo = async (videoId) => {\r\n    try {\r\n      await unlikeVideo(videoId);\r\n      setLikedVideos(prev => prev.filter(video => video.id !== videoId));\r\n    } catch (error) {\r\n      console.error('Failed to unlike video:', error);\r\n      setError('Failed to unlike video');\r\n    }\r\n  };\r\n\r\n  const handleToggleSave = async (videoId) => {\r\n    try {\r\n      if (savedVideos.has(videoId)) {\r\n        await unsaveVideo(videoId);\r\n        setSavedVideos(prev => {\r\n          const newSet = new Set(prev);\r\n          newSet.delete(videoId);\r\n          return newSet;\r\n        });\r\n      } else {\r\n        await saveVideo(videoId);\r\n        setSavedVideos(prev => new Set([...prev, videoId]));\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to toggle save video:', error);\r\n      setError('Failed to save/unsave video');\r\n    }\r\n  };\r\n\r\n  const handleShareVideo = async (video) => {\r\n    try {\r\n      if (navigator.share) {\r\n        await navigator.share({\r\n          title: video.video_title,\r\n          text: `Check out this video: ${video.video_title}`,\r\n          url: `${window.location.origin}/video-player/${video.id}`,\r\n        });\r\n      } else {\r\n  await navigator.clipboard.writeText(`${window.location.origin}/video-player/${video.id}`);\r\n  toast.success('Link copied to clipboard!');\r\n      }\r\n      \r\n      await shareVideo(video.id, 'link');\r\n    } catch (error) {\r\n      console.error('Failed to share video:', error);\r\n    }\r\n  };\r\n\r\n  const handlePlayVideo = (video) => {\r\n    setSelectedVideo(video);\r\n    setShowVideoPlayer(true);\r\n  };\r\n\r\n  const filteredVideos = likedVideos.filter(video => {\r\n    const matchesSearch = video.video_title?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n                         video.user?.displayName?.toLowerCase().includes(searchQuery.toLowerCase());\r\n    \r\n    const matchesFilter = filterType === 'all' || \r\n                         (filterType === 'jobseeker' && video.video_type === 'Job Seeker') ||\r\n                         (filterType === 'employer' && video.video_type === 'Employer');\r\n    \r\n    return matchesSearch && matchesFilter;\r\n  });\r\n\r\n  const sortedVideos = [...filteredVideos].sort((a, b) => {\r\n    switch (sortBy) {\r\n      case 'liked_date':\r\n        return new Date(b.liked_at || b.created_at) - new Date(a.liked_at || a.created_at);\r\n      case 'title':\r\n        return a.video_title?.localeCompare(b.video_title);\r\n      case 'views':\r\n        return (b.views_count || 0) - (a.views_count || 0);\r\n      case 'likes':\r\n        return (b.likes_count || 0) - (a.likes_count || 0);\r\n      default:\r\n        return 0;\r\n    }\r\n  });\r\n\r\n  if (showVideoPlayer && selectedVideo) {\r\n    return (\r\n      <AllVideosPage \r\n        pagetype=\"liked\"\r\n        onClose={() => {\r\n          setShowVideoPlayer(false);\r\n          setSelectedVideo(null);\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"60vh\">\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\r\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={4}>\r\n        <Typography variant=\"h4\" gutterBottom>\r\n          Liked Videos\r\n        </Typography>\r\n        <Chip \r\n          label={`${likedVideos.length} videos liked`} \r\n          color=\"error\" \r\n          variant=\"outlined\"\r\n          icon={<Favorite />}\r\n        />\r\n      </Box>\r\n\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Search and Filter Controls */}\r\n      <Box sx={{ mb: 4 }}>\r\n        <Grid container spacing={2} alignItems=\"center\">\r\n          <Grid item xs={12} md={6}>\r\n            <TextField\r\n              fullWidth\r\n              placeholder=\"Search liked videos...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position=\"start\">\r\n                    <Search />\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} md={2}>\r\n            <Button\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              startIcon={<FilterList />}\r\n              onClick={(e) => setAnchorEl(e.currentTarget)}\r\n            >\r\n              Filter: {filterType === 'all' ? 'All' : filterType === 'jobseeker' ? 'Job Seekers' : 'Employers'}\r\n            </Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} md={2}>\r\n            <Button\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              startIcon={<Sort />}\r\n              onClick={(e) => setAnchorEl(e.currentTarget)}\r\n            >\r\n              Sort: {sortBy.replace('_', ' ')}\r\n            </Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} md={2}>\r\n            <Button\r\n              fullWidth\r\n              variant=\"contained\"\r\n              onClick={() => navigate('/videos/all')}\r\n            >\r\n              Browse Videos\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n\r\n      {/* Videos Grid */}\r\n      {sortedVideos.length > 0 ? (\r\n        <Grid container spacing={3}>\r\n          {sortedVideos.map((video) => (\r\n            <Grid item xs={12} sm={6} md={4} lg={3} key={video.id}>\r\n              <Card sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n                <Box sx={{ position: 'relative' }}>\r\n                  <CardMedia\r\n                    component=\"div\"\r\n                    sx={{\r\n                      height: 200,\r\n                      backgroundImage: `url(${video.thumbnail_url || '/api/placeholder/300/200'})`,\r\n                      backgroundSize: 'cover',\r\n                      backgroundPosition: 'center',\r\n                      cursor: 'pointer',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      justifyContent: 'center',\r\n                      '&:hover .play-button': {\r\n                        opacity: 1,\r\n                        transform: 'scale(1.1)'\r\n                      }\r\n                    }}\r\n                    onClick={() => handlePlayVideo(video)}\r\n                  >\r\n                    <IconButton\r\n                      className=\"play-button\"\r\n                      sx={{\r\n                        backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n                        color: 'white',\r\n                        opacity: 0.8,\r\n                        transition: 'all 0.3s ease',\r\n                        '&:hover': {\r\n                          backgroundColor: 'rgba(0, 0, 0, 0.9)',\r\n                        }\r\n                      }}\r\n                    >\r\n                      <PlayArrow sx={{ fontSize: 40 }} />\r\n                    </IconButton>\r\n                  </CardMedia>\r\n                  \r\n                  <Chip\r\n                    label={video.video_type === 'Job Seeker' ? 'Job Seeker' : 'Employer'}\r\n                    size=\"small\"\r\n                    color={video.video_type === 'Job Seeker' ? 'primary' : 'secondary'}\r\n                    sx={{\r\n                      position: 'absolute',\r\n                      top: 8,\r\n                      left: 8,\r\n                      backgroundColor: 'rgba(255, 255, 255, 0.9)'\r\n                    }}\r\n                  />\r\n                  \r\n                  <Box sx={{\r\n                    position: 'absolute',\r\n                    top: 8,\r\n                    right: 8,\r\n                  }}>\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        handleToggleSave(video.id);\r\n                      }}\r\n                      sx={{\r\n                        backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n                        '&:hover': {\r\n                          backgroundColor: 'rgba(255, 255, 255, 1)',\r\n                        }\r\n                      }}\r\n                    >\r\n                      {savedVideos.has(video.id) ? <Bookmark color=\"primary\" /> : <BookmarkBorder />}\r\n                    </IconButton>\r\n                  </Box>\r\n                  \r\n                  <Box sx={{\r\n                    position: 'absolute',\r\n                    bottom: 8,\r\n                    right: 8,\r\n                    display: 'flex',\r\n                    gap: 0.5\r\n                  }}>\r\n                    <Chip\r\n                      label={`${video.views_count || 0} views`}\r\n                      size=\"small\"\r\n                      sx={{ backgroundColor: 'rgba(0, 0, 0, 0.7)', color: 'white' }}\r\n                    />\r\n                  </Box>\r\n                </Box>\r\n\r\n                <CardContent sx={{ flexGrow: 1 }}>\r\n                  <Typography variant=\"h6\" component=\"h3\" gutterBottom noWrap>\r\n                    {video.video_title}\r\n                  </Typography>\r\n                  \r\n                  <Box display=\"flex\" alignItems=\"center\" gap={1} mb={1}>\r\n                    <Avatar sx={{ width: 24, height: 24 }}>\r\n                      {video.user?.displayName?.charAt(0)}\r\n                    </Avatar>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\" noWrap>\r\n                      {video.user?.displayName}\r\n                    </Typography>\r\n                  </Box>\r\n\r\n                  {video.hashtags && (\r\n                    <Typography variant=\"body2\" color=\"text.secondary\" noWrap>\r\n                      {video.hashtags}\r\n                    </Typography>\r\n                  )}\r\n\r\n                  <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mt={1}>\r\n                    <Typography variant=\"caption\" color=\"text.secondary\">\r\n                      Liked {new Date(video.liked_at || video.created_at).toLocaleDateString()}\r\n                    </Typography>\r\n                    <Box display=\"flex\" gap={0.5} alignItems=\"center\">\r\n                      <Favorite sx={{ fontSize: 16, color: 'error.main' }} />\r\n                      <Typography variant=\"caption\">\r\n                        {video.likes_count || 0}\r\n                      </Typography>\r\n                    </Box>\r\n                  </Box>\r\n                </CardContent>\r\n\r\n                <CardActions>\r\n                  <Button\r\n                    size=\"small\"\r\n                    startIcon={<PlayArrow />}\r\n                    onClick={() => handlePlayVideo(video)}\r\n                  >\r\n                    Watch\r\n                  </Button>\r\n                  \r\n                  <Tooltip title=\"Unlike\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => handleUnlikeVideo(video.id)}\r\n                      color=\"error\"\r\n                    >\r\n                      <Favorite />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                  \r\n                  <Button\r\n                    size=\"small\"\r\n                    startIcon={<Share />}\r\n                    onClick={() => handleShareVideo(video)}\r\n                  >\r\n                    Share\r\n                  </Button>\r\n                  \r\n                  <IconButton\r\n                    size=\"small\"\r\n                    onClick={(e) => {\r\n                      setAnchorEl(e.currentTarget);\r\n                      setSelectedVideo(video);\r\n                    }}\r\n                  >\r\n                    <MoreVert />\r\n                  </IconButton>\r\n                </CardActions>\r\n              </Card>\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n      ) : (\r\n        <Box textAlign=\"center\" py={8}>\r\n          <Favorite sx={{ fontSize: 80, color: 'error.light', mb: 2 }} />\r\n          <Typography variant=\"h5\" gutterBottom color=\"text.secondary\">\r\n            No liked videos yet\r\n          </Typography>\r\n          <Typography variant=\"body1\" color=\"text.secondary\" mb={3}>\r\n            Start liking videos to see them here\r\n          </Typography>\r\n          <Button\r\n            variant=\"contained\"\r\n            size=\"large\"\r\n            onClick={() => navigate('/videos/all')}\r\n          >\r\n            Browse Videos\r\n          </Button>\r\n        </Box>\r\n      )}\r\n\r\n      {/* Filter/Sort Menu */}\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        open={Boolean(anchorEl)}\r\n        onClose={() => setAnchorEl(null)}\r\n      >\r\n        <MenuItem onClick={() => { setFilterType('all'); setAnchorEl(null); }}>\r\n          All Videos\r\n        </MenuItem>\r\n        <MenuItem onClick={() => { setFilterType('jobseeker'); setAnchorEl(null); }}>\r\n          Job Seekers\r\n        </MenuItem>\r\n        <MenuItem onClick={() => { setFilterType('employer'); setAnchorEl(null); }}>\r\n          Employers\r\n        </MenuItem>\r\n        <Divider />\r\n        <MenuItem onClick={() => { setSortBy('liked_date'); setAnchorEl(null); }}>\r\n          Sort by Liked Date\r\n        </MenuItem>\r\n        <MenuItem onClick={() => { setSortBy('title'); setAnchorEl(null); }}>\r\n          Sort by Title\r\n        </MenuItem>\r\n        <MenuItem onClick={() => { setSortBy('views'); setAnchorEl(null); }}>\r\n          Sort by Views\r\n        </MenuItem>\r\n        <MenuItem onClick={() => { setSortBy('likes'); setAnchorEl(null); }}>\r\n          Sort by Likes\r\n        </MenuItem>\r\n      </Menu>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default LikedVideosPage;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\Linkedincallback.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 2,
        "column": 22,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 32,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                44,
                56
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿// Linkedincallback.jsx\r\nimport { useEffect , useContext } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nconst apiUrl = import.meta.env.VITE_API_BASE_URL || \"http://localhost:5000\";\r\n\r\nexport default function Linkedincallback() {\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    console.log(\"LinkedIn Callback - location.search:\", location.search);\r\n    \r\n    const params = new URLSearchParams(location.search);\r\n    const code = params.get('code');\r\n    const error = params.get('error');\r\n    console.log(\"LinkedIn Callback - code:\", code);\r\n    if (error) {\r\n      const errorMessage = params.get('error_description') || 'Unknown error';\r\n      console.error(\"LinkedIn OAuth error:\", error, errorMessage);\r\n      window.opener.postMessage({\r\n        type: 'LINKEDIN_AUTH_ERROR',\r\n        error: error,\r\n        errorDescription: errorMessage\r\n      }, window.location.origin);\r\n      window.close();\r\n      return;\r\n    }\r\n\r\n    if (!code) {\r\n      const errorMsg = 'No authorization code received from LinkedIn';\r\n      console.error(errorMsg);\r\n      window.opener.postMessage({\r\n        type: 'LINKEDIN_AUTH_ERROR',\r\n        error: 'no_code',\r\n        errorDescription: errorMsg\r\n      }, window.location.origin);\r\n      window.close();\r\n      return;\r\n    }\r\n\r\n    console.log(\"Exchanging authorization code for token...\");\r\n    \r\n    // Call your backend to exchange the code for a token\r\n    exchangeCodeForToken(code)\r\n      .then(tokenData => {\r\n        if (!tokenData.id_token) {\r\n          throw new Error('No ID token received from backend');\r\n        }\r\n        \r\n        window.opener.postMessage({\r\n          type: 'LINKEDIN_AUTH_SUCCESS',\r\n          payload: {\r\n            id_token: tokenData.id_token,\r\n            access_token: tokenData.access_token\r\n          }\r\n        }, window.location.origin);\r\n        window.close();\r\n      })\r\n      .catch(err => {\r\n        console.error(\"Token exchange failed:\", err);\r\n        window.opener.postMessage({\r\n          type: 'LINKEDIN_AUTH_ERROR',\r\n          error: 'token_exchange_failed',\r\n          errorDescription: err.message || 'Failed to exchange code for token'\r\n        }, window.location.origin);\r\n        window.close();\r\n      });\r\n\r\n  }, [location.search]);\r\n\r\n  return <div>Processing LinkedIn login...</div>;\r\n}\r\n\r\nasync function exchangeCodeForToken(code) {\r\n  try {\r\n    const response = await fetch(`${apiUrl}/api/auth/linkedin/token`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ code })\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.error || 'Failed to exchange code');\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (err) {\r\n    console.error(\"Exchange error:\", err);\r\n    throw err;\r\n  }\r\n}",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\LinkedInLoginButton.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useEffect  } from 'react';\r\nimport { LinkedIn } from 'react-linkedin-login-oauth2';\r\nimport { Button, Box } from '@mui/material';\r\nimport LinkedInIcon from '@mui/icons-material/LinkedIn';\r\n\r\nconst LinkedInLoginButton = () => {\r\n  const handleSuccess = (data) => {\r\n    console.log('LinkedIn login success:', data);\r\n    // exchange `data.code` with your backend for access token\r\n  };\r\n\r\n  const handleFailure = (error) => {\r\n    console.error('LinkedIn login failed:', error);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Ensure LinkedIn OAuth SDK is ready, and DOM is fully available\r\n    console.log('LinkedIn button is ready');\r\n  }, []); // Empty dependency array ensures this runs only once after component mounts\r\n\r\n  return (\r\n    <Box>\r\n      <LinkedIn\r\n        clientId={import.meta.env.VITE_LINKEDIN_CLIENT_ID}\r\n        redirectUri={import.meta.env.VITE_LINKEDIN_REDIRECT_URI}\r\n        onSuccess={handleSuccess}\r\n        onFailure={handleFailure}\r\n        scope=\"r_liteprofile r_emailaddress\"\r\n      >\r\n        {({ onClick, disabled }) => (\r\n          <Button\r\n            onClick={onClick}\r\n            disabled={disabled}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            startIcon={<LinkedInIcon />}\r\n          >\r\n            Login with LinkedIn\r\n          </Button>\r\n        )}\r\n      </LinkedIn>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default LinkedInLoginButton;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\LoginPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 190,
        "column": 52,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 190,
        "endColumn": 57,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                5066,
                5075
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 201,
        "column": 54,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 201,
        "endColumn": 59,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                5361,
                5370
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/rules-of-hooks",
        "severity": 2,
        "message": "React Hook \"useEffect\" is called conditionally. React Hooks must be called in the exact same order in every component render.",
        "line": 252,
        "column": 3,
        "nodeType": "Identifier",
        "endLine": 252,
        "endColumn": 12
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 287,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 287,
        "endColumn": 17
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 303,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 303,
        "endColumn": 17
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 319,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 319,
        "endColumn": 17
      }
    ],
    "suppressedMessages": [],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import { useState, useEffect } from \"react\";\r\nimport { useNavigate, useLocation ,Link} from 'react-router-dom';\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  Container,\r\n  Paper,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Box,\r\n  Divider,\r\n  CircularProgress,\r\n  Alert,\r\n  IconButton,\r\n  InputAdornment,\r\n  Stack,\r\n  styled,\r\n} from \"@mui/material\";\r\nimport {\r\n  Google as GoogleIcon,\r\n  Visibility,\r\n  VisibilityOff,\r\n  LinkedIn as LinkedInIcon,\r\n} from \"@mui/icons-material\";\r\nimport { AlertCircle as AlertCircleIcon } from \"lucide-react\";\r\nimport { useAuth } from \"../hooks/useAuth\";\r\n\r\n// Styled components\r\nconst LoginContainer = styled(Box)(({ theme }) => ({\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  minHeight: '100vh',\r\n  padding: theme.spacing(3),\r\n  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n  position: 'relative',\r\n  '&::before': {\r\n    content: '\"\"',\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    background: 'url(\"data:image/svg+xml,%3Csvg width=\"60\" height=\"60\" viewBox=\"0 0 60 60\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cg fill=\"none\" fill-rule=\"evenodd\"%3E%3Cg fill=\"%23ffffff\" fill-opacity=\"0.05\"%3E%3Ccircle cx=\"30\" cy=\"30\" r=\"2\"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")',\r\n    animation: 'float 20s ease-in-out infinite',\r\n  },\r\n  '@keyframes float': {\r\n    '0%, 100%': { transform: 'translateY(0px)' },\r\n    '50%': { transform: 'translateY(-20px)' },\r\n  },\r\n}));\r\n\r\nconst LoginFormContainer = styled(Paper)(({ theme }) => ({\r\n  width: 420,\r\n  padding: theme.spacing(4),\r\n  boxShadow: '0 20px 40px rgba(0,0,0,0.1), 0 0 0 1px rgba(255,255,255,0.05)',\r\n  borderRadius: '20px',\r\n  backgroundColor: 'rgba(255, 255, 255, 0.95)',\r\n  backdropFilter: 'blur(10px)',\r\n  border: '1px solid rgba(255, 255, 255, 0.2)',\r\n  position: 'relative',\r\n  zIndex: 1,\r\n  animation: 'slideUp 0.6s ease-out',\r\n  '@keyframes slideUp': {\r\n    '0%': { \r\n      opacity: 0, \r\n      transform: 'translateY(30px) scale(0.95)' \r\n    },\r\n    '100%': { \r\n      opacity: 1, \r\n      transform: 'translateY(0) scale(1)' \r\n    },\r\n  },\r\n  [theme.breakpoints.down('sm')]: {\r\n    width: '90%',\r\n    padding: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nconst LoginFormTitle = styled(Typography)(({ theme }) => ({\r\n  marginBottom: theme.spacing(1),\r\n  fontWeight: 700,\r\n  fontSize: '2rem',\r\n  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n  backgroundClip: 'text',\r\n  WebkitBackgroundClip: 'text',\r\n  WebkitTextFillColor: 'transparent',\r\n  textAlign: 'center',\r\n}));\r\n\r\nconst LoginFormSubtitle = styled(Typography)(({ theme }) => ({\r\n  color: '#6b7280',\r\n  marginBottom: theme.spacing(3),\r\n  textAlign: 'center',\r\n  fontSize: '1rem',\r\n  fontWeight: 400,\r\n}));\r\n\r\nconst InputField = styled(TextField)(({ theme }) => ({\r\n  width: '100%',\r\n  margin: theme.spacing(1.5, 0),\r\n  '& .MuiOutlinedInput-root': {\r\n    borderRadius: '12px',\r\n    backgroundColor: 'rgba(255, 255, 255, 0.8)',\r\n    transition: 'all 0.3s ease',\r\n    '& fieldset': {\r\n      borderColor: 'rgba(0, 0, 0, 0.1)',\r\n      borderWidth: '2px',\r\n    },\r\n    '&:hover fieldset': {\r\n      borderColor: '#667eea',\r\n      boxShadow: '0 0 0 3px rgba(102, 126, 234, 0.1)',\r\n    },\r\n    '&.Mui-focused fieldset': {\r\n      borderColor: '#667eea',\r\n      boxShadow: '0 0 0 3px rgba(102, 126, 234, 0.1)',\r\n    },\r\n  },\r\n  '& .MuiInputLabel-root': {\r\n    color: '#6b7280',\r\n    fontWeight: 500,\r\n  },\r\n  '& .MuiInputLabel-root.Mui-focused': {\r\n    color: '#667eea',\r\n  },\r\n  '& input': {\r\n    padding: theme.spacing(1.5),\r\n    fontSize: '1rem',\r\n  },\r\n}));\r\n\r\nconst LoginButton = styled(Button)(({ theme }) => ({\r\n  width: '100%',\r\n  padding: theme.spacing(1.75),\r\n  marginTop: theme.spacing(2),\r\n  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n  color: 'white',\r\n  border: 'none',\r\n  borderRadius: '12px',\r\n  fontWeight: 600,\r\n  fontSize: '1rem',\r\n  textTransform: 'none',\r\n  cursor: 'pointer',\r\n  transition: 'all 0.3s ease',\r\n  boxShadow: '0 4px 15px rgba(102, 126, 234, 0.3)',\r\n  '&:hover': {\r\n    transform: 'translateY(-2px)',\r\n    boxShadow: '0 8px 25px rgba(102, 126, 234, 0.4)',\r\n  },\r\n  '&:active': {\r\n    transform: 'translateY(0)',\r\n  },\r\n  '&:disabled': {\r\n    background: '#e5e7eb',\r\n    color: '#9ca3af',\r\n    boxShadow: 'none',\r\n    transform: 'none',\r\n  },\r\n}));\r\n\r\nconst SocialDivider = styled(Divider)(({ theme }) => ({\r\n  margin: theme.spacing(3, 0),\r\n  '&::before, &::after': {\r\n    borderColor: 'rgba(0, 0, 0, 0.1)',\r\n  },\r\n  '& .MuiDivider-wrapper': {\r\n    color: '#6b7280',\r\n    fontSize: '0.875rem',\r\n    fontWeight: 500,\r\n    padding: theme.spacing(0, 2),\r\n    backgroundColor: 'rgba(255, 255, 255, 0.95)',\r\n  },\r\n}));\r\n\r\nconst SocialButton = styled(Button)(({ theme }) => ({\r\n  flexGrow: 1,\r\n  margin: theme.spacing(0, 0.5),\r\n  padding: theme.spacing(1.5),\r\n  borderRadius: '12px',\r\n  textTransform: 'none',\r\n  fontWeight: 500,\r\n  fontSize: '0.875rem',\r\n  transition: 'all 0.3s ease',\r\n  '&:hover': {\r\n    transform: 'translateY(-1px)',\r\n  },\r\n}));\r\n\r\nconst GoogleSignInButton = styled(SocialButton)(({ theme }) => ({\r\n  backgroundColor: '#fff',\r\n  color: '#db4437',\r\n  border: '2px solid #db4437',\r\n  '&:hover': {\r\n    backgroundColor: '#fef2f2',\r\n    borderColor: '#dc2626',\r\n    boxShadow: '0 4px 12px rgba(219, 68, 55, 0.2)',\r\n  },\r\n}));\r\n\r\nconst LinkedInSignInButton = styled(SocialButton)(({ theme }) => ({\r\n  backgroundColor: '#0077b5',\r\n  color: 'white',\r\n  border: '2px solid #0077b5',\r\n  '&:hover': {\r\n    backgroundColor: '#005885',\r\n    borderColor: '#005885',\r\n    boxShadow: '0 4px 12px rgba(0, 119, 181, 0.3)',\r\n  },\r\n}));\r\n\r\nconst SignupLink = styled(Typography)(({ theme }) => ({\r\n  textAlign: 'center',\r\n  marginTop: theme.spacing(3),\r\n  color: '#6b7280',\r\n  cursor: 'pointer',\r\n  fontSize: '0.875rem',\r\n  transition: 'color 0.3s ease',\r\n  '&:hover': {\r\n    color: '#667eea',\r\n  },\r\n}));\r\n\r\nconst LoginPage = () => {\r\n  const {\r\n    user,\r\n    role,\r\n    loading: authLoading,\r\n    loginByEmailAndPassword,\r\n    authenticateWithGoogle,\r\n    authenticateWithLinkedIn,\r\n  } = useAuth();\r\n   const [showPassword, setShowPassword] = useState(false);\r\n  const [loading, setLoading] = useState({\r\n    email: false,\r\n    google: false,\r\n    linkedin: false,\r\n  });\r\n   const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    password: \"\"\r\n  }); \r\n  const [error, setError] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  if(authLoading){\r\n    return (<CircularProgress/>)\r\n  }\r\n\r\n  // Handle navigation after successful authentication\r\n  useEffect(() => {\r\n    console.log(\"logggg:\",user);\r\n    if (!authLoading && user && role) {\r\n      const from = location.state?.from?.pathname || getDefaultRoute(role);\r\n      navigate(from);\r\n    }\r\n  }, [user, role, authLoading, navigate, location.state]);\r\n\r\n  const getDefaultRoute = (role) => {\r\n    switch (role) {\r\n      case 'job_seeker': return '/jobseeker-tabs'; //dashboard\r\n      case 'employer': return '/employer-tabs'; //employer-dashboard\r\n      case 'admin': return '/admin-dashboard';\r\n      default: return '/login';\r\n    }\r\n  }; \r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleEmailSignIn = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(prev => ({ ...prev, email: true }));\r\n    setError(\"\");\r\n\r\n    try {\r\n      const result = await loginByEmailAndPassword(formData.email, formData.password);\r\n      if (result.error) {\r\n        setError(result.message || \"Login failed. Please try again.\");\r\n      }\r\n    } catch (err) {\r\n      setError(\"Login failed. Please try again.\");\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, email: false }));\r\n    }\r\n  };\r\n\r\n  const handleGoogleSignIn = async () => {\r\n    setLoading(prev => ({ ...prev, google: true }));\r\n    setError(\"\");\r\n\r\n    try {\r\n      const result = await authenticateWithGoogle();\r\n      if (result.error) {\r\n        setError(result.message || \"Google sign-in failed\");\r\n      }\r\n    } catch (err) {\r\n      setError(\"Google sign-in failed\");\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, google: false }));\r\n    }\r\n  };\r\n\r\n  const handleLinkedInLogin = async () => {\r\n    setLoading(prev => ({ ...prev, linkedin: true }));\r\n    setError(\"\");\r\n\r\n    try {\r\n      const result = await authenticateWithLinkedIn();\r\n      if (result.error) {\r\n        setError(result.message || \"LinkedIn login failed\");\r\n      }\r\n    } catch (err) {\r\n      setError(\"LinkedIn login failed\");\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, linkedin: false }));\r\n    }\r\n  };\r\n\r\n  const navigateToRegister = () => {\r\n    navigate(\"/register-form\");\r\n  };\r\n\r\n  if (authLoading) {\r\n    return (\r\n      <LoginContainer>\r\n        <CircularProgress size={60} />\r\n      </LoginContainer>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <LoginContainer>\r\n      <LoginFormContainer>\r\n        <LoginFormTitle variant=\"h5\">Welcome Back</LoginFormTitle>\r\n        <LoginFormSubtitle>Log in to your account</LoginFormSubtitle>\r\n        \r\n        <Box component=\"form\" onSubmit={handleEmailSignIn}>\r\n          <InputField\r\n            label=\"Enter your email address\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={formData.email}\r\n            onChange={handleChange}\r\n            required\r\n            variant=\"outlined\"\r\n          />\r\n          <InputField\r\n            label=\"Enter your password\"\r\n            type={showPassword ? \"text\" : \"password\"}\r\n            name=\"password\"\r\n            value={formData.password}\r\n            onChange={handleChange}\r\n            required\r\n            variant=\"outlined\"\r\n            InputProps={{\r\n              endAdornment: (\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton\r\n                    onClick={() => setShowPassword(!showPassword)}\r\n                    edge=\"end\"\r\n                  >\r\n                    {showPassword ? <VisibilityOff /> : <Visibility />}\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <Box sx={{ display: 'flex', justifyContent: 'flex-end', mb: 1 }}>\r\n            <Link \r\n              to=\"/forgot-password\" \r\n              style={{\r\n                color: '#667eea',\r\n                fontSize: '0.875rem',\r\n                textDecoration: 'none',\r\n                fontWeight: 500,\r\n                transition: 'all 0.3s ease',\r\n                '&:hover': {\r\n                  textDecoration: 'underline',\r\n                  color: '#5a67d8',\r\n                }\r\n              }}\r\n            >\r\n              Forgot Password?\r\n            </Link>\r\n          </Box>\r\n          <LoginButton type=\"submit\" disabled={loading.email}>\r\n            {loading.email ? <CircularProgress size={24} color=\"inherit\" /> : \"Log In\"}\r\n          </LoginButton>\r\n        </Box>\r\n\r\n        <SocialDivider>\r\n          <Typography variant=\"body2\">Or log in with</Typography>\r\n        </SocialDivider>\r\n\r\n        <Stack direction=\"row\" spacing={1}>\r\n          <GoogleSignInButton\r\n            variant=\"contained\"\r\n            onClick={handleGoogleSignIn}\r\n            disabled={loading.google}\r\n            startIcon={<GoogleIcon />}\r\n          >\r\n            {loading.google ? <CircularProgress size={24} color=\"inherit\" /> : \"Google\"}\r\n          </GoogleSignInButton>\r\n          <LinkedInSignInButton\r\n            variant=\"outlined\"\r\n            onClick={handleLinkedInLogin}\r\n            disabled={loading.linkedin}\r\n            startIcon={<LinkedInIcon />}\r\n            sx={{\r\n              flex: 1,\r\n              py: 1.5,\r\n              borderColor: \"#0077B5\",\r\n              color: \"#0077B5\",\r\n              \"&:hover\": { borderColor: \"#006097\" },\r\n            }}\r\n          >\r\n            {loading.linkedin ? <CircularProgress size={24} /> : \"LinkedIn\"}\r\n          </LinkedInSignInButton>\r\n        </Stack>\r\n\r\n        {error && (\r\n          <Alert severity=\"error\" sx={{ mt: 2 }}>\r\n            <AlertCircleIcon className=\"mr-2 h-4 w-4\" />\r\n            {error}\r\n          </Alert>\r\n        )}\r\n\r\n        <SignupLink onClick={navigateToRegister}>\r\n          Don't have an account? Sign Up\r\n        </SignupLink>\r\n      </LoginFormContainer>\r\n    </LoginContainer>\r\n  );\r\n};\r\n\r\nexport default LoginPage;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\MaintenanceDashboard.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useAuth' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 79,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 79,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useAuth"
            },
            "fix": {
              "range": [
                1263,
                1312
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useAuth'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 80,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 80,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                1314,
                1349
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'confirmDialog' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 123,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 123,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "confirmDialog"
            },
            "fix": {
              "range": [
                2583,
                2596
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'confirmDialog'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setConfirmDialog' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 123,
        "column": 25,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 123,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setConfirmDialog"
            },
            "fix": {
              "range": [
                2596,
                2614
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setConfirmDialog'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'confirmAction' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 124,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 124,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "confirmAction"
            },
            "fix": {
              "range": [
                2645,
                2658
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'confirmAction'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setConfirmAction' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 124,
        "column": 25,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 124,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setConfirmAction"
            },
            "fix": {
              "range": [
                2658,
                2676
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setConfirmAction'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  Typography,\r\n  Button,\r\n  Grid,\r\n  CircularProgress,\r\n  Alert,\r\n  Chip,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Switch,\r\n  FormControlLabel,\r\n  LinearProgress,\r\n  Tooltip,\r\n  IconButton,\r\n  Menu,\r\n  MenuItem,\r\n  Divider,\r\n  Container,\r\n  Tabs,\r\n  Tab,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  ListItemSecondaryAction\r\n} from '@mui/material';\r\nimport {\r\n  Build,\r\n  PlayArrow,\r\n  Stop,\r\n  Refresh,\r\n  Settings,\r\n  Warning,\r\n  CheckCircle,\r\n  Error,\r\n  Schedule,\r\n  Storage,\r\n  Security,\r\n  Speed,\r\n  Backup,\r\n  CleaningServices,\r\n  MoreVert,\r\n  Download,\r\n  Upload,\r\n  Visibility,\r\n  VisibilityOff,\r\n  TrendingUp,\r\n  Assessment,\r\n  Timeline,\r\n  BarChart\r\n} from '@mui/icons-material';\r\nimport { \r\n  getMaintenanceTasks,\r\n  runMaintenanceTask,\r\n  runPendingTasks,\r\n  getMaintenanceResults,\r\n  getSystemHealth,\r\n  setMaintenanceMode,\r\n  getMaintenanceMode,\r\n  updateMaintenanceTask,\r\n  getMaintenanceStatistics,\r\n  forceRunTask,\r\n  exportMaintenanceData\r\n} from '@/services/api';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\n\r\nconst categoryIcons = {\r\n  database: <Storage />,\r\n  files: <CleaningServices />,\r\n  logs: <Assessment />,\r\n  cache: <Speed />,\r\n  security: <Security />,\r\n  performance: <TrendingUp />,\r\n  backup: <Backup />\r\n};\r\n\r\nconst priorityColors = {\r\n  low: 'default',\r\n  medium: 'warning',\r\n  high: 'error',\r\n  critical: 'error'\r\n};\r\n\r\nconst statusColors = {\r\n  pending: 'default',\r\n  running: 'info',\r\n  completed: 'success',\r\n  failed: 'error'\r\n};\r\n\r\nexport default function MaintenanceDashboard() {\r\n  const { t } = useTranslation();\r\n  // const { user } = useAuth(); // Removed: unused variable\n  \r\n  const [tasks, setTasks] = useState([]);\r\n  const [results, setResults] = useState([]);\r\n  const [statistics, setStatistics] = useState(null);\r\n  const [systemHealth, setSystemHealth] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [runningTasks, setRunningTasks] = useState(new Set());\r\n  const [maintenanceMode, setMaintenanceModeState] = useState(false);\r\n  const [selectedTab, setSelectedTab] = useState(0);\r\n  \r\n  // Dialog states\r\n  const [taskDialog, setTaskDialog] = useState(false);\r\n  const [selectedTask, setSelectedTask] = useState(null);\r\n  const [confirmDialog, setConfirmDialog] = useState(false);\r\n  const [confirmAction, setConfirmAction] = useState(null);\r\n  \r\n  // Menu states\r\n  const [menuAnchor, setMenuAnchor] = useState(null);\r\n  const [menuTask, setMenuTask] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n    const interval = setInterval(fetchData, 30000); // Refresh every 30 seconds\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [tasksRes, resultsRes, healthRes, modeRes, statsRes] = await Promise.all([\r\n        getMaintenanceTasks(),\r\n        getMaintenanceResults(),\r\n        getSystemHealth(),\r\n        getMaintenanceMode(),\r\n        getMaintenanceStatistics()\r\n      ]);\r\n      \r\n      setTasks(tasksRes.data.tasks || []);\r\n      setResults(resultsRes.data.results || []);\r\n      setSystemHealth(healthRes.data.health || {});\r\n      setMaintenanceModeState(modeRes.data.maintenanceMode || false);\r\n      setStatistics(statsRes.data.statistics || {});\r\n    } catch (error) {\r\n      console.error('Error fetching maintenance data:', error);\r\n      setError('Failed to fetch maintenance data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRunTask = async (taskId, force = false) => {\r\n    try {\r\n      setRunningTasks(prev => new Set([...prev, taskId]));\r\n      \r\n      if (force) {\r\n        await forceRunTask(taskId);\r\n      } else {\r\n        await runMaintenanceTask(taskId);\r\n      }\r\n      \r\n      await fetchData();\r\n    } catch (error) {\r\n      console.error('Error running task:', error);\r\n      setError(`Failed to run task: ${error.message}`);\r\n    } finally {\r\n      setRunningTasks(prev => {\r\n        const newSet = new Set(prev);\r\n        newSet.delete(taskId);\r\n        return newSet;\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleRunPendingTasks = async () => {\r\n    try {\r\n      setLoading(true);\r\n      await runPendingTasks();\r\n      await fetchData();\r\n    } catch (error) {\r\n      console.error('Error running pending tasks:', error);\r\n      setError('Failed to run pending tasks');\r\n    }\r\n  };\r\n\r\n  const handleToggleMaintenanceMode = async () => {\r\n    try {\r\n      const newMode = !maintenanceMode;\r\n      await setMaintenanceMode(newMode);\r\n      setMaintenanceModeState(newMode);\r\n    } catch (error) {\r\n      console.error('Error toggling maintenance mode:', error);\r\n      setError('Failed to toggle maintenance mode');\r\n    }\r\n  };\r\n\r\n  const handleUpdateTask = async (taskId, updates) => {\r\n    try {\r\n      await updateMaintenanceTask(taskId, updates);\r\n      await fetchData();\r\n      setTaskDialog(false);\r\n    } catch (error) {\r\n      console.error('Error updating task:', error);\r\n      setError('Failed to update task');\r\n    }\r\n  };\r\n\r\n  const handleExportData = async (format = 'json') => {\r\n    try {\r\n      const response = await exportMaintenanceData(format);\r\n      \r\n      // Create download link\r\n      const blob = new Blob([format === 'json' ? JSON.stringify(response.data, null, 2) : response.data], {\r\n        type: format === 'json' ? 'application/json' : 'text/csv'\r\n      });\r\n      const url = window.URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `maintenance-export.${format}`;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      window.URL.revokeObjectURL(url);\r\n    } catch (error) {\r\n      console.error('Error exporting data:', error);\r\n      setError('Failed to export data');\r\n    }\r\n  };\r\n\r\n  const formatDuration = (ms) => {\r\n    const seconds = Math.floor(ms / 1000);\r\n    const minutes = Math.floor(seconds / 60);\r\n    const hours = Math.floor(minutes / 60);\r\n    \r\n    if (hours > 0) return `${hours}h ${minutes % 60}m`;\r\n    if (minutes > 0) return `${minutes}m ${seconds % 60}s`;\r\n    return `${seconds}s`;\r\n  };\r\n\r\n  const getHealthStatus = () => {\r\n    if (!systemHealth) return { color: 'default', text: 'Unknown' };\r\n    \r\n    switch (systemHealth.status) {\r\n      case 'healthy':\r\n        return { color: 'success', text: 'Healthy' };\r\n      case 'warning':\r\n        return { color: 'warning', text: 'Warning' };\r\n      case 'critical':\r\n        return { color: 'error', text: 'Critical' };\r\n      default:\r\n        return { color: 'default', text: 'Unknown' };\r\n    }\r\n  };\r\n\r\n  const TaskCard = ({ task }) => (\r\n    <Card sx={{ height: '100%' }}>\r\n      <CardContent>\r\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"flex-start\" mb={2}>\r\n          <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n            {categoryIcons[task.category] || <Build />}\r\n            <Typography variant=\"h6\" noWrap>\r\n              {task.name}\r\n            </Typography>\r\n          </Box>\r\n          <IconButton\r\n            size=\"small\"\r\n            onClick={(e) => {\r\n              setMenuAnchor(e.currentTarget);\r\n              setMenuTask(task);\r\n            }}\r\n          >\r\n            <MoreVert />\r\n          </IconButton>\r\n        </Box>\r\n        \r\n        <Typography variant=\"body2\" color=\"text.secondary\" mb={2}>\r\n          {task.description}\r\n        </Typography>\r\n        \r\n        <Box display=\"flex\" gap={1} mb={2} flexWrap=\"wrap\">\r\n          <Chip\r\n            label={task.status}\r\n            color={statusColors[task.status]}\r\n            size=\"small\"\r\n          />\r\n          <Chip\r\n            label={task.priority}\r\n            color={priorityColors[task.priority]}\r\n            size=\"small\"\r\n          />\r\n          <Chip\r\n            label={task.frequency}\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n          />\r\n        </Box>\r\n        \r\n        <Box mb={2}>\r\n          <Typography variant=\"caption\" color=\"text.secondary\">\r\n            Last Run: {task.lastRun ? new Date(task.lastRun).toLocaleString() : 'Never'}\r\n          </Typography>\r\n          <br />\r\n          <Typography variant=\"caption\" color=\"text.secondary\">\r\n            Next Run: {task.nextRun ? new Date(task.nextRun).toLocaleString() : 'N/A'}\r\n          </Typography>\r\n        </Box>\r\n        \r\n        <Box display=\"flex\" gap={1}>\r\n          <Button\r\n            size=\"small\"\r\n            variant=\"contained\"\r\n            startIcon={runningTasks.has(task.id) ? <CircularProgress size={16} /> : <PlayArrow />}\r\n            onClick={() => handleRunTask(task.id)}\r\n            disabled={runningTasks.has(task.id) || !task.enabled}\r\n          >\r\n            Run\r\n          </Button>\r\n          <Button\r\n            size=\"small\"\r\n            variant=\"outlined\"\r\n            startIcon={<Settings />}\r\n            onClick={() => {\r\n              setSelectedTask(task);\r\n              setTaskDialog(true);\r\n            }}\r\n          >\r\n            Configure\r\n          </Button>\r\n        </Box>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n\r\n  const ResultsTable = () => (\r\n    <TableContainer component={Paper}>\r\n      <Table>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Task</TableCell>\r\n            <TableCell>Status</TableCell>\r\n            <TableCell>Start Time</TableCell>\r\n            <TableCell>Duration</TableCell>\r\n            <TableCell>Message</TableCell>\r\n            <TableCell>Actions</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {results.slice(0, 20).map((result, index) => (\r\n            <TableRow key={index}>\r\n              <TableCell>\r\n                {tasks.find(t => t.id === result.taskId)?.name || result.taskId}\r\n              </TableCell>\r\n              <TableCell>\r\n                <Chip\r\n                  label={result.success ? 'Success' : 'Failed'}\r\n                  color={result.success ? 'success' : 'error'}\r\n                  size=\"small\"\r\n                  icon={result.success ? <CheckCircle /> : <Error />}\r\n                />\r\n              </TableCell>\r\n              <TableCell>\r\n                {new Date(result.startTime).toLocaleString()}\r\n              </TableCell>\r\n              <TableCell>\r\n                {formatDuration(result.duration)}\r\n              </TableCell>\r\n              <TableCell>\r\n                <Tooltip title={result.message}>\r\n                  <Typography variant=\"body2\" noWrap sx={{ maxWidth: 200 }}>\r\n                    {result.message}\r\n                  </Typography>\r\n                </Tooltip>\r\n              </TableCell>\r\n              <TableCell>\r\n                <IconButton size=\"small\">\r\n                  <Visibility />\r\n                </IconButton>\r\n              </TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n\r\n  const StatisticsCards = () => (\r\n    <Grid container spacing={3}>\r\n      <Grid item xs={12} sm={6} md={3}>\r\n        <Card>\r\n          <CardContent>\r\n            <Box display=\"flex\" alignItems=\"center\" gap={2}>\r\n              <Build color=\"primary\" />\r\n              <Box>\r\n                <Typography variant=\"h4\">{statistics?.totalTasks || 0}</Typography>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Total Tasks\r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n      \r\n      <Grid item xs={12} sm={6} md={3}>\r\n        <Card>\r\n          <CardContent>\r\n            <Box display=\"flex\" alignItems=\"center\" gap={2}>\r\n              <Schedule color=\"warning\" />\r\n              <Box>\r\n                <Typography variant=\"h4\">{statistics?.pendingTasks || 0}</Typography>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Pending Tasks\r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n      \r\n      <Grid item xs={12} sm={6} md={3}>\r\n        <Card>\r\n          <CardContent>\r\n            <Box display=\"flex\" alignItems=\"center\" gap={2}>\r\n              <CheckCircle color=\"success\" />\r\n              <Box>\r\n                <Typography variant=\"h4\">{statistics?.completedRuns || 0}</Typography>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Completed Runs\r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n      \r\n      <Grid item xs={12} sm={6} md={3}>\r\n        <Card>\r\n          <CardContent>\r\n            <Box display=\"flex\" alignItems=\"center\" gap={2}>\r\n              <Error color=\"error\" />\r\n              <Box>\r\n                <Typography variant=\"h4\">{statistics?.failedRuns || 0}</Typography>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Failed Runs\r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n\r\n  if (loading && tasks.length === 0) {\r\n    return (\r\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  const healthStatus = getHealthStatus();\r\n\r\n  return (\r\n    <Container maxWidth=\"xl\" sx={{ py: 4 }}>\r\n      {/* Header */}\r\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={4}>\r\n        <Typography variant=\"h4\" sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n          <Build color=\"primary\" />\r\n          {t('maintenance.title', 'Maintenance Dashboard')}\r\n        </Typography>\r\n        \r\n        <Box display=\"flex\" gap={1} alignItems=\"center\">\r\n          <Chip\r\n            label={`System ${healthStatus.text}`}\r\n            color={healthStatus.color}\r\n            icon={healthStatus.color === 'success' ? <CheckCircle /> : <Warning />}\r\n          />\r\n          \r\n          <FormControlLabel\r\n            control={\r\n              <Switch\r\n                checked={maintenanceMode}\r\n                onChange={handleToggleMaintenanceMode}\r\n                color=\"warning\"\r\n              />\r\n            }\r\n            label=\"Maintenance Mode\"\r\n          />\r\n          \r\n          <Button\r\n            variant=\"outlined\"\r\n            startIcon={<Refresh />}\r\n            onClick={fetchData}\r\n            disabled={loading}\r\n          >\r\n            Refresh\r\n          </Button>\r\n          \r\n          <Button\r\n            variant=\"contained\"\r\n            startIcon={<PlayArrow />}\r\n            onClick={handleRunPendingTasks}\r\n            disabled={loading}\r\n          >\r\n            Run Pending\r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 3 }} onClose={() => setError(null)}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {maintenanceMode && (\r\n        <Alert severity=\"warning\" sx={{ mb: 3 }}>\r\n          System is currently in maintenance mode. Some features may be unavailable.\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Statistics */}\r\n      {statistics && (\r\n        <Box mb={4}>\r\n          <StatisticsCards />\r\n        </Box>\r\n      )}\r\n\r\n      {/* Tabs */}\r\n      <Box sx={{ borderBottom: 1, borderColor: 'divider', mb: 3 }}>\r\n        <Tabs value={selectedTab} onChange={(e, newValue) => setSelectedTab(newValue)}>\r\n          <Tab label=\"Tasks\" />\r\n          <Tab label=\"Results\" />\r\n          <Tab label=\"Analytics\" />\r\n        </Tabs>\r\n      </Box>\r\n\r\n      {/* Tab Content */}\r\n      {selectedTab === 0 && (\r\n        <Grid container spacing={3}>\r\n          {tasks.map((task) => (\r\n            <Grid item xs={12} sm={6} md={4} lg={3} key={task.id}>\r\n              <TaskCard task={task} />\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n      )}\r\n\r\n      {selectedTab === 1 && <ResultsTable />}\r\n\r\n      {selectedTab === 2 && (\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} md={6}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Tasks by Category\r\n                </Typography>\r\n                <List>\r\n                  {Object.entries(statistics?.tasksByCategory || {}).map(([category, count]) => (\r\n                    <ListItem key={category}>\r\n                      <ListItemIcon>\r\n                        {categoryIcons[category] || <Build />}\r\n                      </ListItemIcon>\r\n                      <ListItemText primary={category} />\r\n                      <ListItemSecondaryAction>\r\n                        <Chip label={count} size=\"small\" />\r\n                      </ListItemSecondaryAction>\r\n                    </ListItem>\r\n                  ))}\r\n                </List>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} md={6}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Recent Activity\r\n                </Typography>\r\n                <List>\r\n                  {statistics?.recentActivity?.map((activity, index) => (\r\n                    <ListItem key={index}>\r\n                      <ListItemIcon>\r\n                        {activity.success ? <CheckCircle color=\"success\" /> : <Error color=\"error\" />}\r\n                      </ListItemIcon>\r\n                      <ListItemText\r\n                        primary={tasks.find(t => t.id === activity.taskId)?.name || activity.taskId}\r\n                        secondary={`${formatDuration(activity.duration * 1000)} - ${new Date(activity.timestamp).toLocaleString()}`}\r\n                      />\r\n                    </ListItem>\r\n                  ))}\r\n                </List>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n      )}\r\n\r\n      {/* Task Menu */}\r\n      <Menu\r\n        anchorEl={menuAnchor}\r\n        open={Boolean(menuAnchor)}\r\n        onClose={() => setMenuAnchor(null)}\r\n      >\r\n        <MenuItem onClick={() => handleRunTask(menuTask?.id)}>\r\n          <PlayArrow sx={{ mr: 1 }} />\r\n          Run Task\r\n        </MenuItem>\r\n        <MenuItem onClick={() => handleRunTask(menuTask?.id, true)}>\r\n          <PlayArrow sx={{ mr: 1 }} />\r\n          Force Run\r\n        </MenuItem>\r\n        <MenuItem onClick={() => {\r\n          setSelectedTask(menuTask);\r\n          setTaskDialog(true);\r\n          setMenuAnchor(null);\r\n        }}>\r\n          <Settings sx={{ mr: 1 }} />\r\n          Configure\r\n        </MenuItem>\r\n        <Divider />\r\n        <MenuItem onClick={() => handleExportData('json')}>\r\n          <Download sx={{ mr: 1 }} />\r\n          Export JSON\r\n        </MenuItem>\r\n        <MenuItem onClick={() => handleExportData('csv')}>\r\n          <Download sx={{ mr: 1 }} />\r\n          Export CSV\r\n        </MenuItem>\r\n      </Menu>\r\n\r\n      {/* Task Configuration Dialog */}\r\n      <Dialog \r\n        open={taskDialog} \r\n        onClose={() => setTaskDialog(false)}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>Configure Task: {selectedTask?.name}</DialogTitle>\r\n        <DialogContent>\r\n          {selectedTask && (\r\n            <Box sx={{ pt: 2 }}>\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={selectedTask.enabled}\r\n                    onChange={(e) => setSelectedTask({\r\n                      ...selectedTask,\r\n                      enabled: e.target.checked\r\n                    })}\r\n                  />\r\n                }\r\n                label=\"Enabled\"\r\n                sx={{ mb: 2 }}\r\n              />\r\n              \r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                {selectedTask.description}\r\n              </Typography>\r\n            </Box>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setTaskDialog(false)}>\r\n            Cancel\r\n          </Button>\r\n          <Button \r\n            onClick={() => handleUpdateTask(selectedTask?.id, {\r\n              enabled: selectedTask?.enabled\r\n            })}\r\n            variant=\"contained\"\r\n          >\r\n            Save\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Container>\r\n  );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\MorePage.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\MyApplications.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useTheme' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 4,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 11,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useTheme"
            },
            "fix": {
              "range": [
                59,
                72
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useTheme'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from \"react\";\r\nimport {\r\n  Box,\r\n  useTheme,\r\n  Typography,\r\n  Stack,\r\n  Paper,\r\n} from \"@mui/material\";\r\n\r\nimport JobCard from \"../components/JobCard\"; // Optional if you plan to use it later\r\n\r\nconst appliedJobs = [\r\n  {\r\n    company: \"Google\",\r\n    title: \"Senior UX Designer\",\r\n    location: \"Remote\",\r\n    salary: \"120K-$150K\",\r\n    posted: \"2 days ago\",\r\n    status: \"Applied\",\r\n  },\r\n  {\r\n    company: \"Microsoft\",\r\n    title: \"Frontend Developer\",\r\n    location: \"Seattle, WA\",\r\n    salary: \"$110K-$130K\",\r\n    posted: \"1 day ago\",\r\n    status: \"Under Review\",\r\n  },\r\n];\r\n\r\nconst MyApplications = () => {\r\n  // const theme = useTheme(); // Removed: unused variable\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        bgcolor: 'background.jobseeker',\r\n        minHeight: '100vh',\r\n        mt: 0,\r\n      }}\r\n    >\r\n\r\n      <Typography variant=\"h4\" align=\"center\" sx={{ mt: 4, mb: 2 }}>\r\n        My Applications\r\n      </Typography>\r\n\r\n      <Stack spacing={3} alignItems=\"center\">\r\n        {appliedJobs.map((job, index) => (\r\n          <Paper\r\n            key={index}\r\n            elevation={3}\r\n            sx={{\r\n              width: \"100%\",\r\n              maxWidth: 600,\r\n              padding: 3,\r\n              backgroundColor: \"rgba(255,255,255,0.8)\",\r\n              borderRadius: 2,\r\n            }}\r\n          >\r\n            <Typography variant=\"h6\">{job.title}</Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              {job.company} Ã¢â‚¬â€œ {job.location}\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              {job.salary} Ã¢â‚¬Â¢ Posted {job.posted}\r\n            </Typography>\r\n            <Typography variant=\"body2\" sx={{ mt: 1 }}>\r\n              <strong>Status:</strong> {job.status}\r\n            </Typography>\r\n          </Paper>\r\n        ))}\r\n      </Stack>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default MyApplications;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\NotificationSettingsPage.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\NotificationSettingsPage_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useAuth' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 46,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 46,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useAuth"
            },
            "fix": {
              "range": [
                670,
                719
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useAuth'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 47,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 47,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                721,
                756
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchNotificationSettings'. Either include it or remove the dependency array.",
        "line": 83,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 83,
        "endColumn": 8,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchNotificationSettings]",
            "fix": {
              "range": [
                1850,
                1852
              ],
              "text": "[fetchNotificationSettings]"
            }
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'theme' is not defined.",
        "line": 163,
        "column": 26,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 163,
        "endColumn": 31
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  Card,\r\n  CardContent,\r\n  Switch,\r\n  FormControlLabel,\r\n  FormGroup,\r\n  Divider,\r\n  Button,\r\n  Alert,\r\n  CircularProgress,\r\n  Grid,\r\n  Paper,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemSecondaryAction,\r\n  Chip,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel\r\n} from '@mui/material';\r\nimport {\r\n  Notifications,\r\n  Email,\r\n  Sms,\r\n  Work,\r\n  VideoCall,\r\n  Message,\r\n  Favorite,\r\n  PersonAdd,\r\n  Schedule,\r\n  Settings,\r\n  Save,\r\n  RestoreFromTrash\r\n} from '@mui/icons-material';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\nimport { \r\n  getUserNotificationSettings, \r\n  updateNotificationSettings,\r\n  testNotification \r\n} from '@/services/api';\r\n\r\nconst NotificationSettingsPage = () => {\r\n  // const { user } = useAuth(); // Removed: unused variable\n  \r\n  const [settings, setSettings] = useState({\r\n    email_notifications: true,\r\n    push_notifications: true,\r\n    sms_notifications: false,\r\n    job_alerts: true,\r\n    interview_reminders: true,\r\n    message_notifications: true,\r\n    video_interactions: true,\r\n    connection_requests: true,\r\n    marketing_emails: false,\r\n    weekly_digest: true,\r\n    quiet_hours_enabled: false,\r\n    quiet_hours_start: '22:00',\r\n    quiet_hours_end: '08:00',\r\n    notification_frequency: 'immediate'\r\n  });\r\n  \r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(false);\r\n  const [testDialog, setTestDialog] = useState(false);\r\n  const [testType, setTestType] = useState('email');\r\n\r\n  useEffect(() => {\r\n    fetchNotificationSettings();\r\n  }, []);\r\n\r\n  const fetchNotificationSettings = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getUserNotificationSettings();\r\n      setSettings({ ...settings, ...response.data.settings });\r\n    } catch (error) {\r\n      console.error('Failed to fetch notification settings:', error);\r\n      setError('Failed to load notification settings');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSettingChange = (setting, value) => {\r\n    setSettings(prev => ({\r\n      ...prev,\r\n      [setting]: value\r\n    }));\r\n  };\r\n\r\n  const handleSaveSettings = async () => {\r\n    try {\r\n      setSaving(true);\r\n      await updateNotificationSettings(settings);\r\n      setSuccess(true);\r\n      setTimeout(() => setSuccess(false), 3000);\r\n    } catch (error) {\r\n      console.error('Failed to save notification settings:', error);\r\n      setError('Failed to save settings');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleTestNotification = async () => {\r\n    try {\r\n      await testNotification(testType);\r\n      setTestDialog(false);\r\n      setSuccess(true);\r\n      setTimeout(() => setSuccess(false), 3000);\r\n    } catch (error) {\r\n      console.error('Failed to send test notification:', error);\r\n      setError('Failed to send test notification');\r\n    }\r\n  };\r\n\r\n  const resetToDefaults = () => {\r\n    setSettings({\r\n      email_notifications: true,\r\n      push_notifications: true,\r\n      sms_notifications: false,\r\n      job_alerts: true,\r\n      interview_reminders: true,\r\n      message_notifications: true,\r\n      video_interactions: true,\r\n      connection_requests: true,\r\n      marketing_emails: false,\r\n      weekly_digest: true,\r\n      quiet_hours_enabled: false,\r\n      quiet_hours_start: '22:00',\r\n      quiet_hours_end: '08:00',\r\n      notification_frequency: 'immediate'\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"60vh\">\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        py: { xs: 2, md: 4 }, // Adjust padding for mobile\r\n        px: { xs: 2, md: 4 }, // Adjust padding for mobile\r\n        backgroundColor: theme.palette.background.default,\r\n      }}\r\n    >\r\n      <Container maxWidth=\"lg\">\r\n        <Typography\r\n          variant=\"h4\"\r\n          component=\"h1\"\r\n          sx={{\r\n            fontWeight: \"bold\",\r\n            mb: { xs: 2, md: 4 },\r\n            fontSize: { xs: \"1.5rem\", md: \"2rem\" }, // Adjust font size for mobile\r\n          }}\r\n        >\r\n          Notification Settings\r\n        </Typography>\r\n        <Typography variant=\"body1\" color=\"text.secondary\" paragraph>\r\n          Customize how and when you receive notifications\r\n        </Typography>\r\n\r\n        {error && (\r\n          <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n            {error}\r\n          </Alert>\r\n        )}\r\n\r\n        {success && (\r\n          <Alert severity=\"success\" sx={{ mb: 3 }}>\r\n            Settings saved successfully!\r\n          </Alert>\r\n        )}\r\n\r\n        <Grid container spacing={{ xs: 2, md: 4 }}>\r\n          {/* Delivery Methods */}\r\n          <Grid item xs={12}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  <Notifications sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n                  Delivery Methods\r\n                </Typography>\r\n                \r\n                <FormGroup>\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Switch\r\n                        checked={settings.email_notifications}\r\n                        onChange={(e) => handleSettingChange('email_notifications', e.target.checked)}\r\n                      />\r\n                    }\r\n                    label={\r\n                      <Box display=\"flex\" alignItems=\"center\">\r\n                        <Email sx={{ mr: 1 }} />\r\n                        Email Notifications\r\n                      </Box>\r\n                    }\r\n                  />\r\n                  \r\n                  <FormControlLabel\r\n                    control={\r\n                      <Switch\r\n                        checked={settings.push_notifications}\r\n                        onChange={(e) => handleSettingChange('push_notifications', e.target.checked)}\r\n                      />\r\n                    }\r\n                    label={\r\n                      <Box display=\"flex\" alignItems=\"center\">\r\n                        <Notifications sx={{ mr: 1 }} />\r\n                        Push Notifications\r\n                      </Box>\r\n                    }\r\n                  />\r\n                  \r\n                  <FormControlLabel\r\n                    control={\r\n                      <Switch\r\n                        checked={settings.sms_notifications}\r\n                        onChange={(e) => handleSettingChange('sms_notifications', e.target.checked)}\r\n                      />\r\n                    }\r\n                    label={\r\n                      <Box display=\"flex\" alignItems=\"center\">\r\n                        <Sms sx={{ mr: 1 }} />\r\n                        SMS Notifications\r\n                        <Chip label=\"Premium\" size=\"small\" color=\"primary\" sx={{ ml: 1 }} />\r\n                      </Box>\r\n                    }\r\n                  />\r\n                </FormGroup>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n\r\n          {/* Notification Types */}\r\n          <Grid item xs={12}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Notification Types\r\n                </Typography>\r\n                \r\n                <List>\r\n                  <ListItem>\r\n                    <ListItemText\r\n                      primary={\r\n                        <Box display=\"flex\" alignItems=\"center\">\r\n                          <Work sx={{ mr: 1 }} />\r\n                          Job Alerts\r\n                        </Box>\r\n                      }\r\n                      secondary=\"New job postings matching your preferences\"\r\n                    />\r\n                    <ListItemSecondaryAction>\r\n                      <Switch\r\n                        checked={settings.job_alerts}\r\n                        onChange={(e) => handleSettingChange('job_alerts', e.target.checked)}\r\n                      />\r\n                    </ListItemSecondaryAction>\r\n                  </ListItem>\r\n                  \r\n                  <Divider />\r\n                  \r\n                  <ListItem>\r\n                    <ListItemText\r\n                      primary={\r\n                        <Box display=\"flex\" alignItems=\"center\">\r\n                          <VideoCall sx={{ mr: 1 }} />\r\n                          Interview Reminders\r\n                        </Box>\r\n                      }\r\n                      secondary=\"Reminders for upcoming interviews\"\r\n                    />\r\n                    <ListItemSecondaryAction>\r\n                      <Switch\r\n                        checked={settings.interview_reminders}\r\n                        onChange={(e) => handleSettingChange('interview_reminders', e.target.checked)}\r\n                      />\r\n                    </ListItemSecondaryAction>\r\n                  </ListItem>\r\n                  \r\n                  <Divider />\r\n                  \r\n                  <ListItem>\r\n                    <ListItemText\r\n                      primary={\r\n                        <Box display=\"flex\" alignItems=\"center\">\r\n                          <Message sx={{ mr: 1 }} />\r\n                          Messages\r\n                        </Box>\r\n                      }\r\n                      secondary=\"New messages and chat notifications\"\r\n                    />\r\n                    <ListItemSecondaryAction>\r\n                      <Switch\r\n                        checked={settings.message_notifications}\r\n                        onChange={(e) => handleSettingChange('message_notifications', e.target.checked)}\r\n                      />\r\n                    </ListItemSecondaryAction>\r\n                  </ListItem>\r\n                  \r\n                  <Divider />\r\n                  \r\n                  <ListItem>\r\n                    <ListItemText\r\n                      primary={\r\n                        <Box display=\"flex\" alignItems=\"center\">\r\n                          <Favorite sx={{ mr: 1 }} />\r\n                          Video Interactions\r\n                        </Box>\r\n                      }\r\n                      secondary=\"Likes, comments, and shares on your videos\"\r\n                    />\r\n                    <ListItemSecondaryAction>\r\n                      <Switch\r\n                        checked={settings.video_interactions}\r\n                        onChange={(e) => handleSettingChange('video_interactions', e.target.checked)}\r\n                      />\r\n                    </ListItemSecondaryAction>\r\n                  </ListItem>\r\n                  \r\n                  <Divider />\r\n                  \r\n                  <ListItem>\r\n                    <ListItemText\r\n                      primary={\r\n                        <Box display=\"flex\" alignItems=\"center\">\r\n                          <PersonAdd sx={{ mr: 1 }} />\r\n                          Connection Requests\r\n                        </Box>\r\n                      }\r\n                      secondary=\"New connection requests and acceptances\"\r\n                    />\r\n                    <ListItemSecondaryAction>\r\n                      <Switch\r\n                        checked={settings.connection_requests}\r\n                        onChange={(e) => handleSettingChange('connection_requests', e.target.checked)}\r\n                      />\r\n                    </ListItemSecondaryAction>\r\n                  </ListItem>\r\n                </List>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n\r\n          {/* Frequency and Timing */}\r\n          <Grid item xs={12}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  <Schedule sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n                  Frequency & Timing\r\n                </Typography>\r\n                \r\n                <Grid container spacing={3}>\r\n                  <Grid item xs={12} md={6}>\r\n                    <FormControl fullWidth>\r\n                      <InputLabel>Notification Frequency</InputLabel>\r\n                      <Select\r\n                        value={settings.notification_frequency}\r\n                        onChange={(e) => handleSettingChange('notification_frequency', e.target.value)}\r\n                        label=\"Notification Frequency\"\r\n                      >\r\n                        <MenuItem value=\"immediate\">Immediate</MenuItem>\r\n                        <MenuItem value=\"hourly\">Hourly Digest</MenuItem>\r\n                        <MenuItem value=\"daily\">Daily Digest</MenuItem>\r\n                        <MenuItem value=\"weekly\">Weekly Digest</MenuItem>\r\n                      </Select>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} md={6}>\r\n                    <FormControlLabel\r\n                      control={\r\n                        <Switch\r\n                          checked={settings.weekly_digest}\r\n                          onChange={(e) => handleSettingChange('weekly_digest', e.target.checked)}\r\n                        />\r\n                      }\r\n                      label=\"Weekly Activity Digest\"\r\n                    />\r\n                  </Grid>\r\n                </Grid>\r\n                \r\n                <Box mt={3}>\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Switch\r\n                        checked={settings.quiet_hours_enabled}\r\n                        onChange={(e) => handleSettingChange('quiet_hours_enabled', e.target.checked)}\r\n                      />\r\n                    }\r\n                    label=\"Enable Quiet Hours\"\r\n                  />\r\n                  \r\n                  {settings.quiet_hours_enabled && (\r\n                    <Grid container spacing={2} sx={{ mt: 1 }}>\r\n                      <Grid item xs={6}>\r\n                        <TextField\r\n                          type=\"time\"\r\n                          label=\"Start Time\"\r\n                          value={settings.quiet_hours_start}\r\n                          onChange={(e) => handleSettingChange('quiet_hours_start', e.target.value)}\r\n                          fullWidth\r\n                          InputLabelProps={{ shrink: true }}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={6}>\r\n                        <TextField\r\n                          type=\"time\"\r\n                          label=\"End Time\"\r\n                          value={settings.quiet_hours_end}\r\n                          onChange={(e) => handleSettingChange('quiet_hours_end', e.target.value)}\r\n                          fullWidth\r\n                          InputLabelProps={{ shrink: true }}\r\n                        />\r\n                      </Grid>\r\n                    </Grid>\r\n                  )}\r\n                </Box>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n\r\n          {/* Marketing & Promotional */}\r\n          <Grid item xs={12}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Marketing & Promotional\r\n                </Typography>\r\n                \r\n                <FormGroup>\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Switch\r\n                        checked={settings.marketing_emails}\r\n                        onChange={(e) => handleSettingChange('marketing_emails', e.target.checked)}\r\n                      />\r\n                    }\r\n                    label=\"Marketing Emails\"\r\n                  />\r\n                </FormGroup>\r\n                \r\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\r\n                  Receive updates about new features, tips, and promotional offers\r\n                </Typography>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n\r\n          {/* Action Buttons */}\r\n          <Grid item xs={12}>\r\n            <Paper sx={{ p: 3 }}>\r\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                <Box>\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    startIcon={<RestoreFromTrash />}\r\n                    onClick={resetToDefaults}\r\n                    sx={{ mr: 2 }}\r\n                  >\r\n                    Reset to Defaults\r\n                  </Button>\r\n                  \r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    onClick={() => setTestDialog(true)}\r\n                  >\r\n                    Test Notification\r\n                  </Button>\r\n                </Box>\r\n                \r\n                <Button\r\n                  variant=\"contained\"\r\n                  startIcon={<Save />}\r\n                  onClick={handleSaveSettings}\r\n                  disabled={saving}\r\n                >\r\n                  {saving ? <CircularProgress size={20} /> : 'Save Settings'}\r\n                </Button>\r\n              </Box>\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        {/* Test Notification Dialog */}\r\n        <Dialog open={testDialog} onClose={() => setTestDialog(false)}>\r\n          <DialogTitle>Test Notification</DialogTitle>\r\n          <DialogContent>\r\n            <Typography paragraph>\r\n              Send a test notification to verify your settings are working correctly.\r\n            </Typography>\r\n            \r\n            <FormControl fullWidth>\r\n              <InputLabel>Notification Type</InputLabel>\r\n              <Select\r\n                value={testType}\r\n                onChange={(e) => setTestType(e.target.value)}\r\n                label=\"Notification Type\"\r\n              >\r\n                <MenuItem value=\"email\">Email</MenuItem>\r\n                <MenuItem value=\"push\">Push Notification</MenuItem>\r\n                {settings.sms_notifications && (\r\n                  <MenuItem value=\"sms\">SMS</MenuItem>\r\n                )}\r\n              </Select>\r\n            </FormControl>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={() => setTestDialog(false)}>Cancel</Button>\r\n            <Button onClick={handleTestNotification} variant=\"contained\">\r\n              Send Test\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </Container>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default NotificationSettingsPage;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\NotificationsPage.jsx",
    "messages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'refresh'. Either include it or remove the dependency array.",
        "line": 15,
        "column": 87,
        "nodeType": "ArrayExpression",
        "endLine": 15,
        "endColumn": 89,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [refresh]",
            "fix": {
              "range": [
                860,
                862
              ],
              "text": "[refresh]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 81,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 81,
        "endColumn": 15
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from \"react\";\r\nimport { Bell, Briefcase, MessageSquare, Heart, UserPlus, Calendar, Check, Trash2, Loader2 } from \"lucide-react\";\r\nimport { Card, CardContent } from \"@/components/UI/card.jsx\";\r\nimport { Button } from \"@/components/UI/button.jsx\";\r\nimport { Badge } from \"@/components/UI/badge.jsx\";\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/UI/avatar.jsx\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\nimport { useNotifications } from '@/contexts/NotificationContext';\r\n\r\nconst NotificationsPage = () => {\r\n  const { toast } = useToast();\r\n  const { notifications, loading, refresh, markRead, remove, markAllRead } = useNotifications();\r\n  const [filter, setFilter] = useState('all'); // all, unread, read\r\n\r\n  useEffect(() => { refresh(); /* initial fetch handled in provider, but ensure */ }, []);\r\n\r\n  const handleMarkAsRead = async (id) => {\r\n    try {\r\n      await markRead(id);\r\n      toast({ description: \"Notification marked as read\" });\r\n    } catch (error) {\r\n      console.error('Error marking notification as read:', error);\r\n      toast({ description: \"Failed to mark as read\", variant: \"destructive\" });\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await remove(id);\r\n      toast({ description: \"Notification deleted\" });\r\n    } catch (error) {\r\n      console.error('Error deleting notification:', error);\r\n      toast({ description: \"Failed to delete notification\", variant: \"destructive\" });\r\n    }\r\n  };\r\n\r\n  const handleMarkAllAsRead = async () => {\r\n    try {\r\n      await markAllRead();\r\n      toast({ description: \"All notifications marked as read\" });\r\n    } catch (error) {\r\n      console.error('Error marking all as read:', error);\r\n      toast({ description: \"Failed to mark all as read\", variant: \"destructive\" });\r\n    }\r\n  };\r\n\r\n  const getNotificationIcon = (type) => {\r\n    switch(type) {\r\n      case 'job_application':\r\n      case 'application':\r\n        return <Briefcase className=\"h-5 w-5 text-purple-600\" />;\r\n      case 'message':\r\n        return <MessageSquare className=\"h-5 w-5 text-blue-600\" />;\r\n      case 'like':\r\n      case 'video_like':\r\n        return <Heart className=\"h-5 w-5 text-pink-600\" />;\r\n      case 'connection':\r\n      case 'connection_request':\r\n        return <UserPlus className=\"h-5 w-5 text-cyan-600\" />;\r\n      case 'interview':\r\n      case 'interview_scheduled':\r\n        return <Calendar className=\"h-5 w-5 text-green-600\" />;\r\n      default:\r\n        return <Bell className=\"h-5 w-5 text-gray-600\" />;\r\n    }\r\n  };\r\n\r\n  const formatTime = (timestamp) => {\r\n    if (!timestamp) return '';\r\n    try {\r\n      const date = new Date(timestamp);\r\n      const now = new Date();\r\n      const seconds = Math.floor((now - date) / 1000);\r\n      \r\n      if (seconds < 60) return 'just now';\r\n      if (seconds < 3600) return `${Math.floor(seconds / 60)}m ago`;\r\n      if (seconds < 86400) return `${Math.floor(seconds / 3600)}h ago`;\r\n      if (seconds < 604800) return `${Math.floor(seconds / 86400)}d ago`;\r\n      \r\n      return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\r\n    } catch (e) {\r\n      return '';\r\n    }\r\n  };\r\n\r\n  const filteredNotifications = notifications.filter(n => {\r\n    if (filter === 'unread') return !n.read;\r\n    if (filter === 'read') return n.read;\r\n    return true;\r\n  });\r\n\r\n  const unreadCount = notifications.filter(n => !n.read).length;\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container mx-auto py-6 px-4 max-w-4xl\">\r\n        <div className=\"flex justify-center items-center py-12\">\r\n          <Loader2 className=\"h-12 w-12 animate-spin text-purple-600\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-6 px-4 max-w-4xl\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <div>\r\n          <h1 className=\"text-4xl font-bold bg-gradient-to-r from-purple-600 to-cyan-600 bg-clip-text text-transparent\">\r\n            Notifications\r\n          </h1>\r\n          {unreadCount > 0 && (\r\n            <p className=\"text-sm text-gray-600 mt-1\">{unreadCount} unread notification{unreadCount !== 1 ? 's' : ''}</p>\r\n          )}\r\n        </div>\r\n        \r\n        {unreadCount > 0 && (\r\n          <Button\r\n            onClick={handleMarkAllAsRead}\r\n            variant=\"outline\"\r\n            className=\"border-purple-600 text-purple-600 hover:bg-purple-50\"\r\n          >\r\n            <Check className=\"h-4 w-4 mr-2\" />\r\n            Mark all as read\r\n          </Button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Filter Tabs */}\r\n      <div className=\"flex gap-2 mb-6\">\r\n        <Button\r\n          variant={filter === 'all' ? 'default' : 'outline'}\r\n          onClick={() => setFilter('all')}\r\n          className={filter === 'all' ? 'bg-gradient-to-r from-purple-600 to-cyan-600' : ''}\r\n        >\r\n          All ({notifications.length})\r\n        </Button>\r\n        <Button\r\n          variant={filter === 'unread' ? 'default' : 'outline'}\r\n          onClick={() => setFilter('unread')}\r\n          className={filter === 'unread' ? 'bg-gradient-to-r from-purple-600 to-cyan-600' : ''}\r\n        >\r\n          Unread ({unreadCount})\r\n        </Button>\r\n        <Button\r\n          variant={filter === 'read' ? 'default' : 'outline'}\r\n          onClick={() => setFilter('read')}\r\n          className={filter === 'read' ? 'bg-gradient-to-r from-purple-600 to-cyan-600' : ''}\r\n        >\r\n          Read ({notifications.length - unreadCount})\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Notifications List */}\r\n      {filteredNotifications.length === 0 ? (\r\n        <Card>\r\n          <CardContent className=\"py-12 text-center\">\r\n            <Bell className=\"h-16 w-16 mx-auto mb-4 text-gray-400\" />\r\n            <h3 className=\"text-lg font-semibold mb-2\">No notifications</h3>\r\n            <p className=\"text-gray-600\">\r\n              {filter === 'unread' \r\n                ? \"You're all caught up! No unread notifications.\" \r\n                : filter === 'read'\r\n                ? \"No read notifications yet.\"\r\n                : \"You don't have any notifications yet.\"}\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n      ) : (\r\n        <div className=\"space-y-2\">\r\n          {filteredNotifications.map((notification) => (\r\n            <Card\r\n              key={notification.id}\r\n              className={`transition-all duration-200 hover:shadow-md ${\r\n                !notification.read ? 'border-l-4 border-l-purple-600 bg-purple-50/30' : 'hover:bg-gray-50'\r\n              }`}\r\n            >\r\n              <CardContent className=\"p-4\">\r\n                <div className=\"flex items-start gap-4\">\r\n                  <div className=\"mt-1\">\r\n                    {getNotificationIcon(notification.type)}\r\n                  </div>\r\n\r\n                  {notification.sender && (\r\n                    <Avatar className=\"border-2 border-white\">\r\n                      <AvatarImage src={notification.sender.photo_url || notification.sender.profile_image} />\r\n                      <AvatarFallback>{notification.sender.display_name?.charAt(0) || 'U'}</AvatarFallback>\r\n                    </Avatar>\r\n                  )}\r\n\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <p className={`text-sm ${!notification.read ? 'font-semibold' : 'font-medium'}`}>\r\n                      {notification.title || notification.body}\r\n                    </p>\r\n                    {notification.description && (\r\n                      <p className=\"text-sm text-gray-600 mt-1\">{notification.description}</p>\r\n                    )}\r\n                    <p className=\"text-xs text-gray-500 mt-2\">{formatTime(notification.created_at || notification.timestamp)}</p>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center gap-2\">\r\n                    {!notification.read && (\r\n                      <Badge className=\"bg-purple-600\">New</Badge>\r\n                    )}\r\n                    \r\n                    {!notification.read && (\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        onClick={() => handleMarkAsRead(notification.id)}\r\n                        className=\"hover:bg-purple-100\"\r\n                      >\r\n                        <Check className=\"h-4 w-4\" />\r\n                      </Button>\r\n                    )}\r\n\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"icon\"\r\n                      onClick={() => handleDelete(notification.id)}\r\n                      className=\"hover:bg-red-100 hover:text-red-600\"\r\n                    >\r\n                      <Trash2 className=\"h-4 w-4\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationsPage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\NotificationsPage_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useTheme' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 4,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 11,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useTheme"
            },
            "fix": {
              "range": [
                59,
                72
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useTheme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'appliedJobs' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 12,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 12,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "appliedJobs"
            },
            "fix": {
              "range": [
                225,
                607
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'appliedJobs'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from \"react\";\r\nimport {\r\n  Box,\r\n  useTheme,\r\n  Typography,\r\n  Stack,\r\n  Paper,\r\n} from \"@mui/material\";\r\n\r\nimport JobCard from \"../components/JobCard\"; // Optional if you plan to use it later\r\n\r\nconst appliedJobs = [\r\n  {\r\n    company: \"Google\",\r\n    title: \"Senior UX Designer\",\r\n    location: \"Remote\",\r\n    salary: \"120K-$150K\",\r\n    posted: \"2 days ago\",\r\n    status: \"Applied\",\r\n  },\r\n  {\r\n    company: \"Microsoft\",\r\n    title: \"Frontend Developer\",\r\n    location: \"Seattle, WA\",\r\n    salary: \"$110K-$130K\",\r\n    posted: \"1 day ago\",\r\n    status: \"Under Review\",\r\n  },\r\n];\r\n\r\nconst NotificationsPage = () => {\r\n  // const theme = useTheme(); // Removed: unused variable\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        bgcolor: 'background.jobseeker',\r\n        minHeight: '100vh',\r\n        mt: 0,\r\n      }}\r\n    >\r\n\r\n      <Typography variant=\"h4\" align=\"center\" sx={{ mt: 4, mb: 2 }}>\r\n        Notifications\r\n      </Typography>\r\n\r\n\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default NotificationsPage;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\PersonalityTestPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useTranslation' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 2,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useTranslation"
            },
            "fix": {
              "range": [
                42,
                89
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useTranslation'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport localize from '../utils/localize';\r\nimport { analyzeUserPersonality, findCompatibleJobs } from '../services/analysisApi';\r\nimport { BarChart, Briefcase, CheckCircle, Loader, User, Zap } from 'lucide-react';\r\nimport ErrorBoundary from '../components/ErrorBoundary';\r\n\r\n// Mock assessment questions (in a real app, fetch this from the backend)\r\nconst assessmentQuestions = [\r\n    { id: 'q1', text: 'When making decisions, you rely more on:', options: ['Logic and facts', 'Feelings and intuition'] },\r\n    { id: 'q2', text: 'At a social event, you are more likely to:', options: ['Interact with many people', 'Interact with a few people you know'] },\r\n    { id: 'q3', text: 'You prefer to have a day that is:', options: ['Planned and organized', 'Spontaneous and flexible'] },\r\n    { id: 'q4', text: 'When working on a project, you enjoy:', options: ['Focusing on the details and practical aspects', 'Exploring ideas and possibilities'] },\r\n    { id: 'q5', text: 'You feel more energized by:', options: ['Spending time alone', 'Spending time with others'] },\r\n];\r\n\r\nconst PersonalityTestPage = () => {\r\n  const [answers, setAnswers] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [results, setResults] = useState(null);\r\n  const [compatibleJobs, setCompatibleJobs] = useState([]);\r\n  const [loadingJobs, setLoadingJobs] = useState(false);\r\n  // localize helper is imported from ../utils/localize\r\n\r\n  const handleAnswerChange = (questionId, answer) => {\r\n    setAnswers(prev => ({ ...prev, [questionId]: answer }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (Object.keys(answers).length < assessmentQuestions.length) {\r\n      setError('Please answer all questions.');\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    setError(null);\r\n    setResults(null);\r\n    setCompatibleJobs([]);\r\n\r\n    try {\r\n      // Authentication token is automatically included via interceptor\r\n      const response = await analyzeUserPersonality(answers);\r\n      setResults(response.data);\r\n      setError(null);\r\n    } catch (err) {\r\n      console.error('Error analyzing personality:', err);\r\n      // If user is not authenticated, prompt to login\r\n      if (err?.response?.status === 401) {\r\n        setError('Please log in to take the personality assessment.');\r\n      } else if (err?.response?.status === 400) {\r\n        setError(err?.response?.data?.error || 'Invalid assessment data. Please review your answers.');\r\n      } else {\r\n        setError('Failed to analyze personality. Please ensure the backend server is running and try again.');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFindJobs = async () => {\r\n    setLoadingJobs(true);\r\n    try {\r\n        // Authentication token is automatically included via interceptor\r\n        const response = await findCompatibleJobs();\r\n        // Some backends may return 204 No Content when there are no matches.\r\n        // Normalize that to an empty array and show a friendly message.\r\n        if (response.status === 204 || !response.data) {\r\n          setCompatibleJobs([]);\r\n          setError('No compatible jobs found for your profile yet.');\r\n        } else {\r\n          console.log('Compatible jobs response:', response.data);\r\n          setCompatibleJobs(response.data || []);\r\n          setError(null);\r\n        }\r\n  } catch (err) {\r\n    console.error('Error fetching compatible jobs:', err);\r\n    if (err?.response?.status === 401) {\r\n      setError('Please log in to view compatible jobs.');\r\n    } else if (err?.response?.status === 404) {\r\n      setError('No compatible jobs found. Try updating your profile or take the assessment first.');\r\n    } else {\r\n      setError('Failed to fetch compatible jobs. Please try again later.');\r\n    }\r\n  } finally {\r\n        setLoadingJobs(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ErrorBoundary>\r\n      <div className=\"min-h-screen bg-gray-50 p-4 sm:p-6 lg:p-8\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-8\">\r\n          <div className=\"flex items-center mb-4\">\r\n            <User className=\"h-8 w-8 text-blue-600 mr-3\" />\r\n            <h1 className=\"text-3xl font-bold text-gray-800\">Personality Assessment</h1>\r\n          </div>\r\n          <p className=\"text-gray-600\">\r\n            Understand your personality to discover career paths that align with your natural strengths and preferences.\r\n          </p>\r\n        </div>\r\n\r\n        {!results ? (\r\n          <form onSubmit={handleSubmit} className=\"bg-white rounded-lg shadow-md p-6\">\r\n            <h2 className=\"text-2xl font-semibold mb-6 text-gray-700\">Assessment Questions</h2>\r\n            {assessmentQuestions.map((q, index) => (\r\n              <div key={q.id} className=\"mb-6\">\r\n                <p className=\"font-medium text-gray-800 mb-2\">{index + 1}. {q.text}</p>\r\n                <div className=\"flex flex-col sm:flex-row gap-4\">\r\n                  {q.options.map(option => (\r\n                    <label key={option} className=\"flex-1 p-4 border rounded-lg cursor-pointer transition-all duration-200 ease-in-out hover:bg-blue-50 has-[:checked]:bg-blue-100 has-[:checked]:border-blue-500\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        name={q.id}\r\n                        value={option}\r\n                        onChange={() => handleAnswerChange(q.id, option)}\r\n                        className=\"sr-only\"\r\n                        required\r\n                      />\r\n                      <span className=\"text-gray-700\">{option}</span>\r\n                    </label>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ))}\r\n            {error && <p className=\"text-red-500 text-sm mb-4\">{error}</p>}\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center justify-center disabled:bg-blue-400\"\r\n            >\r\n              <span className=\"inline-flex items-center\">\r\n                {loading ? <Loader className=\"animate-spin mr-2\" /> : <CheckCircle className=\"mr-2\" />}\r\n              </span>\r\n              Submit & Analyze\r\n            </button>\r\n          </form>\r\n        ) : (\r\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n            <h2 className=\"text-2xl font-semibold mb-4 text-gray-700\">Your Personality Profile</h2>\r\n            {results && results.personality_type ? (\r\n              <>\r\n                <div className=\"bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg mb-6\">\r\n                    <div className=\"flex items-center\">\r\n                        <BarChart className=\"h-10 w-10 text-blue-600 mr-4\"/>\r\n                        <div>\r\n                            <p className=\"font-bold text-2xl text-blue-800\">{localize(results.personality_type.name)} ({results.personality_type.code})</p>\r\n                            <p className=\"text-gray-600\">{localize(results.personality_type.description)}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n                    <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                        <h3 className=\"font-semibold text-lg mb-2 text-gray-800\">Strengths</h3>\r\n                        <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\r\n                  {Array.isArray(results.personality_type.strengths) ? results.personality_type.strengths.map((s, i) => <li key={`strength-${i}-${s}`}>{localize(s)}</li>) : <li key=\"strength-single\">{localize(results.personality_type.strengths)}</li>}\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                        <h3 className=\"font-semibold text-lg mb-2 text-gray-800\">Areas for Growth</h3>\r\n                        <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\r\n                            {Array.isArray(results.personality_type.weaknesses) ? results.personality_type.weaknesses.map((w, i) => <li key={`weakness-${i}-${w}`}>{localize(w)}</li>) : <li key=\"weakness-single\">{localize(results.personality_type.weaknesses)}</li>}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <p className=\"text-red-600\">Error loading personality profile data.</p>\r\n            )}\r\n            \r\n            <div className=\"text-center\">\r\n                <button\r\n                    onClick={handleFindJobs}\r\n                    disabled={loadingJobs}\r\n                    className=\"bg-purple-600 text-white py-3 px-8 rounded-lg font-semibold hover:bg-purple-700 transition-colors flex items-center justify-center disabled:bg-purple-400 mx-auto\"\r\n                >\r\n                    <span className=\"inline-flex items-center\">\r\n                      {loadingJobs ? <Loader className=\"animate-spin mr-2\" /> : <Zap className=\"mr-2\" />}\r\n                    </span>\r\n                    Find Compatible Jobs\r\n                </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {compatibleJobs.length > 0 && (\r\n            <div className=\"mt-8 bg-white rounded-lg shadow-md p-6\">\r\n                <h2 className=\"text-2xl font-semibold mb-4 text-gray-700\">Recommended Career Paths</h2>\r\n                <div className=\"space-y-4\">\r\n                    {compatibleJobs.map((jobMatch, index) => {\r\n                      // Extract job name from various possible locations\r\n                      const jobName = jobMatch.jobCategory?.name || \r\n                                     jobMatch.jobCategory?.title || \r\n                                     jobMatch.job?.name || \r\n                                     jobMatch.job?.title ||\r\n                                     'Career Opportunity';\r\n                      \r\n                      const jobDescription = jobMatch.jobCategory?.description || \r\n                                            jobMatch.job?.description || \r\n                                            '';\r\n                      \r\n                      return (\r\n                        <div key={jobMatch.jobCategory?.id || jobMatch.job?.id || `job-${index}`} className=\"border p-4 rounded-lg hover:bg-gray-50 transition-colors\">\r\n                            <h3 className=\"font-bold text-lg text-gray-800 flex items-center\">\r\n                                <Briefcase className=\"mr-2 text-blue-500\"/>\r\n                                {localize(jobName)}\r\n                            </h3>\r\n                            \r\n                            {jobDescription && (\r\n                              <p className=\"text-sm text-gray-600 mb-2 italic\">{localize(jobDescription)}</p>\r\n                            )}\r\n                            \r\n                            <div className=\"flex gap-4 mb-2\">\r\n                              <p className=\"text-sm text-gray-500\">\r\n                                <span className=\"font-semibold\">Compatibility:</span> {jobMatch.compatibilityScore || 0}%\r\n                              </p>\r\n                              {jobMatch.satisfactionPrediction && (\r\n                                <p className=\"text-sm text-gray-500\">\r\n                                  <span className=\"font-semibold\">Satisfaction:</span> {jobMatch.satisfactionPrediction}%\r\n                                </p>\r\n                              )}\r\n                              {jobMatch.performancePrediction && (\r\n                                <p className=\"text-sm text-gray-500\">\r\n                                  <span className=\"font-semibold\">Performance:</span> {jobMatch.performancePrediction}%\r\n                                </p>\r\n                              )}\r\n                            </div>\r\n                            \r\n                            <p className=\"text-gray-600 mb-3\">{localize(jobMatch.compatibilityReason)}</p>\r\n                            \r\n                            {/* Matching Factors */}\r\n                            {jobMatch.matchingFactors && (\r\n                              <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2 mt-3 text-xs\">\r\n                                {jobMatch.matchingFactors.workStyleMatch !== undefined && (\r\n                                  <div className=\"bg-blue-50 p-2 rounded\">\r\n                                    <p className=\"text-gray-600\">Work Style</p>\r\n                                    <p className=\"font-semibold text-blue-700\">{jobMatch.matchingFactors.workStyleMatch}%</p>\r\n                                  </div>\r\n                                )}\r\n                                {jobMatch.matchingFactors.skillsAlignment !== undefined && (\r\n                                  <div className=\"bg-green-50 p-2 rounded\">\r\n                                    <p className=\"text-gray-600\">Skills</p>\r\n                                    <p className=\"font-semibold text-green-700\">{jobMatch.matchingFactors.skillsAlignment}%</p>\r\n                                  </div>\r\n                                )}\r\n                                {jobMatch.matchingFactors.interestsAlignment !== undefined && (\r\n                                  <div className=\"bg-purple-50 p-2 rounded\">\r\n                                    <p className=\"text-gray-600\">Interests</p>\r\n                                    <p className=\"font-semibold text-purple-700\">{jobMatch.matchingFactors.interestsAlignment}%</p>\r\n                                  </div>\r\n                                )}\r\n                                {jobMatch.matchingFactors.valuesAlignment !== undefined && (\r\n                                  <div className=\"bg-yellow-50 p-2 rounded\">\r\n                                    <p className=\"text-gray-600\">Values</p>\r\n                                    <p className=\"font-semibold text-yellow-700\">{jobMatch.matchingFactors.valuesAlignment}%</p>\r\n                                  </div>\r\n                                )}\r\n                                {jobMatch.matchingFactors.environmentMatch !== undefined && (\r\n                                  <div className=\"bg-pink-50 p-2 rounded\">\r\n                                    <p className=\"text-gray-600\">Environment</p>\r\n                                    <p className=\"font-semibold text-pink-700\">{jobMatch.matchingFactors.environmentMatch}%</p>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            )}\r\n                            \r\n                            {/* Success Factors */}\r\n                            {jobMatch.successFactors && jobMatch.successFactors.length > 0 && (\r\n                              <div className=\"mt-3 p-2 bg-green-50 rounded\">\r\n                                <p className=\"text-xs font-semibold text-green-800 mb-1\">âœ“ Success Factors:</p>\r\n                                <ul className=\"text-xs text-green-700 list-disc list-inside\">\r\n                                  {jobMatch.successFactors.slice(0, 3).map((factor, i) => (\r\n                                    <li key={`success-${index}-${i}`}>{factor}</li>\r\n                                  ))}\r\n                                </ul>\r\n                              </div>\r\n                            )}\r\n                        </div>\r\n                      );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        )}\r\n        </div>\r\n      </div>\r\n    </ErrorBoundary>\r\n  );\r\n};\r\n\r\nexport default PersonalityTestPage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\PostJobPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useTheme' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 29,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 29,
        "endColumn": 11,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useTheme"
            },
            "fix": {
              "range": [
                437,
                450
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useTheme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'isChildUploading' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 131,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 131,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "isChildUploading"
            },
            "fix": {
              "range": [
                3319,
                3335
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'isChildUploading'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState, useEffect  } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Grid,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Paper,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Chip,\r\n  FormHelperText,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  Divider,\r\n  InputAdornment,\r\n  Autocomplete,\r\n  CircularProgress,\r\n  Snackbar,\r\n  Alert,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  styled,\r\n  useTheme\r\n} from '@mui/material';\r\nimport {\r\n  Work as WorkIcon,\r\n  LocationOn as LocationIcon,\r\n  AttachMoney as MoneyIcon,\r\n  Save as SaveIcon,\r\n  Cancel as CancelIcon,\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Category as CategoryIcon,\r\n  Description as DescriptionIcon,\r\n  VideoCall as VideoCallIcon\r\n} from '@mui/icons-material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { \r\n  postJob, \r\n  getCategories,\r\n  getSkills,\r\n  updateJob // Assuming you have an updateJob API\r\n} from '@/services/api';\r\nimport VideoUpload from './VideoUpload';\r\nimport IconButton from '@mui/material/IconButton';\r\n\r\n\r\nconst PageContainer = styled(Box)(({ theme }) => ({\r\n  bgcolor: 'background.jobseeker',\r\n  minHeight: '100vh',\r\n  paddingTop: theme.spacing(3),\r\n  paddingBottom: theme.spacing(4),\r\n  pt: {\r\n    xs: 20,  \r\n    sm: 16   \r\n  }\r\n}));\r\n\r\nconst FormPaper = styled(Paper)(({ theme }) => ({\r\n  padding: theme.spacing(3),\r\n  marginBottom: theme.spacing(3),\r\n}));\r\n\r\nconst CategoryChip = styled(Chip)(({ theme }) => ({\r\n  margin: theme.spacing(0.5),\r\n  backgroundColor: theme.palette.secondary.light,\r\n  color: theme.palette.secondary.contrastText,\r\n  '&:hover': {\r\n    backgroundColor: theme.palette.secondary.main,\r\n  }\r\n}));\r\n\r\nconst SkillChip = styled(Chip)(({ theme }) => ({\r\n  margin: theme.spacing(0.5),\r\n  backgroundColor: theme.palette.primary.light,\r\n  color: theme.palette.primary.contrastText,\r\n  '&:hover': {\r\n    backgroundColor: theme.palette.primary.main,\r\n  }\r\n}));\r\n\r\nconst StyledSnackbar = styled(Snackbar)(({ theme }) => ({\r\n  '& .MuiAlert-root': {\r\n    fontSize: '1rem',\r\n    padding: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst PostJobPage = () => {\r\n  // const theme = useTheme(); // Removed: unused variable\n  const navigate = useNavigate();\r\n  \r\n  const [jobForm, setJobForm] = useState({\r\n    title: '',\r\n    description: '',\r\n    location: '',\r\n    employment_type: 'full-time',\r\n    remote_ok: false,\r\n    salary_min: null,\r\n    salary_max: null,\r\n    experience_level: '',\r\n    education_level: '',\r\n    job_status: 'active',\r\n    categoryIds: [],\r\n    skillIds: [],\r\n    requirements: [''],\r\n    responsibilities: [''],\r\n    deadline: '',\r\n    videoRequired: false // Indicates if a video is required for this job post\r\n  });\r\n  \r\n  const [errors, setErrors] = useState({\r\n    title: false,\r\n    description: false,\r\n    location: false,\r\n  });\r\n  \r\n  const [showVideoUpload, setShowVideoUpload] = useState(false);\r\n  const [uploadedVideoId, setUploadedVideoId] = useState(null); // This is the ID of the video from VideoUpload\r\n  const [availableCategories, setAvailableCategories] = useState([]);\r\n  const [availableSkills, setAvailableSkills] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  // States to track VideoUpload's internal status for dialog control\r\n  const [isChildUploading, setIsChildUploading] = useState(false);\r\n  const [isChildRecording, setIsChildRecording] = useState(false);\r\n\r\n  const [snackbar, setSnackbar] = useState({\r\n    open: false,\r\n    message: '',\r\n    severity: 'success'\r\n  });\r\n  const [newJobId, setNewJobId] = useState(null); // Stores the ID of the newly created job\r\n\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const categoriesResponse = await getCategories();\r\n        setAvailableCategories(categoriesResponse.data.categories);\r\n        const skillsResponse = await getSkills();\r\n        setAvailableSkills(skillsResponse.data.skills);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error('Error fetching data:', error);\r\n        setSnackbar({\r\n          open: true,\r\n          message: 'Error loading categories and skills',\r\n          severity: 'error'\r\n        });\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchData();\r\n  }, []);\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {\r\n    title: !jobForm.title,\r\n    description: !jobForm.description,\r\n    location: !jobForm.location,\r\n    salary: jobForm.salary_min && jobForm.salary_max && \r\n            Number(jobForm.salary_min) > Number(jobForm.salary_max)\r\n  };\r\n  \r\n  setErrors(newErrors);\r\n  return !Object.values(newErrors).some(error => error);\r\n};\r\n\r\nconst handleFormChange = (e) => {\r\n  const { name, value, type, checked } = e.target;\r\n  \r\n  let processedValue = type === 'checkbox' ? checked : value;\r\n  if ((name === 'salary_min' || name === 'salary_max') && value !== '') {\r\n    processedValue = Number(value);\r\n  }\r\n  \r\n  setJobForm({\r\n    ...jobForm,\r\n    [name]: processedValue\r\n  });\r\n  \r\n  if (errors[name]) {\r\n    setErrors({\r\n      ...errors,\r\n      [name]: false\r\n    });\r\n  }\r\n};\r\n\r\n  const handleCategoryChange = (event, newValue) => {\r\n    setJobForm({\r\n      ...jobForm,\r\n      categoryIds: newValue.map(cat => cat.id)\r\n    });\r\n  };\r\n\r\n  const handleSkillChange = (event, newValue) => {\r\n    setJobForm({\r\n      ...jobForm,\r\n      skillIds: newValue.map(skill => skill.skill_id)\r\n    });\r\n  };\r\n\r\n  const handleListItemChange = (type, index, value) => {\r\n    const updatedList = [...jobForm[type]];\r\n    updatedList[index] = value;\r\n    setJobForm({\r\n      ...jobForm,\r\n      [type]: updatedList\r\n    });\r\n  };\r\n\r\n  const addListItem = (type) => {\r\n    setJobForm({\r\n      ...jobForm,\r\n      [type]: [...jobForm[type], '']\r\n    });\r\n  };\r\n\r\n  const removeListItem = (type, index) => {\r\n    const updatedList = [...jobForm[type]];\r\n    updatedList.splice(index, 1);\r\n    setJobForm({\r\n      ...jobForm,\r\n      [type]: updatedList\r\n    });\r\n  };\r\n\r\n  // Modified: This function now handles creating the job first if not already created\r\n  const handleVideoUploadClick = async () => {\r\n    if (!validateForm()) {\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Please fill in all required fields before uploading video',\r\n        severity: 'error'\r\n      });\r\n      return;\r\n    }\r\n\r\n    // If job hasn't been posted yet, post it first to get an ID\r\n    if (!newJobId) {\r\n      try {\r\n        setSaving(true);\r\n        const jobDataToPost = {\r\n          ...jobForm,\r\n          requirements: jobForm.requirements.filter(item => item.trim() !== ''),\r\n          responsibilities: jobForm.responsibilities.filter(item => item.trim() !== ''),\r\n          deadline: jobForm.deadline || null,\r\n          video_id: null, // Video ID will be added later\r\n        };\r\n        const response = await postJob(jobDataToPost);\r\n        setNewJobId(response.data.job.id);\r\n        setSnackbar({\r\n          open: true,\r\n          message: 'Job draft saved. Proceeding to video upload.',\r\n          severity: 'info'\r\n        });\r\n      } catch (error) {\r\n        console.error('Error creating job draft:', error);\r\n        setSnackbar({\r\n          open: true,\r\n          message: 'Error creating job draft for video upload.',\r\n          severity: 'error'\r\n        });\r\n        setSaving(false);\r\n        return;\r\n      } finally {\r\n        setSaving(false);\r\n      }\r\n    }\r\n    setShowVideoUpload(true);\r\n  };\r\n\r\n  // Modify the handleVideoUploadComplete function\r\nconst handleVideoUploadComplete = async (videoId) => {\r\n  console.log('handleVideoUploadComplete called with videoId:', videoId);\r\n  setUploadedVideoId(videoId);\r\n  setShowVideoUpload(false); // Close the dialog immediately after upload initiation\r\n  console.log('setShowVideoUpload(false) called.');\r\n  \r\n  if (newJobId && videoId) {\r\n    try {\r\n      setSaving(true);\r\n      const updatedJobData = {\r\n        ...jobForm,\r\n        video_id: videoId,\r\n        requirements: jobForm.requirements.filter(item => item.trim() !== ''),\r\n        responsibilities: jobForm.responsibilities.filter(item => item.trim() !== ''),\r\n        deadline: jobForm.deadline || null,\r\n      };\r\n      \r\n      await updateJob(newJobId, updatedJobData);\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Video linked to job and job updated successfully!',\r\n        severity: 'success'\r\n      });\r\n      \r\n      // Navigate to job details page\r\n      navigate(`/job/${newJobId}`);\r\n    } catch (error) {\r\n      console.error('Error updating job with video ID:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Error linking video to job.',\r\n        severity: 'error'\r\n      });\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  } else if (!videoId) {\r\n    setSnackbar({\r\n      open: true,\r\n      message: 'Video upload failed or was cancelled. Job not updated with video.',\r\n      severity: 'error'\r\n    });\r\n  }\r\n};\r\n\r\n\r\n  // Callback to receive current uploading/recording status from VideoUpload\r\n  const handleChildStatusChange = (uploading, recording) => {\r\n    setIsChildUploading(uploading);\r\n    setIsChildRecording(recording);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) {\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Please fill in all required fields',\r\n        severity: 'error'\r\n      });\r\n      return;\r\n    }\r\n    \r\n    if (jobForm.videoRequired && !uploadedVideoId && !newJobId) { // Check if video is required but not uploaded/linked yet\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Please upload the required video resume, or ensure job is created first.',\r\n        severity: 'error'\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setSaving(true);\r\n      const jobData = {\r\n        ...jobForm,\r\n        requirements: jobForm.requirements.filter(item => item.trim() !== ''),\r\n        responsibilities: jobForm.responsibilities.filter(item => item.trim() !== ''),\r\n        deadline: jobForm.deadline || null,\r\n        // If newJobId exists and a video was uploaded/linked, keep its video_id.\r\n        // Otherwise, it might be a job without a required video, or a fresh post without video.\r\n        video_id: uploadedVideoId || null, \r\n      };\r\n\r\n      let finalJobId = newJobId;\r\n      if (finalJobId) {\r\n        // If job already exists (from video upload pre-creation), update it\r\n        await updateJob(finalJobId, jobData);\r\n        setSnackbar({\r\n          open: true,\r\n          message: 'Job updated successfully!',\r\n          severity: 'success'\r\n        });\r\n      } else {\r\n        // If job does not exist yet, create it\r\n        const response = await postJob(jobData);\r\n        finalJobId = response.data.job.id;\r\n        setNewJobId(finalJobId);\r\n        setSnackbar({\r\n          open: true,\r\n          message: 'Job posted successfully!',\r\n          severity: 'success'\r\n        });\r\n      }\r\n      \r\n      navigate(`/job/${finalJobId}`);\r\n      \r\n    } catch (error) {\r\n      console.error('Error posting/updating job:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Error posting/updating job',\r\n        severity: 'error'\r\n      });\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    navigate(-1);\r\n  };\r\n\r\n  // Update the renderVideoUploadDialog function\r\nconst renderVideoUploadDialog = () => (\r\n  <Dialog\r\n    open={showVideoUpload}\r\n    // Dialog should close when `showVideoUpload` becomes false\r\n    onClose={() => setShowVideoUpload(false)}\r\n    fullWidth\r\n    maxWidth=\"md\"\r\n    // Loosen restrictions: allow escape key to close. The parent explicitly closes on upload complete.\r\n    disableEscapeKeyDown={false} \r\n  >\r\n    <DialogTitle>Upload Job Video</DialogTitle>\r\n    <DialogContent>\r\n      <VideoUpload \r\n        onComplete={handleVideoUploadComplete}\r\n        onStatusChange={handleChildStatusChange}\r\n        newjobid={newJobId}\r\n        embedded={true}\r\n      />\r\n    </DialogContent>\r\n    <DialogActions>\r\n      {/* Always allow cancel button if the dialog is open and not actively recording */}\r\n      <Button \r\n        onClick={() => setShowVideoUpload(false)} \r\n        disabled={isChildRecording} // Only disable if actively recording\r\n      >\r\n        Cancel\r\n      </Button>\r\n    </DialogActions>\r\n  </Dialog>\r\n);\r\n\r\n\r\n  const renderBasicInfoSection = () => (\r\n    <FormPaper elevation={1}>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Basic Information\r\n      </Typography>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Job Title\"\r\n            name=\"title\"\r\n            value={jobForm.title}\r\n            onChange={handleFormChange}\r\n            required\r\n            error={errors.title}\r\n            helperText={errors.title ? \"This field is required\" : \"\"}\r\n            placeholder=\"e.g., Senior Frontend Developer\"\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Location\"\r\n            name=\"location\"\r\n            value={jobForm.location}\r\n            onChange={handleFormChange}\r\n            required\r\n            error={errors.location}\r\n            helperText={errors.location ? \"This field is required\" : \"\"}\r\n            placeholder=\"e.g., San Francisco, CA\"\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <LocationIcon />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <FormControl fullWidth>\r\n            <InputLabel id=\"employment-type-label\">Employment Type</InputLabel>\r\n            <Select\r\n              labelId=\"employment-type-label\"\r\n              name=\"employment_type\"\r\n              value={jobForm.employment_type}\r\n              onChange={handleFormChange}\r\n              label=\"Employment Type\"\r\n            >\r\n              <MenuItem value=\"full-time\">Full-time</MenuItem>\r\n              <MenuItem value=\"part-time\">Part-time</MenuItem>\r\n              <MenuItem value=\"contract\">Contract</MenuItem>\r\n              <MenuItem value=\"internship\">Internship</MenuItem>\r\n              <MenuItem value=\"temporary\">Temporary</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n        </Grid>\r\n        \r\n        <Grid item xs={12} sm={6}>\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                checked={jobForm.videoRequired}\r\n                onChange={handleFormChange}\r\n                name=\"videoRequired\"\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label=\"Post Job Video\"\r\n          />\r\n          {jobForm.videoRequired && (\r\n            <Button\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              startIcon={<VideoCallIcon />}\r\n              onClick={handleVideoUploadClick} // This will now ensure newJobId exists\r\n              sx={{ mt: 1 }}\r\n              disabled={saving} // Disable while job is being drafted/saved\r\n            >\r\n              {uploadedVideoId ? 'Video Uploaded' : 'Upload Video'}\r\n            </Button>\r\n          )}\r\n        </Grid>\r\n      </Grid>\r\n    </FormPaper>\r\n  );\r\n\r\n  const renderCategoriesAndSkillsSection = () => (\r\n    <FormPaper elevation={1}>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Categories and Skills\r\n      </Typography>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <Autocomplete\r\n            multiple\r\n            id=\"categories\"\r\n            options={availableCategories}\r\n            getOptionLabel={(option) => option.name}\r\n            value={availableCategories.filter(cat => jobForm.categoryIds.includes(cat.id))}\r\n            onChange={handleCategoryChange}\r\n            renderInput={(params) => (\r\n              <TextField\r\n                {...params}\r\n                label=\"Categories\"\r\n                placeholder=\"Select categories\"\r\n                InputProps={{\r\n                  ...params.InputProps,\r\n                  startAdornment: (\r\n                    <>\r\n                      <InputAdornment position=\"start\">\r\n                        <CategoryIcon />\r\n                      </InputAdornment>\r\n                      {params.InputProps.startAdornment}\r\n                    </>\r\n                  ),\r\n                }}\r\n              />\r\n            )}\r\n            renderTags={(value, getTagProps) =>\r\n              value.map((option, index) => (\r\n                <CategoryChip\r\n                  label={option.name}\r\n                  {...getTagProps({ index })}\r\n                  key={option.id}\r\n                />\r\n              ))\r\n            }\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Autocomplete\r\n            multiple\r\n            id=\"skills\"\r\n            options={availableSkills}\r\n            getOptionLabel={(option) => option.name}\r\n            value={availableSkills.filter(skill => jobForm.skillIds.includes(skill.skill_id))}\r\n            onChange={handleSkillChange}\r\n            renderInput={(params) => (\r\n              <TextField\r\n                {...params}\r\n                label=\"Required Skills\"\r\n                placeholder=\"Select skills\"\r\n                fullWidth\r\n                sx={{ minWidth: '300px' }}\r\n              />\r\n            )}\r\n            renderTags={(value, getTagProps) =>\r\n              value.map((option, index) => (\r\n                <SkillChip\r\n                  label={option.name}\r\n                  {...getTagProps({ index })}\r\n                  key={option.skill_id}\r\n                />\r\n              ))\r\n            }\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </FormPaper>\r\n  );\r\n\r\n  const renderSalaryInfoSection = () => (\r\n    <FormPaper elevation={1}>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Salary Information\r\n      </Typography>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12} sm={6}>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Minimum Salary\"\r\n            name=\"salary_min\"\r\n            type=\"number\"\r\n            value={jobForm.salary_min}\r\n            onChange={handleFormChange}\r\n              error={errors.salary}\r\n              helperText={errors.salary ? \"Max salary must be greater than min salary\" : \"\"}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <MoneyIcon />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Maximum Salary\"\r\n            name=\"salary_max\"\r\n            type=\"number\"\r\n            value={jobForm.salary_max}\r\n            onChange={handleFormChange}\r\n              error={errors.salary}\r\n              helperText={errors.salary ? \"Max salary must be greater than min salary\" : \"\"}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <MoneyIcon />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </FormPaper>\r\n  );\r\n\r\n  const renderAdditionalInfoSection = () => (\r\n    <FormPaper elevation={1}>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Additional Information\r\n      </Typography>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12} sm={6} md={4}>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Application Deadline\"\r\n            name=\"deadline\"\r\n            type=\"date\"\r\n            value={jobForm.deadline}\r\n            onChange={handleFormChange}\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n          />\r\n        </Grid>\r\n  \r\n        <Grid item xs={12} sm={6} md={4}>\r\n          <FormControl fullWidth>\r\n            <InputLabel id=\"experience-level-label\">Experience Level</InputLabel>\r\n            <Select\r\n              labelId=\"experience-level-label\"\r\n              name=\"experience_level\"\r\n              value={jobForm.experience_level}\r\n              onChange={handleFormChange}\r\n              label=\"Experience Level\"\r\n              sx={{ minWidth: '200px' }}\r\n            >\r\n              <MenuItem value=\"entry\">Entry Level</MenuItem>\r\n              <MenuItem value=\"mid\">Mid Level</MenuItem>\r\n              <MenuItem value=\"senior\">Senior Level</MenuItem>\r\n              <MenuItem value=\"executive\">Executive</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n        </Grid>\r\n  \r\n        <Grid item xs={12} sm={6} md={4}>\r\n          <FormControl fullWidth>\r\n            <InputLabel id=\"education-level-label\">Education Level</InputLabel>\r\n            <Select\r\n              labelId=\"education-level-label\"\r\n              name=\"education_level\"\r\n              value={jobForm.education_level}\r\n              onChange={handleFormChange}\r\n              label=\"Education Level\"\r\n              sx={{ minWidth: '200px' }}\r\n            >\r\n              <MenuItem value=\"high_school\">High School</MenuItem>\r\n              <MenuItem value=\"associate\">Associate Degree</MenuItem>\r\n              <MenuItem value=\"bachelor\">Bachelor's Degree</MenuItem>\r\n              <MenuItem value=\"master\">Master's Degree</MenuItem>\r\n              <MenuItem value=\"phd\">PhD</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n        </Grid>\r\n  \r\n        <Grid item xs={12}>\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                checked={jobForm.remote_ok}\r\n                onChange={handleFormChange}\r\n                name=\"remote_ok\"\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label=\"Remote position\"\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </FormPaper>\r\n  );\r\n\r\n  const renderJobDescriptionSection = () => (\r\n    <FormPaper elevation={1}>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Job Description\r\n      </Typography>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Job Description\"\r\n            name=\"description\"\r\n            value={jobForm.description}\r\n            onChange={handleFormChange}\r\n            multiline\r\n            rows={6}\r\n            required\r\n            error={errors.description}\r\n            helperText={errors.description ? \"This field is required\" : \"\"}\r\n            placeholder=\"Provide a detailed description of the job position\"\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\" sx={{ alignSelf: 'flex-start', mt: 1.5 }}>\r\n                  <DescriptionIcon />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </FormPaper>\r\n  );\r\n\r\n  const renderRequirementsSection = () => (\r\n    <FormPaper elevation={1}>\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n        <Typography variant=\"h6\">\r\n          Requirements\r\n        </Typography>\r\n        <Button\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          startIcon={<AddIcon />}\r\n          onClick={() => addListItem('requirements')}\r\n        >\r\n          Add Requirement\r\n        </Button>\r\n      </Box>\r\n      {jobForm.requirements.map((requirement, index) => (\r\n        <Box key={index} sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n          <TextField\r\n            fullWidth\r\n            label={`Requirement ${index + 1}`}\r\n            value={requirement}\r\n            onChange={(e) => handleListItemChange('requirements', index, e.target.value)}\r\n            placeholder=\"e.g., At least 3 years of experience in React development\"\r\n          />\r\n          <IconButton\r\n            color=\"error\"\r\n            onClick={() => removeListItem('requirements', index)}\r\n            disabled={jobForm.requirements.length <= 1}\r\n            sx={{ ml: 1 }}\r\n          >\r\n            <DeleteIcon />\r\n          </IconButton>\r\n        </Box>\r\n      ))}\r\n    </FormPaper>\r\n  );\r\n\r\n  const renderResponsibilitiesSection = () => (\r\n    <FormPaper elevation={1}>\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n        <Typography variant=\"h6\">\r\n          Responsibilities\r\n        </Typography>\r\n        <Button\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          startIcon={<AddIcon />}\r\n          onClick={() => addListItem('responsibilities')}\r\n        >\r\n          Add Responsibility\r\n        </Button>\r\n      </Box>\r\n      {jobForm.responsibilities.map((responsibility, index) => (\r\n        <Box key={index} sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n          <TextField\r\n            fullWidth\r\n            label={`Responsibility ${index + 1}`}\r\n            value={responsibility}\r\n            onChange={(e) => handleListItemChange('responsibilities', index, e.target.value)}\r\n            placeholder=\"e.g., Develop and maintain web applications using React\"\r\n          />\r\n          <IconButton\r\n            color=\"error\"\r\n            onClick={() => removeListItem('responsibilities', index)}\r\n            disabled={jobForm.responsibilities.length <= 1}\r\n            sx={{ ml: 1 }}\r\n          >\r\n            <DeleteIcon />\r\n          </IconButton>\r\n        </Box>\r\n      ))}\r\n    </FormPaper>\r\n  );\r\n\r\n  return (\r\n    <PageContainer>\r\n      <Container maxWidth=\"lg\" sx={{ bgcolor: 'rgb(221, 235, 253)' , borderRadius: 1 ,padding: 1 }}>\r\n        <Box sx={{ mb: 4, display: 'flex', justifyContent: 'space-between', alignItems: 'center'  }}>\r\n          <Typography variant=\"h4\" component=\"h1\">\r\n            Post a New Job\r\n          </Typography>\r\n          <Box sx={{ display: 'flex', gap: 2 }}>\r\n            <Button\r\n              variant=\"outlined\"\r\n              color=\"inherit\"\r\n              startIcon={<CancelIcon />}\r\n              onClick={handleCancel}\r\n              disabled={saving}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              startIcon={<SaveIcon />}\r\n              onClick={handleSubmit}\r\n              disabled={saving}\r\n            >\r\n              {saving ? 'Posting...' : 'Post Job'}\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n        \r\n        {loading ? (\r\n          <Box sx={{ display: 'flex', justifyContent: 'center', my: 4 }}>\r\n            <CircularProgress />\r\n          </Box>\r\n        ) : (\r\n          <form onSubmit={handleSubmit}>\r\n            {renderBasicInfoSection()}\r\n            {renderCategoriesAndSkillsSection()}\r\n            {renderSalaryInfoSection()}\r\n            {renderJobDescriptionSection()}\r\n            {renderRequirementsSection()}\r\n            {renderResponsibilitiesSection()}\r\n            {renderAdditionalInfoSection()}\r\n            \r\n            <Box sx={{ mt: 3, display: 'flex', justifyContent: 'flex-end', gap: 2 }}>\r\n              <Button\r\n                variant=\"outlined\"\r\n                color=\"inherit\"\r\n                startIcon={<CancelIcon />}\r\n                onClick={handleCancel}\r\n                disabled={saving}\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                startIcon={<SaveIcon />}\r\n                type=\"submit\"\r\n                disabled={saving}\r\n              >\r\n                {saving ? 'Posting...' : 'Post Job'}\r\n              </Button>\r\n            </Box>\r\n          </form>\r\n        )}\r\n      </Container>\r\n      \r\n      {renderVideoUploadDialog()}\r\n      \r\n      <StyledSnackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={6000}\r\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      >\r\n        <Alert \r\n          onClose={() => setSnackbar({ ...snackbar, open: false })} \r\n          severity={snackbar.severity}\r\n          sx={{ width: '100%' }}\r\n        >\r\n          {snackbar.message}\r\n        </Alert>\r\n      </StyledSnackbar>\r\n    </PageContainer>\r\n  );\r\n};\r\n\r\nexport default PostJobPage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\PricingPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getPlansAndServices' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 41,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 41,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "getPlansAndServices"
            },
            "fix": {
              "range": [
                1093,
                1113
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'getPlansAndServices'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'currentSubscription' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 58,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 58,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "currentSubscription"
            },
            "fix": {
              "range": [
                1763,
                1782
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'currentSubscription'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'loadCurrentSubscription'. Either include it or remove the dependency array.",
        "line": 313,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 313,
        "endColumn": 12,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [loadCurrentSubscription, user]",
            "fix": {
              "range": [
                11539,
                11545
              ],
              "text": "[loadCurrentSubscription, user]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { Card, CardContent, CardHeader, CardFooter } from '@/components/UI/card.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { Switch } from '@/components/UI/switch.jsx';\r\nimport { Label } from '@/components/UI/label.jsx';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/UI/tabs.jsx';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/UI/dialog.jsx';\r\nimport { Input } from '@/components/UI/input.jsx';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport {\r\n  Check,\r\n  Star,\r\n  Briefcase,\r\n  Building,\r\n  CreditCard,\r\n  Shield,\r\n  Loader2,\r\n  TrendingUp,\r\n  Users,\r\n  MessageCircle,\r\n  Video,\r\n  BarChart,\r\n  Search,\r\n  Sparkles,\r\n  GraduationCap,\r\n  UserPlus,\r\n  Clock\r\n} from 'lucide-react';\r\nimport { Link } from 'react-router-dom';\r\nimport Header from '../components/Headers/Header';\r\nimport Footer from '../components/Headers/Footer';\r\nimport { \r\n  getPlansAndServices, \r\n  createSubscription, \r\n  purchaseService,\r\n  getSubscriptionStatus \r\n} from '@/services/api';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nexport default function PricingPage() {\r\n  const { user } = useAuth();\r\n  const { t } = useTranslation('pricing');\r\n  const { toast } = useToast();\r\n  const [tabValue, setTabValue] = useState('job-seekers');\r\n  const [isAnnual, setIsAnnual] = useState(false);\r\n  const [subscribing, setSubscribing] = useState(false);\r\n  const [selectedPlan, setSelectedPlan] = useState(null);\r\n  const [paymentDialog, setPaymentDialog] = useState(false);\r\n  const [currentSubscription, setCurrentSubscription] = useState(null);\r\n\r\n  // Job Seeker Plans\r\n  const jobSeekerPlans = [\r\n    {\r\n      id: 'basic',\r\n      type: 'BASIC',\r\n      title: t('jobSeekerPlans.basic.title'),\r\n      price: t('jobSeekerPlans.basic.price'),\r\n      monthlyPrice: 0,\r\n      annualPrice: 0,\r\n      description: t('jobSeekerPlans.basic.description'),\r\n      features: [\r\n        t('jobSeekerPlans.basic.features.0'),\r\n        t('jobSeekerPlans.basic.features.1'),\r\n        t('jobSeekerPlans.basic.features.2'),\r\n        t('jobSeekerPlans.basic.features.3'),\r\n        t('jobSeekerPlans.basic.features.4')\r\n      ],\r\n      buttonText: t('jobSeekerPlans.basic.buttonText'),\r\n      mostPopular: false\r\n    },\r\n    {\r\n      id: 'professional',\r\n      type: 'PROFESSIONAL',\r\n      title: t('jobSeekerPlans.professional.title'),\r\n      price: t('jobSeekerPlans.professional.price'),\r\n      monthlyPrice: 9.99,\r\n      annualPrice: 99.99,\r\n      period: '/month',\r\n      description: t('jobSeekerPlans.professional.description'),\r\n      features: [\r\n        t('jobSeekerPlans.professional.features.0'),\r\n        t('jobSeekerPlans.professional.features.1'),\r\n        t('jobSeekerPlans.professional.features.2'),\r\n        t('jobSeekerPlans.professional.features.3'),\r\n        t('jobSeekerPlans.professional.features.4'),\r\n        t('jobSeekerPlans.professional.features.5'),\r\n        t('jobSeekerPlans.professional.features.6')\r\n      ],\r\n      buttonText: t('jobSeekerPlans.professional.buttonText'),\r\n      highlight: true,\r\n      mostPopular: true\r\n    },\r\n    {\r\n      id: 'premium',\r\n      type: 'PREMIUM',\r\n      title: t('jobSeekerPlans.premium.title'),\r\n      price: t('jobSeekerPlans.premium.price'),\r\n      monthlyPrice: 19.99,\r\n      annualPrice: 199.99,\r\n      period: '/month',\r\n      description: t('jobSeekerPlans.premium.description'),\r\n      features: [\r\n        t('jobSeekerPlans.premium.features.0'),\r\n        t('jobSeekerPlans.premium.features.1'),\r\n        t('jobSeekerPlans.premium.features.2'),\r\n        t('jobSeekerPlans.premium.features.3'),\r\n        t('jobSeekerPlans.premium.features.4'),\r\n        t('jobSeekerPlans.premium.features.5'),\r\n        t('jobSeekerPlans.premium.features.6'),\r\n        t('jobSeekerPlans.premium.features.7')\r\n      ],\r\n      buttonText: t('jobSeekerPlans.premium.buttonText'),\r\n      mostPopular: false\r\n    }\r\n  ];\r\n\r\n  // Employer Plans\r\n  const employerPlans = [\r\n    {\r\n      id: 'starter',\r\n      type: 'STARTER',\r\n      title: t('employerPlans.starter.title'),\r\n      price: t('employerPlans.starter.price'),\r\n      monthlyPrice: 29.99,\r\n      annualPrice: 299.99,\r\n      period: '/month',\r\n      description: t('employerPlans.starter.description'),\r\n      features: [\r\n        t('employerPlans.starter.features.0'),\r\n        t('employerPlans.starter.features.1'),\r\n        t('employerPlans.starter.features.2'),\r\n        t('employerPlans.starter.features.3'),\r\n        t('employerPlans.starter.features.4'),\r\n        t('employerPlans.starter.features.5')\r\n      ],\r\n      buttonText: t('employerPlans.starter.buttonText'),\r\n      mostPopular: false\r\n    },\r\n    {\r\n      id: 'business',\r\n      type: 'BUSINESS',\r\n      title: t('employerPlans.business.title'),\r\n      price: t('employerPlans.business.price'),\r\n      monthlyPrice: 79.99,\r\n      annualPrice: 799.99,\r\n      period: '/month',\r\n      description: t('employerPlans.business.description'),\r\n      features: [\r\n        t('employerPlans.business.features.0'),\r\n        t('employerPlans.business.features.1'),\r\n        t('employerPlans.business.features.2'),\r\n        t('employerPlans.business.features.3'),\r\n        t('employerPlans.business.features.4'),\r\n        t('employerPlans.business.features.5'),\r\n        t('employerPlans.business.features.6'),\r\n        t('employerPlans.business.features.7')\r\n      ],\r\n      buttonText: t('employerPlans.business.buttonText'),\r\n      highlight: true,\r\n      mostPopular: true\r\n    },\r\n    {\r\n      id: 'enterprise',\r\n      type: 'ENTERPRISE',\r\n      title: t('employerPlans.enterprise.title'),\r\n      price: t('employerPlans.enterprise.price'),\r\n      monthlyPrice: 199.99,\r\n      annualPrice: 1999.99,\r\n      period: '/month',\r\n      description: t('employerPlans.enterprise.description'),\r\n      features: [\r\n        t('employerPlans.enterprise.features.0'),\r\n        t('employerPlans.enterprise.features.1'),\r\n        t('employerPlans.enterprise.features.2'),\r\n        t('employerPlans.enterprise.features.3'),\r\n        t('employerPlans.enterprise.features.4'),\r\n        t('employerPlans.enterprise.features.5'),\r\n        t('employerPlans.enterprise.features.6'),\r\n        t('employerPlans.enterprise.features.7'),\r\n        t('employerPlans.enterprise.features.8')\r\n      ],\r\n      buttonText: t('employerPlans.enterprise.buttonText'),\r\n      mostPopular: false\r\n    }\r\n  ];\r\n\r\n  // Professional Services for Job Seekers\r\n  const jobSeekerServices = [\r\n    {\r\n      id: 'career-coaching',\r\n      type: 'CAREER_COACHING',\r\n      title: t('jobSeekerServices.careerCoaching.title'),\r\n      price: t('jobSeekerServices.careerCoaching.price'),\r\n      description: t('jobSeekerServices.careerCoaching.description'),\r\n      icon: <Briefcase className=\"h-10 w-10 text-green-600\" />,\r\n      duration: t('jobSeekerServices.careerCoaching.duration'),\r\n      features: [\r\n        t('jobSeekerServices.careerCoaching.features.0'),\r\n        t('jobSeekerServices.careerCoaching.features.1'),\r\n        t('jobSeekerServices.careerCoaching.features.2'),\r\n        t('jobSeekerServices.careerCoaching.features.3')\r\n      ]\r\n    },\r\n    {\r\n      id: 'resume-review',\r\n      type: 'RESUME_REVIEW',\r\n      title: t('jobSeekerServices.resumeReview.title'),\r\n      price: t('jobSeekerServices.resumeReview.price'),\r\n      description: t('jobSeekerServices.resumeReview.description'),\r\n      icon: <Star className=\"h-10 w-10 text-orange-600\" />,\r\n      duration: t('jobSeekerServices.resumeReview.duration'),\r\n      features: [\r\n        t('jobSeekerServices.resumeReview.features.0'),\r\n        t('jobSeekerServices.resumeReview.features.1'),\r\n        t('jobSeekerServices.resumeReview.features.2'),\r\n        t('jobSeekerServices.resumeReview.features.3')\r\n      ]\r\n    },\r\n    {\r\n      id: 'interview-prep',\r\n      type: 'INTERVIEW_PREP',\r\n      title: t('jobSeekerServices.interviewPrep.title'),\r\n      price: t('jobSeekerServices.interviewPrep.price'),\r\n      description: t('jobSeekerServices.interviewPrep.description'),\r\n      icon: <Sparkles className=\"h-10 w-10 text-blue-600\" />,\r\n      duration: t('jobSeekerServices.interviewPrep.duration'),\r\n      features: [\r\n        t('jobSeekerServices.interviewPrep.features.0'),\r\n        t('jobSeekerServices.interviewPrep.features.1'),\r\n        t('jobSeekerServices.interviewPrep.features.2'),\r\n        t('jobSeekerServices.interviewPrep.features.3')\r\n      ]\r\n    },\r\n    {\r\n      id: 'linkedin-optimization',\r\n      type: 'LINKEDIN_OPTIMIZATION',\r\n      title: t('jobSeekerServices.linkedinOptimization.title'),\r\n      price: t('jobSeekerServices.linkedinOptimization.price'),\r\n      description: t('jobSeekerServices.linkedinOptimization.description'),\r\n      icon: <TrendingUp className=\"h-10 w-10 text-blue-700\" />,\r\n      duration: t('jobSeekerServices.linkedinOptimization.duration'),\r\n      features: [\r\n        t('jobSeekerServices.linkedinOptimization.features.0'),\r\n        t('jobSeekerServices.linkedinOptimization.features.1'),\r\n        t('jobSeekerServices.linkedinOptimization.features.2'),\r\n        t('jobSeekerServices.linkedinOptimization.features.3')\r\n      ]\r\n    }\r\n  ];\r\n\r\n  // Professional Services for Employers\r\n  const employerServices = [\r\n    {\r\n      id: 'recruitment-consulting',\r\n      type: 'RECRUITMENT_CONSULTING',\r\n      title: t('employerServices.recruitmentConsulting.title'),\r\n      price: t('employerServices.recruitmentConsulting.price'),\r\n      description: t('employerServices.recruitmentConsulting.description'),\r\n      icon: <Users className=\"h-10 w-10 text-green-600\" />,\r\n      duration: t('employerServices.recruitmentConsulting.duration'),\r\n      features: [\r\n        t('employerServices.recruitmentConsulting.features.0'),\r\n        t('employerServices.recruitmentConsulting.features.1'),\r\n        t('employerServices.recruitmentConsulting.features.2'),\r\n        t('employerServices.recruitmentConsulting.features.3')\r\n      ]\r\n    },\r\n    {\r\n      id: 'employer-branding',\r\n      type: 'EMPLOYER_BRANDING',\r\n      title: t('employerServices.employerBranding.title'),\r\n      price: t('employerServices.employerBranding.price'),\r\n      description: t('employerServices.employerBranding.description'),\r\n      icon: <Building className=\"h-10 w-10 text-orange-600\" />,\r\n      duration: t('employerServices.employerBranding.duration'),\r\n      features: [\r\n        t('employerServices.employerBranding.features.0'),\r\n        t('employerServices.employerBranding.features.1'),\r\n        t('employerServices.employerBranding.features.2'),\r\n        t('employerServices.employerBranding.features.3')\r\n      ]\r\n    },\r\n    {\r\n      id: 'team-training',\r\n      type: 'TEAM_TRAINING',\r\n      title: t('employerServices.teamTraining.title'),\r\n      price: t('employerServices.teamTraining.price'),\r\n      description: t('employerServices.teamTraining.description'),\r\n      icon: <GraduationCap className=\"h-10 w-10 text-blue-600\" />,\r\n      duration: t('employerServices.teamTraining.duration'),\r\n      features: [\r\n        t('employerServices.teamTraining.features.0'),\r\n        t('employerServices.teamTraining.features.1'),\r\n        t('employerServices.teamTraining.features.2'),\r\n        t('employerServices.teamTraining.features.3')\r\n      ]\r\n    }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      loadCurrentSubscription();\r\n    }\r\n  }, [user]);\r\n\r\n  const loadCurrentSubscription = async () => {\r\n    try {\r\n      const response = await getSubscriptionStatus(user.id);\r\n      setCurrentSubscription(response.data);\r\n    } catch (error) {\r\n      console.error('Error loading subscription:', error);\r\n    }\r\n  };\r\n\r\n  const handleSubscribe = async (plan) => {\r\n    if (!user) {\r\n      toast({\r\n        title: t('errors.loginRequired'),\r\n        variant: 'destructive'\r\n      });\r\n      return;\r\n    }\r\n\r\n    setSelectedPlan(plan);\r\n    setPaymentDialog(true);\r\n  };\r\n\r\n  const handleConfirmSubscription = async () => {\r\n    setSubscribing(true);\r\n    try {\r\n      // Send data as object with planType and isAnnual\r\n      await createSubscription({ \r\n        planType: selectedPlan.type,\r\n        isAnnual: isAnnual\r\n      });\r\n      toast({\r\n        title: t('success.subscriptionUpdated'),\r\n      });\r\n      setPaymentDialog(false);\r\n      loadCurrentSubscription();\r\n    } catch (error) {\r\n      console.error('Error creating subscription:', error);\r\n      toast({\r\n        title: t('errors.genericError'),\r\n        variant: 'destructive'\r\n      });\r\n    } finally {\r\n      setSubscribing(false);\r\n    }\r\n  };\r\n\r\n  const handlePurchaseService = async (service) => {\r\n    if (!user) {\r\n      toast({\r\n        title: t('errors.loginRequired'),\r\n        variant: 'destructive'\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Send data as object with serviceType\r\n      await purchaseService({ \r\n        serviceType: service.type \r\n      });\r\n      toast({\r\n        title: t('success.paymentProcessed'),\r\n      });\r\n    } catch (error) {\r\n      console.error('Error purchasing service:', error);\r\n      toast({\r\n        title: t('errors.genericError'),\r\n        variant: 'destructive'\r\n      });\r\n    }\r\n  };\r\n\r\n  const getPrice = (plan) => {\r\n    return isAnnual ? plan.annualPrice : plan.monthlyPrice;\r\n  };\r\n\r\n  const getSavings = (plan) => {\r\n    if (!plan.annualPrice || !plan.monthlyPrice) return 0;\r\n    const monthlyTotal = plan.monthlyPrice * 12;\r\n    const savings = monthlyTotal - plan.annualPrice;\r\n    return Math.round((savings / monthlyTotal) * 100);\r\n  };\r\n\r\n  const renderPricingCards = (plansList) => (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-7xl mx-auto\">\r\n      {plansList.map((plan, index) => (\r\n        <Card\r\n          key={index}\r\n          className={`relative flex flex-col transition-all duration-300 hover:-translate-y-2 ${\r\n            plan.highlight\r\n              ? 'border-2 border-purple-600 shadow-2xl'\r\n              : 'border border-gray-200 shadow-lg hover:shadow-xl'\r\n          }`}\r\n        >\r\n          {plan.mostPopular && (\r\n            <Badge className=\"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-purple-600 to-cyan-600\">\r\n              {t('mostPopular')}\r\n            </Badge>\r\n          )}\r\n\r\n          <CardHeader className=\"text-center pb-4\">\r\n            <h3 className=\"text-2xl font-bold mb-2 bg-gradient-to-r from-purple-600 to-cyan-600 bg-clip-text text-transparent\">\r\n              {plan.title}\r\n            </h3>\r\n            <p className=\"text-gray-600 text-sm\">{plan.description}</p>\r\n          </CardHeader>\r\n\r\n          <CardContent className=\"flex-1\">\r\n            <div className=\"text-center mb-6\">\r\n              <div className=\"flex items-baseline justify-center gap-1\">\r\n                <span className=\"text-5xl font-bold bg-gradient-to-r from-purple-600 to-cyan-600 bg-clip-text text-transparent\">\r\n                  ${getPrice(plan)}\r\n                </span>\r\n                {plan.period && (\r\n                  <span className=\"text-gray-500 text-lg\">{plan.period}</span>\r\n                )}\r\n              </div>\r\n              {isAnnual && plan.annualPrice > 0 && (\r\n                <Badge variant=\"outline\" className=\"mt-2 border-green-500 text-green-600\">\r\n                  Save {getSavings(plan)}%\r\n                </Badge>\r\n              )}\r\n            </div>\r\n\r\n            <ul className=\"space-y-3\">\r\n              {plan.features.map((feature, idx) => (\r\n                <li key={idx} className=\"flex items-start gap-3\">\r\n                  <Check className=\"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5\" />\r\n                  <span className=\"text-sm text-gray-700\">{feature}</span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </CardContent>\r\n\r\n          <CardFooter>\r\n            <Button\r\n              onClick={() => handleSubscribe(plan)}\r\n              className={`w-full ${\r\n                plan.highlight\r\n                  ? 'bg-gradient-to-r from-purple-600 to-cyan-600 hover:from-purple-700 hover:to-cyan-700'\r\n                  : 'bg-white text-purple-600 border-2 border-purple-600 hover:bg-purple-50'\r\n              }`}\r\n            >\r\n              {plan.buttonText}\r\n            </Button>\r\n          </CardFooter>\r\n        </Card>\r\n      ))}\r\n    </div>\r\n  );\r\n\r\n  const renderServiceCards = (servicesList) => (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto\">\r\n      {servicesList.map((service, index) => (\r\n        <Card key={index} className=\"hover:shadow-xl transition-all duration-200 border-l-4 border-l-purple-500\">\r\n          <CardContent className=\"p-6\">\r\n            <div className=\"flex justify-center mb-4\">\r\n              <div className=\"p-4 rounded-full bg-gradient-to-r from-purple-100 to-cyan-100\">\r\n                {service.icon}\r\n              </div>\r\n            </div>\r\n            <h3 className=\"text-xl font-bold text-center mb-2\">{service.title}</h3>\r\n            <p className=\"text-center text-gray-600 text-sm mb-4\">{service.description}</p>\r\n            \r\n            <div className=\"text-center mb-4\">\r\n              <span className=\"text-3xl font-bold bg-gradient-to-r from-purple-600 to-cyan-600 bg-clip-text text-transparent\">\r\n                {service.price}\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-center gap-2 mb-4\">\r\n              <Clock className=\"h-4 w-4 text-gray-500\" />\r\n              <span className=\"text-sm text-gray-600\">{service.duration}</span>\r\n            </div>\r\n\r\n            <ul className=\"space-y-2 mb-6\">\r\n              {service.features.map((feature, idx) => (\r\n                <li key={idx} className=\"flex items-start gap-2\">\r\n                  <Check className=\"h-4 w-4 text-green-500 flex-shrink-0 mt-0.5\" />\r\n                  <span className=\"text-xs text-gray-700\">{feature}</span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n\r\n            <Button\r\n              onClick={() => handlePurchaseService(service)}\r\n              className=\"w-full bg-gradient-to-r from-purple-600 to-cyan-600 hover:from-purple-700 hover:to-cyan-700\"\r\n            >\r\n              Purchase\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n      ))}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-cyan-50 to-purple-50\">\r\n      <Header />\r\n      \r\n      <div className=\"container mx-auto py-12 px-4\">\r\n        {/* Hero Section */}\r\n        <div className=\"text-center mb-12\">\r\n          <h1 className=\"text-5xl font-bold mb-4 bg-gradient-to-r from-purple-600 to-cyan-600 bg-clip-text text-transparent\">\r\n            {t('title') || 'Choose Your Plan'}\r\n          </h1>\r\n          <p className=\"text-xl text-gray-600 max-w-3xl mx-auto\">\r\n            {t('subtitle') || 'Find the perfect plan for your needs'}\r\n          </p>\r\n        </div>\r\n\r\n        {/* Annual/Monthly Toggle */}\r\n        <div className=\"flex items-center justify-center gap-4 mb-12\">\r\n          <Label htmlFor=\"billing-toggle\" className={`font-medium ${!isAnnual ? 'text-purple-600' : 'text-gray-500'}`}>\r\n            Monthly\r\n          </Label>\r\n          <Switch\r\n            id=\"billing-toggle\"\r\n            checked={isAnnual}\r\n            onCheckedChange={setIsAnnual}\r\n          />\r\n          <Label htmlFor=\"billing-toggle\" className={`font-medium ${isAnnual ? 'text-purple-600' : 'text-gray-500'}`}>\r\n            Annual <Badge variant=\"outline\" className=\"ml-2 border-green-500 text-green-600\">Save up to 17%</Badge>\r\n          </Label>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <Tabs value={tabValue} onValueChange={setTabValue} className=\"max-w-7xl mx-auto\">\r\n          <TabsList className=\"grid grid-cols-2 w-full max-w-md mx-auto mb-8\">\r\n            <TabsTrigger value=\"job-seekers\">{t('forJobSeekers') || 'For Job Seekers'}</TabsTrigger>\r\n            <TabsTrigger value=\"employers\">{t('forEmployers') || 'For Employers'}</TabsTrigger>\r\n          </TabsList>\r\n\r\n          {/* Job Seekers Tab */}\r\n          <TabsContent value=\"job-seekers\" className=\"space-y-12\">\r\n            <div>\r\n              <h2 className=\"text-3xl font-bold text-center mb-8\">\r\n                {t('subscriptionPlans') || 'Subscription Plans'}\r\n              </h2>\r\n              {renderPricingCards(jobSeekerPlans)}\r\n            </div>\r\n\r\n            <div className=\"border-t-4 border-purple-200 pt-12\">\r\n              <h2 className=\"text-3xl font-bold text-center mb-4\">\r\n                {t('professionalServices') || 'Professional Services'}\r\n              </h2>\r\n              <p className=\"text-center text-gray-600 mb-8 max-w-2xl mx-auto\">\r\n                {t('professionalServicesDesc') || 'Enhance your job search with our expert services'}\r\n              </p>\r\n              {renderServiceCards(jobSeekerServices)}\r\n            </div>\r\n          </TabsContent>\r\n\r\n          {/* Employers Tab */}\r\n          <TabsContent value=\"employers\" className=\"space-y-12\">\r\n            <div>\r\n              <h2 className=\"text-3xl font-bold text-center mb-8\">\r\n                {t('subscriptionPlans') || 'Subscription Plans'}\r\n              </h2>\r\n              {renderPricingCards(employerPlans)}\r\n            </div>\r\n\r\n            <div className=\"border-t-4 border-purple-200 pt-12\">\r\n              <h2 className=\"text-3xl font-bold text-center mb-4\">\r\n                {t('professionalServices') || 'Professional Services'}\r\n              </h2>\r\n              <p className=\"text-center text-gray-600 mb-8 max-w-2xl mx-auto\">\r\n                {t('professionalServicesDesc') || 'Expert solutions for your recruitment needs'}\r\n              </p>\r\n              {renderServiceCards(employerServices)}\r\n            </div>\r\n          </TabsContent>\r\n        </Tabs>\r\n\r\n        {/* Payment Dialog */}\r\n        <Dialog open={paymentDialog} onOpenChange={setPaymentDialog}>\r\n          <DialogContent className=\"sm:max-w-[500px]\">\r\n            <DialogHeader>\r\n              <DialogTitle className=\"bg-gradient-to-r from-purple-600 to-cyan-600 bg-clip-text text-transparent\">\r\n                {t('confirmSubscription') || 'Confirm Subscription'}\r\n              </DialogTitle>\r\n              <DialogDescription>\r\n                {t('confirmSubscriptionDesc') || 'Complete your subscription to get started'}\r\n              </DialogDescription>\r\n            </DialogHeader>\r\n\r\n            {selectedPlan && (\r\n              <div className=\"space-y-4\">\r\n                <div className=\"bg-gradient-to-r from-purple-50 to-cyan-50 p-4 rounded-lg\">\r\n                  <h3 className=\"font-bold text-lg mb-2\">{selectedPlan.title}</h3>\r\n                  <p className=\"text-3xl font-bold bg-gradient-to-r from-purple-600 to-cyan-600 bg-clip-text text-transparent\">\r\n                    ${getPrice(selectedPlan)} {selectedPlan.period}\r\n                  </p>\r\n                  {isAnnual && selectedPlan.annualPrice > 0 && (\r\n                    <Badge variant=\"outline\" className=\"mt-2 border-green-500 text-green-600\">\r\n                      Save {getSavings(selectedPlan)}% annually\r\n                    </Badge>\r\n                  )}\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"card-number\">Card Number</Label>\r\n                  <Input id=\"card-number\" placeholder=\"1234 5678 9012 3456\" className=\"mt-1\" />\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <Label htmlFor=\"expiry\">Expiry Date</Label>\r\n                    <Input id=\"expiry\" placeholder=\"MM/YY\" className=\"mt-1\" />\r\n                  </div>\r\n                  <div>\r\n                    <Label htmlFor=\"cvv\">CVV</Label>\r\n                    <Input id=\"cvv\" placeholder=\"123\" className=\"mt-1\" />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2 text-sm text-gray-600\">\r\n                  <Shield className=\"h-4 w-4\" />\r\n                  <span>Secure payment powered by Stripe</span>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <DialogFooter>\r\n              <Button variant=\"outline\" onClick={() => setPaymentDialog(false)}>\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                onClick={handleConfirmSubscription}\r\n                disabled={subscribing}\r\n                className=\"bg-gradient-to-r from-purple-600 to-cyan-600 hover:from-purple-700 hover:to-cyan-700\"\r\n              >\r\n                {subscribing && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\r\n                {subscribing ? 'Processing...' : 'Confirm Payment'}\r\n              </Button>\r\n            </DialogFooter>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\PricingPage_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getPlansAndServices' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 55,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 55,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "getPlansAndServices"
            },
            "fix": {
              "range": [
                959,
                979
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'getPlansAndServices'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 62,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 62,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                1131,
                1166
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'plans' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 90,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 90,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "plans"
            },
            "fix": {
              "range": [
                1886,
                1891
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'plans'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setPlans' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 90,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 90,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setPlans"
            },
            "fix": {
              "range": [
                1891,
                1901
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setPlans'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'services' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 91,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 91,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "services"
            },
            "fix": {
              "range": [
                1929,
                1937
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'services'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setServices' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 91,
        "column": 20,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 91,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setServices"
            },
            "fix": {
              "range": [
                1937,
                1950
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setServices'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'loading' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 92,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 92,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "loading"
            },
            "fix": {
              "range": [
                1978,
                1985
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'loading'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setLoading' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 92,
        "column": 19,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 92,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setLoading"
            },
            "fix": {
              "range": [
                1985,
                1997
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setLoading'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'loadCurrentSubscription'. Either include it or remove the dependency array.",
        "line": 364,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 364,
        "endColumn": 12,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [loadCurrentSubscription, user]",
            "fix": {
              "range": [
                12980,
                12986
              ],
              "text": "[loadCurrentSubscription, user]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getPrice' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 448,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 448,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "getPrice"
            },
            "fix": {
              "range": [
                15117,
                15212
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'getPrice'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 9,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  Card,\r\n  CardContent,\r\n  Button,\r\n  Grid,\r\n  Switch,\r\n  FormControlLabel,\r\n  Chip,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Snackbar,\r\n  Alert,\r\n  CircularProgress,\r\n  Divider,\r\n  useTheme,\r\n  Tabs,\r\n  Tab,\r\n  Paper\r\n} from '@mui/material';\r\nimport {\r\n  CheckCircleOutline as CheckCircleOutlineIcon,\r\n  StarBorder as StarBorderIcon,\r\n  BusinessCenter as BusinessCenterIcon,\r\n  Diamond as DiamondIcon,\r\n  Check,\r\n  Star,\r\n  Business,\r\n  Person,\r\n  CreditCard,\r\n  Security,\r\n  Support,\r\n  Work,\r\n  Search,\r\n  Analytics,\r\n  VideoLibrary,\r\n  Message,\r\n  TrendingUp,\r\n  Group\r\n} from '@mui/icons-material';\r\nimport { Link } from \"react-router-dom\";\r\nimport Header from \"../components/Headers/Header\";\r\nimport Footer from \"../components/Headers/Footer\";\r\nimport { \r\n  getPlansAndServices, \r\n  createSubscription, \r\n  purchaseService,\r\n  getSubscriptionStatus \r\n} from '@/services/api';\r\n\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n\r\nfunction TabPanel({ children, value, index, ...other }) {\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`pricing-tabpanel-${index}`}\r\n      aria-labelledby={`pricing-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ pt: 3 }}>\r\n          {children}\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function PricingPage() {\r\n  const theme = useTheme();\r\n  const { user } = useAuth();\r\n  const { t, i18n } = useTranslation(); // Add i18n for language detection\r\n  const [tabValue, setTabValue] = useState(0);\r\n  const [isAnnual, setIsAnnual] = useState(false);\r\n  const [plans, setPlans] = useState([]);\r\n  const [services, setServices] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [subscribing, setSubscribing] = useState(false);\r\n  const [selectedPlan, setSelectedPlan] = useState(null);\r\n  const [paymentDialog, setPaymentDialog] = useState(false);\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'success' });\r\n  const [currentSubscription, setCurrentSubscription] = useState(null);\r\n\r\n  // Job Seeker Plans\r\nconst jobSeekerPlans = [\r\n  {\r\n    id: 'basic',\r\n    type: 'BASIC',\r\n    title: t('pricing.jobSeekerPlans.basic.title'),\r\n    price: t('pricing.jobSeekerPlans.basic.price'),\r\n    monthlyPrice: 0,\r\n    annualPrice: 0,\r\n    description: t('pricing.jobSeekerPlans.basic.description'),\r\n    features: [\r\n      t('pricing.jobSeekerPlans.basic.features.0'),\r\n      t('pricing.jobSeekerPlans.basic.features.1'),\r\n      t('pricing.jobSeekerPlans.basic.features.2'),\r\n      t('pricing.jobSeekerPlans.basic.features.3'),\r\n      t('pricing.jobSeekerPlans.basic.features.4')\r\n    ],\r\n    buttonText: t('pricing.jobSeekerPlans.basic.buttonText'),\r\n    buttonVariant: \"outlined\",\r\n    buttonColor: \"primary\",\r\n    mostPopular: false\r\n  },\r\n  {\r\n    id: 'professional',\r\n    type: 'PROFESSIONAL',\r\n    title: t('pricing.jobSeekerPlans.professional.title'),\r\n    price: t('pricing.jobSeekerPlans.professional.price'),\r\n    monthlyPrice: 9.99,\r\n    annualPrice: 99.99,\r\n    period: \"/month\",\r\n    description: t('pricing.jobSeekerPlans.professional.description'),\r\n    features: [\r\n      t('pricing.jobSeekerPlans.professional.features.0'),\r\n      t('pricing.jobSeekerPlans.professional.features.1'),\r\n      t('pricing.jobSeekerPlans.professional.features.2'),\r\n      t('pricing.jobSeekerPlans.professional.features.3'),\r\n      t('pricing.jobSeekerPlans.professional.features.4'),\r\n      t('pricing.jobSeekerPlans.professional.features.5'),\r\n      t('pricing.jobSeekerPlans.professional.features.6')\r\n    ],\r\n    buttonText: t('pricing.jobSeekerPlans.professional.buttonText'),\r\n    buttonVariant: \"contained\",\r\n    buttonColor: \"primary\",\r\n    highlight: true,\r\n    mostPopular: true\r\n  },\r\n  {\r\n    id: 'premium',\r\n    type: 'PREMIUM',\r\n    title: t('pricing.jobSeekerPlans.premium.title'),\r\n    price: t('pricing.jobSeekerPlans.premium.price'),\r\n    monthlyPrice: 19.99,\r\n    annualPrice: 199.99,\r\n    period: \"/month\",\r\n    description: t('pricing.jobSeekerPlans.premium.description'),\r\n    features: [\r\n      t('pricing.jobSeekerPlans.premium.features.0'),\r\n      t('pricing.jobSeekerPlans.premium.features.1'),\r\n      t('pricing.jobSeekerPlans.premium.features.2'),\r\n      t('pricing.jobSeekerPlans.premium.features.3'),\r\n      t('pricing.jobSeekerPlans.premium.features.4'),\r\n      t('pricing.jobSeekerPlans.premium.features.5'),\r\n      t('pricing.jobSeekerPlans.premium.features.6'),\r\n      t('pricing.jobSeekerPlans.premium.features.7')\r\n    ],\r\n    buttonText: t('pricing.jobSeekerPlans.premium.buttonText'),\r\n    buttonVariant: \"outlined\",\r\n    buttonColor: \"secondary\",\r\n    mostPopular: false\r\n  }\r\n];\r\n\r\n// Employer Plans\r\nconst employerPlans = [\r\n  {\r\n    id: 'starter',\r\n    type: 'STARTER',\r\n    title: t('pricing.employerPlans.starter.title'),\r\n    price: t('pricing.employerPlans.starter.price'),\r\n    monthlyPrice: 29.99,\r\n    annualPrice: 299.99,\r\n    period: \"/month\",\r\n    description: t('pricing.employerPlans.starter.description'),\r\n    features: [\r\n      t('pricing.employerPlans.starter.features.0'),\r\n      t('pricing.employerPlans.starter.features.1'),\r\n      t('pricing.employerPlans.starter.features.2'),\r\n      t('pricing.employerPlans.starter.features.3'),\r\n      t('pricing.employerPlans.starter.features.4'),\r\n      t('pricing.employerPlans.starter.features.5')\r\n    ],\r\n    buttonText: t('pricing.employerPlans.starter.buttonText'),\r\n    buttonVariant: \"outlined\",\r\n    buttonColor: \"primary\",\r\n    mostPopular: false\r\n  },\r\n  {\r\n    id: 'business',\r\n    type: 'BUSINESS',\r\n    title: t('pricing.employerPlans.business.title'),\r\n    price: t('pricing.employerPlans.business.price'),\r\n    monthlyPrice: 79.99,\r\n    annualPrice: 799.99,\r\n    period: \"/month\",\r\n    description: t('pricing.employerPlans.business.description'),\r\n    features: [\r\n      t('pricing.employerPlans.business.features.0'),\r\n      t('pricing.employerPlans.business.features.1'),\r\n      t('pricing.employerPlans.business.features.2'),\r\n      t('pricing.employerPlans.business.features.3'),\r\n      t('pricing.employerPlans.business.features.4'),\r\n      t('pricing.employerPlans.business.features.5'),\r\n      t('pricing.employerPlans.business.features.6'),\r\n      t('pricing.employerPlans.business.features.7')\r\n    ],\r\n    buttonText: t('pricing.employerPlans.business.buttonText'),\r\n    buttonVariant: \"contained\",\r\n    buttonColor: \"primary\",\r\n    highlight: true,\r\n    mostPopular: true\r\n  },\r\n  {\r\n    id: 'enterprise',\r\n    type: 'ENTERPRISE',\r\n    title: t('pricing.employerPlans.enterprise.title'),\r\n    price: t('pricing.employerPlans.enterprise.price'),\r\n    monthlyPrice: 199.99,\r\n    annualPrice: 1999.99,\r\n    period: \"/month\",\r\n    description: t('pricing.employerPlans.enterprise.description'),\r\n    features: [\r\n      t('pricing.employerPlans.enterprise.features.0'),\r\n      t('pricing.employerPlans.enterprise.features.1'),\r\n      t('pricing.employerPlans.enterprise.features.2'),\r\n      t('pricing.employerPlans.enterprise.features.3'),\r\n      t('pricing.employerPlans.enterprise.features.4'),\r\n      t('pricing.employerPlans.enterprise.features.5'),\r\n      t('pricing.employerPlans.enterprise.features.6'),\r\n      t('pricing.employerPlans.enterprise.features.7'),\r\n      t('pricing.employerPlans.enterprise.features.8')\r\n    ],\r\n    buttonText: t('pricing.employerPlans.enterprise.buttonText'),\r\n    buttonVariant: \"outlined\",\r\n    buttonColor: \"info\",\r\n    mostPopular: false\r\n  }\r\n];\r\n\r\n// Professional Services for Job Seekers\r\nconst jobSeekerServices = [\r\n  {\r\n    id: 'career-coaching',\r\n    type: 'CAREER_COACHING',\r\n    title: t('pricing.jobSeekerServices.careerCoaching.title'),\r\n    price: t('pricing.jobSeekerServices.careerCoaching.price'),\r\n    description: t('pricing.jobSeekerServices.careerCoaching.description'),\r\n    icon: <BusinessCenterIcon sx={{ fontSize: 40, color: \"#4caf50\" }} />,\r\n    duration: t('pricing.jobSeekerServices.careerCoaching.duration'),\r\n    features: [\r\n      t('pricing.jobSeekerServices.careerCoaching.features.0'),\r\n      t('pricing.jobSeekerServices.careerCoaching.features.1'),\r\n      t('pricing.jobSeekerServices.careerCoaching.features.2'),\r\n      t('pricing.jobSeekerServices.careerCoaching.features.3')\r\n    ]\r\n  },\r\n  {\r\n    id: 'resume-review',\r\n    type: 'RESUME_REVIEW',\r\n    title: t('pricing.jobSeekerServices.resumeReview.title'),\r\n    price: t('pricing.jobSeekerServices.resumeReview.price'),\r\n    description: t('pricing.jobSeekerServices.resumeReview.description'),\r\n    icon: <StarBorderIcon sx={{ fontSize: 40, color: \"#ff9800\" }} />,\r\n    duration: t('pricing.jobSeekerServices.resumeReview.duration'),\r\n    features: [\r\n      t('pricing.jobSeekerServices.resumeReview.features.0'),\r\n      t('pricing.jobSeekerServices.resumeReview.features.1'),\r\n      t('pricing.jobSeekerServices.resumeReview.features.2'),\r\n      t('pricing.jobSeekerServices.resumeReview.features.3')\r\n    ]\r\n  },\r\n  {\r\n    id: 'interview-prep',\r\n    type: 'INTERVIEW_PREP',\r\n    title: t('pricing.jobSeekerServices.interviewPrep.title'),\r\n    price: t('pricing.jobSeekerServices.interviewPrep.price'),\r\n    description: t('pricing.jobSeekerServices.interviewPrep.description'),\r\n    icon: <DiamondIcon sx={{ fontSize: 40, color: \"#2196f3\" }} />,\r\n    duration: t('pricing.jobSeekerServices.interviewPrep.duration'),\r\n    features: [\r\n      t('pricing.jobSeekerServices.interviewPrep.features.0'),\r\n      t('pricing.jobSeekerServices.interviewPrep.features.1'),\r\n      t('pricing.jobSeekerServices.interviewPrep.features.2'),\r\n      t('pricing.jobSeekerServices.interviewPrep.features.3')\r\n    ]\r\n  },\r\n  {\r\n    id: 'linkedin-optimization',\r\n    type: 'LINKEDIN_OPTIMIZATION',\r\n    title: t('pricing.jobSeekerServices.linkedinOptimization.title'),\r\n    price: t('pricing.jobSeekerServices.linkedinOptimization.price'),\r\n    description: t('pricing.jobSeekerServices.linkedinOptimization.description'),\r\n    icon: <TrendingUp sx={{ fontSize: 40, color: \"#0077b5\" }} />,\r\n    duration: t('pricing.jobSeekerServices.linkedinOptimization.duration'),\r\n    features: [\r\n      t('pricing.jobSeekerServices.linkedinOptimization.features.0'),\r\n      t('pricing.jobSeekerServices.linkedinOptimization.features.1'),\r\n      t('pricing.jobSeekerServices.linkedinOptimization.features.2'),\r\n      t('pricing.jobSeekerServices.linkedinOptimization.features.3')\r\n    ]\r\n  }\r\n];\r\n\r\n// Professional Services for Employers\r\nconst employerServices = [\r\n  {\r\n    id: 'recruitment-consulting',\r\n    type: 'RECRUITMENT_CONSULTING',\r\n    title: t('pricing.employerServices.recruitmentConsulting.title'),\r\n    price: t('pricing.employerServices.recruitmentConsulting.price'),\r\n    description: t('pricing.employerServices.recruitmentConsulting.description'),\r\n    icon: <Group sx={{ fontSize: 40, color: \"#4caf50\" }} />,\r\n    duration: t('pricing.employerServices.recruitmentConsulting.duration'),\r\n    features: [\r\n      t('pricing.employerServices.recruitmentConsulting.features.0'),\r\n      t('pricing.employerServices.recruitmentConsulting.features.1'),\r\n      t('pricing.employerServices.recruitmentConsulting.features.2'),\r\n      t('pricing.employerServices.recruitmentConsulting.features.3')\r\n    ]\r\n  },\r\n  {\r\n    id: 'employer-branding',\r\n    type: 'EMPLOYER_BRANDING',\r\n    title: t('pricing.employerServices.employerBranding.title'),\r\n    price: t('pricing.employerServices.employerBranding.price'),\r\n    description: t('pricing.employerServices.employerBranding.description'),\r\n    icon: <Business sx={{ fontSize: 40, color: \"#ff9800\" }} />,\r\n    duration: t('pricing.employerServices.employerBranding.duration'),\r\n    features: [\r\n      t('pricing.employerServices.employerBranding.features.0'),\r\n      t('pricing.employerServices.employerBranding.features.1'),\r\n      t('pricing.employerServices.employerBranding.features.2'),\r\n      t('pricing.employerServices.employerBranding.features.3')\r\n    ]\r\n  },\r\n  {\r\n    id: 'team-training',\r\n    type: 'TEAM_TRAINING',\r\n    title: t('pricing.employerServices.teamTraining.title'),\r\n    price: t('pricing.employerServices.teamTraining.price'),\r\n    description: t('pricing.employerServices.teamTraining.description'),\r\n    icon: <Support sx={{ fontSize: 40, color: \"#2196f3\" }} />,\r\n    duration: t('pricing.employerServices.teamTraining.duration'),\r\n    features: [\r\n      t('pricing.employerServices.teamTraining.features.0'),\r\n      t('pricing.employerServices.teamTraining.features.1'),\r\n      t('pricing.employerServices.teamTraining.features.2'),\r\n      t('pricing.employerServices.teamTraining.features.3')\r\n    ]\r\n  }\r\n];\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      loadCurrentSubscription();\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    // Update tab labels dynamically when the language changes\r\n    setTabValue((prevValue) => prevValue); // Trigger re-render to update labels\r\n  }, [i18n.language]); // Listen for language changes\r\n\r\n  const loadCurrentSubscription = async () => {\r\n    try {\r\n      const response = await getSubscriptionStatus(user.id);\r\n      setCurrentSubscription(response.data);\r\n    } catch (error) {\r\n      console.error('Error loading subscription:', error);\r\n    }\r\n  };\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setTabValue(newValue);\r\n  };\r\n\r\n  const handleSubscribe = async (plan) => {\r\n    if (!user) {\r\n      setSnackbar({\r\n        open: true,\r\n        message: t('errors.loginRequired'),\r\n        severity: 'warning'\r\n      });\r\n      return;\r\n    }\r\n\r\n    setSelectedPlan(plan);\r\n    setPaymentDialog(true);\r\n  };\r\n\r\n  const handleConfirmSubscription = async () => {\r\n    setSubscribing(true);\r\n    try {\r\n      await createSubscription(selectedPlan.type, user.id, isAnnual);\r\n      setSnackbar({\r\n        open: true,\r\n        message: t('success.subscriptionUpdated'),\r\n        severity: 'success'\r\n      });\r\n      setPaymentDialog(false);\r\n      loadCurrentSubscription();\r\n    } catch (error) {\r\n      console.error('Error creating subscription:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: t('errors.genericError'),\r\n        severity: 'error'\r\n      });\r\n    } finally {\r\n      setSubscribing(false);\r\n    }\r\n  };\r\n\r\n  const handlePurchaseService = async (service) => {\r\n    if (!user) {\r\n      setSnackbar({\r\n        open: true,\r\n        message: t('errors.loginRequired'),\r\n        severity: 'warning'\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await purchaseService(service.type, user.id);\r\n      setSnackbar({\r\n        open: true,\r\n        message: t('success.paymentProcessed'),\r\n        severity: 'success'\r\n      });\r\n    } catch (error) {\r\n      console.error('Error purchasing service:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: t('errors.genericError'),\r\n        severity: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  const getPrice = (plan) => {\r\n    return isAnnual ? plan.annualPrice : plan.monthlyPrice;\r\n  };\r\n\r\n  const getSavings = (plan) => {\r\n    if (!plan.annualPrice || !plan.monthlyPrice) return 0;\r\n    const monthlyTotal = plan.monthlyPrice * 12;\r\n    const savings = monthlyTotal - plan.annualPrice;\r\n    return Math.round((savings / monthlyTotal) * 100);\r\n  };\r\n\r\n  const renderPricingCards = (plansList) => (\r\n    <Grid container spacing={4} alignItems=\"stretch\" justifyContent=\"center\">\r\n      {plansList.map((plan, index) => (\r\n        <Grid item xs={12} md={4} key={index}>\r\n          <Card\r\n            sx={{\r\n              height: \"100%\",\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              p: 3,\r\n              borderRadius: theme.shape.borderRadius * 2,\r\n              boxShadow: plan.highlight ? theme.shadows[10] : theme.shadows[3],\r\n              border: plan.highlight ? `2px solid ${theme.palette.primary.main}` : `1px solid ${theme.palette.divider}`,\r\n              transition: \"all 0.3s ease-in-out\",\r\n              position: 'relative',\r\n              \"&:hover\": {\r\n                transform: \"translateY(-5px)\",\r\n                boxShadow: plan.highlight ? theme.shadows[15] : theme.shadows[6],\r\n              },\r\n            }}\r\n          >\r\n            {plan.mostPopular && (\r\n              <Chip\r\n                label={t('pricing.mostPopular')}\r\n                color=\"primary\"\r\n                sx={{\r\n                  position: 'absolute',\r\n                  top: -12,\r\n                  left: '50%',\r\n                  transform: 'translateX(-50%)'\r\n                }}\r\n              />\r\n            )}\r\n            \r\n            <CardContent sx={{ flexGrow: 1 }}>\r\n              <Typography\r\n                variant=\"h5\"\r\n                component=\"h2\"\r\n                align=\"center\"\r\n                sx={{ fontWeight: \"bold\", mb: 2, color: theme.palette.primary.dark }}\r\n              >\r\n                {plan.title}\r\n              </Typography>\r\n              <Typography\r\n                variant=\"h4\"\r\n                align=\"center\"\r\n                sx={{ fontWeight: \"bold\", mb: 2, color: theme.palette.text.primary }}\r\n              >\r\n                {plan.monthlyPrice !== null ? \r\n                  `$${isAnnual ? (plan.annualPrice || plan.monthlyPrice * 12) : plan.monthlyPrice}` : \r\n                  plan.price\r\n                }\r\n                {plan.period && !isAnnual && (\r\n                  <Typography component=\"span\" variant=\"h6\" color=\"text.secondary\">\r\n                    {plan.period}\r\n                  </Typography>\r\n                )}\r\n                {plan.period && isAnnual && (\r\n                  <Typography component=\"span\" variant=\"h6\" color=\"text.secondary\">\r\n                    /{t('pricing.year')}\r\n                  </Typography>\r\n                )}\r\n              </Typography>\r\n              \r\n              {isAnnual && getSavings(plan) > 0 && (\r\n                <Box textAlign=\"center\" mb={2}>\r\n                  <Chip\r\n                    label={t('pricing.savePercent', { percent: getSavings(plan) })}\r\n                    color=\"success\"\r\n                    size=\"small\"\r\n                  />\r\n                </Box>\r\n              )}\r\n              \r\n              <Typography variant=\"body2\" align=\"center\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n                {plan.description}\r\n              </Typography>\r\n              <List>\r\n                {plan.features.map((feature, featureIndex) => (\r\n                  <ListItem key={featureIndex} disableGutters>\r\n                    <ListItemIcon sx={{ minWidth: 35 }}>\r\n                      <CheckCircleOutlineIcon color=\"success\" />\r\n                    </ListItemIcon>\r\n                    <ListItemText primary={feature} />\r\n                  </ListItem>\r\n                ))}\r\n              </List>\r\n            </CardContent>\r\n            <Box sx={{ p: 2, pt: 0 }}>\r\n              <Button\r\n                fullWidth\r\n                variant={plan.buttonVariant}\r\n                color={plan.buttonColor}\r\n                onClick={() => plan.type === 'ENTERPRISE' ? null : handleSubscribe(plan)}\r\n                sx={{\r\n                  py: 1.5,\r\n                  fontWeight: \"bold\",\r\n                  borderRadius: theme.shape.borderRadius,\r\n                }}\r\n              >\r\n                {plan.buttonText}\r\n              </Button>\r\n            </Box>\r\n          </Card>\r\n        </Grid>\r\n      ))}\r\n    </Grid>\r\n  );\r\n\r\n  const renderServiceCards = (servicesList) => (\r\n    <Grid container spacing={4} sx={{ mt: 4 }}>\r\n      {servicesList.map((service, index) => (\r\n        <Grid item xs={12} md={6} lg={3} key={index}>\r\n          <Card\r\n            sx={{\r\n              height: \"100%\",\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              p: 3,\r\n              borderRadius: theme.shape.borderRadius * 2,\r\n              boxShadow: theme.shadows[3],\r\n              transition: \"all 0.3s ease-in-out\",\r\n              \"&:hover\": {\r\n                transform: \"translateY(-5px)\",\r\n                boxShadow: theme.shadows[6],\r\n              },\r\n            }}\r\n          >\r\n            <CardContent sx={{ flexGrow: 1, textAlign: 'center' }}>\r\n              <Box sx={{ mb: 2 }}>\r\n                {service.icon}\r\n              </Box>\r\n              <Typography\r\n                variant=\"h6\"\r\n                component=\"h3\"\r\n                sx={{ fontWeight: \"bold\", mb: 1 }}\r\n              >\r\n                {service.title}\r\n              </Typography>\r\n              <Typography\r\n                variant=\"h5\"\r\n                sx={{ fontWeight: \"bold\", mb: 1, color: theme.palette.primary.main }}\r\n              >\r\n                {service.price}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n                {service.description}\r\n              </Typography>\r\n              {service.duration && (\r\n                <Chip\r\n                  label={service.duration}\r\n                  size=\"small\"\r\n                  color=\"primary\"\r\n                  variant=\"outlined\"\r\n                  sx={{ mb: 2 }}\r\n                />\r\n              )}\r\n              {service.features && (\r\n                <List dense>\r\n                  {service.features.map((feature, featureIndex) => (\r\n                    <ListItem key={featureIndex} disableGutters>\r\n                      <ListItemIcon sx={{ minWidth: 25 }}>\r\n                        <Check color=\"success\" fontSize=\"small\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary={feature} \r\n                        primaryTypographyProps={{ variant: 'body2' }}\r\n                      />\r\n                    </ListItem>\r\n                  ))}\r\n                </List>\r\n              )}\r\n            </CardContent>\r\n            <Box sx={{ p: 2, pt: 0 }}>\r\n              <Button\r\n                fullWidth\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                onClick={() => handlePurchaseService(service)}\r\n                sx={{\r\n                  py: 1.5,\r\n                  fontWeight: \"bold\",\r\n                  borderRadius: theme.shape.borderRadius,\r\n                }}\r\n              >\r\n                {t('pricing.purchaseService')}\r\n              </Button>\r\n            </Box>\r\n          </Card>\r\n        </Grid>\r\n      ))}\r\n    </Grid>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Box\r\n        sx={{\r\n          background: theme.palette.background.default,\r\n          color: theme.palette.text.primary,\r\n          py: { xs: 4, md: 8 }, // Adjust padding for mobile\r\n        }}\r\n      >\r\n        <Container maxWidth=\"lg\">\r\n          {/* Header */}\r\n          <Box textAlign=\"center\" mb={{ xs: 4, md: 6 }}>\r\n            <Typography\r\n              variant=\"h4\"\r\n              component=\"h1\"\r\n              align=\"center\"\r\n              gutterBottom\r\n              sx={{\r\n                fontWeight: \"bold\",\r\n                mb: { xs: 2, md: 4 },\r\n                color: theme.palette.primary.main,\r\n                fontSize: { xs: \"1.8rem\", md: \"2.5rem\" }, // Adjust font size for mobile\r\n              }}\r\n            >\r\n              {t('pricing.choosePlan')}\r\n            </Typography>\r\n            <Typography\r\n              variant=\"body1\"\r\n              align=\"center\"\r\n              color=\"text.secondary\"\r\n              sx={{\r\n                mb: { xs: 3, md: 4 },\r\n                fontSize: { xs: \"0.9rem\", md: \"1rem\" }, // Adjust font size for mobile\r\n              }}\r\n            >\r\n              {t('pricing.features')}\r\n            </Typography>\r\n            <Paper sx={{ mb: { xs: 3, md: 4 } }}>\r\n              <Tabs\r\n                value={tabValue}\r\n                onChange={handleTabChange}\r\n                centered\r\n                sx={{\r\n                  '& .MuiTab-root': {\r\n                    minWidth: { xs: 100, md: 200 }, // Adjust tab width for mobile\r\n                    py: { xs: 1, md: 2 },\r\n                    fontSize: { xs: \"0.9rem\", md: \"1.1rem\" }, // Adjust font size for mobile\r\n                    fontWeight: \"bold\",\r\n                  },\r\n                }}\r\n              >\r\n                <Tab \r\n                  icon={<Person />} \r\n                  label={t('pricing.tabs.jobSeekerPlans')}\r\n                  iconPosition=\"start\"\r\n                />\r\n                <Tab \r\n                  icon={<Business />} \r\n                  label={t('pricing.tabs.employerPlans')}\r\n                  iconPosition=\"start\"\r\n                />\r\n              </Tabs>\r\n            </Paper>\r\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" mt={{ xs: 2, md: 4 }}>\r\n              <Typography variant=\"body2\" sx={{ mr: 2 }}>\r\n                {t('pricing.monthly')}\r\n              </Typography>\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={isAnnual}\r\n                    onChange={(e) => setIsAnnual(e.target.checked)}\r\n                    color=\"primary\"\r\n                  />\r\n                }\r\n                label=\"\"\r\n              />\r\n              <Typography variant=\"body2\" sx={{ ml: 2 }}>\r\n                {t('pricing.yearly')}\r\n              </Typography>\r\n              <Chip\r\n                label={t('pricing.savePercent', { percent: 20 })}\r\n                color=\"primary\"\r\n                size=\"small\"\r\n                sx={{ ml: 2 }}\r\n              />\r\n            </Box>\r\n          </Box>\r\n\r\n          {/* Current Subscription */}\r\n          {currentSubscription && (\r\n            <Card sx={{ mb: 4, bgcolor: 'primary.50' }}>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  {t('pricing.currentSubscription.title')}\r\n                </Typography>\r\n                <Typography variant=\"body1\">\r\n                  {t('pricing.currentSubscription.plan')}: {currentSubscription.planType}\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  {currentSubscription.isActive ? t('pricing.currentSubscription.active') : t('pricing.currentSubscription.inactive')} â€¢ \r\n                  {t('pricing.currentSubscription.expires')}: {new Date(currentSubscription.expiresAt).toLocaleDateString()}\r\n                </Typography>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n\r\n          {/* Tab Panels */}\r\n          <TabPanel value={tabValue} index={0}>\r\n            {/* Job Seeker Plans */}\r\n            {renderPricingCards(jobSeekerPlans)}\r\n            \r\n            {/* Job Seeker Services */}\r\n            <Box sx={{ mt: 8 }}>\r\n              <Typography\r\n                variant=\"h4\"\r\n                component=\"h2\"\r\n                align=\"center\"\r\n                gutterBottom\r\n                sx={{ fontWeight: \"bold\", mb: 4, color: theme.palette.primary.main }}\r\n              >\r\n                {t('pricing.featureList')}\r\n              </Typography>\r\n              <Typography\r\n                variant=\"h6\"\r\n                align=\"center\"\r\n                color=\"text.secondary\"\r\n                sx={{ mb: 4 }}\r\n              >\r\n                {t('pricing.jobAlerts')}\r\n              </Typography>\r\n              {renderServiceCards(jobSeekerServices)}\r\n            </Box>\r\n          </TabPanel>\r\n\r\n          <TabPanel value={tabValue} index={1}>\r\n            {/* Employer Plans */}\r\n            {renderPricingCards(employerPlans)}\r\n            \r\n            {/* Employer Services */}\r\n            <Box sx={{ mt: 8 }}>\r\n              <Typography\r\n                variant=\"h4\"\r\n                component=\"h2\"\r\n                align=\"center\"\r\n                gutterBottom\r\n                sx={{ fontWeight: \"bold\", mb: 4, color: theme.palette.primary.main }}\r\n              >\r\n                {t('pricing.featureList')}\r\n              </Typography>\r\n              <Typography\r\n                variant=\"h6\"\r\n                align=\"center\"\r\n                color=\"text.secondary\"\r\n                sx={{ mb: 4 }}\r\n              >\r\n                {t('pricing.contactSales')}\r\n              </Typography>\r\n              {renderServiceCards(employerServices)}\r\n            </Box>\r\n          </TabPanel>\r\n\r\n          {/* Trust Indicators */}\r\n          <Box sx={{ mt: 8, textAlign: 'center' }}>\r\n            <Typography variant=\"h5\" gutterBottom sx={{ fontWeight: 'bold' }}>\r\n              {t('pricing.trustedBy')}\r\n            </Typography>\r\n            <Grid container spacing={4} sx={{ mt: 2 }}>\r\n              <Grid item xs={12} md={4}>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 1 }}>\r\n                  <Security color=\"primary\" />\r\n                  <Typography variant=\"body1\">{t('pricing.securePayments')}</Typography>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={12} md={4}>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 1 }}>\r\n                  <Support color=\"primary\" />\r\n                  <Typography variant=\"body1\">{t('pricing.support247')}</Typography>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={12} md={4}>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 1 }}>\r\n                  <Star color=\"primary\" />\r\n                  <Typography variant=\"body1\">{t('pricing.moneyBackGuarantee')}</Typography>\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </Container>\r\n      </Box>\r\n\r\n      {/* Payment Dialog */}\r\n      <Dialog open={paymentDialog} onClose={() => setPaymentDialog(false)} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>{t('pricing.confirmSubscription.title')}</DialogTitle>\r\n        <DialogContent>\r\n          {selectedPlan && (\r\n            <Box>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                {selectedPlan.title} {t('pricing.confirmSubscription.plan')}\r\n              </Typography>\r\n              <Typography variant=\"body1\" gutterBottom>\r\n                ${isAnnual ? selectedPlan.annualPrice : selectedPlan.monthlyPrice} \r\n                {isAnnual ? `/${t('pricing.year')}` : `/${t('pricing.month')}`}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                {selectedPlan.description}\r\n              </Typography>\r\n            </Box>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setPaymentDialog(false)}>{t('common.cancel')}</Button>\r\n          <Button \r\n            onClick={handleConfirmSubscription} \r\n            variant=\"contained\" \r\n            disabled={subscribing}\r\n          >\r\n            {subscribing ? <CircularProgress size={20} /> : t('pricing.confirmSubscription.button')}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Snackbar */}\r\n      <Snackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={6000}\r\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n      >\r\n        <Alert severity={snackbar.severity} onClose={() => setSnackbar({ ...snackbar, open: false })}>\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\PrivateRoute.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 2,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                36,
                52
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿// src/PrivateRoute.js\r\nimport React, { useContext } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst PrivateRoute = ({ children }) => {\r\n  const isAuth = localStorage.getItem(\"auth\") === \"true\";\r\n  return isAuth ? children : <Navigate to=\"/\" />;\r\n};\r\n\r\nexport default PrivateRoute;\r\n ",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\Profile.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 3,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 3,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                104,
                139
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getCurrentUser' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 4,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "getCurrentUser"
            },
            "fix": {
              "range": [
                150,
                165
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'getCurrentUser'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\nimport { getCurrentUser, updateCurrentUser } from '@/services/api';\r\n\r\nconst Profile = () => {\r\n  const { user, updateUser } = useAuth();\r\n  const [profileData, setProfileData] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    email: '',\r\n    bio: '',\r\n    avatar: ''\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setProfileData({\r\n        firstName: user.firstName || '',\r\n        lastName: user.lastName || '',\r\n        email: user.email || '',\r\n        bio: user.bio || '',\r\n        avatar: user.avatar || ''\r\n      });\r\n    }\r\n  }, [user]);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setProfileData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setMessage('');\r\n\r\n    try {\r\n      const response = await updateCurrentUser(profileData);\r\n      updateUser(response.data);\r\n      setMessage('Profile updated successfully!');\r\n    } catch (error) {\r\n      setMessage('Error updating profile: ' + (error.response?.data?.message || error.message));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (!user) {\r\n    return <div>Please log in to view your profile.</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"profile-page\">\r\n      <div className=\"profile-container\">\r\n        <h1>My Profile</h1>\r\n        \r\n        {message && (\r\n          <div className={`message ${message.includes('Error') ? 'error' : 'success'}`}>\r\n            {message}\r\n          </div>\r\n        )}\r\n\r\n        <form onSubmit={handleSubmit} className=\"profile-form\">\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"firstName\">First Name</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"firstName\"\r\n              name=\"firstName\"\r\n              value={profileData.firstName}\r\n              onChange={handleInputChange}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"lastName\">Last Name</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"lastName\"\r\n              name=\"lastName\"\r\n              value={profileData.lastName}\r\n              onChange={handleInputChange}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"email\">Email</label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              value={profileData.email}\r\n              onChange={handleInputChange}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"bio\">Bio</label>\r\n            <textarea\r\n              id=\"bio\"\r\n              name=\"bio\"\r\n              value={profileData.bio}\r\n              onChange={handleInputChange}\r\n              rows=\"4\"\r\n              placeholder=\"Tell us about yourself...\"\r\n            />\r\n          </div>\r\n\r\n          <button type=\"submit\" disabled={loading} className=\"submit-btn\">\r\n            {loading ? 'Updating...' : 'Update Profile'}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\ProfileSetupWizard.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useAuth' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 63,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 63,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useAuth"
            },
            "fix": {
              "range": [
                1260,
                1309
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useAuth'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 64,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 64,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                1311,
                1346
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchInitialData'. Either include it or remove the dependency array.",
        "line": 218,
        "column": 8,
        "nodeType": "ArrayExpression",
        "endLine": 218,
        "endColumn": 10,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchInitialData]",
            "fix": {
              "range": [
                5725,
                5727
              ],
              "text": "[fetchInitialData]"
            }
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'calculateCompleteness'. Either include it or remove the dependency array.",
        "line": 222,
        "column": 8,
        "nodeType": "ArrayExpression",
        "endLine": 222,
        "endColumn": 21,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [calculateCompleteness, profileData]",
            "fix": {
              "range": [
                5797,
                5810
              ],
              "text": "[calculateCompleteness, profileData]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n    Box,\r\n    Container,\r\n    Grid,\r\n    Paper,\r\n    Typography,\r\n    Button,\r\n    Stepper,\r\n    Step,\r\n    StepLabel,\r\n    StepContent,\r\n    TextField,\r\n    Avatar,\r\n    IconButton,\r\n    FormControl,\r\n    InputLabel,\r\n    Select,\r\n    MenuItem,\r\n    Chip,\r\n    Card,\r\n    CardContent,\r\n    LinearProgress,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogActions,\r\n    Alert,\r\n    Snackbar,\r\n    Autocomplete,\r\n    FormControlLabel,\r\n    Checkbox,\r\n    RadioGroup,\r\n    Radio,\r\n    FormLabel,\r\n    Divider,\r\n    List,\r\n    ListItem,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    ListItemSecondary\r\n} from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n    PhotoCamera as PhotoCameraIcon,\r\n    Person as PersonIcon,\r\n    Work as WorkIcon,\r\n    School as SchoolIcon,\r\n    Code as CodeIcon,\r\n    VideoCall as VideoCallIcon,\r\n    CheckCircle as CheckCircleIcon,\r\n    Add as AddIcon,\r\n    Delete as DeleteIcon,\r\n    Edit as EditIcon,\r\n    LocationOn as LocationOnIcon,\r\n    Email as EmailIcon,\r\n    Phone as PhoneIcon,\r\n    LinkedIn as LinkedInIcon,\r\n    GitHub as GitHubIcon,\r\n    Language as LanguageIcon,\r\n    Star as StarIcon\r\n} from '@mui/icons-material';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n    getUserProfile,\r\n    updateUserProfile,\r\n    uploadProfileImage,\r\n    getSkills,\r\n    addUserSkill,\r\n    addUserExperience,\r\n    addUserEducation,\r\n    calculateProfileCompleteness\r\n} from '../services/userService';\r\n\r\nconst WizardContainer = styled(Container)(({ theme }) => ({\r\n    padding: theme.spacing(3),\r\n    backgroundColor: theme.palette.background.default,\r\n    minHeight: 'calc(100vh - 56px)',\r\n}));\r\n\r\nconst StepCard = styled(Paper)(({ theme }) => ({\r\n    padding: theme.spacing(3),\r\n    marginBottom: theme.spacing(2),\r\n    borderRadius: theme.spacing(2),\r\n}));\r\n\r\nconst ProgressCard = styled(Card)(({ theme }) => ({\r\n    position: 'sticky',\r\n    top: theme.spacing(2),\r\n    marginBottom: theme.spacing(2),\r\n}));\r\n\r\nconst ProfileSetupWizard = () => {\r\n  // const { user } = useAuth(); // Removed: unused variable\n    const navigate = useNavigate();\r\n    const [activeStep, setActiveStep] = useState(0);\r\n    const [completedSteps, setCompletedSteps] = useState(new Set());\r\n    const [profileData, setProfileData] = useState({\r\n        // Basic Info\r\n        firstName: '',\r\n        lastName: '',\r\n        email: '',\r\n        phone: '',\r\n        location: '',\r\n        bio: '',\r\n        profileImage: null,\r\n        \r\n        // Professional Info\r\n        currentTitle: '',\r\n        experienceLevel: '',\r\n        industry: '',\r\n        expectedSalary: '',\r\n        availability: '',\r\n        \r\n        // Skills\r\n        skills: [],\r\n        \r\n        // Experience\r\n        experiences: [],\r\n        \r\n        // Education\r\n        education: [],\r\n        \r\n        // Social Links\r\n        linkedinUrl: '',\r\n        githubUrl: '',\r\n        portfolioUrl: '',\r\n        \r\n        // Preferences\r\n        jobTypes: [],\r\n        workLocation: '',\r\n        remoteWork: false,\r\n        \r\n        // Video Resume\r\n        hasVideoResume: false\r\n    });\r\n    \r\n    const [availableSkills, setAvailableSkills] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'success' });\r\n    const [profileCompleteness, setProfileCompleteness] = useState(0);\r\n    const [experienceDialog, setExperienceDialog] = useState(false);\r\n    const [educationDialog, setEducationDialog] = useState(false);\r\n    const [currentExperience, setCurrentExperience] = useState({\r\n        title: '',\r\n        company: '',\r\n        location: '',\r\n        startDate: '',\r\n        endDate: '',\r\n        current: false,\r\n        description: ''\r\n    });\r\n    const [currentEducation, setCurrentEducation] = useState({\r\n        degree: '',\r\n        institution: '',\r\n        field: '',\r\n        startDate: '',\r\n        endDate: '',\r\n        gpa: '',\r\n        description: ''\r\n    });\r\n\r\n    const steps = [\r\n        {\r\n            label: 'Basic Information',\r\n            description: 'Tell us about yourself',\r\n            icon: <PersonIcon />,\r\n            required: true\r\n        },\r\n        {\r\n            label: 'Professional Details',\r\n            description: 'Your career information',\r\n            icon: <WorkIcon />,\r\n            required: true\r\n        },\r\n        {\r\n            label: 'Skills & Expertise',\r\n            description: 'What are you good at?',\r\n            icon: <CodeIcon />,\r\n            required: true\r\n        },\r\n        {\r\n            label: 'Work Experience',\r\n            description: 'Your professional background',\r\n            icon: <WorkIcon />,\r\n            required: false\r\n        },\r\n        {\r\n            label: 'Education',\r\n            description: 'Your educational background',\r\n            icon: <SchoolIcon />,\r\n            required: false\r\n        },\r\n        {\r\n            label: 'Social & Portfolio',\r\n            description: 'Connect your online presence',\r\n            icon: <LinkedInIcon />,\r\n            required: false\r\n        },\r\n        {\r\n            label: 'Job Preferences',\r\n            description: 'What kind of job are you looking for?',\r\n            icon: <StarIcon />,\r\n            required: true\r\n        },\r\n        {\r\n            label: 'Video Resume',\r\n            description: 'Stand out with a video introduction',\r\n            icon: <VideoCallIcon />,\r\n            required: false\r\n        }\r\n    ];\r\n\r\n    useEffect(() => {\r\n        fetchInitialData();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        calculateCompleteness();\r\n    }, [profileData]);\r\n\r\n    const fetchInitialData = async () => {\r\n        try {\r\n            setLoading(true);\r\n            const [profileResponse, skillsResponse] = await Promise.all([\r\n                getUserProfile(),\r\n                getSkills()\r\n            ]);\r\n            \r\n            if (profileResponse.data) {\r\n                setProfileData(prev => ({\r\n                    ...prev,\r\n                    ...profileResponse.data\r\n                }));\r\n            }\r\n            \r\n            setAvailableSkills(skillsResponse.data || []);\r\n        } catch (error) {\r\n            console.error('Error fetching initial data:', error);\r\n            showSnackbar('Error loading profile data', 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const calculateCompleteness = async () => {\r\n        try {\r\n            const response = await calculateProfileCompleteness(profileData);\r\n            setProfileCompleteness(response.data.completeness || 0);\r\n        } catch (error) {\r\n            console.error('Error calculating completeness:', error);\r\n        }\r\n    };\r\n\r\n    const handleInputChange = (field, value) => {\r\n        setProfileData(prev => ({\r\n            ...prev,\r\n            [field]: value\r\n        }));\r\n    };\r\n\r\n    const handleImageUpload = async (event) => {\r\n        const file = event.target.files[0];\r\n        if (file) {\r\n            try {\r\n                setLoading(true);\r\n                const formData = new FormData();\r\n                formData.append('image', file);\r\n                \r\n                const response = await uploadProfileImage(formData);\r\n                handleInputChange('profileImage', response.data.imageUrl);\r\n                showSnackbar('Profile image uploaded successfully', 'success');\r\n            } catch (error) {\r\n                console.error('Error uploading image:', error);\r\n                showSnackbar('Error uploading image', 'error');\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleSkillAdd = async (skill) => {\r\n        try {\r\n            await addUserSkill({ skillId: skill.id, level: 'intermediate' });\r\n            setProfileData(prev => ({\r\n                ...prev,\r\n                skills: [...prev.skills, { ...skill, level: 'intermediate' }]\r\n            }));\r\n        } catch (error) {\r\n            console.error('Error adding skill:', error);\r\n            showSnackbar('Error adding skill', 'error');\r\n        }\r\n    };\r\n\r\n    const handleSkillRemove = (skillId) => {\r\n        setProfileData(prev => ({\r\n            ...prev,\r\n            skills: prev.skills.filter(skill => skill.id !== skillId)\r\n        }));\r\n    };\r\n\r\n    const handleExperienceAdd = async () => {\r\n        try {\r\n            await addUserExperience(currentExperience);\r\n            setProfileData(prev => ({\r\n                ...prev,\r\n                experiences: [...prev.experiences, { ...currentExperience, id: Date.now() }]\r\n            }));\r\n            setExperienceDialog(false);\r\n            setCurrentExperience({\r\n                title: '',\r\n                company: '',\r\n                location: '',\r\n                startDate: '',\r\n                endDate: '',\r\n                current: false,\r\n                description: ''\r\n            });\r\n            showSnackbar('Experience added successfully', 'success');\r\n        } catch (error) {\r\n            console.error('Error adding experience:', error);\r\n            showSnackbar('Error adding experience', 'error');\r\n        }\r\n    };\r\n\r\n    const handleEducationAdd = async () => {\r\n        try {\r\n            await addUserEducation(currentEducation);\r\n            setProfileData(prev => ({\r\n                ...prev,\r\n                education: [...prev.education, { ...currentEducation, id: Date.now() }]\r\n            }));\r\n            setEducationDialog(false);\r\n            setCurrentEducation({\r\n                degree: '',\r\n                institution: '',\r\n                field: '',\r\n                startDate: '',\r\n                endDate: '',\r\n                gpa: '',\r\n                description: ''\r\n            });\r\n            showSnackbar('Education added successfully', 'success');\r\n        } catch (error) {\r\n            console.error('Error adding education:', error);\r\n            showSnackbar('Error adding education', 'error');\r\n        }\r\n    };\r\n\r\n    const validateStep = (stepIndex) => {\r\n        switch (stepIndex) {\r\n            case 0: // Basic Information\r\n                return profileData.firstName && profileData.lastName && profileData.email && profileData.location;\r\n            case 1: // Professional Details\r\n                return profileData.currentTitle && profileData.experienceLevel && profileData.industry;\r\n            case 2: // Skills\r\n                return profileData.skills.length >= 3;\r\n            case 6: // Job Preferences\r\n                return profileData.jobTypes.length > 0 && profileData.workLocation;\r\n            default:\r\n                return true;\r\n        }\r\n    };\r\n\r\n    const handleNext = () => {\r\n        if (validateStep(activeStep)) {\r\n            setCompletedSteps(prev => new Set([...prev, activeStep]));\r\n            setActiveStep(prev => prev + 1);\r\n        } else {\r\n            showSnackbar('Please complete all required fields', 'warning');\r\n        }\r\n    };\r\n\r\n    const handleBack = () => {\r\n        setActiveStep(prev => prev - 1);\r\n    };\r\n\r\n    const handleStepClick = (stepIndex) => {\r\n        setActiveStep(stepIndex);\r\n    };\r\n\r\n    const handleFinish = async () => {\r\n        try {\r\n            setLoading(true);\r\n            await updateUserProfile(profileData);\r\n            showSnackbar('Profile setup completed successfully!', 'success');\r\n            \r\n            // Redirect based on profile completeness\r\n            if (profileCompleteness >= 60) {\r\n                navigate('/video-resume-upload');\r\n            } else {\r\n                navigate('/dashboard');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error saving profile:', error);\r\n            showSnackbar('Error saving profile', 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const showSnackbar = (message, severity = 'success') => {\r\n        setSnackbar({ open: true, message, severity });\r\n    };\r\n\r\n    const renderStepContent = (stepIndex) => {\r\n        switch (stepIndex) {\r\n            case 0: // Basic Information\r\n                return (\r\n                    <StepCard>\r\n                        <Typography variant=\"h6\" gutterBottom>\r\n                            Basic Information\r\n                        </Typography>\r\n                        <Grid container spacing={3}>\r\n                            <Grid item xs={12} sx={{ textAlign: 'center', mb: 2 }}>\r\n                                <Avatar\r\n                                    src={profileData.profileImage}\r\n                                    sx={{ width: 120, height: 120, mx: 'auto', mb: 2 }}\r\n                                >\r\n                                    <PersonIcon sx={{ fontSize: 60 }} />\r\n                                </Avatar>\r\n                                <input\r\n                                    accept=\"image/*\"\r\n                                    style={{ display: 'none' }}\r\n                                    id=\"profile-image-upload\"\r\n                                    type=\"file\"\r\n                                    onChange={handleImageUpload}\r\n                                />\r\n                                <label htmlFor=\"profile-image-upload\">\r\n                                    <IconButton color=\"primary\" component=\"span\">\r\n                                        <PhotoCameraIcon />\r\n                                    </IconButton>\r\n                                </label>\r\n                            </Grid>\r\n                            \r\n                            <Grid item xs={12} sm={6}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    label=\"First Name *\"\r\n                                    value={profileData.firstName}\r\n                                    onChange={(e) => handleInputChange('firstName', e.target.value)}\r\n                                />\r\n                            </Grid>\r\n                            \r\n                            <Grid item xs={12} sm={6}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    label=\"Last Name *\"\r\n                                    value={profileData.lastName}\r\n                                    onChange={(e) => handleInputChange('lastName', e.target.value)}\r\n                                />\r\n                            </Grid>\r\n                            \r\n                            <Grid item xs={12} sm={6}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    label=\"Email *\"\r\n                                    type=\"email\"\r\n                                    value={profileData.email}\r\n                                    onChange={(e) => handleInputChange('email', e.target.value)}\r\n                                />\r\n                            </Grid>\r\n                            \r\n                            <Grid item xs={12} sm={6}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    label=\"Phone\"\r\n                                    value={profileData.phone}\r\n                                    onChange={(e) => handleInputChange('phone', e.target.value)}\r\n                                />\r\n                            </Grid>\r\n                            \r\n                            <Grid item xs={12}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    label=\"Location *\"\r\n                                    value={profileData.location}\r\n                                    onChange={(e) => handleInputChange('location', e.target.value)}\r\n                                    placeholder=\"City, Country\"\r\n                                />\r\n                            </Grid>\r\n                            \r\n                            <Grid item xs={12}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    label=\"Bio\"\r\n                                    multiline\r\n                                    rows={4}\r\n                                    value={profileData.bio}\r\n                                    onChange={(e) => handleInputChange('bio', e.target.value)}\r\n                                    placeholder=\"Tell us about yourself...\"\r\n                                />\r\n                            </Grid>\r\n                        </Grid>\r\n                    </StepCard>\r\n                );\r\n\r\n            case 1: // Professional Details\r\n                return (\r\n                    <StepCard>\r\n                        <Typography variant=\"h6\" gutterBottom>\r\n                            Professional Details\r\n                        </Typography>\r\n                        <Grid container spacing={3}>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    label=\"Current Job Title *\"\r\n                                    value={profileData.currentTitle}\r\n                                    onChange={(e) => handleInputChange('currentTitle', e.target.value)}\r\n                                    placeholder=\"e.g., Software Developer\"\r\n                                />\r\n                            </Grid>\r\n                            \r\n                            <Grid item xs={12} sm={6}>\r\n                                <FormControl fullWidth>\r\n                                    <InputLabel>Experience Level *</InputLabel>\r\n                                    <Select\r\n                                        value={profileData.experienceLevel}\r\n                                        onChange={(e) => handleInputChange('experienceLevel', e.target.value)}\r\n                                        label=\"Experience Level *\"\r\n                                    >\r\n                                        <MenuItem value=\"entry\">Entry Level (0-2 years)</MenuItem>\r\n                                        <MenuItem value=\"mid\">Mid Level (2-5 years)</MenuItem>\r\n                                        <MenuItem value=\"senior\">Senior Level (5-10 years)</MenuItem>\r\n                                        <MenuItem value=\"lead\">Lead/Principal (10+ years)</MenuItem>\r\n                                        <MenuItem value=\"executive\">Executive</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </Grid>\r\n                            \r\n                            <Grid item xs={12} sm={6}>\r\n                                <FormControl fullWidth>\r\n                                    <InputLabel>Industry *</InputLabel>\r\n                                    <Select\r\n                                        value={profileData.industry}\r\n                                        onChange={(e) => handleInputChange('industry', e.target.value)}\r\n                                        label=\"Industry *\"\r\n                                    >\r\n                                        <MenuItem value=\"technology\">Technology</MenuItem>\r\n                                        <MenuItem value=\"finance\">Finance</MenuItem>\r\n                                        <MenuItem value=\"healthcare\">Healthcare</MenuItem>\r\n                                        <MenuItem value=\"education\">Education</MenuItem>\r\n                                        <MenuItem value=\"marketing\">Marketing</MenuItem>\r\n                                        <MenuItem value=\"sales\">Sales</MenuItem>\r\n                                        <MenuItem value=\"design\">Design</MenuItem>\r\n                                        <MenuItem value=\"engineering\">Engineering</MenuItem>\r\n                                        <MenuItem value=\"other\">Other</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </Grid>\r\n                            \r\n                            <Grid item xs={12} sm={6}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    label=\"Expected Salary (Annual)\"\r\n                                    value={profileData.expectedSalary}\r\n                                    onChange={(e) => handleInputChange('expectedSalary', e.target.value)}\r\n                                    placeholder=\"e.g., $50,000 - $70,000\"\r\n                                />\r\n                            </Grid>\r\n                            \r\n                            <Grid item xs={12}>\r\n                                <FormControl fullWidth>\r\n                                    <InputLabel>Availability</InputLabel>\r\n                                    <Select\r\n                                        value={profileData.availability}\r\n                                        onChange={(e) => handleInputChange('availability', e.target.value)}\r\n                                        label=\"Availability\"\r\n                                    >\r\n                                        <MenuItem value=\"immediate\">Available Immediately</MenuItem>\r\n                                        <MenuItem value=\"2weeks\">2 Weeks Notice</MenuItem>\r\n                                        <MenuItem value=\"1month\">1 Month Notice</MenuItem>\r\n                                        <MenuItem value=\"2months\">2 Months Notice</MenuItem>\r\n                                        <MenuItem value=\"3months\">3+ Months</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </StepCard>\r\n                );\r\n\r\n            case 2: // Skills\r\n                return (\r\n                    <StepCard>\r\n                        <Typography variant=\"h6\" gutterBottom>\r\n                            Skills & Expertise\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n                            Add at least 3 skills that represent your expertise\r\n                        </Typography>\r\n                        \r\n                        <Autocomplete\r\n                            options={availableSkills}\r\n                            getOptionLabel={(option) => option.name}\r\n                            onChange={(event, value) => {\r\n                                if (value && !profileData.skills.find(skill => skill.id === value.id)) {\r\n                                    handleSkillAdd(value);\r\n                                }\r\n                            }}\r\n                            renderInput={(params) => (\r\n                                <TextField\r\n                                    {...params}\r\n                                    label=\"Search and add skills\"\r\n                                    placeholder=\"Type to search skills...\"\r\n                                />\r\n                            )}\r\n                            sx={{ mb: 3 }}\r\n                        />\r\n                        \r\n                        <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\r\n                            {profileData.skills.map((skill) => (\r\n                                <Chip\r\n                                    key={skill.id}\r\n                                    label={skill.name}\r\n                                    onDelete={() => handleSkillRemove(skill.id)}\r\n                                    color=\"primary\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                            ))}\r\n                        </Box>\r\n                        \r\n                        {profileData.skills.length < 3 && (\r\n                            <Alert severity=\"info\" sx={{ mt: 2 }}>\r\n                                Please add at least 3 skills to continue\r\n                            </Alert>\r\n                        )}\r\n                    </StepCard>\r\n                );\r\n\r\n            case 3: // Experience\r\n                return (\r\n                    <StepCard>\r\n                        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\r\n                            <Typography variant=\"h6\">\r\n                                Work Experience\r\n                            </Typography>\r\n                            <Button\r\n                                variant=\"outlined\"\r\n                                startIcon={<AddIcon />}\r\n                                onClick={() => setExperienceDialog(true)}\r\n                            >\r\n                                Add Experience\r\n                            </Button>\r\n                        </Box>\r\n                        \r\n                        {profileData.experiences.length === 0 ? (\r\n                            <Alert severity=\"info\">\r\n                                Add your work experience to showcase your professional background\r\n                            </Alert>\r\n                        ) : (\r\n                            <List>\r\n                                {profileData.experiences.map((exp, index) => (\r\n                                    <ListItem key={index}>\r\n                                        <ListItemIcon>\r\n                                            <WorkIcon />\r\n                                        </ListItemIcon>\r\n                                        <ListItemText\r\n                                            primary={`${exp.title} at ${exp.company}`}\r\n                                            secondary={`${exp.startDate} - ${exp.current ? 'Present' : exp.endDate} | ${exp.location}`}\r\n                                        />\r\n                                    </ListItem>\r\n                                ))}\r\n                            </List>\r\n                        )}\r\n                    </StepCard>\r\n                );\r\n\r\n            case 4: // Education\r\n                return (\r\n                    <StepCard>\r\n                        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\r\n                            <Typography variant=\"h6\">\r\n                                Education\r\n                            </Typography>\r\n                            <Button\r\n                                variant=\"outlined\"\r\n                                startIcon={<AddIcon />}\r\n                                onClick={() => setEducationDialog(true)}\r\n                            >\r\n                                Add Education\r\n                            </Button>\r\n                        </Box>\r\n                        \r\n                        {profileData.education.length === 0 ? (\r\n                            <Alert severity=\"info\">\r\n                                Add your educational background to strengthen your profile\r\n                            </Alert>\r\n                        ) : (\r\n                            <List>\r\n                                {profileData.education.map((edu, index) => (\r\n                                    <ListItem key={index}>\r\n                                        <ListItemIcon>\r\n                                            <SchoolIcon />\r\n                                        </ListItemIcon>\r\n                                        <ListItemText\r\n                                            primary={`${edu.degree} in ${edu.field}`}\r\n                                            secondary={`${edu.institution} | ${edu.startDate} - ${edu.endDate}`}\r\n                                        />\r\n                                    </ListItem>\r\n                                ))}\r\n                            </List>\r\n                        )}\r\n                    </StepCard>\r\n                );\r\n\r\n            case 5: // Social & Portfolio\r\n                return (\r\n                    <StepCard>\r\n                        <Typography variant=\"h6\" gutterBottom>\r\n                            Social & Portfolio Links\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n                            Connect your professional online presence\r\n                        </Typography>\r\n                        \r\n                        <Grid container spacing={3}>\r\n                            <Grid item xs={12}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    label=\"LinkedIn Profile\"\r\n                                    value={profileData.linkedinUrl}\r\n                                    onChange={(e) => handleInputChange('linkedinUrl', e.target.value)}\r\n                                    placeholder=\"https://linkedin.com/in/yourprofile\"\r\n                                    InputProps={{\r\n                                        startAdornment: <LinkedInIcon sx={{ mr: 1, color: 'action.active' }} />\r\n                                    }}\r\n                                />\r\n                            </Grid>\r\n                            \r\n                            <Grid item xs={12}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    label=\"GitHub Profile\"\r\n                                    value={profileData.githubUrl}\r\n                                    onChange={(e) => handleInputChange('githubUrl', e.target.value)}\r\n                                    placeholder=\"https://github.com/yourusername\"\r\n                                    InputProps={{\r\n                                        startAdornment: <GitHubIcon sx={{ mr: 1, color: 'action.active' }} />\r\n                                    }}\r\n                                />\r\n                            </Grid>\r\n                            \r\n                            <Grid item xs={12}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    label=\"Portfolio Website\"\r\n                                    value={profileData.portfolioUrl}\r\n                                    onChange={(e) => handleInputChange('portfolioUrl', e.target.value)}\r\n                                    placeholder=\"https://yourportfolio.com\"\r\n                                />\r\n                            </Grid>\r\n                        </Grid>\r\n                    </StepCard>\r\n                );\r\n\r\n            case 6: // Job Preferences\r\n                return (\r\n                    <StepCard>\r\n                        <Typography variant=\"h6\" gutterBottom>\r\n                            Job Preferences\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n                            Help us match you with the right opportunities\r\n                        </Typography>\r\n                        \r\n                        <Grid container spacing={3}>\r\n                            <Grid item xs={12}>\r\n                                <FormControl fullWidth>\r\n                                    <InputLabel>Preferred Job Types *</InputLabel>\r\n                                    <Select\r\n                                        multiple\r\n                                        value={profileData.jobTypes}\r\n                                        onChange={(e) => handleInputChange('jobTypes', e.target.value)}\r\n                                        label=\"Preferred Job Types *\"\r\n                                        renderValue={(selected) => (\r\n                                            <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\r\n                                                {selected.map((value) => (\r\n                                                    <Chip key={value} label={value} size=\"small\" />\r\n                                                ))}\r\n                                            </Box>\r\n                                        )}\r\n                                    >\r\n                                        <MenuItem value=\"full-time\">Full Time</MenuItem>\r\n                                        <MenuItem value=\"part-time\">Part Time</MenuItem>\r\n                                        <MenuItem value=\"contract\">Contract</MenuItem>\r\n                                        <MenuItem value=\"freelance\">Freelance</MenuItem>\r\n                                        <MenuItem value=\"internship\">Internship</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </Grid>\r\n                            \r\n                            <Grid item xs={12} sm={6}>\r\n                                <FormControl fullWidth>\r\n                                    <InputLabel>Work Location *</InputLabel>\r\n                                    <Select\r\n                                        value={profileData.workLocation}\r\n                                        onChange={(e) => handleInputChange('workLocation', e.target.value)}\r\n                                        label=\"Work Location *\"\r\n                                    >\r\n                                        <MenuItem value=\"onsite\">On-site</MenuItem>\r\n                                        <MenuItem value=\"remote\">Remote</MenuItem>\r\n                                        <MenuItem value=\"hybrid\">Hybrid</MenuItem>\r\n                                        <MenuItem value=\"flexible\">Flexible</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </Grid>\r\n                            \r\n                            <Grid item xs={12} sm={6}>\r\n                                <FormControlLabel\r\n                                    control={\r\n                                        <Checkbox\r\n                                            checked={profileData.remoteWork}\r\n                                            onChange={(e) => handleInputChange('remoteWork', e.target.checked)}\r\n                                        />\r\n                                    }\r\n                                    label=\"Open to remote work\"\r\n                                />\r\n                            </Grid>\r\n                        </Grid>\r\n                    </StepCard>\r\n                );\r\n\r\n            case 7: // Video Resume\r\n                return (\r\n                    <StepCard>\r\n                        <Typography variant=\"h6\" gutterBottom>\r\n                            Video Resume\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n                            Stand out with a video introduction (optional but recommended)\r\n                        </Typography>\r\n                        \r\n                        {profileData.hasVideoResume ? (\r\n                            <Alert severity=\"success\" sx={{ mb: 2 }}>\r\n                                You already have a video resume uploaded!\r\n                            </Alert>\r\n                        ) : (\r\n                            <Card sx={{ textAlign: 'center', p: 4 }}>\r\n                                <VideoCallIcon sx={{ fontSize: 64, color: 'primary.main', mb: 2 }} />\r\n                                <Typography variant=\"h6\" gutterBottom>\r\n                                    Upload Your Video Resume\r\n                                </Typography>\r\n                                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n                                    A 60-90 second video introducing yourself can significantly increase your chances of getting noticed by employers.\r\n                                </Typography>\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    size=\"large\"\r\n                                    onClick={() => navigate('/video-resume-upload')}\r\n                                    disabled={profileCompleteness < 60}\r\n                                >\r\n                                    Upload Video Resume\r\n                                </Button>\r\n                                {profileCompleteness < 60 && (\r\n                                    <Typography variant=\"caption\" display=\"block\" sx={{ mt: 1 }}>\r\n                                        Complete at least 60% of your profile to upload a video resume\r\n                                    </Typography>\r\n                                )}\r\n                            </Card>\r\n                        )}\r\n                    </StepCard>\r\n                );\r\n\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <WizardContainer maxWidth=\"lg\">\r\n            <Grid container spacing={3}>\r\n                {/* Progress Sidebar */}\r\n                <Grid item xs={12} md={4}>\r\n                    <ProgressCard>\r\n                        <CardContent>\r\n                            <Typography variant=\"h6\" gutterBottom>\r\n                                Profile Completion\r\n                            </Typography>\r\n                            <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n                                <LinearProgress\r\n                                    variant=\"determinate\"\r\n                                    value={profileCompleteness}\r\n                                    sx={{ flex: 1, mr: 2 }}\r\n                                />\r\n                                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                    {profileCompleteness}%\r\n                                </Typography>\r\n                            </Box>\r\n                            \r\n                            <Stepper activeStep={activeStep} orientation=\"vertical\">\r\n                                {steps.map((step, index) => (\r\n                                    <Step key={step.label} completed={completedSteps.has(index)}>\r\n                                        <StepLabel\r\n                                            onClick={() => handleStepClick(index)}\r\n                                            sx={{ cursor: 'pointer' }}\r\n                                            icon={\r\n                                                completedSteps.has(index) ? (\r\n                                                    <CheckCircleIcon color=\"success\" />\r\n                                                ) : (\r\n                                                    step.icon\r\n                                                )\r\n                                            }\r\n                                        >\r\n                                            <Box>\r\n                                                <Typography variant=\"body2\" fontWeight=\"bold\">\r\n                                                    {step.label}\r\n                                                    {step.required && <span style={{ color: 'red' }}> *</span>}\r\n                                                </Typography>\r\n                                                <Typography variant=\"caption\" color=\"text.secondary\">\r\n                                                    {step.description}\r\n                                                </Typography>\r\n                                            </Box>\r\n                                        </StepLabel>\r\n                                    </Step>\r\n                                ))}\r\n                            </Stepper>\r\n                        </CardContent>\r\n                    </ProgressCard>\r\n                </Grid>\r\n\r\n                {/* Main Content */}\r\n                <Grid item xs={12} md={8}>\r\n                    <Box sx={{ mb: 4 }}>\r\n                        <Typography variant=\"h4\" gutterBottom>\r\n                            Complete Your Profile\r\n                        </Typography>\r\n                        <Typography variant=\"body1\" color=\"text.secondary\">\r\n                            Let's set up your profile to help you find the perfect job opportunities\r\n                        </Typography>\r\n                    </Box>\r\n\r\n                    {renderStepContent(activeStep)}\r\n\r\n                    {/* Navigation Buttons */}\r\n                    <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 3 }}>\r\n                        <Button\r\n                            onClick={handleBack}\r\n                            disabled={activeStep === 0}\r\n                            variant=\"outlined\"\r\n                        >\r\n                            Back\r\n                        </Button>\r\n                        \r\n                        <Box>\r\n                            {activeStep === steps.length - 1 ? (\r\n                                <Button\r\n                                    onClick={handleFinish}\r\n                                    variant=\"contained\"\r\n                                    size=\"large\"\r\n                                    disabled={loading}\r\n                                >\r\n                                    {loading ? <CircularProgress size={24} /> : 'Complete Setup'}\r\n                                </Button>\r\n                            ) : (\r\n                                <Button\r\n                                    onClick={handleNext}\r\n                                    variant=\"contained\"\r\n                                    disabled={!validateStep(activeStep)}\r\n                                >\r\n                                    Next\r\n                                </Button>\r\n                            )}\r\n                        </Box>\r\n                    </Box>\r\n                </Grid>\r\n            </Grid>\r\n\r\n            {/* Experience Dialog */}\r\n            <Dialog\r\n                open={experienceDialog}\r\n                onClose={() => setExperienceDialog(false)}\r\n                maxWidth=\"md\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle>Add Work Experience</DialogTitle>\r\n                <DialogContent>\r\n                    <Grid container spacing={2} sx={{ mt: 1 }}>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"Job Title\"\r\n                                value={currentExperience.title}\r\n                                onChange={(e) => setCurrentExperience(prev => ({ ...prev, title: e.target.value }))}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"Company\"\r\n                                value={currentExperience.company}\r\n                                onChange={(e) => setCurrentExperience(prev => ({ ...prev, company: e.target.value }))}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"Location\"\r\n                                value={currentExperience.location}\r\n                                onChange={(e) => setCurrentExperience(prev => ({ ...prev, location: e.target.value }))}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"Start Date\"\r\n                                type=\"month\"\r\n                                value={currentExperience.startDate}\r\n                                onChange={(e) => setCurrentExperience(prev => ({ ...prev, startDate: e.target.value }))}\r\n                                InputLabelProps={{ shrink: true }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"End Date\"\r\n                                type=\"month\"\r\n                                value={currentExperience.endDate}\r\n                                onChange={(e) => setCurrentExperience(prev => ({ ...prev, endDate: e.target.value }))}\r\n                                InputLabelProps={{ shrink: true }}\r\n                                disabled={currentExperience.current}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <FormControlLabel\r\n                                control={\r\n                                    <Checkbox\r\n                                        checked={currentExperience.current}\r\n                                        onChange={(e) => setCurrentExperience(prev => ({ ...prev, current: e.target.checked }))}\r\n                                    />\r\n                                }\r\n                                label=\"I currently work here\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"Description\"\r\n                                multiline\r\n                                rows={4}\r\n                                value={currentExperience.description}\r\n                                onChange={(e) => setCurrentExperience(prev => ({ ...prev, description: e.target.value }))}\r\n                                placeholder=\"Describe your role and achievements...\"\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => setExperienceDialog(false)}>Cancel</Button>\r\n                    <Button onClick={handleExperienceAdd} variant=\"contained\">\r\n                        Add Experience\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* Education Dialog */}\r\n            <Dialog\r\n                open={educationDialog}\r\n                onClose={() => setEducationDialog(false)}\r\n                maxWidth=\"md\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle>Add Education</DialogTitle>\r\n                <DialogContent>\r\n                    <Grid container spacing={2} sx={{ mt: 1 }}>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"Degree\"\r\n                                value={currentEducation.degree}\r\n                                onChange={(e) => setCurrentEducation(prev => ({ ...prev, degree: e.target.value }))}\r\n                                placeholder=\"e.g., Bachelor's, Master's\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"Field of Study\"\r\n                                value={currentEducation.field}\r\n                                onChange={(e) => setCurrentEducation(prev => ({ ...prev, field: e.target.value }))}\r\n                                placeholder=\"e.g., Computer Science\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"Institution\"\r\n                                value={currentEducation.institution}\r\n                                onChange={(e) => setCurrentEducation(prev => ({ ...prev, institution: e.target.value }))}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={4}>\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"Start Date\"\r\n                                type=\"month\"\r\n                                value={currentEducation.startDate}\r\n                                onChange={(e) => setCurrentEducation(prev => ({ ...prev, startDate: e.target.value }))}\r\n                                InputLabelProps={{ shrink: true }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={4}>\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"End Date\"\r\n                                type=\"month\"\r\n                                value={currentEducation.endDate}\r\n                                onChange={(e) => setCurrentEducation(prev => ({ ...prev, endDate: e.target.value }))}\r\n                                InputLabelProps={{ shrink: true }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={4}>\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"GPA (Optional)\"\r\n                                value={currentEducation.gpa}\r\n                                onChange={(e) => setCurrentEducation(prev => ({ ...prev, gpa: e.target.value }))}\r\n                                placeholder=\"e.g., 3.8/4.0\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"Description\"\r\n                                multiline\r\n                                rows={3}\r\n                                value={currentEducation.description}\r\n                                onChange={(e) => setCurrentEducation(prev => ({ ...prev, description: e.target.value }))}\r\n                                placeholder=\"Relevant coursework, achievements, etc.\"\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => setEducationDialog(false)}>Cancel</Button>\r\n                    <Button onClick={handleEducationAdd} variant=\"contained\">\r\n                        Add Education\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* Snackbar */}\r\n            <Snackbar\r\n                open={snackbar.open}\r\n                autoHideDuration={6000}\r\n                onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n            >\r\n                <Alert\r\n                    onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n                    severity={snackbar.severity}\r\n                    sx={{ width: '100%' }}\r\n                >\r\n                    {snackbar.message}\r\n                </Alert>\r\n            </Snackbar>\r\n        </WizardContainer>\r\n    );\r\n};\r\n\r\nexport default ProfileSetupWizard;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\ProfileViewPage.jsx",
    "messages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchProfile'. Either include it or remove the dependency array.",
        "line": 62,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 62,
        "endColumn": 14,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchProfile, userId]",
            "fix": {
              "range": [
                1680,
                1688
              ],
              "text": "[fetchProfile, userId]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'currentVideo' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 126,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 126,
        "endColumn": 21
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { \r\n  Card, CardContent, CardHeader, CardTitle \r\n} from '@/components/UI/card.jsx';\r\nimport ReportButton from '@/components/ReportButton.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport localize from '@/utils/localize';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/UI/avatar.jsx';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/UI/tabs.jsx';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport {\r\n  User,\r\n  MapPin,\r\n  Mail,\r\n  Phone,\r\n  Globe,\r\n  Linkedin,\r\n  Github,\r\n  Twitter,\r\n  Facebook,\r\n  Briefcase,\r\n  GraduationCap,\r\n  Calendar,\r\n  Play,\r\n  Pause,\r\n  Heart,\r\n  Share2,\r\n  Bookmark,\r\n  Volume2,\r\n  VolumeX,\r\n  Loader2,\r\n  Award,\r\n  Building2,\r\n  Eye,\r\n  ArrowLeft\r\n} from 'lucide-react';\r\nimport axios from 'axios';\r\n\r\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:5000';\r\n\r\nexport default function ProfileViewPage() {\r\n  const { userId } = useParams();\r\n  const navigate = useNavigate();\r\n  const { toast } = useToast();\r\n  const videoRef = useRef(null);\r\n\r\n  const [profile, setProfile] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  \r\n  // Video player state\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [currentVideoIndex, setCurrentVideoIndex] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (userId) {\r\n      fetchProfile();\r\n    }\r\n  }, [userId]);\r\n\r\n  const fetchProfile = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('accessToken');\r\n      const headers = token ? { 'Authorization': `Bearer ${token}` } : {};\r\n      \r\n      const response = await axios.get(`${API_BASE_URL}/api/profile/${userId}`, { headers });\r\n      setProfile(response.data.profile);\r\n    } catch (error) {\r\n      console.error('Error fetching profile:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to load profile\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handlePlayPause = () => {\r\n    if (videoRef.current) {\r\n      if (isPlaying) {\r\n        videoRef.current.pause();\r\n      } else {\r\n        videoRef.current.play();\r\n      }\r\n      setIsPlaying(!isPlaying);\r\n    }\r\n  };\r\n\r\n  const handleMuteToggle = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.muted = !isMuted;\r\n      setIsMuted(!isMuted);\r\n    }\r\n  };\r\n\r\n  const handleVideoChange = (index) => {\r\n    setCurrentVideoIndex(index);\r\n    setIsPlaying(false);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-screen\">\r\n        <Loader2 className=\"h-12 w-12 animate-spin text-cyan-600\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!profile) {\r\n    return (\r\n      <div className=\"flex flex-col justify-center items-center min-h-screen\">\r\n        <User className=\"h-24 w-24 text-gray-400 mb-4\" />\r\n        <h2 className=\"text-2xl font-bold mb-2\">Profile Not Found</h2>\r\n        <p className=\"text-gray-600 mb-4\">The user profile you're looking for doesn't exist.</p>\r\n        <Button onClick={() => navigate(-1)}>Go Back</Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const currentVideo = profile.videos?.[currentVideoIndex];\r\n  const mainVideo = profile.videos?.find(v => v.isMainVideo) || profile.videos?.[0];\r\n  const isJobSeeker = profile.profileType === 'jobseeker';\r\n  const isEmployer = profile.profileType === 'employer';\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-6 px-4 max-w-7xl\">\r\n      {/* Back Button */}\r\n      <Button \r\n        variant=\"ghost\" \r\n        onClick={() => navigate(-1)}\r\n        className=\"mb-4\"\r\n      >\r\n        <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n        Back\r\n      </Button>\r\n\r\n      {/* Header Section */}\r\n      <div className=\"mb-8\">\r\n        <Card className=\"border-l-4 border-l-cyan-500\">\r\n          <CardContent className=\"p-8\">\r\n            <div className=\"flex flex-col lg:flex-row gap-6\">\r\n              {/* Profile Info Section */}\r\n              <div className=\"flex-grow\">\r\n                <div className=\"flex items-start gap-6 mb-6\">\r\n                  {/* Avatar */}\r\n                  <Avatar className=\"h-24 w-24\">\r\n                    <AvatarImage \r\n                      src={profile.profilePicture ? `${API_BASE_URL}${profile.profilePicture}` : ''} \r\n                      alt={profile.fullName || profile.displayName}\r\n                    />\r\n                    <AvatarFallback className=\"bg-gradient-to-br from-cyan-500 to-purple-500 text-white text-3xl\">\r\n                      {(profile.fullName || profile.displayName || 'U').charAt(0)}\r\n                    </AvatarFallback>\r\n                  </Avatar>\r\n\r\n                  {/* Name & Title */}\r\n                  <div className=\"flex-grow\">\r\n                    <div className=\"flex justify-between items-start mb-3\">\r\n                      <div>\r\n                        <div className=\"flex items-center gap-3 mb-2\">\r\n                          <h1 className=\"text-4xl font-bold\">{profile.fullName || profile.displayName || 'User'}</h1>\r\n                          {isEmployer && <Building2 className=\"h-6 w-6 text-green-600\" />}\r\n                          {isJobSeeker && <User className=\"h-6 w-6 text-blue-600\" />}\r\n                        </div>\r\n                        <p className=\"text-xl text-muted-foreground\">{profile.headline || profile.title || 'Professional'}</p>\r\n                        <div className=\"flex items-center gap-2 mt-2 text-sm text-muted-foreground\">\r\n                          <Eye className=\"h-4 w-4\" />\r\n                          <span>{profile.profileViews || 0} profile views</span>\r\n                        </div>\r\n                      </div>\r\n                      <Badge className={isEmployer ? \"bg-green-600\" : \"bg-blue-600\"}>\r\n                        {isEmployer ? 'Employer' : 'Job Seeker'}\r\n                      </Badge>\r\n                    </div>\r\n\r\n                    {/* Contact Info Grid */}\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                      {profile.location && (\r\n                        <div className=\"flex items-center gap-2 text-sm\">\r\n                          <MapPin className=\"h-4 w-4 text-muted-foreground\" />\r\n                          <span>{profile.location}</span>\r\n                        </div>\r\n                      )}\r\n\r\n                      {profile.email && (\r\n                        <div className=\"flex items-center gap-2 text-sm\">\r\n                          <Mail className=\"h-4 w-4 text-muted-foreground\" />\r\n                          <a href={`mailto:${profile.email}`} className=\"hover:text-cyan-600\">\r\n                            {profile.email}\r\n                          </a>\r\n                        </div>\r\n                      )}\r\n\r\n                      {profile.phone && (\r\n                        <div className=\"flex items-center gap-2 text-sm\">\r\n                          <Phone className=\"h-4 w-4 text-muted-foreground\" />\r\n                          <span>{profile.phone}</span>\r\n                        </div>\r\n                      )}\r\n\r\n                      {profile.website && (\r\n                        <div className=\"flex items-center gap-2 text-sm\">\r\n                          <Globe className=\"h-4 w-4 text-muted-foreground\" />\r\n                          <a href={profile.website} target=\"_blank\" rel=\"noopener noreferrer\" className=\"hover:text-cyan-600\">\r\n                            Website\r\n                          </a>\r\n                        </div>\r\n                      )}\r\n\r\n                      {isEmployer && profile.industry && (\r\n                        <div className=\"flex items-center gap-2 text-sm\">\r\n                          <Building2 className=\"h-4 w-4 text-muted-foreground\" />\r\n                          <span>{profile.industry}</span>\r\n                        </div>\r\n                      )}\r\n\r\n                      {isEmployer && profile.companySize && (\r\n                        <div className=\"flex items-center gap-2 text-sm\">\r\n                          <User className=\"h-4 w-4 text-muted-foreground\" />\r\n                          <span>{profile.companySize} employees</span>\r\n                        </div>\r\n                      )}\r\n\r\n                      {isJobSeeker && profile.yearsOfExperience && (\r\n                        <div className=\"flex items-center gap-2 text-sm\">\r\n                          <Briefcase className=\"h-4 w-4 text-muted-foreground\" />\r\n                          <span>{profile.yearsOfExperience} years experience</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    {/* Social Links */}\r\n                    {(profile.linkedin || profile.github || profile.twitter || profile.facebook) && (\r\n                      <div className=\"flex gap-2 mt-4\">\r\n                        {profile.linkedin && (\r\n                          <Button variant=\"outline\" size=\"icon\" asChild>\r\n                            <a href={profile.linkedin} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                              <Linkedin className=\"h-4 w-4\" />\r\n                            </a>\r\n                          </Button>\r\n                        )}\r\n                        {profile.github && (\r\n                          <Button variant=\"outline\" size=\"icon\" asChild>\r\n                            <a href={profile.github} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                              <Github className=\"h-4 w-4\" />\r\n                            </a>\r\n                          </Button>\r\n                        )}\r\n                        {profile.twitter && (\r\n                          <Button variant=\"outline\" size=\"icon\" asChild>\r\n                            <a href={profile.twitter} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                              <Twitter className=\"h-4 w-4\" />\r\n                            </a>\r\n                          </Button>\r\n                        )}\r\n                        {profile.facebook && (\r\n                          <Button variant=\"outline\" size=\"icon\" asChild>\r\n                            <a href={profile.facebook} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                              <Facebook className=\"h-4 w-4\" />\r\n                            </a>\r\n                          </Button>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* About/Bio */}\r\n                {profile.bio && (\r\n                  <div>\r\n                    <h3 className=\"font-semibold text-lg mb-2\">\r\n                      {isEmployer ? 'About Company' : 'About Me'}\r\n                    </h3>\r\n                    <p className=\"text-muted-foreground whitespace-pre-line\">{profile.bio}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Main Video Section */}\r\n              {mainVideo && (\r\n                <div className=\"lg:w-[350px] flex-shrink-0\">\r\n                  <Card className=\"overflow-hidden\">\r\n                    <CardHeader className=\"bg-gradient-to-r from-cyan-600 to-purple-600 text-white p-4\">\r\n                      <CardTitle className=\"text-lg\">\r\n                        {isEmployer ? 'Company Video' : 'Video Resume'}\r\n                      </CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent className=\"p-0\">\r\n                      <div className=\"relative bg-black aspect-[9/16] max-h-[450px]\">\r\n                        <video\r\n                          ref={videoRef}\r\n                          src={`${API_BASE_URL}${mainVideo.videoUrl}`}\r\n                          className=\"w-full h-full object-cover\"\r\n                          loop\r\n                          onClick={handlePlayPause}\r\n                        />\r\n                        \r\n                        {/* Video Controls Overlay */}\r\n                        <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 hover:opacity-100 transition-opacity\">\r\n                          <div className=\"absolute bottom-0 left-0 right-0 p-4 space-y-3\">\r\n                            {/* Play/Pause Button */}\r\n                            <div className=\"flex justify-center\">\r\n                              <Button \r\n                                size=\"icon\" \r\n                                variant=\"ghost\" \r\n                                className=\"h-12 w-12 rounded-full bg-white/20 hover:bg-white/30 text-white\"\r\n                                onClick={handlePlayPause}\r\n                              >\r\n                                {isPlaying ? <Pause className=\"h-6 w-6\" /> : <Play className=\"h-6 w-6\" />}\r\n                              </Button>\r\n                            </div>\r\n\r\n                            {/* Action Buttons */}\r\n                            <div className=\"flex justify-between items-center\">\r\n                              <div className=\"flex gap-2\">\r\n                                <Button size=\"icon\" variant=\"ghost\" className=\"text-white hover:bg-white/20\">\r\n                                  <Heart className=\"h-5 w-5\" />\r\n                                </Button>\r\n                                <Button size=\"icon\" variant=\"ghost\" className=\"text-white hover:bg-white/20\">\r\n                                  <Bookmark className=\"h-5 w-5\" />\r\n                                </Button>\r\n                                <Button size=\"icon\" variant=\"ghost\" className=\"text-white hover:bg-white/20\">\r\n                                  <Share2 className=\"h-5 w-5\" />\r\n                                </Button>\r\n                                <ReportButton contentType=\"user\" contentId={profile.id} className=\"text-white hover:bg-white/20\" />\r\n                              </div>\r\n                              <Button \r\n                                size=\"icon\" \r\n                                variant=\"ghost\" \r\n                                className=\"text-white hover:bg-white/20\"\r\n                                onClick={handleMuteToggle}\r\n                              >\r\n                                {isMuted ? <VolumeX className=\"h-5 w-5\" /> : <Volume2 className=\"h-5 w-5\" />}\r\n                              </Button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Video Title */}\r\n                      <div className=\"p-4\">\r\n                        <p className=\"font-medium\">{mainVideo.title}</p>\r\n                        {mainVideo.description && (\r\n                          <p className=\"text-sm text-muted-foreground mt-1\">{mainVideo.description}</p>\r\n                        )}\r\n                        <div className=\"flex gap-4 mt-2 text-xs text-muted-foreground\">\r\n                          <span>{mainVideo.viewsCount || 0} views</span>\r\n                          <span>{mainVideo.likesCount || 0} likes</span>\r\n                        </div>\r\n                      </div>\r\n                    </CardContent>\r\n                  </Card>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Tabs Section */}\r\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\r\n        <TabsList className={isJobSeeker ? \"grid w-full grid-cols-4\" : \"grid w-full grid-cols-3\"}>\r\n          <TabsTrigger value=\"overview\">Overview</TabsTrigger>\r\n          {isJobSeeker && <TabsTrigger value=\"experience\">Experience</TabsTrigger>}\r\n          {isJobSeeker && <TabsTrigger value=\"education\">Education</TabsTrigger>}\r\n          {isJobSeeker && <TabsTrigger value=\"skills\">Skills</TabsTrigger>}\r\n          <TabsTrigger value=\"videos\">All Videos</TabsTrigger>\r\n          {isEmployer && <TabsTrigger value=\"company\">Company Info</TabsTrigger>}\r\n        </TabsList>\r\n\r\n        {/* Overview Tab */}\r\n        <TabsContent value=\"overview\" className=\"space-y-6\">\r\n          {/* Job Seeker Overview */}\r\n          {isJobSeeker && (\r\n            <>\r\n              {/* Skills Preview */}\r\n              {profile.skills && profile.skills.length > 0 && (\r\n                <Card>\r\n                  <CardHeader>\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                      <Award className=\"h-5 w-5 text-cyan-600\" />\r\n                      Top Skills\r\n                    </CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      {profile.skills.slice(0, 10).map((skill, index) => (\r\n                        <Badge key={index} variant=\"secondary\" className=\"bg-cyan-100 text-cyan-800\">\r\n                          {localize(skill.name)}\r\n                          {skill.level && <span className=\"ml-1 text-xs\">â€¢ {skill.level}</span>}\r\n                        </Badge>\r\n                      ))}\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              )}\r\n\r\n              {/* Latest Experience */}\r\n              {profile.experiences && profile.experiences.length > 0 && (\r\n                <Card>\r\n                  <CardHeader>\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                      <Briefcase className=\"h-5 w-5 text-purple-600\" />\r\n                      Latest Experience\r\n                    </CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    {profile.experiences.slice(0, 2).map((exp, index) => (\r\n                      <div key={index} className={index > 0 ? \"mt-4 pt-4 border-t\" : \"\"}>\r\n                        <h3 className=\"font-semibold text-lg\">{exp.title}</h3>\r\n                        <p className=\"text-muted-foreground\">{exp.company}</p>\r\n                        <div className=\"flex items-center gap-2 text-sm text-muted-foreground mt-1\">\r\n                          <Calendar className=\"h-3 w-3\" />\r\n                          <span>\r\n                            {exp.startDate} - {exp.current ? 'Present' : exp.endDate}\r\n                          </span>\r\n                        </div>\r\n                        {exp.description && (\r\n                          <p className=\"mt-2 text-sm\">{exp.description}</p>\r\n                        )}\r\n                      </div>\r\n                    ))}\r\n                  </CardContent>\r\n                </Card>\r\n              )}\r\n\r\n              {/* Latest Education */}\r\n              {profile.education && profile.education.length > 0 && (\r\n                <Card>\r\n                  <CardHeader>\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                      <GraduationCap className=\"h-5 w-5 text-cyan-600\" />\r\n                      Education\r\n                    </CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    {profile.education.slice(0, 2).map((edu, index) => (\r\n                      <div key={index} className={index > 0 ? \"mt-4 pt-4 border-t\" : \"\"}>\r\n                        <h3 className=\"font-semibold text-lg\">{edu.degree}</h3>\r\n                        <p className=\"text-muted-foreground\">{edu.institution}</p>\r\n                        <div className=\"flex items-center gap-2 text-sm text-muted-foreground mt-1\">\r\n                          <Calendar className=\"h-3 w-3\" />\r\n                          <span>\r\n                            {edu.startYear} - {edu.endYear || 'Present'}\r\n                          </span>\r\n                        </div>\r\n                        {edu.description && (\r\n                          <p className=\"mt-2 text-sm\">{edu.description}</p>\r\n                        )}\r\n                      </div>\r\n                    ))}\r\n                  </CardContent>\r\n                </Card>\r\n              )}\r\n            </>\r\n          )}\r\n\r\n          {/* Employer Overview */}\r\n          {isEmployer && (\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Building2 className=\"h-5 w-5 text-green-600\" />\r\n                  Company Information\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-3\">\r\n                {profile.industry && (\r\n                  <div>\r\n                    <span className=\"font-semibold\">Industry:</span> {profile.industry}\r\n                  </div>\r\n                )}\r\n                {profile.companySize && (\r\n                  <div>\r\n                    <span className=\"font-semibold\">Company Size:</span> {profile.companySize}\r\n                  </div>\r\n                )}\r\n                {profile.foundedYear && (\r\n                  <div>\r\n                    <span className=\"font-semibold\">Founded:</span> {profile.foundedYear}\r\n                  </div>\r\n                )}\r\n                {profile.categories && profile.categories.length > 0 && (\r\n                  <div>\r\n                    <span className=\"font-semibold\">Categories:</span>\r\n                    <div className=\"flex flex-wrap gap-2 mt-2\">\r\n                      {profile.categories.map((cat, index) => (\r\n                        <Badge key={index} variant=\"secondary\">{localize(cat.name)}</Badge>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n        </TabsContent>\r\n\r\n        {/* Experience Tab (Job Seekers Only) */}\r\n        {isJobSeeker && (\r\n          <TabsContent value=\"experience\" className=\"space-y-6\">\r\n            {profile.experiences && profile.experiences.length > 0 ? (\r\n              profile.experiences.map((exp, index) => (\r\n                <Card key={index} className=\"border-l-4 border-l-purple-500\">\r\n                  <CardContent className=\"p-6\">\r\n                    <div className=\"flex justify-between items-start\">\r\n                      <div>\r\n                        <h3 className=\"font-semibold text-xl\">{exp.title}</h3>\r\n                        <p className=\"text-lg text-muted-foreground\">{exp.company}</p>\r\n                        <div className=\"flex items-center gap-2 text-sm text-muted-foreground mt-2\">\r\n                          <Calendar className=\"h-4 w-4\" />\r\n                          <span>\r\n                            {exp.startDate} - {exp.current ? 'Present' : exp.endDate}\r\n                          </span>\r\n                        </div>\r\n                        {exp.location && (\r\n                          <div className=\"flex items-center gap-2 text-sm text-muted-foreground mt-1\">\r\n                            <MapPin className=\"h-4 w-4\" />\r\n                            <span>{exp.location}</span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      {exp.current && (\r\n                        <Badge className=\"bg-green-100 text-green-800\">Current</Badge>\r\n                      )}\r\n                    </div>\r\n                    {exp.description && (\r\n                      <p className=\"mt-4 text-muted-foreground whitespace-pre-line\">{exp.description}</p>\r\n                    )}\r\n                  </CardContent>\r\n                </Card>\r\n              ))\r\n            ) : (\r\n              <Card className=\"text-center py-12\">\r\n                <CardContent>\r\n                  <Briefcase className=\"h-16 w-16 mx-auto text-muted-foreground mb-4\" />\r\n                  <h3 className=\"text-xl font-semibold mb-2\">No experience listed</h3>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n          </TabsContent>\r\n        )}\r\n\r\n        {/* Education Tab (Job Seekers Only) */}\r\n        {isJobSeeker && (\r\n          <TabsContent value=\"education\" className=\"space-y-6\">\r\n            {profile.education && profile.education.length > 0 ? (\r\n              profile.education.map((edu, index) => (\r\n                <Card key={index} className=\"border-l-4 border-l-cyan-500\">\r\n                  <CardContent className=\"p-6\">\r\n                    <div className=\"flex justify-between items-start\">\r\n                      <div>\r\n                        <h3 className=\"font-semibold text-xl\">{edu.degree}</h3>\r\n                        <p className=\"text-lg text-muted-foreground\">{edu.institution}</p>\r\n                        <div className=\"flex items-center gap-2 text-sm text-muted-foreground mt-2\">\r\n                          <Calendar className=\"h-4 w-4\" />\r\n                          <span>\r\n                            {edu.startYear} - {edu.endYear || 'Present'}\r\n                          </span>\r\n                        </div>\r\n                        {edu.fieldOfStudy && (\r\n                          <div className=\"flex items-center gap-2 text-sm mt-1\">\r\n                            <Badge variant=\"outline\">{localize(edu.fieldOfStudy)}</Badge>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      {edu.gpa && (\r\n                        <Badge variant=\"secondary\">GPA: {edu.gpa}</Badge>\r\n                      )}\r\n                    </div>\r\n                    {edu.description && (\r\n                      <p className=\"mt-4 text-muted-foreground whitespace-pre-line\">{edu.description}</p>\r\n                    )}\r\n                  </CardContent>\r\n                </Card>\r\n              ))\r\n            ) : (\r\n              <Card className=\"text-center py-12\">\r\n                <CardContent>\r\n                  <GraduationCap className=\"h-16 w-16 mx-auto text-muted-foreground mb-4\" />\r\n                  <h3 className=\"text-xl font-semibold mb-2\">No education listed</h3>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n          </TabsContent>\r\n        )}\r\n\r\n        {/* Skills Tab (Job Seekers Only) */}\r\n        {isJobSeeker && (\r\n          <TabsContent value=\"skills\" className=\"space-y-6\">\r\n            {profile.skills && profile.skills.length > 0 ? (\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle>All Skills</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"flex flex-wrap gap-3\">\r\n                    {profile.skills.map((skill, index) => (\r\n                      <Badge \r\n                        key={index} \r\n                        variant=\"secondary\" \r\n                        className=\"bg-gradient-to-r from-cyan-100 to-purple-100 text-gray-800 px-4 py-2 text-sm\"\r\n                      >\r\n                        {skill.name}\r\n                        {skill.level && (\r\n                          <span className=\"ml-2 text-xs opacity-75\">â€¢ {skill.level}</span>\r\n                        )}\r\n                        {skill.yearsExperience && (\r\n                          <span className=\"ml-1 text-xs opacity-75\">({skill.yearsExperience}y)</span>\r\n                        )}\r\n                      </Badge>\r\n                    ))}\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ) : (\r\n              <Card className=\"text-center py-12\">\r\n                <CardContent>\r\n                  <Award className=\"h-16 w-16 mx-auto text-muted-foreground mb-4\" />\r\n                  <h3 className=\"text-xl font-semibold mb-2\">No skills listed</h3>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n          </TabsContent>\r\n        )}\r\n\r\n        {/* Videos Tab */}\r\n        <TabsContent value=\"videos\" className=\"space-y-6\">\r\n          {profile.videos && profile.videos.length > 0 ? (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n              {profile.videos.map((video, index) => (\r\n                <Card key={video.id} className=\"overflow-hidden cursor-pointer hover:shadow-lg transition-shadow\"\r\n                  onClick={() => handleVideoChange(index)}>\r\n                  <div className=\"relative bg-black aspect-video\">\r\n                    <video\r\n                      src={`${API_BASE_URL}${video.videoUrl}`}\r\n                      className=\"w-full h-full object-cover\"\r\n                      poster={video.thumbnailUrl ? `${API_BASE_URL}${video.thumbnailUrl}` : undefined}\r\n                    />\r\n                    <div className=\"absolute inset-0 flex items-center justify-center bg-black/30\">\r\n                      <Play className=\"h-12 w-12 text-white\" />\r\n                    </div>\r\n                    {video.isMainVideo && (\r\n                      <Badge className=\"absolute top-2 right-2 bg-cyan-600\">Main</Badge>\r\n                    )}\r\n                  </div>\r\n                  <CardContent className=\"p-4\">\r\n                    <h3 className=\"font-semibold truncate\">{video.title}</h3>\r\n                    {video.description && (\r\n                      <p className=\"text-sm text-muted-foreground truncate mt-1\">{video.description}</p>\r\n                    )}\r\n                    <div className=\"flex gap-4 mt-2 text-xs text-muted-foreground\">\r\n                      <span>{video.viewsCount || 0} views</span>\r\n                      <span>{video.likesCount || 0} likes</span>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <Card className=\"text-center py-12\">\r\n              <CardContent>\r\n                <Play className=\"h-16 w-16 mx-auto text-muted-foreground mb-4\" />\r\n                <h3 className=\"text-xl font-semibold mb-2\">No videos</h3>\r\n                <p className=\"text-muted-foreground\">This user hasn't uploaded any videos yet.</p>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n        </TabsContent>\r\n\r\n        {/* Company Info Tab (Employers Only) */}\r\n        {isEmployer && (\r\n          <TabsContent value=\"company\" className=\"space-y-6\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Company Details</CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                {profile.companyName && (\r\n                  <div>\r\n                    <span className=\"font-semibold\">Company Name:</span>\r\n                    <p className=\"text-muted-foreground mt-1\">{profile.companyName}</p>\r\n                  </div>\r\n                )}\r\n                {profile.industry && (\r\n                  <div>\r\n                    <span className=\"font-semibold\">Industry:</span>\r\n                    <p className=\"text-muted-foreground mt-1\">{profile.industry}</p>\r\n                  </div>\r\n                )}\r\n                {profile.companySize && (\r\n                  <div>\r\n                    <span className=\"font-semibold\">Company Size:</span>\r\n                    <p className=\"text-muted-foreground mt-1\">{profile.companySize} employees</p>\r\n                  </div>\r\n                )}\r\n                {profile.foundedYear && (\r\n                  <div>\r\n                    <span className=\"font-semibold\">Founded:</span>\r\n                    <p className=\"text-muted-foreground mt-1\">{profile.foundedYear}</p>\r\n                  </div>\r\n                )}\r\n                {profile.bio && (\r\n                  <div>\r\n                    <span className=\"font-semibold\">About:</span>\r\n                    <p className=\"text-muted-foreground mt-1 whitespace-pre-line\">{profile.bio}</p>\r\n                  </div>\r\n                )}\r\n                {profile.categories && profile.categories.length > 0 && (\r\n                  <div>\r\n                    <span className=\"font-semibold\">Categories:</span>\r\n                    <div className=\"flex flex-wrap gap-2 mt-2\">\r\n                      {profile.categories.map((cat, index) => (\r\n                        <Badge key={index} variant=\"secondary\" className=\"bg-green-100 text-green-800\">\r\n                          {localize(cat.name)}\r\n                        </Badge>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n        )}\r\n      </Tabs>\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\PublicBlogPage.jsx",
    "messages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchBlogs'. Either include it or remove the dependency array.",
        "line": 40,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 40,
        "endColumn": 70,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [searchTerm, selectedCategory, selectedTag, page, i18n.language, fetchBlogs]",
            "fix": {
              "range": [
                1565,
                1629
              ],
              "text": "[searchTerm, selectedCategory, selectedTag, page, i18n.language, fetchBlogs]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useSearchParams } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  Search,\r\n  Calendar,\r\n  Eye,\r\n  Tag as TagIcon,\r\n  Filter,\r\n  TrendingUp,\r\n} from 'lucide-react';\r\nimport { getBlogs, getBlogCategories, getBlogTags } from '@/services/api';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/UI/card.jsx';\r\nimport { Input } from '@/components/UI/input.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport localize from '@/utils/localize';\r\nimport Header from '../components/Headers/Header';\r\nimport Footer from '../components/Headers/Footer';\r\n\r\nconst PublicBlogPage = () => {\r\n  const { t, i18n } = useTranslation();\r\n  const navigate = useNavigate();\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n\r\n  const [blogs, setBlogs] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [tags, setTags] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState(searchParams.get('search') || '');\r\n  const [selectedCategory, setSelectedCategory] = useState(searchParams.get('category') || '');\r\n  const [selectedTag, setSelectedTag] = useState(searchParams.get('tag') || '');\r\n  const [page, setPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n\r\n  useEffect(() => {\r\n    fetchBlogs();\r\n    fetchCategories();\r\n    fetchTags();\r\n  }, [searchTerm, selectedCategory, selectedTag, page, i18n.language]);\r\n\r\n  const fetchBlogs = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getBlogs({\r\n        status: 'published',\r\n        search: searchTerm,\r\n        category: selectedCategory,\r\n        tag: selectedTag,\r\n        page,\r\n        limit: 12,\r\n      });\r\n      setBlogs(response.data.blogs || []);\r\n      setTotalPages(response.data.pagination?.pages || 1);\r\n    } catch (error) {\r\n      console.error('Failed to fetch blogs:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await getBlogCategories();\r\n      setCategories(response.data || []);\r\n    } catch (error) {\r\n      console.error('Failed to fetch categories:', error);\r\n    }\r\n  };\r\n\r\n  const fetchTags = async () => {\r\n    try {\r\n      const response = await getBlogTags();\r\n      setTags(response.data.slice(0, 20) || []);\r\n    } catch (error) {\r\n      console.error('Failed to fetch tags:', error);\r\n    }\r\n  };\r\n\r\n  const handleSearch = (value) => {\r\n    setSearchTerm(value);\r\n    setPage(1);\r\n    updateSearchParams({ search: value });\r\n  };\r\n\r\n  const handleCategoryFilter = (category) => {\r\n    setSelectedCategory(category);\r\n    setPage(1);\r\n    updateSearchParams({ category });\r\n  };\r\n\r\n  const handleTagFilter = (tag) => {\r\n    setSelectedTag(tag);\r\n    setPage(1);\r\n    updateSearchParams({ tag });\r\n  };\r\n\r\n  const updateSearchParams = (params) => {\r\n    const newParams = new URLSearchParams(searchParams);\r\n    Object.entries(params).forEach(([key, value]) => {\r\n      if (value) {\r\n        newParams.set(key, value);\r\n      } else {\r\n        newParams.delete(key);\r\n      }\r\n    });\r\n    setSearchParams(newParams);\r\n  };\r\n\r\n  const getLocalizedField = (item, field) => {\r\n    const lang = i18n.language;\r\n    if (lang === 'ar' && item[`${field}Ar`]) return item[`${field}Ar`];\r\n    if (lang === 'zh' && item[`${field}Zh`]) return item[`${field}Zh`];\r\n    return item[field];\r\n  };\r\n\r\n  const formatDate = (date) => {\r\n    return new Date(date).toLocaleDateString(i18n.language, {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n    });\r\n  };\r\n\r\n  const featuredBlogs = blogs.filter((blog) => blog.featured).slice(0, 3);\r\n  const regularBlogs = blogs.filter((blog) => !blog.featured);\r\n\r\n  return (\r\n    <>\r\n    <Header />\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Hero Section */}\r\n      <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-16\">\r\n        <div className=\"container mx-auto px-4\">\r\n          <h1 className=\"text-4xl md:text-5xl font-bold mb-4 text-center\">\r\n            {t('blog.title', 'Career Insights & Advice')}\r\n          </h1>\r\n          <p className=\"text-xl text-center mb-8 opacity-90\">\r\n            {t('blog.subtitle', 'Expert guidance for your career journey')}\r\n          </p>\r\n\r\n          {/* Search Bar */}\r\n          <div className=\"max-w-2xl mx-auto relative\">\r\n            <Search className=\"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5\" />\r\n            <Input\r\n              type=\"text\"\r\n              placeholder={t('blog.search_placeholder', 'Search articles...')}\r\n              value={searchTerm}\r\n              onChange={(e) => handleSearch(e.target.value)}\r\n              className=\"pl-12 py-6 text-lg bg-white text-gray-900\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-8\">\r\n          {/* Sidebar */}\r\n          <aside className=\"lg:col-span-1\">\r\n            {/* Categories */}\r\n            <Card className=\"mb-6\">\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Filter className=\"h-5 w-5\" />\r\n                  {t('blog.categories', 'Categories')}\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-2\">\r\n                  <Button\r\n                    variant={!selectedCategory ? 'default' : 'ghost'}\r\n                    className=\"w-full justify-start\"\r\n                    onClick={() => handleCategoryFilter('')}\r\n                  >\r\n                    {t('blog.all_categories', 'All Categories')}\r\n                  </Button>\r\n                  {categories.map((category) => (\r\n                    <Button\r\n                      key={category.id}\r\n                      variant={selectedCategory === category.slug ? 'default' : 'ghost'}\r\n                      className=\"w-full justify-start\"\r\n                      onClick={() => handleCategoryFilter(category.slug)}\r\n                    >\r\n                      {getLocalizedField(category, 'name')}\r\n                    </Button>\r\n                  ))}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Popular Tags */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <TagIcon className=\"h-5 w-5\" />\r\n                  {t('blog.popular_tags', 'Popular Tags')}\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {tags.map((tag) => (\r\n                    <Badge\r\n                      key={tag.tag ?? tag.id}\r\n                      variant={selectedTag === (tag.tag ?? tag.id) ? 'default' : 'outline'}\r\n                      className=\"cursor-pointer\"\r\n                      onClick={() => handleTagFilter((tag.tag ?? tag.id) === selectedTag ? '' : (tag.tag ?? tag.id))}\r\n                    >\r\n                      {tag.tag ?? tag.name ?? tag.id} ({tag.count ?? ''})\r\n                    </Badge>\r\n                  ))}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </aside>\r\n\r\n          {/* Main Content */}\r\n          <main className=\"lg:col-span-3\">\r\n            {/* Featured Posts */}\r\n            {featuredBlogs.length > 0 && (\r\n              <div className=\"mb-12\">\r\n                <h2 className=\"text-2xl font-bold mb-6 flex items-center gap-2\">\r\n                  <TrendingUp className=\"h-6 w-6\" />\r\n                  {t('blog.featured', 'Featured Articles')}\r\n                </h2>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                  {featuredBlogs.map((blog) => (\r\n                    <Card\r\n                      key={blog.id}\r\n                      className=\"cursor-pointer hover:shadow-lg transition-shadow\"\r\n                      onClick={() => navigate(`/blog/${blog.id}`)}\r\n                    >\r\n                      {blog.featuredImage && (\r\n                        <img\r\n                          src={blog.featuredImage}\r\n                          alt={getLocalizedField(blog, 'title')}\r\n                          className=\"w-full h-48 object-cover rounded-t-lg\"\r\n                        />\r\n                      )}\r\n                      <CardContent className=\"pt-4\">\r\n                        <h3 className=\"font-bold text-lg mb-2 line-clamp-2\">\r\n                          {getLocalizedField(blog, 'title')}\r\n                        </h3>\r\n                        <p className=\"text-sm text-gray-600 line-clamp-3 mb-4\">\r\n                          {getLocalizedField(blog, 'excerpt')}\r\n                        </p>\r\n                        <div className=\"flex items-center justify-between text-xs text-gray-500\">\r\n                          <span className=\"flex items-center gap-1\">\r\n                            <Calendar className=\"h-3 w-3\" />\r\n                            {formatDate(blog.publishedAt)}\r\n                          </span>\r\n                          <span className=\"flex items-center gap-1\">\r\n                            <Eye className=\"h-3 w-3\" />\r\n                            {blog.views || 0}\r\n                          </span>\r\n                        </div>\r\n                      </CardContent>\r\n                    </Card>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Regular Posts */}\r\n            {loading ? (\r\n              <div className=\"flex items-center justify-center py-12\">\r\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n              </div>\r\n            ) : regularBlogs.length > 0 ? (\r\n              <>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\r\n                  {regularBlogs.map((blog) => (\r\n                    <Card\r\n                      key={blog.id}\r\n                      className=\"cursor-pointer hover:shadow-lg transition-shadow\"\r\n                      onClick={() => navigate(`/blog/${blog.id}`)}\r\n                    >\r\n                      {blog.featuredImage && (\r\n                        <img\r\n                          src={blog.featuredImage}\r\n                          alt={getLocalizedField(blog, 'title')}\r\n                          className=\"w-full h-48 object-cover rounded-t-lg\"\r\n                        />\r\n                      )}\r\n                      <CardContent className=\"pt-4\">\r\n                        {blog.category && (\r\n                          <Badge className=\"mb-2\">{localize(blog.category.name)}</Badge>\r\n                        )}\r\n                        <h3 className=\"font-bold text-xl mb-2 line-clamp-2\">\r\n                          {getLocalizedField(blog, 'title')}\r\n                        </h3>\r\n                        <p className=\"text-gray-600 line-clamp-3 mb-4\">\r\n                          {getLocalizedField(blog, 'excerpt')}\r\n                        </p>\r\n                        <div className=\"flex items-center justify-between text-sm text-gray-500\">\r\n                          <span className=\"flex items-center gap-1\">\r\n                            <Calendar className=\"h-4 w-4\" />\r\n                            {formatDate(blog.publishedAt)}\r\n                          </span>\r\n                          <span className=\"flex items-center gap-1\">\r\n                            <Eye className=\"h-4 w-4\" />\r\n                            {blog.viewCount || 0} {t('blog.views', 'views')}\r\n                          </span>\r\n                        </div>\r\n                      </CardContent>\r\n                    </Card>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Pagination */}\r\n                {totalPages > 1 && (\r\n                  <div className=\"flex justify-center gap-2\">\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      disabled={page === 1}\r\n                      onClick={() => setPage(page - 1)}\r\n                    >\r\n                      {t('blog.previous', 'Previous')}\r\n                    </Button>\r\n                    <span className=\"flex items-center px-4\">\r\n                      {t('blog.page_of', 'Page {{page}} of {{total}}', { page, total: totalPages })}\r\n                    </span>\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      disabled={page === totalPages}\r\n                      onClick={() => setPage(page + 1)}\r\n                    >\r\n                      {t('blog.next', 'Next')}\r\n                    </Button>\r\n                  </div>\r\n                )}\r\n              </>\r\n            ) : (\r\n              <Card>\r\n                <CardContent className=\"py-12 text-center\">\r\n                  <p className=\"text-gray-500 text-lg\">\r\n                    {t('blog.no_results', 'No articles found matching your criteria')}\r\n                  </p>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n          </main>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PublicBlogPage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\RecruitCandidatePage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useTheme' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 14,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 14,
        "endColumn": 11,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useTheme"
            },
            "fix": {
              "range": [
                210,
                223
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useTheme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useAuth' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 52,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 52,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useAuth"
            },
            "fix": {
              "range": [
                843,
                892
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useAuth'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 53,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 53,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                894,
                929
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchCandidateData'. Either include it or remove the dependency array.",
        "line": 113,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 113,
        "endColumn": 19,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [candidateId, fetchCandidateData]",
            "fix": {
              "range": [
                2571,
                2584
              ],
              "text": "[candidateId, fetchCandidateData]"
            }
          }
        ]
      },
      {
        "ruleId": "no-case-declarations",
        "severity": 2,
        "message": "Unexpected lexical declaration in case block.",
        "line": 429,
        "column": 9,
        "nodeType": "VariableDeclaration",
        "messageId": "unexpected",
        "endLine": 429,
        "endColumn": 100,
        "suggestions": [
          {
            "messageId": "addBrackets",
            "fix": {
              "range": [
                13430,
                16389
              ],
              "text": "{ const position = useCustomPosition ? customPosition : jobs.find(j => j.id === selectedJob);\r\n        return (\r\n          <Box>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Review Recruitment Offer\r\n            </Typography>\r\n            \r\n            <Card sx={{ mb: 3 }}>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Position Details\r\n                </Typography>\r\n                <Typography><strong>Title:</strong> {position?.title}</Typography>\r\n                {position?.department && (\r\n                  <Typography><strong>Department:</strong> {position.department}</Typography>\r\n                )}\r\n                {position?.location && (\r\n                  <Typography><strong>Location:</strong> {position.location}</Typography>\r\n                )}\r\n                <Typography><strong>Type:</strong> {position?.jobType || position?.type}</Typography>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card sx={{ mb: 3 }}>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Offer Details\r\n                </Typography>\r\n                {(offerDetails.salaryMin || offerDetails.salaryMax) && (\r\n                  <Typography>\r\n                    <strong>Salary Range:</strong> \r\n                    {offerDetails.salaryMin && ` $${parseInt(offerDetails.salaryMin).toLocaleString()}`}\r\n                    {offerDetails.salaryMin && offerDetails.salaryMax && ' - '}\r\n                    {offerDetails.salaryMax && `$${parseInt(offerDetails.salaryMax).toLocaleString()}`}\r\n                  </Typography>\r\n                )}\r\n                {offerDetails.startDate && (\r\n                  <Typography><strong>Start Date:</strong> {new Date(offerDetails.startDate).toLocaleDateString()}</Typography>\r\n                )}\r\n                <Typography><strong>Priority:</strong> {offerDetails.urgency}</Typography>\r\n                \r\n                {offerDetails.benefits.length > 0 && (\r\n                  <Box mt={2}>\r\n                    <Typography variant=\"subtitle2\" gutterBottom>Benefits:</Typography>\r\n                    <Box display=\"flex\" flexWrap=\"wrap\" gap={0.5}>\r\n                      {offerDetails.benefits.map((benefit) => (\r\n                        <Chip key={benefit} label={benefit} size=\"small\" />\r\n                      ))}\r\n                    </Box>\r\n                  </Box>\r\n                )}\r\n                \r\n                {offerDetails.message && (\r\n                  <Box mt={2}>\r\n                    <Typography variant=\"subtitle2\" gutterBottom>Personal Message:</Typography>\r\n                    <Typography variant=\"body2\" sx={{ fontStyle: 'italic' }}>\r\n                      \"{offerDetails.message}\"\r\n                    </Typography>\r\n                  </Box>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n          </Box>\r\n        ); }"
            },
            "desc": "Add {} brackets around the case block."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Container,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Typography,\r\n  useTheme,\r\n  CircularProgress,\r\n  Alert,\r\n  Chip,\r\n  Avatar,\r\n  Stepper,\r\n  Step,\r\n  StepLabel,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Snackbar,\r\n  Grid,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemAvatar,\r\n  IconButton\r\n} from \"@mui/material\";\r\nimport { \r\n  PersonAdd,\r\n  Work,\r\n  Schedule,\r\n  AttachMoney,\r\n  LocationOn,\r\n  Email,\r\n  Phone,\r\n  LinkedIn,\r\n  School,\r\n  Star,\r\n  Close,\r\n  Send,\r\n  CheckCircle\r\n} from \"@mui/icons-material\";\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { getCandidateProfile, recruitCandidate, getJobPostings } from '@/services/api';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\n\r\nconst recruitmentSteps = [\r\n  'Select Position',\r\n  'Customize Offer',\r\n  'Review & Send'\r\n];\r\n\r\nexport default function RecruitCandidatePage() {\r\n  // const theme = useTheme(); // Removed: unused variable\n  const { candidateId } = useParams();\r\n  const navigate = useNavigate();\r\n  // const { user } = useAuth(); // Removed: unused variable\n  \r\n  const [candidate, setCandidate] = useState(null);\r\n  const [jobs, setJobs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: \"\", severity: \"success\" });\r\n  \r\n  // Recruitment form data\r\n  const [selectedJob, setSelectedJob] = useState('');\r\n  const [customPosition, setCustomPosition] = useState({\r\n    title: '',\r\n    department: '',\r\n    location: '',\r\n    jobType: 'Full-Time',\r\n    description: ''\r\n  });\r\n  const [offerDetails, setOfferDetails] = useState({\r\n    salaryMin: '',\r\n    salaryMax: '',\r\n    benefits: [],\r\n    startDate: '',\r\n    message: '',\r\n    urgency: 'normal'\r\n  });\r\n  const [useCustomPosition, setUseCustomPosition] = useState(false);\r\n\r\n  const benefitOptions = [\r\n    'Health Insurance',\r\n    'Dental Insurance',\r\n    'Vision Insurance',\r\n    '401(k) Matching',\r\n    'Paid Time Off',\r\n    'Remote Work Options',\r\n    'Professional Development',\r\n    'Stock Options',\r\n    'Flexible Hours',\r\n    'Gym Membership',\r\n    'Commuter Benefits',\r\n    'Life Insurance'\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (candidateId) {\r\n      fetchCandidateData();\r\n      fetchJobPostings();\r\n    }\r\n  }, [candidateId]);\r\n\r\n  const fetchCandidateData = async () => {\r\n    try {\r\n      const response = await getCandidateProfile(candidateId);\r\n      setCandidate(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching candidate:', error);\r\n      setError('Failed to load candidate information');\r\n    }\r\n  };\r\n\r\n  const fetchJobPostings = async () => {\r\n    try {\r\n      const response = await getJobPostings();\r\n      setJobs(response.data.jobs || []);\r\n    } catch (error) {\r\n      console.error('Error fetching jobs:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (activeStep === 0 && !selectedJob && !useCustomPosition) {\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Please select a position or create a custom one\",\r\n        severity: \"warning\"\r\n      });\r\n      return;\r\n    }\r\n    \r\n    if (activeStep === 0 && useCustomPosition && !customPosition.title) {\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Please enter a position title\",\r\n        severity: \"warning\"\r\n      });\r\n      return;\r\n    }\r\n\r\n    setActiveStep((prevStep) => prevStep + 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep((prevStep) => prevStep - 1);\r\n  };\r\n\r\n  const handleBenefitToggle = (benefit) => {\r\n    setOfferDetails(prev => ({\r\n      ...prev,\r\n      benefits: prev.benefits.includes(benefit)\r\n        ? prev.benefits.filter(b => b !== benefit)\r\n        : [...prev.benefits, benefit]\r\n    }));\r\n  };\r\n\r\n  const handleSendRecruitment = async () => {\r\n    try {\r\n      const recruitmentData = {\r\n        candidateId,\r\n        position: useCustomPosition ? customPosition : jobs.find(j => j.id === selectedJob),\r\n        offer: offerDetails,\r\n        isCustomPosition: useCustomPosition\r\n      };\r\n\r\n      await recruitCandidate(recruitmentData);\r\n      \r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Recruitment offer sent successfully!\",\r\n        severity: \"success\"\r\n      });\r\n\r\n      // Navigate back after a delay\r\n      setTimeout(() => {\r\n        navigate('/candidate-search');\r\n      }, 2000);\r\n\r\n    } catch (error) {\r\n      console.error('Error sending recruitment offer:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Failed to send recruitment offer. Please try again.\",\r\n        severity: \"error\"\r\n      });\r\n    }\r\n  };\r\n\r\n  const renderStepContent = (step) => {\r\n    switch (step) {\r\n      case 0:\r\n        return (\r\n          <Box>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Select Position for {candidate?.firstName} {candidate?.lastName}\r\n            </Typography>\r\n            \r\n            <Box mb={3}>\r\n              <Button\r\n                variant={!useCustomPosition ? \"contained\" : \"outlined\"}\r\n                onClick={() => setUseCustomPosition(false)}\r\n                sx={{ mr: 2 }}\r\n              >\r\n                Existing Position\r\n              </Button>\r\n              <Button\r\n                variant={useCustomPosition ? \"contained\" : \"outlined\"}\r\n                onClick={() => setUseCustomPosition(true)}\r\n              >\r\n                Create Custom Position\r\n              </Button>\r\n            </Box>\r\n\r\n            {!useCustomPosition ? (\r\n              <FormControl fullWidth>\r\n                <InputLabel>Select Job Position</InputLabel>\r\n                <Select\r\n                  value={selectedJob}\r\n                  onChange={(e) => setSelectedJob(e.target.value)}\r\n                  label=\"Select Job Position\"\r\n                >\r\n                  {jobs.map((job) => (\r\n                    <MenuItem key={job.id} value={job.id}>\r\n                      <Box>\r\n                        <Typography variant=\"body1\">{job.title}</Typography>\r\n                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                          {job.department} â€¢ {job.location}\r\n                        </Typography>\r\n                      </Box>\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            ) : (\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={12} md={6}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Position Title\"\r\n                    value={customPosition.title}\r\n                    onChange={(e) => setCustomPosition(prev => ({\r\n                      ...prev,\r\n                      title: e.target.value\r\n                    }))}\r\n                    required\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} md={6}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Department\"\r\n                    value={customPosition.department}\r\n                    onChange={(e) => setCustomPosition(prev => ({\r\n                      ...prev,\r\n                      department: e.target.value\r\n                    }))}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} md={6}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Location\"\r\n                    value={customPosition.location}\r\n                    onChange={(e) => setCustomPosition(prev => ({\r\n                      ...prev,\r\n                      location: e.target.value\r\n                    }))}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} md={6}>\r\n                  <FormControl fullWidth>\r\n                    <InputLabel>Job Type</InputLabel>\r\n                    <Select\r\n                      value={customPosition.jobType}\r\n                      onChange={(e) => setCustomPosition(prev => ({\r\n                        ...prev,\r\n                        jobType: e.target.value\r\n                      }))}\r\n                      label=\"Job Type\"\r\n                    >\r\n                      <MenuItem value=\"Full-Time\">Full-Time</MenuItem>\r\n                      <MenuItem value=\"Part-Time\">Part-Time</MenuItem>\r\n                      <MenuItem value=\"Contract\">Contract</MenuItem>\r\n                      <MenuItem value=\"Freelance\">Freelance</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    fullWidth\r\n                    multiline\r\n                    rows={4}\r\n                    label=\"Job Description\"\r\n                    value={customPosition.description}\r\n                    onChange={(e) => setCustomPosition(prev => ({\r\n                      ...prev,\r\n                      description: e.target.value\r\n                    }))}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n            )}\r\n          </Box>\r\n        );\r\n\r\n      case 1:\r\n        return (\r\n          <Box>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Customize Offer Details\r\n            </Typography>\r\n            \r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Minimum Salary\"\r\n                  type=\"number\"\r\n                  value={offerDetails.salaryMin}\r\n                  onChange={(e) => setOfferDetails(prev => ({\r\n                    ...prev,\r\n                    salaryMin: e.target.value\r\n                  }))}\r\n                  InputProps={{\r\n                    startAdornment: <AttachMoney />\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Maximum Salary\"\r\n                  type=\"number\"\r\n                  value={offerDetails.salaryMax}\r\n                  onChange={(e) => setOfferDetails(prev => ({\r\n                    ...prev,\r\n                    salaryMax: e.target.value\r\n                  }))}\r\n                  InputProps={{\r\n                    startAdornment: <AttachMoney />\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Preferred Start Date\"\r\n                  type=\"date\"\r\n                  value={offerDetails.startDate}\r\n                  onChange={(e) => setOfferDetails(prev => ({\r\n                    ...prev,\r\n                    startDate: e.target.value\r\n                  }))}\r\n                  InputLabelProps={{\r\n                    shrink: true,\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <FormControl fullWidth>\r\n                  <InputLabel>Urgency</InputLabel>\r\n                  <Select\r\n                    value={offerDetails.urgency}\r\n                    onChange={(e) => setOfferDetails(prev => ({\r\n                      ...prev,\r\n                      urgency: e.target.value\r\n                    }))}\r\n                    label=\"Urgency\"\r\n                  >\r\n                    <MenuItem value=\"low\">Low Priority</MenuItem>\r\n                    <MenuItem value=\"normal\">Normal</MenuItem>\r\n                    <MenuItem value=\"high\">High Priority</MenuItem>\r\n                    <MenuItem value=\"urgent\">Urgent</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12}>\r\n                <Typography variant=\"subtitle1\" gutterBottom>\r\n                  Benefits Package\r\n                </Typography>\r\n                <Box display=\"flex\" flexWrap=\"wrap\" gap={1}>\r\n                  {benefitOptions.map((benefit) => (\r\n                    <Chip\r\n                      key={benefit}\r\n                      label={benefit}\r\n                      clickable\r\n                      color={offerDetails.benefits.includes(benefit) ? \"primary\" : \"default\"}\r\n                      onClick={() => handleBenefitToggle(benefit)}\r\n                      variant={offerDetails.benefits.includes(benefit) ? \"filled\" : \"outlined\"}\r\n                    />\r\n                  ))}\r\n                </Box>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  fullWidth\r\n                  multiline\r\n                  rows={4}\r\n                  label=\"Personal Message\"\r\n                  value={offerDetails.message}\r\n                  onChange={(e) => setOfferDetails(prev => ({\r\n                    ...prev,\r\n                    message: e.target.value\r\n                  }))}\r\n                  placeholder=\"Add a personal message to make your offer more appealing...\"\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        );\r\n\r\n      case 2:\r\n        const position = useCustomPosition ? customPosition : jobs.find(j => j.id === selectedJob);\r\n        return (\r\n          <Box>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Review Recruitment Offer\r\n            </Typography>\r\n            \r\n            <Card sx={{ mb: 3 }}>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Position Details\r\n                </Typography>\r\n                <Typography><strong>Title:</strong> {position?.title}</Typography>\r\n                {position?.department && (\r\n                  <Typography><strong>Department:</strong> {position.department}</Typography>\r\n                )}\r\n                {position?.location && (\r\n                  <Typography><strong>Location:</strong> {position.location}</Typography>\r\n                )}\r\n                <Typography><strong>Type:</strong> {position?.jobType || position?.type}</Typography>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card sx={{ mb: 3 }}>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Offer Details\r\n                </Typography>\r\n                {(offerDetails.salaryMin || offerDetails.salaryMax) && (\r\n                  <Typography>\r\n                    <strong>Salary Range:</strong> \r\n                    {offerDetails.salaryMin && ` $${parseInt(offerDetails.salaryMin).toLocaleString()}`}\r\n                    {offerDetails.salaryMin && offerDetails.salaryMax && ' - '}\r\n                    {offerDetails.salaryMax && `$${parseInt(offerDetails.salaryMax).toLocaleString()}`}\r\n                  </Typography>\r\n                )}\r\n                {offerDetails.startDate && (\r\n                  <Typography><strong>Start Date:</strong> {new Date(offerDetails.startDate).toLocaleDateString()}</Typography>\r\n                )}\r\n                <Typography><strong>Priority:</strong> {offerDetails.urgency}</Typography>\r\n                \r\n                {offerDetails.benefits.length > 0 && (\r\n                  <Box mt={2}>\r\n                    <Typography variant=\"subtitle2\" gutterBottom>Benefits:</Typography>\r\n                    <Box display=\"flex\" flexWrap=\"wrap\" gap={0.5}>\r\n                      {offerDetails.benefits.map((benefit) => (\r\n                        <Chip key={benefit} label={benefit} size=\"small\" />\r\n                      ))}\r\n                    </Box>\r\n                  </Box>\r\n                )}\r\n                \r\n                {offerDetails.message && (\r\n                  <Box mt={2}>\r\n                    <Typography variant=\"subtitle2\" gutterBottom>Personal Message:</Typography>\r\n                    <Typography variant=\"body2\" sx={{ fontStyle: 'italic' }}>\r\n                      \"{offerDetails.message}\"\r\n                    </Typography>\r\n                  </Box>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n          </Box>\r\n        );\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container maxWidth=\"md\" sx={{ py: 4 }}>\r\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\r\n          <CircularProgress size={60} />\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Container maxWidth=\"md\" sx={{ py: 4 }}>\r\n        <Alert severity=\"error\">{error}</Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"md\" sx={{ py: 4 }}>\r\n      <Box mb={4}>\r\n        <Typography variant=\"h4\" fontWeight=\"bold\" gutterBottom>\r\n          Recruit Candidate\r\n        </Typography>\r\n        \r\n        {candidate && (\r\n          <Card sx={{ mb: 3 }}>\r\n            <CardContent>\r\n              <Box display=\"flex\" alignItems=\"center\" mb={2}>\r\n                <Avatar\r\n                  src={candidate.profileImage}\r\n                  sx={{ width: 60, height: 60, mr: 2 }}\r\n                >\r\n                  {candidate.firstName?.[0]}{candidate.lastName?.[0]}\r\n                </Avatar>\r\n                <Box>\r\n                  <Typography variant=\"h6\">\r\n                    {candidate.firstName} {candidate.lastName}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    {candidate.title || 'Job Seeker'}\r\n                  </Typography>\r\n                  {candidate.location && (\r\n                    <Box display=\"flex\" alignItems=\"center\" mt={0.5}>\r\n                      <LocationOn sx={{ fontSize: 16, mr: 0.5 }} />\r\n                      <Typography variant=\"body2\">{candidate.location}</Typography>\r\n                    </Box>\r\n                  )}\r\n                </Box>\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n      </Box>\r\n\r\n      <Card>\r\n        <CardContent>\r\n          <Stepper activeStep={activeStep} sx={{ mb: 4 }}>\r\n            {recruitmentSteps.map((label) => (\r\n              <Step key={label}>\r\n                <StepLabel>{label}</StepLabel>\r\n              </Step>\r\n            ))}\r\n          </Stepper>\r\n\r\n          {renderStepContent(activeStep)}\r\n\r\n          <Box display=\"flex\" justifyContent=\"space-between\" mt={4}>\r\n            <Button\r\n              disabled={activeStep === 0}\r\n              onClick={handleBack}\r\n            >\r\n              Back\r\n            </Button>\r\n            \r\n            {activeStep === recruitmentSteps.length - 1 ? (\r\n              <Button\r\n                variant=\"contained\"\r\n                onClick={handleSendRecruitment}\r\n                startIcon={<Send />}\r\n              >\r\n                Send Recruitment Offer\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                variant=\"contained\"\r\n                onClick={handleNext}\r\n              >\r\n                Next\r\n              </Button>\r\n            )}\r\n          </Box>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Snackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={6000}\r\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n      >\r\n        <Alert \r\n          onClose={() => setSnackbar({ ...snackbar, open: false })} \r\n          severity={snackbar.severity}\r\n        >\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Container>\r\n  );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\RegisterForm\\RegisterForm.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 211,
        "column": 52,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 211,
        "endColumn": 57,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                5528,
                5537
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 222,
        "column": 54,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 222,
        "endColumn": 59,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                5823,
                5832
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'user' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 256,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 256,
        "endColumn": 9,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "user"
            },
            "fix": {
              "range": [
                6561,
                6572
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'user'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'logout' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 257,
        "column": 5,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 257,
        "endColumn": 11,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "logout"
            },
            "fix": {
              "range": [
                6572,
                6585
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'logout'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  Container,\r\n  Paper,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Box,\r\n  Divider,\r\n  CircularProgress,\r\n  Alert,\r\n  IconButton,\r\n  InputAdornment,\r\n  Stack,\r\n  styled,\r\n  Menu,\r\n  MenuItem,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  Grid, // Added Grid import\r\n  Card, // Added Card import\r\n  CardContent, // Added CardContent import\r\n} from \"@mui/material\";\r\nimport {\r\n  User as UserIcon,\r\n  Briefcase as BriefcaseIcon,\r\n  Mail as MailIcon,\r\n  Linkedin as LinkedinIcon,\r\n  Loader2 as LoaderIcon,\r\n  AlertCircle as AlertCircleIcon,\r\n} from \"lucide-react\";\r\nimport {\r\n  CookieSharp,\r\n  Visibility,\r\n  VisibilityOff,\r\n  VideoCall, // Added VideoCall icon import\r\n  People, // Added People icon import\r\n  TrendingUp, // Added TrendingUp icon import\r\n} from \"@mui/icons-material\";\r\nimport { useAuth } from \"../../hooks/useAuth.jsx\";\r\n\r\n\r\n// Styled components\r\nconst RegisterContainer = styled(Box)(({ theme }) => ({\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  minHeight: '100vh',\r\n  padding: theme.spacing(3),\r\n  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n  position: 'relative',\r\n  '&::before': {\r\n    content: '\"\"',\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    background: 'url(\"data:image/svg+xml,%3Csvg width=\"60\" height=\"60\" viewBox=\"0 0 60 60\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cg fill=\"none\" fill-rule=\"evenodd\"%3E%3Cg fill=\"%23ffffff\" fill-opacity=\"0.05\"%3E%3Ccircle cx=\"30\" cy=\"30\" r=\"2\"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")',\r\n    animation: 'float 20s ease-in-out infinite',\r\n  },\r\n  '@keyframes float': {\r\n    '0%, 100%': { transform: 'translateY(0px)' },\r\n    '50%': { transform: 'translateY(-20px)' },\r\n  },\r\n}));\r\n\r\nconst RegisterFormContainer = styled(Paper)(({ theme }) => ({\r\n  width: 450,\r\n  padding: theme.spacing(4),\r\n  boxShadow: '0 20px 40px rgba(0,0,0,0.1), 0 0 0 1px rgba(255,255,255,0.05)',\r\n  borderRadius: '20px',\r\n  backgroundColor: 'rgba(255, 255, 255, 0.95)',\r\n  backdropFilter: 'blur(10px)',\r\n  border: '1px solid rgba(255, 255, 255, 0.2)',\r\n  position: 'relative',\r\n  zIndex: 1,\r\n  animation: 'slideUp 0.6s ease-out',\r\n  '@keyframes slideUp': {\r\n    '0%': { \r\n      opacity: 0, \r\n      transform: 'translateY(30px) scale(0.95)' \r\n    },\r\n    '100%': { \r\n      opacity: 1, \r\n      transform: 'translateY(0) scale(1)' \r\n    },\r\n  },\r\n  [theme.breakpoints.down('sm')]: {\r\n    width: '90%',\r\n    padding: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nconst RegisterFormTitle = styled(Typography)(({ theme }) => ({\r\n  marginBottom: theme.spacing(1),\r\n  fontWeight: 700,\r\n  fontSize: '2rem',\r\n  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n  backgroundClip: 'text',\r\n  WebkitBackgroundClip: 'text',\r\n  WebkitTextFillColor: 'transparent',\r\n  textAlign: 'center',\r\n}));\r\n\r\nconst RegisterFormSubtitle = styled(Typography)(({ theme }) => ({\r\n  color: '#6b7280',\r\n  marginBottom: theme.spacing(3),\r\n  textAlign: 'center',\r\n  fontSize: '1rem',\r\n  fontWeight: 400,\r\n}));\r\n\r\nconst InputField = styled(TextField)(({ theme }) => ({\r\n  width: '100%',\r\n  margin: theme.spacing(1.5, 0),\r\n  '& .MuiOutlinedInput-root': {\r\n    borderRadius: '12px',\r\n    backgroundColor: 'rgba(255, 255, 255, 0.8)',\r\n    transition: 'all 0.3s ease',\r\n    '& fieldset': {\r\n      borderColor: 'rgba(0, 0, 0, 0.1)',\r\n      borderWidth: '2px',\r\n    },\r\n    '&:hover fieldset': {\r\n      borderColor: '#667eea',\r\n      boxShadow: '0 0 0 3px rgba(102, 126, 234, 0.1)',\r\n    },\r\n    '&.Mui-focused fieldset': {\r\n      borderColor: '#667eea',\r\n      boxShadow: '0 0 0 3px rgba(102, 126, 234, 0.1)',\r\n    },\r\n  },\r\n  '& .MuiInputLabel-root': {\r\n    color: '#6b7280',\r\n    fontWeight: 500,\r\n  },\r\n  '& .MuiInputLabel-root.Mui-focused': {\r\n    color: '#667eea',\r\n  },\r\n  '& input': {\r\n    padding: theme.spacing(1.5),\r\n    fontSize: '1rem',\r\n  },\r\n}));\r\n\r\nconst RegisterButton = styled(Button)(({ theme }) => ({\r\n  width: '100%',\r\n  padding: theme.spacing(1.75),\r\n  marginTop: theme.spacing(2),\r\n  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n  color: 'white',\r\n  border: 'none',\r\n  borderRadius: '12px',\r\n  fontWeight: 600,\r\n  fontSize: '1rem',\r\n  textTransform: 'none',\r\n  cursor: 'pointer',\r\n  transition: 'all 0.3s ease',\r\n  boxShadow: '0 4px 15px rgba(102, 126, 234, 0.3)',\r\n  '&:hover': {\r\n    transform: 'translateY(-2px)',\r\n    boxShadow: '0 8px 25px rgba(102, 126, 234, 0.4)',\r\n  },\r\n  '&:active': {\r\n    transform: 'translateY(0)',\r\n  },\r\n  '&:disabled': {\r\n    background: '#e5e7eb',\r\n    color: '#9ca3af',\r\n    boxShadow: 'none',\r\n    transform: 'none',\r\n  },\r\n}));\r\n\r\nconst SocialDivider = styled(Divider)(({ theme }) => ({\r\n  margin: theme.spacing(3, 0),\r\n  '&::before, &::after': {\r\n    borderColor: 'rgba(0, 0, 0, 0.1)',\r\n  },\r\n  '& .MuiDivider-wrapper': {\r\n    color: '#6b7280',\r\n    fontSize: '0.875rem',\r\n    fontWeight: 500,\r\n    padding: theme.spacing(0, 2),\r\n    backgroundColor: 'rgba(255, 255, 255, 0.95)',\r\n  },\r\n}));\r\n\r\nconst SocialButton = styled(Button)(({ theme }) => ({\r\n  flexGrow: 1,\r\n  margin: theme.spacing(0, 0.5),\r\n  padding: theme.spacing(1.5),\r\n  borderRadius: '12px',\r\n  textTransform: 'none',\r\n  fontWeight: 500,\r\n  fontSize: '0.875rem',\r\n  transition: 'all 0.3s ease',\r\n  '&:hover': {\r\n    transform: 'translateY(-1px)',\r\n  },\r\n}));\r\n\r\nconst GoogleSignUpButton = styled(SocialButton)(({ theme }) => ({\r\n  backgroundColor: '#fff',\r\n  color: '#db4437',\r\n  border: '2px solid #db4437',\r\n  '&:hover': {\r\n    backgroundColor: '#fef2f2',\r\n    borderColor: '#dc2626',\r\n    boxShadow: '0 4px 12px rgba(219, 68, 55, 0.2)',\r\n  },\r\n}));\r\n\r\nconst LinkedInSignUpButton = styled(SocialButton)(({ theme }) => ({\r\n  backgroundColor: '#0077b5',\r\n  color: 'white',\r\n  border: '2px solid #0077b5',\r\n  '&:hover': {\r\n    backgroundColor: '#005885',\r\n    borderColor: '#005885',\r\n    boxShadow: '0 4px 12px rgba(0, 119, 181, 0.3)',\r\n  },\r\n}));\r\n\r\nconst LoginLink = styled(Typography)(({ theme }) => ({\r\n  textAlign: 'center',\r\n  marginTop: theme.spacing(3),\r\n  color: '#6b7280',\r\n  cursor: 'pointer',\r\n  fontSize: '0.875rem',\r\n  transition: 'color 0.3s ease',\r\n  '&:hover': {\r\n    color: '#667eea',\r\n  },\r\n}));\r\n\r\n\r\n\r\n// Styled components (keep the same as original)\r\n\r\nconst RegisterForm = () => {\r\n  const {\r\n    signupWithEmail,\r\n    authenticateWithGoogle,\r\n    authenticateWithLinkedIn,\r\n    loading: authLoading,\r\n    error: authError,\r\n    user,\r\n    logout,\r\n  } = useAuth();\r\n\r\n  const [formData, setFormData] = useState({\r\n    fullName: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    role: \"\",\r\n  });\r\n  const [loading, setLoading] = useState({\r\n    normal: false,\r\n    google: false,\r\n    linkedin: false,\r\n  });\r\n  const [error, setError] = useState(\"\");\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [currentProvider, setCurrentProvider] = useState(null);\r\n  const [providerForMenu, setProviderForMenu] = useState(null);\r\n  const [openHowItWorks, setOpenHowItWorks] = useState(false); // State for How It Works dialog\r\n  const [howItWorksAccepted, setHowItWorksAccepted] = useState(false); // State for checkbox\r\n  const navigate = useNavigate();\r\n\r\n  // Menu handlers\r\n  const handleMenuOpen = (event, provider) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setProviderForMenu(provider);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n    setProviderForMenu(null);\r\n    setCurrentProvider(null);\r\n  };\r\n\r\n  // Accept provider as argument\r\n  const handleRoleSelect = (role, provider) => {\r\n    handleMenuClose();\r\n    setFormData((prev) => ({ ...prev, role }));\r\n    setCurrentProvider(provider); // Set provider here\r\n    setOpenHowItWorks(true);\r\n  };\r\n\r\n  const handleHowItWorksClose = () => {\r\n    setOpenHowItWorks(false);\r\n    setHowItWorksAccepted(false); // Reset checkbox on close\r\n    setFormData((prev) => ({ ...prev, role: \"\" })); // Clear role if not accepted\r\n  };\r\n\r\n  const handleHowItWorksConfirm = () => {\r\n    setOpenHowItWorks(false);\r\n    // Proceed with signup after confirmation\r\n    if (currentProvider === 'google') {\r\n      handleGoogleSignUp(formData.role);\r\n    } else if (currentProvider === 'linkedin') {\r\n      handleLinkedInSignUp(formData.role);\r\n    } else {\r\n      handleNormalSignup(); // For email/password signup\r\n    }\r\n  };\r\n\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleRoleChange = (role) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      role: prev.role === role ? \"\" : role,\r\n    }));\r\n  };\r\n\r\n  const navigateAsRole = (role) => {\r\n    if (!role) {\r\n      console.error(\"No role provided for navigation\");\r\n      setError(\"Unable to determine user role\");\r\n      return;\r\n    }\r\n\r\n\r\n    switch (role.toLowerCase()) {\r\n      case \"job_seeker\":\r\n        navigate(\"/jobseeker-tabs\");\r\n        break;\r\n      case \"employer\":\r\n        navigate(\"/employer-tabs\");\r\n        break;\r\n      case \"admin\":\r\n        navigate(\"/admin-dashboard\");\r\n        break;\r\n      default:\r\n        console.error(\"Unknown role:\", role);\r\n        navigate(\"/\");\r\n    }\r\n  };\r\n\r\n  const handleNormalSignup = async (e) => {\r\n    // Only prevent default if event object exists\r\n    if (e) e.preventDefault();\r\n\r\n    setLoading({ normal: true, google: false, linkedin: false });\r\n    setError(\"\");\r\n\r\n    // Validation\r\n    if (!formData.role) {\r\n      setError(\"Please select a role (Job Seeker or Employer)\");\r\n      setLoading({ normal: false, google: false, linkedin: false });\r\n      return;\r\n    }\r\n    if (formData.password.length < 2) {\r\n      setError(\"Password must be at least 6 characters long\");\r\n      setLoading({ normal: false, google: false, linkedin: false });\r\n      return;\r\n    }\r\n    if (formData.password !== formData.confirmPassword) {\r\n      setError(\"Passwords do not match\");\r\n      setLoading({ normal: false, google: false, linkedin: false });\r\n      return;\r\n    }\r\n    // No longer check howItWorksAccepted here, as the dialog handles it\r\n    // if (!howItWorksAccepted) {\r\n    //   setOpenHowItWorks(true); // Open dialog if not accepted\r\n    //   setLoading({ normal: false, google: false, linkedin: false });\r\n    //   return;\r\n    // }\r\n\r\n    try {\r\n      const result = await signupWithEmail(\r\n        formData.email,\r\n        formData.password,\r\n        formData.fullName,\r\n        formData.role\r\n      );\r\n\r\n      if (result?.error) {\r\n        setError(result.message || \"Registration failed\");\r\n      } else {\r\n        const userRole = result?.user?.role || result?.role;\r\n        if (userRole) {\r\n          navigateAsRole(userRole);\r\n        } else {\r\n          setError(\"Registration successful but unable to determine user role\");\r\n        }\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || \"Registration failed\");\r\n    } finally {\r\n      setLoading({ normal: false, google: false, linkedin: false });\r\n    }\r\n  };\r\n\r\n  const handleGoogleSignUp = async (role) => {\r\n    if (!role) {\r\n      setError(\"Please select a role\");\r\n      return;\r\n    }\r\n    // No longer check howItWorksAccepted here, as the dialog handles it\r\n    // if (!howItWorksAccepted) {\r\n    //   setOpenHowItWorks(true);\r\n    //   return;\r\n    // }\r\n\r\n    setLoading({ normal: false, google: true, linkedin: false });\r\n    setError(\"\");\r\n\r\n    try {\r\n      const result = await authenticateWithGoogle(role);\r\n\r\n      if (result.error) {\r\n        setError(result.message || \"Google signup failed\");\r\n      } else {\r\n        const userRole = result?.user?.role || result?.role;\r\n        if (userRole) {\r\n          navigateAsRole(userRole);\r\n        } else {\r\n          setError(\"Google signup successful but unable to determine user role\");\r\n        }\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || \"Google signup failed\");\r\n    } finally {\r\n      setLoading({ normal: false, google: false, linkedin: false });\r\n    }\r\n  };\r\n\r\n  const handleLinkedInSignUp = async (role) => {\r\n    if (!role) {\r\n      setError(\"Please select a role\");\r\n      return;\r\n    }\r\n    // No longer check howItWorksAccepted here, as the dialog handles it\r\n    // if (!howItWorksAccepted) {\r\n    //   setOpenHowItWorks(true);\r\n    //   return;\r\n    // }\r\n\r\n    setLoading({ normal: false, google: false, linkedin: true });\r\n    setError(\"\");\r\n\r\n    try {\r\n      const result = await authenticateWithLinkedIn(role);\r\n\r\n      if (result.error) {\r\n        setError(result.message || \"LinkedIn signup failed\");\r\n      } else {\r\n        const userRole = result?.user?.role || result?.role;\r\n        if (userRole) {\r\n          navigateAsRole(userRole);\r\n        } else {\r\n          setError(\"LinkedIn signup successful but unable to determine user role\");\r\n        }\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || \"LinkedIn signup failed\");\r\n    } finally {\r\n      setLoading({ normal: false, google: false, linkedin: false });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (authError) {\r\n      setError(authError);\r\n    }\r\n  }, [authError]);\r\n\r\n  return (\r\n    <RegisterContainer>\r\n      <RegisterFormContainer>\r\n        <RegisterFormTitle variant=\"h5\">Create Your Account</RegisterFormTitle>\r\n        <RegisterFormSubtitle>Join our platform to find your perfect job match</RegisterFormSubtitle>\r\n\r\n        <Box component=\"form\" onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentProvider('email'); // Set provider for email signup\r\n          setOpenHowItWorks(true); // Always open dialog before normal signup attempt\r\n        }}>\r\n          {/* Form fields remain the same */}\r\n          <InputField\r\n            label=\"Full Name\"\r\n            type=\"text\"\r\n            name=\"fullName\"\r\n            placeholder=\"Enter your full name\"\r\n            value={formData.fullName}\r\n            onChange={handleChange}\r\n            required\r\n            variant=\"outlined\"\r\n          />\r\n\r\n          <InputField\r\n            label=\"Email Address\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Enter your email address\"\r\n            value={formData.email}\r\n            onChange={handleChange}\r\n            required\r\n            variant=\"outlined\"\r\n          />\r\n\r\n          <InputField\r\n            label=\"Password\"\r\n            type={showPassword ? \"text\" : \"password\"}\r\n            name=\"password\"\r\n            placeholder=\"Create a password\"\r\n            value={formData.password}\r\n            onChange={handleChange}\r\n            required\r\n            variant=\"outlined\"\r\n            InputProps={{\r\n              endAdornment: (\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton\r\n                    onClick={() => setShowPassword(!showPassword)}\r\n                    edge=\"end\"\r\n                  >\r\n                    {showPassword ? <VisibilityOff /> : <Visibility />}\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n\r\n          <InputField\r\n            label=\"Confirm Password\"\r\n            type=\"password\"\r\n            name=\"confirmPassword\"\r\n            placeholder=\"Confirm your password\"\r\n            value={formData.confirmPassword}\r\n            onChange={handleChange}\r\n            required\r\n            variant=\"outlined\"\r\n          />\r\n\r\n          <Typography variant=\"body2\" sx={{ \r\n            mt: 2, \r\n            mb: 2, \r\n            fontWeight: 600, \r\n            color: '#374151',\r\n            textAlign: 'center'\r\n          }}>\r\n            Select your role\r\n          </Typography>\r\n          <Stack direction=\"row\" spacing={2}>\r\n            <Button\r\n              variant={formData.role === \"job_seeker\" ? \"contained\" : \"outlined\"}\r\n              fullWidth\r\n              onClick={() => handleRoleChange(\"job_seeker\")}\r\n              startIcon={<UserIcon />}\r\n              sx={{\r\n                borderRadius: '12px',\r\n                textTransform: 'none',\r\n                fontWeight: 600,\r\n                py: 1.5,\r\n                transition: 'all 0.3s ease',\r\n                ...(formData.role === \"job_seeker\" ? {\r\n                  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                  boxShadow: '0 4px 15px rgba(102, 126, 234, 0.3)',\r\n                  '&:hover': {\r\n                    transform: 'translateY(-2px)',\r\n                    boxShadow: '0 8px 25px rgba(102, 126, 234, 0.4)',\r\n                  }\r\n                } : {\r\n                  borderColor: '#d1d5db',\r\n                  color: '#6b7280',\r\n                  '&:hover': {\r\n                    borderColor: '#667eea',\r\n                    color: '#667eea',\r\n                    backgroundColor: 'rgba(102, 126, 234, 0.05)',\r\n                  }\r\n                })\r\n              }}\r\n            >\r\n              Job Seeker\r\n            </Button>\r\n            <Button\r\n              variant={formData.role === \"employer\" ? \"contained\" : \"outlined\"}\r\n              fullWidth\r\n              onClick={() => handleRoleChange(\"employer\")}\r\n              startIcon={<BriefcaseIcon />}\r\n              sx={{\r\n                borderRadius: '12px',\r\n                textTransform: 'none',\r\n                fontWeight: 600,\r\n                py: 1.5,\r\n                transition: 'all 0.3s ease',\r\n                ...(formData.role === \"employer\" ? {\r\n                  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                  boxShadow: '0 4px 15px rgba(102, 126, 234, 0.3)',\r\n                  '&:hover': {\r\n                    transform: 'translateY(-2px)',\r\n                    boxShadow: '0 8px 25px rgba(102, 126, 234, 0.4)',\r\n                  }\r\n                } : {\r\n                  borderColor: '#d1d5db',\r\n                  color: '#6b7280',\r\n                  '&:hover': {\r\n                    borderColor: '#667eea',\r\n                    color: '#667eea',\r\n                    backgroundColor: 'rgba(102, 126, 234, 0.05)',\r\n                  }\r\n                })\r\n              }}\r\n            >\r\n              Employer\r\n            </Button>\r\n          </Stack>\r\n\r\n          {/* The main RegisterButton is now only disabled by loading states */}\r\n          <RegisterButton type=\"submit\" disabled={loading.normal || authLoading}>\r\n            {loading.normal ? (\r\n              <>\r\n                <LoaderIcon className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                Signing Up...\r\n              </>\r\n            ) : (\r\n              \"Sign Up\"\r\n            )}\r\n          </RegisterButton>\r\n        </Box>\r\n\r\n        <SocialDivider>\r\n          <Typography variant=\"body2\">Or sign up with</Typography>\r\n        </SocialDivider>\r\n\r\n        <Stack direction=\"row\" spacing={2} justifyContent=\"center\">\r\n          {/* Google Sign Up Button with Menu */}\r\n          <Box>\r\n            <GoogleSignUpButton\r\n              onClick={(e) => handleMenuOpen(e, 'google')}\r\n              disabled={loading.google || authLoading}\r\n              startIcon={<MailIcon />}\r\n            >\r\n              {loading.google ? (\r\n                <LoaderIcon className=\"mr-2 h-4 w-4 animate-spin\" />\r\n              ) : (\r\n                \"Google\"\r\n              )}\r\n            </GoogleSignUpButton>\r\n          </Box>\r\n\r\n          {/* LinkedIn Sign Up Button with Menu */}\r\n          <Box>\r\n            <LinkedInSignUpButton\r\n              onClick={(e) => handleMenuOpen(e, 'linkedin')}\r\n              disabled={loading.linkedin || authLoading}\r\n              startIcon={<LinkedinIcon />}\r\n            >\r\n              {loading.linkedin ? (\r\n                <LoaderIcon className=\"mr-2 h-4 w-4 animate-spin\" />\r\n              ) : (\r\n                \"LinkedIn\"\r\n              )}\r\n            </LinkedInSignUpButton>\r\n          </Box>\r\n        </Stack>\r\n\r\n        {/* Role Selection Menu */}\r\n        <Menu\r\n          anchorEl={anchorEl}\r\n          open={Boolean(anchorEl)}\r\n          onClose={handleMenuClose}\r\n        >\r\n          <MenuItem onClick={() => handleRoleSelect('job_seeker', providerForMenu)}>\r\n            <UserIcon className=\"mr-2 h-4 w-4\" />\r\n            Sign up as Job Seeker\r\n          </MenuItem>\r\n          <MenuItem onClick={() => handleRoleSelect('employer', providerForMenu)}>\r\n            <BriefcaseIcon className=\"mr-2 h-4 w-4\" />\r\n            Sign up as Employer\r\n          </MenuItem>\r\n        </Menu>\r\n\r\n        {error && (\r\n          <Alert\r\n            severity=\"error\"\r\n            sx={{\r\n              mt: 2,\r\n              display: 'flex',\r\n              alignItems: 'center'\r\n            }}\r\n            onClose={() => setError(\"\")}\r\n          >\r\n            <AlertCircleIcon className=\"mr-2 h-4 w-4\" />\r\n            {error}\r\n          </Alert>\r\n        )}\r\n\r\n        <LoginLink onClick={() => navigate(\"/login\")}>\r\n          Already have an account? Log in\r\n        </LoginLink>\r\n      </RegisterFormContainer>\r\n\r\n      {/* How SwipeScout Works Dialog */}\r\n      <Dialog\r\n        open={openHowItWorks}\r\n        onClose={handleHowItWorksClose}\r\n        aria-labelledby=\"how-it-works-dialog-title\"\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle id=\"how-it-works-dialog-title\" sx={{ textAlign: 'center', fontWeight: 'bold' }}>\r\n          How SwipeScout Works\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n         \r\n          <Grid container spacing={4} justifyContent=\"center\">\r\n            {[\r\n              {\r\n                icon: <VideoCall sx={{ fontSize: 40, color: \"#3b82f6\" }} />,\r\n                title: \"1. Create Your Video Profile\",\r\n                description:\r\n                  \"Job seekers record a short video resume. Employers create video job postings or company profiles.\",\r\n                bgColor: \"rgba(59, 130, 246, 0.1)\",\r\n              },\r\n              {\r\n                icon: <People sx={{ fontSize: 40, color: \"#06b6d4\" }} />,\r\n                title: \"2. Discover & Connect\",\r\n                description:\r\n                  \"Swipe through video profiles or use our smart matching to find perfect candidates or opportunities.\",\r\n                bgColor: \"rgba(6, 182, 212, 0.1)\",\r\n              },\r\n              {\r\n                icon: <TrendingUp sx={{ fontSize: 40, color: \"#67e8f9\" }} />,\r\n                title: \"3. Grow Your Career\",\r\n                description:\r\n                  \"Build meaningful connections that lead to interviews, hires, and career growth.\",\r\n                bgColor: \"rgba(103, 232, 249, 0.1)\",\r\n              },\r\n            ].map((step, index) => (\r\n              <Grid item xs={12} sm={6} md={4} key={index}>\r\n                <Card sx={{ height: \"100%\", display: \"flex\", flexDirection: \"column\", boxShadow: 'none' }}>\r\n                  <CardContent\r\n                    sx={{\r\n                      flexGrow: 1,\r\n                      display: \"flex\",\r\n                      flexDirection: \"column\",\r\n                      height: \"100%\",\r\n                      p: 3,\r\n                    }}\r\n                  >\r\n                    <Box\r\n                      sx={{\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"center\",\r\n                        width: 80,\r\n                        height: 80,\r\n                        bgcolor: step.bgColor,\r\n                        borderRadius: \"50%\",\r\n                        mb: 3,\r\n                        mx: \"auto\",\r\n                      }}\r\n                    >\r\n                      {step.icon}\r\n                    </Box>\r\n                    <Typography\r\n                      variant=\"h5\"\r\n                      component=\"h3\"\r\n                      sx={{\r\n                        mb: 2,\r\n                        fontWeight: 600,\r\n                        textAlign: \"center\",\r\n                        color: \"#1f2937\",\r\n                      }}\r\n                    >\r\n                      {step.title}\r\n                    </Typography>\r\n                    <Box sx={{ flexGrow: 1 }}>\r\n                      <Typography\r\n                        variant=\"body1\"\r\n                        sx={{\r\n                          color: \"#4b5563\",\r\n                          textAlign: \"center\",\r\n                        }}\r\n                      >\r\n                        {step.description}\r\n                      </Typography>\r\n                    </Box>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n          <Box sx={{ mt: 3, textAlign: 'center' }}>\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  checked={howItWorksAccepted}\r\n                  onChange={(e) => setHowItWorksAccepted(e.target.checked)}\r\n                  color=\"primary\"\r\n                />\r\n              }\r\n              label=\"I have read and understood how SwipeScout works.\"\r\n            />\r\n          </Box>\r\n        </DialogContent>\r\n        <DialogActions sx={{ justifyContent: 'center', p: 2 }}>\r\n          <Box sx={{ mt: 3, textAlign: 'center' }}>\r\n            {/* Only one checkbox, or if you want two, both controlled by same state */}\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  checked={howItWorksAccepted}\r\n                  onChange={(e) => setHowItWorksAccepted(e.target.checked)}\r\n                  color=\"primary\"\r\n                />\r\n              }\r\n              label=\"I have read and understood how SwipeScout works.\"\r\n            />\r\n            {/* If you want a second checkbox, just duplicate this block, but use the same state */}\r\n            {/* \r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  checked={howItWorksAccepted}\r\n                  onChange={(e) => setHowItWorksAccepted(e.target.checked)}\r\n                  color=\"primary\"\r\n                />\r\n              }\r\n              label=\"I have read and understood how SwipeScout works.\"\r\n            />\r\n            */}\r\n          </Box>\r\n          <Button\r\n            onClick={handleHowItWorksConfirm}\r\n            disabled={!howItWorksAccepted}\r\n            variant=\"contained\"\r\n            sx={{\r\n              bgcolor: \"#3b82f6\",\r\n              color: \"#ffffff\",\r\n              fontWeight: 600,\r\n              px: 4,\r\n              py: 1.5,\r\n              \"&:hover\": {\r\n                bgcolor: \"#2563eb\",\r\n              },\r\n            }}\r\n          >\r\n            Proceed to Sign Up\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </RegisterContainer>\r\n  );\r\n};RegisterForm;\r\n\r\nexport default RegisterForm;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\ResetPasswordPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState, useEffect  } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { \r\n  Box, \r\n  Button, \r\n  Container, \r\n  TextField, \r\n  Typography, \r\n  Alert, \r\n  CircularProgress \r\n} from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport { resetPassword } from '@/services/api';\r\nimport Paper from '@mui/material/Paper';\r\n\r\n// Reuse the same styled components\r\nconst LoginContainer = styled(Box)(({ theme }) => ({\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  minHeight: '100vh',\r\n  padding: theme.spacing(3),\r\n  backgroundColor: theme.palette.background.default,\r\n}));\r\n\r\nconst LoginFormContainer = styled(Paper)(({ theme }) => ({\r\n  width: 400,\r\n  padding: theme.spacing(3),\r\n  boxShadow: '0 0 15px rgba(0,0,0,0.1)',\r\n  borderRadius: '10px',\r\n  backgroundColor: '#f9f9f9',\r\n  [theme.breakpoints.down('sm')]: {\r\n    width: '90%',\r\n  },\r\n}));\r\n\r\nconst LoginFormTitle = styled(Typography)(({ theme }) => ({\r\n  marginBottom: theme.spacing(1.25),\r\n}));\r\n\r\nconst InputField = styled(TextField)(({ theme }) => ({\r\n  width: '100%',\r\n  margin: theme.spacing(1, 0),\r\n  borderRadius: '5px',\r\n  '& .MuiOutlinedInput-root': {\r\n    '& fieldset': {\r\n      borderColor: theme.palette.mode === 'light' ? '#e0e0e0' : theme.palette.grey[700],\r\n    },\r\n    '&:hover fieldset': {\r\n      borderColor: theme.palette.primary.main,\r\n    },\r\n    '&.Mui-focused fieldset': {\r\n      borderColor: theme.palette.primary.main,\r\n    },\r\n  },\r\n  '& input': {\r\n    padding: theme.spacing(1.5),\r\n    backgroundColor: theme.palette.mode === 'light' ? '#fff' : theme.palette.grey[900],\r\n  },\r\n}));\r\n\r\nconst LoginButton = styled(Button)(({ theme }) => ({\r\n  width: '100%',\r\n  padding: theme.spacing(1.5),\r\n  marginTop: theme.spacing(2),\r\n  backgroundColor: '#5c6bc0',\r\n  color: 'white',\r\n  border: 'none',\r\n  borderRadius: '25px',\r\n  fontWeight: 'bold',\r\n  cursor: 'pointer',\r\n  '&:hover': {\r\n    backgroundColor: theme.palette.primary.dark,\r\n  },\r\n}));\r\n\r\nconst ResetPasswordPage = () => {\r\n  const { oobCode } = useParams();\r\n  const navigate = useNavigate();\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isValidCode, setIsValidCode] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!oobCode) {\r\n      setIsValidCode(false);\r\n      setError('Invalid reset code');\r\n    }\r\n  }, [oobCode]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    if (newPassword !== confirmPassword) {\r\n      setError('Passwords do not match');\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      await resetPassword({ oobCode, newPassword });\r\n      setSuccess('Password has been reset successfully');\r\n      setTimeout(() => {\r\n        navigate('/login');\r\n      }, 2000);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to reset password');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  if (!isValidCode) {\r\n    return (\r\n      <LoginContainer>\r\n        <LoginFormContainer>\r\n          <Alert severity=\"error\">\r\n            {error}\r\n          </Alert>\r\n        </LoginFormContainer>\r\n      </LoginContainer>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <LoginContainer>\r\n      <LoginFormContainer>\r\n        <LoginFormTitle variant=\"h5\">Reset Password</LoginFormTitle>\r\n\r\n        {error && (\r\n          <Alert severity=\"error\" sx={{ mt: 2 }}>\r\n            {error}\r\n          </Alert>\r\n        )}\r\n\r\n        {success && (\r\n          <Alert severity=\"success\" sx={{ mt: 2 }}>\r\n            {success}\r\n          </Alert>\r\n        )}\r\n\r\n        <Box component=\"form\" onSubmit={handleSubmit}>\r\n          <InputField\r\n            label=\"New Password\"\r\n            type=\"password\"\r\n            name=\"newPassword\"\r\n            value={newPassword}\r\n            onChange={(e) => setNewPassword(e.target.value)}\r\n            required\r\n          />\r\n          <InputField\r\n            label=\"Confirm New Password\"\r\n            type=\"password\"\r\n            name=\"confirmPassword\"\r\n            value={confirmPassword}\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n            required\r\n          />\r\n          <LoginButton\r\n            type=\"submit\"\r\n            disabled={isLoading}\r\n          >\r\n            {isLoading ? <CircularProgress size={24} color=\"inherit\" /> : 'Reset Password'}\r\n          </LoginButton>\r\n        </Box>\r\n      </LoginFormContainer>\r\n    </LoginContainer>\r\n  );\r\n};\r\n\r\nexport default ResetPasswordPage;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\ResumeBuilderPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useAuth' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 9,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 9,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useAuth"
            },
            "fix": {
              "range": [
                177,
                226
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useAuth'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'themeColors' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 51,
        "column": 8,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 51,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "themeColors"
            },
            "fix": {
              "range": [
                1292,
                1309
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'themeColors'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n  extractCVData,\r\n  generateResume,\r\n  previewResume,\r\n  saveResume,\r\n  getUserResumes\r\n} from '@/services/api';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/UI/card.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Input } from '@/components/UI/input.jsx';\r\nimport { Label } from '@/components/UI/label.jsx';\r\nimport { Textarea } from '@/components/UI/textarea.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/UI/tabs.jsx';\r\nimport {\r\n  Accordion,\r\n  AccordionContent,\r\n  AccordionItem,\r\n  AccordionTrigger,\r\n} from '@/components/UI/accordion.jsx';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n} from '@/components/UI/dialog.jsx';\r\nimport { Progress } from '@/components/UI/progress.jsx';\r\nimport {\r\n  Upload,\r\n  Download,\r\n  Eye,\r\n  Plus,\r\n  Trash2,\r\n  Edit,\r\n  Save,\r\n  FileText,\r\n  Briefcase,\r\n  GraduationCap,\r\n  Award,\r\n  Languages,\r\n  Trophy,\r\n  Loader2,\r\n  File,\r\n  ChevronDown\r\n} from 'lucide-react';\r\nimport themeColors from '@/config/theme-colors-jobseeker';\r\n\r\nexport default function ResumeBuilderPage() {\r\n  // const { user } = useAuth(); // Removed: unused variable\n  const { toast } = useToast();\r\n  \r\n  const [activeTab, setActiveTab] = useState('build');\r\n  const [loading, setLoading] = useState(false);\r\n  const [extracting, setExtracting] = useState(false);\r\n  const [generating, setGenerating] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n  \r\n  // Resume data\r\n  const [resumeData, setResumeData] = useState({\r\n    personalInfo: {\r\n      fullName: '',\r\n      email: '',\r\n      phone: '',\r\n      location: '',\r\n      linkedin: '',\r\n      website: ''\r\n    },\r\n    summary: '',\r\n    experiences: [],\r\n    education: [],\r\n    skills: [],\r\n    languages: [],\r\n    certifications: [],\r\n    projects: []\r\n  });\r\n\r\n  const [savedResumes, setSavedResumes] = useState([]);\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchSavedResumes();\r\n  }, []);\r\n\r\n  const fetchSavedResumes = async () => {\r\n    try {\r\n      const response = await getUserResumes();\r\n      setSavedResumes(response.data.resumes || []);\r\n    } catch (error) {\r\n      console.error('Error fetching resumes:', error);\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = async (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n\r\n    setSelectedFile(file);\r\n    setExtracting(true);\r\n    setProgress(0);\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('cv', file);\r\n\r\n      const progressInterval = setInterval(() => {\r\n        setProgress(prev => Math.min(prev + 10, 90));\r\n      }, 200);\r\n\r\n      const response = await extractCVData(formData);\r\n      \r\n      clearInterval(progressInterval);\r\n      setProgress(100);\r\n\r\n      if (response.data) {\r\n        const incoming = response.data;\r\n        const normalizedSkills = (incoming.skills || []).map(s => (typeof s === 'string' ? s : (s?.name || ''))).filter(Boolean);\r\n        const experiencesFromExtract = Array.isArray(incoming.experience) ? incoming.experience : [];\r\n\r\n        setResumeData(prevData => ({\r\n          ...prevData,\r\n          personalInfo: {\r\n            ...prevData.personalInfo,\r\n            ...incoming.personalInfo,\r\n            // keep UI top-level summary in sync\r\n            // but prefer extracted personalInfo.summary if provided\r\n          },\r\n          summary: incoming?.personalInfo?.summary || prevData.summary || '',\r\n          experiences: experiencesFromExtract.length ? experiencesFromExtract.map(exp => ({\r\n            title: exp.title || '',\r\n            company: exp.company || '',\r\n            location: exp.location || '',\r\n            startDate: exp.startDate || '',\r\n            endDate: exp.endDate || '',\r\n            current: !!exp.current,\r\n            description: exp.description || ''\r\n          })) : (prevData.experiences || []),\r\n          education: Array.isArray(incoming.education) ? incoming.education : (prevData.education || []),\r\n          skills: normalizedSkills.length ? normalizedSkills : (prevData.skills || []),\r\n          languages: Array.isArray(incoming.languages) ? incoming.languages : (prevData.languages || []),\r\n          certifications: Array.isArray(incoming.certifications) ? incoming.certifications : (prevData.certifications || []),\r\n          projects: Array.isArray(incoming.projects) ? incoming.projects : (prevData.projects || []),\r\n        }));\r\n        \r\n        toast({\r\n          title: \"Success\",\r\n          description: \"CV data extracted successfully!\",\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error extracting CV:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to extract CV data\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setExtracting(false);\r\n      setProgress(0);\r\n    }\r\n  };\r\n\r\n  const handleAddExperience = () => {\r\n    setResumeData(prev => ({\r\n      ...prev,\r\n      experiences: [\r\n        ...prev.experiences,\r\n        {\r\n          title: '',\r\n          company: '',\r\n          location: '',\r\n          startDate: '',\r\n          endDate: '',\r\n          current: false,\r\n          description: ''\r\n        }\r\n      ]\r\n    }));\r\n  };\r\n\r\n  const handleRemoveExperience = (index) => {\r\n    setResumeData(prev => ({\r\n      ...prev,\r\n      experiences: prev.experiences.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  const handleExperienceChange = (index, field, value) => {\r\n    setResumeData(prev => ({\r\n      ...prev,\r\n      experiences: prev.experiences.map((exp, i) => \r\n        i === index ? { ...exp, [field]: value } : exp\r\n      )\r\n    }));\r\n  };\r\n\r\n  const handleAddEducation = () => {\r\n    setResumeData(prev => ({\r\n      ...prev,\r\n      education: [\r\n        ...prev.education,\r\n        {\r\n          degree: '',\r\n          institution: '',\r\n          location: '',\r\n          startYear: '',\r\n          endYear: '',\r\n          gpa: '',\r\n          description: ''\r\n        }\r\n      ]\r\n    }));\r\n  };\r\n\r\n  const handleRemoveEducation = (index) => {\r\n    setResumeData(prev => ({\r\n      ...prev,\r\n      education: prev.education.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  const handleEducationChange = (index, field, value) => {\r\n    setResumeData(prev => ({\r\n      ...prev,\r\n      education: prev.education.map((edu, i) => \r\n        i === index ? { ...edu, [field]: value } : edu\r\n      )\r\n    }));\r\n  };\r\n\r\n  const handleAddSkill = (skill) => {\r\n    if (skill && !resumeData.skills.includes(skill)) {\r\n      setResumeData(prev => ({\r\n        ...prev,\r\n        skills: [...prev.skills, skill]\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleRemoveSkill = (skill) => {\r\n    setResumeData(prev => ({\r\n      ...prev,\r\n      skills: prev.skills.filter(s => s !== skill)\r\n    }));\r\n  };\r\n\r\n  const handleGenerateResume = async () => {\r\n    setGenerating(true);\r\n    try {\r\n      // Map UI data to backend schema\r\n      const mapped = mapToBackendSchema(resumeData);\r\n      const payload = { data: mapped, template: 'modern', format: 'pdf' };\r\n\r\n      const response = await generateResume(payload);\r\n\r\n      // response is a Blob (application/pdf)\r\n      const blob = new Blob([response.data], { type: 'application/pdf' });\r\n      const url = window.URL.createObjectURL(blob);\r\n      window.open(url, '_blank');\r\n\r\n      toast({\r\n        title: \"Success\",\r\n        description: \"Resume generated successfully!\",\r\n      });\r\n    } catch (error) {\r\n      console.error('Error generating resume:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to generate resume\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setGenerating(false);\r\n    }\r\n  };\r\n\r\n  const handlePreviewResume = async () => {\r\n    try {\r\n      const mapped = mapToBackendSchema(resumeData);\r\n      const payload = { data: mapped, template: 'modern' };\r\n      const response = await previewResume(payload);\r\n\r\n      // Expect { success, data: { html } }\r\n      const html = response?.data?.data?.html;\r\n      if (html) {\r\n        const blob = new Blob([html], { type: 'text/html' });\r\n        const url = URL.createObjectURL(blob);\r\n        window.open(url, '_blank');\r\n      } else {\r\n        throw new Error('No preview HTML returned');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error previewing resume:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to preview resume\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSaveResume = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const mapped = mapToBackendSchema(resumeData);\r\n      const payload = { data: mapped, template: 'modern' };\r\n      await saveResume(payload);\r\n      \r\n      toast({\r\n        title: \"Success\",\r\n        description: \"Resume saved successfully!\",\r\n      });\r\n      \r\n      fetchSavedResumes();\r\n    } catch (error) {\r\n      console.error('Error saving resume:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to save resume\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Map the client-side resume model to the backend template schema\r\n  const mapToBackendSchema = (data) => {\r\n    const personalInfo = {\r\n      ...data.personalInfo,\r\n      // Backend templates expect summary under personalInfo\r\n      summary: data.summary || data.personalInfo?.summary || '',\r\n      // Classic template uses address; map location to address if provided\r\n      address: data.personalInfo?.location || data.personalInfo?.address || ''\r\n    };\r\n\r\n    // Experience: backend expects `experience` array\r\n    const experience = (data.experiences || []).map(exp => ({\r\n      title: exp.title || '',\r\n      company: exp.company || '',\r\n      location: exp.location || '',\r\n      startDate: exp.startDate || '',\r\n      endDate: exp.current ? '' : (exp.endDate || ''),\r\n      current: !!exp.current,\r\n      description: exp.description || ''\r\n    }));\r\n\r\n    // Education: backend template references `graduationDate`\r\n    const education = (data.education || []).map(edu => ({\r\n      degree: edu.degree || '',\r\n      institution: edu.institution || '',\r\n      location: edu.location || '',\r\n      graduationDate: edu.endYear || edu.startYear || '',\r\n      gpa: edu.gpa || '',\r\n      description: edu.description || ''\r\n    }));\r\n\r\n    // Skills: template expects objects with { name, level }\r\n    const skills = (data.skills || []).map(s => (\r\n      typeof s === 'string' ? { name: s, level: 'Intermediate' } : (s.name ? s : { name: String(s), level: 'Intermediate' })\r\n    ));\r\n\r\n    return {\r\n      personalInfo,\r\n      experience,\r\n      education,\r\n      skills,\r\n      languages: data.languages || [],\r\n      certifications: data.certifications || [],\r\n      projects: data.projects || []\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-6 px-4 max-w-7xl\">\r\n      {/* Header */}\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"text-4xl font-bold bg-gradient-to-r from-cyan-600 to-purple-600 bg-clip-text text-transparent mb-2\">\r\n          Resume Builder\r\n        </h1>\r\n        <p className=\"text-muted-foreground\">\r\n          Create a professional resume with our AI-powered builder\r\n        </p>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\r\n        <TabsList className=\"grid w-full grid-cols-3\">\r\n          <TabsTrigger value=\"build\">Build Resume</TabsTrigger>\r\n          <TabsTrigger value=\"upload\">Upload CV</TabsTrigger>\r\n          <TabsTrigger value=\"saved\">Saved Resumes ({savedResumes.length})</TabsTrigger>\r\n        </TabsList>\r\n\r\n        {/* Build Resume Tab */}\r\n        <TabsContent value=\"build\" className=\"space-y-6\">\r\n          {/* Action Buttons */}\r\n          <div className=\"flex gap-3\">\r\n            <Button \r\n              onClick={handlePreviewResume}\r\n              variant=\"outline\"\r\n              className=\"gap-2\"\r\n            >\r\n              <Eye className=\"h-4 w-4\" />\r\n              Preview\r\n            </Button>\r\n            <Button \r\n              onClick={handleSaveResume}\r\n              variant=\"outline\"\r\n              className=\"gap-2\"\r\n              disabled={loading}\r\n            >\r\n              {loading ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Save className=\"h-4 w-4\" />}\r\n              Save\r\n            </Button>\r\n            <Button \r\n              onClick={handleGenerateResume}\r\n              className=\"bg-gradient-to-r from-cyan-600 to-purple-600 hover:from-cyan-700 hover:to-purple-700 gap-2 ml-auto\"\r\n              disabled={generating}\r\n            >\r\n              {generating ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Download className=\"h-4 w-4\" />}\r\n              Generate PDF\r\n            </Button>\r\n          </div>\r\n\r\n          {/* Personal Information */}\r\n          <Card className=\"border-l-4 border-l-cyan-500\">\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <FileText className=\"h-5 w-5 text-cyan-600\" />\r\n                Personal Information\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"fullName\">Full Name *</Label>\r\n                  <Input\r\n                    id=\"fullName\"\r\n                    value={resumeData.personalInfo.fullName}\r\n                    onChange={(e) => setResumeData(prev => ({\r\n                      ...prev,\r\n                      personalInfo: { ...prev.personalInfo, fullName: e.target.value }\r\n                    }))}\r\n                    placeholder=\"John Doe\"\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"email\">Email *</Label>\r\n                  <Input\r\n                    id=\"email\"\r\n                    type=\"email\"\r\n                    value={resumeData.personalInfo.email}\r\n                    onChange={(e) => setResumeData(prev => ({\r\n                      ...prev,\r\n                      personalInfo: { ...prev.personalInfo, email: e.target.value }\r\n                    }))}\r\n                    placeholder=\"john@example.com\"\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"phone\">Phone</Label>\r\n                  <Input\r\n                    id=\"phone\"\r\n                    value={resumeData.personalInfo.phone}\r\n                    onChange={(e) => setResumeData(prev => ({\r\n                      ...prev,\r\n                      personalInfo: { ...prev.personalInfo, phone: e.target.value }\r\n                    }))}\r\n                    placeholder=\"+1 234 567 8900\"\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"location\">Location</Label>\r\n                  <Input\r\n                    id=\"location\"\r\n                    value={resumeData.personalInfo.location}\r\n                    onChange={(e) => setResumeData(prev => ({\r\n                      ...prev,\r\n                      personalInfo: { ...prev.personalInfo, location: e.target.value }\r\n                    }))}\r\n                    placeholder=\"City, Country\"\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"linkedin\">LinkedIn</Label>\r\n                  <Input\r\n                    id=\"linkedin\"\r\n                    value={resumeData.personalInfo.linkedin}\r\n                    onChange={(e) => setResumeData(prev => ({\r\n                      ...prev,\r\n                      personalInfo: { ...prev.personalInfo, linkedin: e.target.value }\r\n                    }))}\r\n                    placeholder=\"linkedin.com/in/yourprofile\"\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"website\">Website/Portfolio</Label>\r\n                  <Input\r\n                    id=\"website\"\r\n                    value={resumeData.personalInfo.website}\r\n                    onChange={(e) => setResumeData(prev => ({\r\n                      ...prev,\r\n                      personalInfo: { ...prev.personalInfo, website: e.target.value }\r\n                    }))}\r\n                    placeholder=\"www.yourwebsite.com\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Professional Summary */}\r\n          <Card className=\"border-l-4 border-l-purple-500\">\r\n            <CardHeader>\r\n              <CardTitle>Professional Summary</CardTitle>\r\n              <CardDescription>\r\n                Write a brief overview of your professional background\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <Textarea\r\n                value={resumeData.summary}\r\n                onChange={(e) => setResumeData(prev => ({ ...prev, summary: e.target.value }))}\r\n                placeholder=\"Experienced professional with...\"\r\n                rows={5}\r\n              />\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Work Experience */}\r\n          <Card className=\"border-l-4 border-l-cyan-500\">\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Briefcase className=\"h-5 w-5 text-cyan-600\" />\r\n                  Work Experience\r\n                </div>\r\n                <Button onClick={handleAddExperience} size=\"sm\" variant=\"outline\">\r\n                  <Plus className=\"h-4 w-4 mr-2\" />\r\n                  Add Experience\r\n                </Button>\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              {resumeData.experiences.map((exp, index) => (\r\n                <Accordion key={index} type=\"single\" collapsible>\r\n                  <AccordionItem value={`exp-${index}`}>\r\n                    <AccordionTrigger>\r\n                      {exp.title || `Experience ${index + 1}`} {exp.company && `at ${exp.company}`}\r\n                    </AccordionTrigger>\r\n                    <AccordionContent className=\"space-y-4 pt-4\">\r\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                        <div className=\"space-y-2\">\r\n                          <Label>Job Title *</Label>\r\n                          <Input\r\n                            value={exp.title}\r\n                            onChange={(e) => handleExperienceChange(index, 'title', e.target.value)}\r\n                            placeholder=\"Software Engineer\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                          <Label>Company *</Label>\r\n                          <Input\r\n                            value={exp.company}\r\n                            onChange={(e) => handleExperienceChange(index, 'company', e.target.value)}\r\n                            placeholder=\"Tech Corp\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                          <Label>Location</Label>\r\n                          <Input\r\n                            value={exp.location}\r\n                            onChange={(e) => handleExperienceChange(index, 'location', e.target.value)}\r\n                            placeholder=\"New York, NY\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                          <Label>Start Date</Label>\r\n                          <Input\r\n                            type=\"month\"\r\n                            value={exp.startDate}\r\n                            onChange={(e) => handleExperienceChange(index, 'startDate', e.target.value)}\r\n                          />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                          <Label>End Date</Label>\r\n                          <Input\r\n                            type=\"month\"\r\n                            value={exp.endDate}\r\n                            onChange={(e) => handleExperienceChange(index, 'endDate', e.target.value)}\r\n                            disabled={exp.current}\r\n                          />\r\n                        </div>\r\n                        <div className=\"flex items-center space-x-2\">\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            id={`current-${index}`}\r\n                            checked={exp.current}\r\n                            onChange={(e) => handleExperienceChange(index, 'current', e.target.checked)}\r\n                            className=\"rounded border-gray-300\"\r\n                          />\r\n                          <Label htmlFor={`current-${index}`}>I currently work here</Label>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"space-y-2\">\r\n                        <Label>Description</Label>\r\n                        <Textarea\r\n                          value={exp.description}\r\n                          onChange={(e) => handleExperienceChange(index, 'description', e.target.value)}\r\n                          placeholder=\"Describe your responsibilities and achievements...\"\r\n                          rows={4}\r\n                        />\r\n                      </div>\r\n                      <Button \r\n                        onClick={() => handleRemoveExperience(index)}\r\n                        variant=\"destructive\"\r\n                        size=\"sm\"\r\n                      >\r\n                        <Trash2 className=\"h-4 w-4 mr-2\" />\r\n                        Remove\r\n                      </Button>\r\n                    </AccordionContent>\r\n                  </AccordionItem>\r\n                </Accordion>\r\n              ))}\r\n              \r\n              {resumeData.experiences.length === 0 && (\r\n                <div className=\"text-center py-8 text-muted-foreground\">\r\n                  No work experience added yet. Click \"Add Experience\" to get started.\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Education */}\r\n          <Card className=\"border-l-4 border-l-purple-500\">\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <GraduationCap className=\"h-5 w-5 ${themeColors.iconBackgrounds.primary.split(' ')[1]}\" />\r\n                  Education\r\n                </div>\r\n                <Button onClick={handleAddEducation} size=\"sm\" variant=\"outline\">\r\n                  <Plus className=\"h-4 w-4 mr-2\" />\r\n                  Add Education\r\n                </Button>\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              {resumeData.education.map((edu, index) => (\r\n                <Accordion key={index} type=\"single\" collapsible>\r\n                  <AccordionItem value={`edu-${index}`}>\r\n                    <AccordionTrigger>\r\n                      {edu.degree || `Education ${index + 1}`} {edu.institution && `from ${edu.institution}`}\r\n                    </AccordionTrigger>\r\n                    <AccordionContent className=\"space-y-4 pt-4\">\r\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                        <div className=\"space-y-2\">\r\n                          <Label>Degree *</Label>\r\n                          <Input\r\n                            value={edu.degree}\r\n                            onChange={(e) => handleEducationChange(index, 'degree', e.target.value)}\r\n                            placeholder=\"Bachelor of Science\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                          <Label>Institution *</Label>\r\n                          <Input\r\n                            value={edu.institution}\r\n                            onChange={(e) => handleEducationChange(index, 'institution', e.target.value)}\r\n                            placeholder=\"University Name\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                          <Label>Location</Label>\r\n                          <Input\r\n                            value={edu.location}\r\n                            onChange={(e) => handleEducationChange(index, 'location', e.target.value)}\r\n                            placeholder=\"City, Country\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                          <Label>Start Year</Label>\r\n                          <Input\r\n                            type=\"number\"\r\n                            value={edu.startYear}\r\n                            onChange={(e) => handleEducationChange(index, 'startYear', e.target.value)}\r\n                            placeholder=\"2018\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                          <Label>End Year</Label>\r\n                          <Input\r\n                            type=\"number\"\r\n                            value={edu.endYear}\r\n                            onChange={(e) => handleEducationChange(index, 'endYear', e.target.value)}\r\n                            placeholder=\"2022\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                          <Label>GPA (Optional)</Label>\r\n                          <Input\r\n                            value={edu.gpa}\r\n                            onChange={(e) => handleEducationChange(index, 'gpa', e.target.value)}\r\n                            placeholder=\"3.8/4.0\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"space-y-2\">\r\n                        <Label>Additional Details</Label>\r\n                        <Textarea\r\n                          value={edu.description}\r\n                          onChange={(e) => handleEducationChange(index, 'description', e.target.value)}\r\n                          placeholder=\"Relevant coursework, honors, etc...\"\r\n                          rows={3}\r\n                        />\r\n                      </div>\r\n                      <Button \r\n                        onClick={() => handleRemoveEducation(index)}\r\n                        variant=\"destructive\"\r\n                        size=\"sm\"\r\n                      >\r\n                        <Trash2 className=\"h-4 w-4 mr-2\" />\r\n                        Remove\r\n                      </Button>\r\n                    </AccordionContent>\r\n                  </AccordionItem>\r\n                </Accordion>\r\n              ))}\r\n              \r\n              {resumeData.education.length === 0 && (\r\n                <div className=\"text-center py-8 text-muted-foreground\">\r\n                  No education added yet. Click \"Add Education\" to get started.\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Skills */}\r\n          <Card className=\"border-l-4 border-l-cyan-500\">\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <Award className=\"h-5 w-5 text-cyan-600\" />\r\n                Skills\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"flex gap-2\">\r\n                <Input\r\n                  id=\"skillInput\"\r\n                  placeholder=\"Type a skill and press Enter\"\r\n                  onKeyDown={(e) => {\r\n                    if (e.key === 'Enter') {\r\n                      handleAddSkill(e.target.value);\r\n                      e.target.value = '';\r\n                    }\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {resumeData.skills.map((skill, index) => (\r\n                  <Badge \r\n                    key={index} \r\n                    variant=\"secondary\"\r\n                    className=\"gap-2 px-3 py-1\"\r\n                  >\r\n                    {skill}\r\n                    <button onClick={() => handleRemoveSkill(skill)}>\r\n                      <Trash2 className=\"h-3 w-3\" />\r\n                    </button>\r\n                  </Badge>\r\n                ))}\r\n              </div>\r\n              {resumeData.skills.length === 0 && (\r\n                <div className=\"text-center py-4 text-muted-foreground text-sm\">\r\n                  No skills added yet. Type a skill above and press Enter.\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Upload CV Tab */}\r\n        <TabsContent value=\"upload\">\r\n          <Card className=\"border-l-4 border-l-purple-500\">\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <Upload className=\"h-5 w-5 ${themeColors.iconBackgrounds.primary.split(' ')[1]}\" />\r\n                Upload Existing CV\r\n              </CardTitle>\r\n              <CardDescription>\r\n                Upload your CV and we'll extract the information automatically\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-6\">\r\n              <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center\">\r\n                <input\r\n                  type=\"file\"\r\n                  id=\"cv-upload\"\r\n                  accept=\".pdf,.doc,.docx\"\r\n                  onChange={handleFileUpload}\r\n                  className=\"hidden\"\r\n                  disabled={extracting}\r\n                />\r\n                <label htmlFor=\"cv-upload\" className=\"cursor-pointer\">\r\n                  <div className=\"space-y-4\">\r\n                    <div className=\"mx-auto w-16 h-16 bg-gradient-to-br from-cyan-100 to-purple-100 rounded-full flex items-center justify-center\">\r\n                      {extracting ? (\r\n                        <Loader2 className=\"h-8 w-8 animate-spin ${themeColors.iconBackgrounds.primary.split(' ')[1]}\" />\r\n                      ) : (\r\n                        <Upload className=\"h-8 w-8 ${themeColors.iconBackgrounds.primary.split(' ')[1]}\" />\r\n                      )}\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-lg font-semibold\">\r\n                        {extracting ? 'Extracting data...' : 'Upload your CV'}\r\n                      </p>\r\n                      <p className=\"text-sm text-muted-foreground\">\r\n                        {extracting ? 'Please wait while we process your document' : 'PDF, DOC, or DOCX (Max 5MB)'}\r\n                      </p>\r\n                    </div>\r\n                    {!extracting && (\r\n                      <Button className=\"bg-gradient-to-r from-cyan-600 to-purple-600 hover:from-cyan-700 hover:to-purple-700\">\r\n                        Choose File\r\n                      </Button>\r\n                    )}\r\n                  </div>\r\n                </label>\r\n              </div>\r\n\r\n              {extracting && progress > 0 && (\r\n                <div className=\"space-y-2\">\r\n                  <Progress value={progress} className=\"h-2\" />\r\n                  <p className=\"text-sm text-center text-muted-foreground\">{progress}% complete</p>\r\n                </div>\r\n              )}\r\n\r\n              {selectedFile && !extracting && (\r\n                <div className=\"flex items-center gap-3 p-4 bg-gray-50 rounded-lg\">\r\n                  <File className=\"h-8 w-8 text-cyan-600\" />\r\n                  <div className=\"flex-grow\">\r\n                    <p className=\"font-medium\">{selectedFile.name}</p>\r\n                    <p className=\"text-sm text-muted-foreground\">\r\n                      {(selectedFile.size / 1024 / 1024).toFixed(2)} MB\r\n                    </p>\r\n                  </div>\r\n                  <Badge variant=\"secondary\">Uploaded</Badge>\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Saved Resumes Tab */}\r\n        <TabsContent value=\"saved\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {savedResumes.length > 0 ? (\r\n              savedResumes.map((resume, index) => (\r\n                <Card key={index} className=\"hover:shadow-lg transition-shadow\">\r\n                  <CardHeader>\r\n                    <CardTitle className=\"text-lg\">{resume.title || 'Untitled Resume'}</CardTitle>\r\n                    <CardDescription>\r\n                      Last updated: {new Date(resume.updatedAt).toLocaleDateString()}\r\n                    </CardDescription>\r\n                  </CardHeader>\r\n                  <CardContent className=\"space-y-3\">\r\n                    <div className=\"flex gap-2\">\r\n                      <Button variant=\"outline\" size=\"sm\" className=\"flex-1\">\r\n                        <Eye className=\"h-4 w-4 mr-2\" />\r\n                        View\r\n                      </Button>\r\n                      <Button variant=\"outline\" size=\"sm\" className=\"flex-1\">\r\n                        <Edit className=\"h-4 w-4 mr-2\" />\r\n                        Edit\r\n                      </Button>\r\n                    </div>\r\n                    <Button variant=\"outline\" size=\"sm\" className=\"w-full\">\r\n                      <Download className=\"h-4 w-4 mr-2\" />\r\n                      Download PDF\r\n                    </Button>\r\n                  </CardContent>\r\n                </Card>\r\n              ))\r\n            ) : (\r\n              <Card className=\"col-span-full text-center py-12\">\r\n                <CardContent>\r\n                  <FileText className=\"h-16 w-16 mx-auto text-muted-foreground mb-4\" />\r\n                  <h3 className=\"text-xl font-semibold mb-2\">No saved resumes</h3>\r\n                  <p className=\"text-muted-foreground mb-4\">\r\n                    Create and save your first resume to get started\r\n                  </p>\r\n                  <Button \r\n                    onClick={() => setActiveTab('build')}\r\n                    className=\"bg-gradient-to-r from-cyan-600 to-purple-600 hover:from-cyan-700 hover:to-purple-700\"\r\n                  >\r\n                    Build Resume\r\n                  </Button>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n          </div>\r\n        </TabsContent>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\ResumeBuilderPage_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useAuth' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 70,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 70,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useAuth"
            },
            "fix": {
              "range": [
                998,
                1047
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useAuth'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 71,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 71,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                1049,
                1084
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'loading' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 78,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 78,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "loading"
            },
            "fix": {
              "range": [
                1334,
                1341
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'loading'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setLoading' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 78,
        "column": 19,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 78,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setLoading"
            },
            "fix": {
              "range": [
                1341,
                1353
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setLoading'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'uploadedFile' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 104,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 104,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "uploadedFile"
            },
            "fix": {
              "range": [
                2152,
                2164
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'uploadedFile'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Grid,\r\n  TextField,\r\n  IconButton,\r\n  LinearProgress,\r\n  Alert,\r\n  useTheme,\r\n  Paper,\r\n  Divider,\r\n  Chip,\r\n  Stack,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Accordion,\r\n  AccordionSummary,\r\n  AccordionDetails,\r\n  Snackbar,\r\n  CircularProgress,\r\n  Tab,\r\n  Tabs,\r\n  Stepper,\r\n  Step,\r\n  StepLabel\r\n} from \"@mui/material\";\r\nimport {\r\n  Upload,\r\n  Download,\r\n  Preview,\r\n  Add,\r\n  Delete,\r\n  Edit,\r\n  Save,\r\n  Print,\r\n  PictureAsPdf,\r\n  Description,\r\n  Work,\r\n  School,\r\n  Star,\r\n  Language,\r\n  EmojiEvents,\r\n  ExpandMore,\r\n  CloudUpload,\r\n  Visibility,\r\n  GetApp\r\n} from \"@mui/icons-material\";\r\nimport { \r\n  extractCVData, \r\n  generateResume, \r\n  previewResume, \r\n  saveResume, \r\n  getUserResumes \r\n} from '@/services/api';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\n\r\nexport default function ResumeBuilderPage() {\r\n  const theme = useTheme();\r\n  // const { user } = useAuth(); // Removed: unused variable\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [tabValue, setTabValue] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const [extracting, setExtracting] = useState(false);\r\n  const [generating, setGenerating] = useState(false);\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: \"\", severity: \"success\" });\r\n  const [previewDialog, setPreviewDialog] = useState({ open: false, html: \"\" });\r\n  const [savedResumes, setSavedResumes] = useState([]);\r\n\r\n  const [resumeData, setResumeData] = useState({\r\n    personalInfo: {\r\n      fullName: '',\r\n      email: '',\r\n      phone: '',\r\n      address: '',\r\n      linkedin: '',\r\n      website: '',\r\n      summary: '',\r\n    },\r\n    experience: [],\r\n    education: [],\r\n    skills: [],\r\n    languages: [],\r\n    certifications: [],\r\n    projects: [],\r\n  });\r\n\r\n  const [selectedTemplate, setSelectedTemplate] = useState('modern');\r\n  const [uploadedFile, setUploadedFile] = useState(null);\r\n\r\n  const steps = [\r\n    'Personal Information',\r\n    'Experience',\r\n    'Education',\r\n    'Skills & Languages',\r\n    'Additional Information',\r\n    'Preview & Download'\r\n  ];\r\n\r\n  const templates = [\r\n    { id: 'modern', name: 'Modern', description: 'Clean and professional design' },\r\n    { id: 'classic', name: 'Classic', description: 'Traditional and formal layout' }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    loadSavedResumes();\r\n  }, []);\r\n\r\n  const loadSavedResumes = async () => {\r\n    try {\r\n      const response = await getUserResumes();\r\n      // response.data might be an array or an object { resumes: [...] }\r\n      const data = response?.data;\r\n      if (Array.isArray(data)) setSavedResumes(data);\r\n      else if (data && Array.isArray(data.resumes)) setSavedResumes(data.resumes);\r\n      else setSavedResumes([]);\r\n    } catch (error) {\r\n      console.error('Error loading saved resumes:', error);\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = async (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n\r\n    setUploadedFile(file);\r\n    setExtracting(true);\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('cv', file);\r\n\r\n      const response = await extractCVData(formData);\r\n      setResumeData(response.data);\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"CV data extracted successfully!\",\r\n        severity: \"success\"\r\n      });\r\n    } catch (error) {\r\n      console.error('Error extracting CV data:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Failed to extract CV data. Please try again.\",\r\n        severity: \"error\"\r\n      });\r\n    } finally {\r\n      setExtracting(false);\r\n    }\r\n  };\r\n\r\n  const handlePersonalInfoChange = (field, value) => {\r\n    setResumeData(prev => ({\r\n      ...prev,\r\n      personalInfo: {\r\n        ...prev.personalInfo,\r\n        [field]: value\r\n      }\r\n    }));\r\n  };\r\n\r\n  const addExperience = () => {\r\n    setResumeData(prev => ({\r\n      ...prev,\r\n      experience: [\r\n        ...prev.experience,\r\n        {\r\n          title: '',\r\n          company: '',\r\n          location: '',\r\n          startDate: '',\r\n          endDate: '',\r\n          current: false,\r\n          description: '',\r\n        }\r\n      ]\r\n    }));\r\n  };\r\n\r\n  const updateExperience = (index, field, value) => {\r\n    setResumeData(prev => ({\r\n      ...prev,\r\n      experience: prev.experience.map((exp, i) => \r\n        i === index ? { ...exp, [field]: value } : exp\r\n      )\r\n    }));\r\n  };\r\n\r\n  const removeExperience = (index) => {\r\n    setResumeData(prev => ({\r\n      ...prev,\r\n      experience: prev.experience.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  const addEducation = () => {\r\n    setResumeData(prev => ({\r\n      ...prev,\r\n      education: [\r\n        ...prev.education,\r\n        {\r\n          degree: '',\r\n          institution: '',\r\n          location: '',\r\n          graduationDate: '',\r\n          gpa: '',\r\n          description: '',\r\n        }\r\n      ]\r\n    }));\r\n  };\r\n\r\n  const updateEducation = (index, field, value) => {\r\n    setResumeData(prev => ({\r\n      ...prev,\r\n      education: prev.education.map((edu, i) => \r\n        i === index ? { ...edu, [field]: value } : edu\r\n      )\r\n    }));\r\n  };\r\n\r\n  const removeEducation = (index) => {\r\n    setResumeData(prev => ({\r\n      ...prev,\r\n      education: prev.education.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  const addSkill = () => {\r\n    setResumeData(prev => ({\r\n      ...prev,\r\n      skills: [\r\n        ...prev.skills,\r\n        { name: '', level: 'Intermediate' }\r\n      ]\r\n    }));\r\n  };\r\n\r\n  const updateSkill = (index, field, value) => {\r\n    setResumeData(prev => ({\r\n      ...prev,\r\n      skills: prev.skills.map((skill, i) => \r\n        i === index ? { ...skill, [field]: value } : skill\r\n      )\r\n    }));\r\n  };\r\n\r\n  const removeSkill = (index) => {\r\n    setResumeData(prev => ({\r\n      ...prev,\r\n      skills: prev.skills.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  const addLanguage = () => {\r\n    setResumeData(prev => ({\r\n      ...prev,\r\n      languages: [\r\n        ...prev.languages,\r\n        { name: '', level: 'Intermediate' }\r\n      ]\r\n    }));\r\n  };\r\n\r\n  const updateLanguage = (index, field, value) => {\r\n    setResumeData(prev => ({\r\n      ...prev,\r\n      languages: prev.languages.map((lang, i) => \r\n        i === index ? { ...lang, [field]: value } : lang\r\n      )\r\n    }));\r\n  };\r\n\r\n  const removeLanguage = (index) => {\r\n    setResumeData(prev => ({\r\n      ...prev,\r\n      languages: prev.languages.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  const handlePreview = async () => {\r\n    try {\r\n      const response = await previewResume({\r\n        data: resumeData,\r\n        template: selectedTemplate\r\n      });\r\n      setPreviewDialog({ open: true, html: response.data.html });\r\n    } catch (error) {\r\n      console.error('Error generating preview:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Failed to generate preview. Please try again.\",\r\n        severity: \"error\"\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDownload = async (format = 'pdf') => {\r\n    setGenerating(true);\r\n    try {\r\n      const response = await generateResume({\r\n        data: resumeData,\r\n        template: selectedTemplate,\r\n        format: format\r\n      });\r\n\r\n      // Create blob and download\r\n      const blob = new Blob([response.data], { \r\n        type: format === 'pdf' ? 'application/pdf' : 'text/html' \r\n      });\r\n      const url = window.URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `resume_${Date.now()}.${format}`;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      window.URL.revokeObjectURL(url);\r\n\r\n      setSnackbar({\r\n        open: true,\r\n        message: `Resume downloaded successfully as ${format.toUpperCase()}!`,\r\n        severity: \"success\"\r\n      });\r\n    } catch (error) {\r\n      console.error('Error generating resume:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Failed to generate resume. Please try again.\",\r\n        severity: \"error\"\r\n      });\r\n    } finally {\r\n      setGenerating(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      await saveResume({\r\n        data: resumeData,\r\n        template: selectedTemplate\r\n      });\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Resume saved successfully!\",\r\n        severity: \"success\"\r\n      });\r\n      loadSavedResumes();\r\n    } catch (error) {\r\n      console.error('Error saving resume:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Failed to save resume. Please try again.\",\r\n        severity: \"error\"\r\n      });\r\n    }\r\n  };\r\n\r\n  const PersonalInfoStep = () => (\r\n    <Grid container spacing={3}>\r\n      <Grid item xs={12} md={6}>\r\n        <TextField\r\n          fullWidth\r\n          label=\"Full Name\"\r\n          value={resumeData.personalInfo.fullName}\r\n          onChange={(e) => handlePersonalInfoChange('fullName', e.target.value)}\r\n        />\r\n      </Grid>\r\n      <Grid item xs={12} md={6}>\r\n        <TextField\r\n          fullWidth\r\n          label=\"Email\"\r\n          type=\"email\"\r\n          value={resumeData.personalInfo.email}\r\n          onChange={(e) => handlePersonalInfoChange('email', e.target.value)}\r\n        />\r\n      </Grid>\r\n      <Grid item xs={12} md={6}>\r\n        <TextField\r\n          fullWidth\r\n          label=\"Phone\"\r\n          value={resumeData.personalInfo.phone}\r\n          onChange={(e) => handlePersonalInfoChange('phone', e.target.value)}\r\n        />\r\n      </Grid>\r\n      <Grid item xs={12} md={6}>\r\n        <TextField\r\n          fullWidth\r\n          label=\"Address\"\r\n          value={resumeData.personalInfo.address}\r\n          onChange={(e) => handlePersonalInfoChange('address', e.target.value)}\r\n        />\r\n      </Grid>\r\n      <Grid item xs={12} md={6}>\r\n        <TextField\r\n          fullWidth\r\n          label=\"LinkedIn\"\r\n          value={resumeData.personalInfo.linkedin}\r\n          onChange={(e) => handlePersonalInfoChange('linkedin', e.target.value)}\r\n        />\r\n      </Grid>\r\n      <Grid item xs={12} md={6}>\r\n        <TextField\r\n          fullWidth\r\n          label=\"Website\"\r\n          value={resumeData.personalInfo.website}\r\n          onChange={(e) => handlePersonalInfoChange('website', e.target.value)}\r\n        />\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <TextField\r\n          fullWidth\r\n          multiline\r\n          rows={4}\r\n          label=\"Professional Summary\"\r\n          value={resumeData.personalInfo.summary}\r\n          onChange={(e) => handlePersonalInfoChange('summary', e.target.value)}\r\n          placeholder=\"Write a brief summary of your professional background and career objectives...\"\r\n        />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n\r\n  const ExperienceStep = () => (\r\n    <Box>\r\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\r\n        <Typography variant=\"h6\">Work Experience</Typography>\r\n        <Button\r\n          variant=\"contained\"\r\n          startIcon={<Add />}\r\n          onClick={addExperience}\r\n        >\r\n          Add Experience\r\n        </Button>\r\n      </Box>\r\n      \r\n      {resumeData.experience.map((exp, index) => (\r\n        <Card key={index} sx={{ mb: 3 }}>\r\n          <CardContent>\r\n            <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\r\n              <Typography variant=\"h6\">Experience #{index + 1}</Typography>\r\n              <IconButton onClick={() => removeExperience(index)} color=\"error\">\r\n                <Delete />\r\n              </IconButton>\r\n            </Box>\r\n            \r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Job Title\"\r\n                  value={exp.title}\r\n                  onChange={(e) => updateExperience(index, 'title', e.target.value)}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Company\"\r\n                  value={exp.company}\r\n                  onChange={(e) => updateExperience(index, 'company', e.target.value)}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={4}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Location\"\r\n                  value={exp.location}\r\n                  onChange={(e) => updateExperience(index, 'location', e.target.value)}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={4}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Start Date\"\r\n                  type=\"month\"\r\n                  value={exp.startDate}\r\n                  onChange={(e) => updateExperience(index, 'startDate', e.target.value)}\r\n                  InputLabelProps={{ shrink: true }}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={4}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"End Date\"\r\n                  type=\"month\"\r\n                  value={exp.endDate}\r\n                  onChange={(e) => updateExperience(index, 'endDate', e.target.value)}\r\n                  disabled={exp.current}\r\n                  InputLabelProps={{ shrink: true }}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  fullWidth\r\n                  multiline\r\n                  rows={3}\r\n                  label=\"Job Description\"\r\n                  value={exp.description}\r\n                  onChange={(e) => updateExperience(index, 'description', e.target.value)}\r\n                  placeholder=\"Describe your responsibilities and achievements...\"\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </CardContent>\r\n        </Card>\r\n      ))}\r\n    </Box>\r\n  );\r\n\r\n  const EducationStep = () => (\r\n    <Box>\r\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\r\n        <Typography variant=\"h6\">Education</Typography>\r\n        <Button\r\n          variant=\"contained\"\r\n          startIcon={<Add />}\r\n          onClick={addEducation}\r\n        >\r\n          Add Education\r\n        </Button>\r\n      </Box>\r\n      \r\n      {resumeData.education.map((edu, index) => (\r\n        <Card key={index} sx={{ mb: 3 }}>\r\n          <CardContent>\r\n            <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\r\n              <Typography variant=\"h6\">Education #{index + 1}</Typography>\r\n              <IconButton onClick={() => removeEducation(index)} color=\"error\">\r\n                <Delete />\r\n              </IconButton>\r\n            </Box>\r\n            \r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Degree\"\r\n                  value={edu.degree}\r\n                  onChange={(e) => updateEducation(index, 'degree', e.target.value)}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Institution\"\r\n                  value={edu.institution}\r\n                  onChange={(e) => updateEducation(index, 'institution', e.target.value)}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={4}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Location\"\r\n                  value={edu.location}\r\n                  onChange={(e) => updateEducation(index, 'location', e.target.value)}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={4}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Graduation Date\"\r\n                  type=\"month\"\r\n                  value={edu.graduationDate}\r\n                  onChange={(e) => updateEducation(index, 'graduationDate', e.target.value)}\r\n                  InputLabelProps={{ shrink: true }}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={4}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"GPA (Optional)\"\r\n                  value={edu.gpa}\r\n                  onChange={(e) => updateEducation(index, 'gpa', e.target.value)}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </CardContent>\r\n        </Card>\r\n      ))}\r\n    </Box>\r\n  );\r\n\r\n  const SkillsStep = () => (\r\n    <Grid container spacing={4}>\r\n      <Grid item xs={12} md={6}>\r\n        <Box>\r\n          <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\r\n            <Typography variant=\"h6\">Skills</Typography>\r\n            <Button\r\n              variant=\"contained\"\r\n              startIcon={<Add />}\r\n              onClick={addSkill}\r\n            >\r\n              Add Skill\r\n            </Button>\r\n          </Box>\r\n          \r\n          {resumeData.skills.map((skill, index) => (\r\n            <Card key={index} sx={{ mb: 2 }}>\r\n              <CardContent>\r\n                <Grid container spacing={2} alignItems=\"center\">\r\n                  <Grid item xs={6}>\r\n                    <TextField\r\n                      fullWidth\r\n                      label=\"Skill\"\r\n                      value={skill.name}\r\n                      onChange={(e) => updateSkill(index, 'name', e.target.value)}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={4}>\r\n                    <FormControl fullWidth>\r\n                      <InputLabel>Level</InputLabel>\r\n                      <Select\r\n                        value={skill.level}\r\n                        onChange={(e) => updateSkill(index, 'level', e.target.value)}\r\n                        label=\"Level\"\r\n                      >\r\n                        <MenuItem value=\"Beginner\">Beginner</MenuItem>\r\n                        <MenuItem value=\"Intermediate\">Intermediate</MenuItem>\r\n                        <MenuItem value=\"Advanced\">Advanced</MenuItem>\r\n                        <MenuItem value=\"Expert\">Expert</MenuItem>\r\n                      </Select>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid item xs={2}>\r\n                    <IconButton onClick={() => removeSkill(index)} color=\"error\">\r\n                      <Delete />\r\n                    </IconButton>\r\n                  </Grid>\r\n                </Grid>\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </Box>\r\n      </Grid>\r\n      \r\n      <Grid item xs={12} md={6}>\r\n        <Box>\r\n          <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\r\n            <Typography variant=\"h6\">Languages</Typography>\r\n            <Button\r\n              variant=\"contained\"\r\n              startIcon={<Add />}\r\n              onClick={addLanguage}\r\n            >\r\n              Add Language\r\n            </Button>\r\n          </Box>\r\n          \r\n          {resumeData.languages.map((language, index) => (\r\n            <Card key={index} sx={{ mb: 2 }}>\r\n              <CardContent>\r\n                <Grid container spacing={2} alignItems=\"center\">\r\n                  <Grid item xs={6}>\r\n                    <TextField\r\n                      fullWidth\r\n                      label=\"Language\"\r\n                      value={language.name}\r\n                      onChange={(e) => updateLanguage(index, 'name', e.target.value)}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={4}>\r\n                    <FormControl fullWidth>\r\n                      <InputLabel>Level</InputLabel>\r\n                      <Select\r\n                        value={language.level}\r\n                        onChange={(e) => updateLanguage(index, 'level', e.target.value)}\r\n                        label=\"Level\"\r\n                      >\r\n                        <MenuItem value=\"Basic\">Basic</MenuItem>\r\n                        <MenuItem value=\"Intermediate\">Intermediate</MenuItem>\r\n                        <MenuItem value=\"Advanced\">Advanced</MenuItem>\r\n                        <MenuItem value=\"Native\">Native</MenuItem>\r\n                      </Select>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid item xs={2}>\r\n                    <IconButton onClick={() => removeLanguage(index)} color=\"error\">\r\n                      <Delete />\r\n                    </IconButton>\r\n                  </Grid>\r\n                </Grid>\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </Box>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n\r\n  const PreviewStep = () => (\r\n    <Box>\r\n      <Typography variant=\"h6\" mb={3}>Choose Template</Typography>\r\n      <Grid container spacing={3} mb={4}>\r\n        {templates.map((template) => (\r\n          <Grid item xs={12} md={6} key={template.id}>\r\n            <Card \r\n              sx={{ \r\n                cursor: 'pointer',\r\n                border: selectedTemplate === template.id ? 2 : 1,\r\n                borderColor: selectedTemplate === template.id ? 'primary.main' : 'divider'\r\n              }}\r\n              onClick={() => setSelectedTemplate(template.id)}\r\n            >\r\n              <CardContent>\r\n                <Typography variant=\"h6\">{template.name}</Typography>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  {template.description}\r\n                </Typography>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n\r\n      <Box display=\"flex\" gap={2} mb={4}>\r\n        <Button\r\n          variant=\"outlined\"\r\n          startIcon={<Visibility />}\r\n          onClick={handlePreview}\r\n        >\r\n          Preview Resume\r\n        </Button>\r\n        <Button\r\n          variant=\"contained\"\r\n          startIcon={<Save />}\r\n          onClick={handleSave}\r\n        >\r\n          Save Resume\r\n        </Button>\r\n        <Button\r\n          variant=\"contained\"\r\n          startIcon={<GetApp />}\r\n          onClick={() => handleDownload('pdf')}\r\n          disabled={generating}\r\n        >\r\n          {generating ? <CircularProgress size={20} /> : 'Download PDF'}\r\n        </Button>\r\n        <Button\r\n          variant=\"outlined\"\r\n          startIcon={<GetApp />}\r\n          onClick={() => handleDownload('html')}\r\n        >\r\n          Download HTML\r\n        </Button>\r\n      </Box>\r\n    </Box>\r\n  );\r\n\r\n  const renderStepContent = (step) => {\r\n    switch (step) {\r\n      case 0:\r\n        return <PersonalInfoStep />;\r\n      case 1:\r\n        return <ExperienceStep />;\r\n      case 2:\r\n        return <EducationStep />;\r\n      case 3:\r\n        return <SkillsStep />;\r\n      case 4:\r\n        return <Box><Typography>Additional sections coming soon...</Typography></Box>;\r\n      case 5:\r\n        return <PreviewStep />;\r\n      default:\r\n        return <Typography>Unknown step</Typography>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        py: { xs: 2, md: 4 }, // Adjust padding for mobile\r\n        px: { xs: 2, md: 4 }, // Adjust padding for mobile\r\n        backgroundColor: theme.palette.background.default,\r\n      }}\r\n    >\r\n      <Container maxWidth=\"lg\">\r\n        <Typography\r\n          variant=\"h4\"\r\n          component=\"h1\"\r\n          sx={{\r\n            fontWeight: \"bold\",\r\n            mb: { xs: 2, md: 4 },\r\n            fontSize: { xs: \"1.5rem\", md: \"2rem\" }, // Adjust font size for mobile\r\n          }}\r\n        >\r\n          Resume Builder\r\n        </Typography>\r\n        <Box\r\n          sx={{\r\n            display: \"flex\",\r\n            flexDirection: { xs: \"column\", md: \"row\" }, // Stack sections on mobile\r\n            gap: { xs: 2, md: 4 },\r\n          }}\r\n        >\r\n          {/* Resume Sections */}\r\n          <Box sx={{ flex: 1 }}>\r\n            <Tabs value={tabValue} onChange={(e, newValue) => setTabValue(newValue)} sx={{ mb: 4 }}>\r\n              <Tab label=\"Build Resume\" />\r\n              <Tab label=\"Upload & Extract\" />\r\n              <Tab label=\"Saved Resumes\" />\r\n            </Tabs>\r\n\r\n            {tabValue === 0 && (\r\n              <Box>\r\n                <Stepper activeStep={activeStep} sx={{ mb: 4 }}>\r\n                  {steps.map((label) => (\r\n                    <Step key={label}>\r\n                      <StepLabel>{label}</StepLabel>\r\n                    </Step>\r\n                  ))}\r\n                </Stepper>\r\n\r\n                <Card>\r\n                  <CardContent sx={{ p: 4 }}>\r\n                    {renderStepContent(activeStep)}\r\n                    \r\n                    <Box display=\"flex\" justifyContent=\"space-between\" mt={4}>\r\n                      <Button\r\n                        disabled={activeStep === 0}\r\n                        onClick={() => setActiveStep(prev => prev - 1)}\r\n                      >\r\n                        Back\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        onClick={() => setActiveStep(prev => prev + 1)}\r\n                        disabled={activeStep === steps.length - 1}\r\n                      >\r\n                        Next\r\n                      </Button>\r\n                    </Box>\r\n                  </CardContent>\r\n                </Card>\r\n              </Box>\r\n            )}\r\n\r\n            {tabValue === 1 && (\r\n              <Card>\r\n                <CardContent sx={{ p: 4, textAlign: 'center' }}>\r\n                  <Typography variant=\"h6\" mb={3}>\r\n                    Upload Your Existing Resume\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\" mb={4}>\r\n                    Upload a PDF or Word document and we'll extract the information for you\r\n                  </Typography>\r\n                  \r\n                  <input\r\n                    accept=\".pdf,.doc,.docx\"\r\n                    style={{ display: 'none' }}\r\n                    id=\"cv-upload\"\r\n                    type=\"file\"\r\n                    onChange={handleFileUpload}\r\n                  />\r\n                  <label htmlFor=\"cv-upload\">\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      component=\"span\"\r\n                      startIcon={<CloudUpload />}\r\n                      size=\"large\"\r\n                      disabled={extracting}\r\n                    >\r\n                      {extracting ? <CircularProgress size={20} /> : 'Upload Resume'}\r\n                    </Button>\r\n                  </label>\r\n\r\n                  {extracting && (\r\n                    <Box mt={3}>\r\n                      <LinearProgress />\r\n                      <Typography variant=\"body2\" mt={1}>\r\n                        Extracting data from your resume...\r\n                      </Typography>\r\n                    </Box>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n\r\n            {tabValue === 2 && (\r\n              <Box>\r\n                <Typography variant=\"h6\" mb={3}>\r\n                  Your Saved Resumes\r\n                </Typography>\r\n                <Grid container spacing={3}>\r\n                  {Array.isArray(savedResumes) && savedResumes.map((resume) => (\r\n                    <Grid item xs={12} md={6} key={resume.id}>\r\n                      <Card>\r\n                        <CardContent>\r\n                          <Typography variant=\"h6\">{resume.title || 'Untitled Resume'}</Typography>\r\n                          <Typography variant=\"body2\" color=\"text.secondary\" mb={2}>\r\n                            Template: {resume.template}\r\n                          </Typography>\r\n                          <Typography variant=\"caption\" color=\"text.secondary\">\r\n                            Created: {new Date(resume.createdAt).toLocaleDateString()}\r\n                          </Typography>\r\n                          <Box display=\"flex\" gap={1} mt={2}>\r\n                            <Button size=\"small\" variant=\"outlined\">\r\n                              Edit\r\n                            </Button>\r\n                            <Button size=\"small\" variant=\"contained\">\r\n                              Download\r\n                            </Button>\r\n                          </Box>\r\n                        </CardContent>\r\n                      </Card>\r\n                    </Grid>\r\n                  ))}\r\n                </Grid>\r\n              </Box>\r\n            )}\r\n          </Box>\r\n\r\n          {/* Preview */}\r\n          <Box sx={{ flex: 2 }}>\r\n            <Card\r\n              sx={{\r\n                p: { xs: 2, md: 3 },\r\n                borderRadius: theme.shape.borderRadius,\r\n                boxShadow: theme.shadows[3],\r\n              }}\r\n            >\r\n              {/* ...existing preview content... */}\r\n            </Card>\r\n          </Box>\r\n        </Box>\r\n      </Container>\r\n\r\n      {/* Preview Dialog */}\r\n      <Dialog \r\n        open={previewDialog.open} \r\n        onClose={() => setPreviewDialog({ open: false, html: \"\" })}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>Resume Preview</DialogTitle>\r\n        <DialogContent>\r\n          <Box \r\n            dangerouslySetInnerHTML={{ __html: previewDialog.html }}\r\n            sx={{ \r\n              border: 1, \r\n              borderColor: 'divider', \r\n              p: 2, \r\n              maxHeight: '70vh', \r\n              overflow: 'auto' \r\n            }}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setPreviewDialog({ open: false, html: \"\" })}>\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Snackbar */}\r\n      <Snackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={6000}\r\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n      >\r\n        <Alert \r\n          onClose={() => setSnackbar({ ...snackbar, open: false })} \r\n          severity={snackbar.severity}\r\n        >\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\SavedBlogsPage.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\SavedCandidatesPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useAuth' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 39,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 39,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useAuth"
            },
            "fix": {
              "range": [
                653,
                702
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useAuth'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 40,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 40,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                704,
                739
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Container,\r\n  Grid,\r\n  Typography,\r\n  useTheme,\r\n  CircularProgress,\r\n  Alert,\r\n  Chip,\r\n  Avatar,\r\n  IconButton,\r\n  Menu,\r\n  MenuItem,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Snackbar\r\n} from \"@mui/material\";\r\nimport {\r\n  LocationOn,\r\n  WorkOutline,\r\n  School,\r\n  Star,\r\n  Handshake as Connect,\r\n  Visibility,\r\n  PersonAdd,\r\n  MoreVert,\r\n  Delete,\r\n  Message,\r\n  BookmarkRemove\r\n} from \"@mui/icons-material\";\r\nimport { getSavedCandidates, unsaveCandidate, connectWithCandidate } from \"@/services/api\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { useContext } from 'react';\r\n\r\nexport default function SavedCandidatesPage() {\r\n  const theme = useTheme();\r\n  // const { user } = useAuth(); // Removed: unused variable\n  const [candidates, setCandidates] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [selectedCandidate, setSelectedCandidate] = useState(null);\r\n  const [connectDialog, setConnectDialog] = useState({ open: false, candidate: null });\r\n  const [connectMessage, setConnectMessage] = useState(\"\");\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: \"\", severity: \"success\" });\r\n\r\n  useEffect(() => {\r\n    fetchSavedCandidates();\r\n  }, []);\r\n\r\n  const fetchSavedCandidates = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await getSavedCandidates();\r\n      setCandidates(response.data.candidates || []);\r\n    } catch (error) {\r\n      console.error('Error fetching saved candidates:', error);\r\n      setError('Failed to load saved candidates. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleMenuOpen = (event, candidate) => {\r\n    event.stopPropagation();\r\n    setAnchorEl(event.currentTarget);\r\n    setSelectedCandidate(candidate);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n    setSelectedCandidate(null);\r\n  };\r\n\r\n  const handleUnsave = async (candidateId) => {\r\n    try {\r\n      await unsaveCandidate(candidateId);\r\n      setCandidates(prev => prev.filter(c => c.id !== candidateId));\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Candidate removed from saved list\",\r\n        severity: \"info\"\r\n      });\r\n    } catch (error) {\r\n      console.error('Error unsaving candidate:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Failed to remove candidate. Please try again.\",\r\n        severity: \"error\"\r\n      });\r\n    }\r\n    handleMenuClose();\r\n  };\r\n\r\n  const handleConnect = (candidate) => {\r\n    setConnectDialog({ open: true, candidate });\r\n    setConnectMessage(`Hi ${candidate.firstName}, I'm interested in discussing potential opportunities with you based on your impressive profile.`);\r\n    handleMenuClose();\r\n  };\r\n\r\n  const handleSendConnection = async () => {\r\n    try {\r\n      await connectWithCandidate(connectDialog.candidate.id, connectMessage);\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Connection request sent successfully!\",\r\n        severity: \"success\"\r\n      });\r\n      setConnectDialog({ open: false, candidate: null });\r\n      setConnectMessage(\"\");\r\n    } catch (error) {\r\n      console.error('Error sending connection:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Failed to send connection request. Please try again.\",\r\n        severity: \"error\"\r\n      });\r\n    }\r\n  };\r\n\r\n  const CandidateCard = ({ candidate }) => (\r\n    <Card \r\n      sx={{ \r\n        height: '100%', \r\n        display: 'flex', \r\n        flexDirection: 'column',\r\n        transition: 'transform 0.2s, box-shadow 0.2s',\r\n        '&:hover': {\r\n          transform: 'translateY(-4px)',\r\n          boxShadow: theme.shadows[8]\r\n        }\r\n      }}\r\n    >\r\n      <CardContent sx={{ flexGrow: 1, p: 3 }}>\r\n        <Box display=\"flex\" alignItems=\"flex-start\" mb={2}>\r\n          <Avatar\r\n            src={candidate.profileImage}\r\n            sx={{ width: 60, height: 60, mr: 2 }}\r\n          >\r\n            {candidate.firstName?.[0]}{candidate.lastName?.[0]}\r\n          </Avatar>\r\n          <Box flexGrow={1}>\r\n            <Typography variant=\"h6\" fontWeight=\"bold\">\r\n              {candidate.firstName} {candidate.lastName}\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              {candidate.title || 'Job Seeker'}\r\n            </Typography>\r\n            {candidate.rating && (\r\n              <Box display=\"flex\" alignItems=\"center\" mt={0.5}>\r\n                <Star sx={{ color: '#ffc107', fontSize: 16, mr: 0.5 }} />\r\n                <Typography variant=\"body2\">{candidate.rating}/5</Typography>\r\n              </Box>\r\n            )}\r\n          </Box>\r\n          <IconButton\r\n            size=\"small\"\r\n            onClick={(e) => handleMenuOpen(e, candidate)}\r\n          >\r\n            <MoreVert />\r\n          </IconButton>\r\n        </Box>\r\n\r\n        {candidate.summary && (\r\n          <Typography variant=\"body2\" color=\"text.secondary\" mb={2}>\r\n            {candidate.summary.length > 120 \r\n              ? `${candidate.summary.substring(0, 120)}...` \r\n              : candidate.summary\r\n            }\r\n          </Typography>\r\n        )}\r\n\r\n        {candidate.location && (\r\n          <Box display=\"flex\" alignItems=\"center\" mb={1}>\r\n            <LocationOn sx={{ fontSize: 16, mr: 1, color: 'text.secondary' }} />\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              {candidate.location}\r\n            </Typography>\r\n          </Box>\r\n        )}\r\n\r\n        {candidate.experience && (\r\n          <Box display=\"flex\" alignItems=\"center\" mb={1}>\r\n            <WorkOutline sx={{ fontSize: 16, mr: 1, color: 'text.secondary' }} />\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              {candidate.experience} years experience\r\n            </Typography>\r\n          </Box>\r\n        )}\r\n\r\n        {candidate.education && (\r\n          <Box display=\"flex\" alignItems=\"center\" mb={2}>\r\n            <School sx={{ fontSize: 16, mr: 1, color: 'text.secondary' }} />\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              {candidate.education}\r\n            </Typography>\r\n          </Box>\r\n        )}\r\n\r\n        {candidate.skills && candidate.skills.length > 0 && (\r\n          <Box mb={2}>\r\n            <Typography variant=\"body2\" fontWeight=\"medium\" mb={1}>\r\n              Skills:\r\n            </Typography>\r\n            <Box display=\"flex\" flexWrap=\"wrap\" gap={0.5}>\r\n              {candidate.skills.slice(0, 4).map((skill, index) => (\r\n                <Chip\r\n                  key={index}\r\n                  label={skill.name || skill}\r\n                  size=\"small\"\r\n                  variant=\"outlined\"\r\n                  sx={{ fontSize: '0.75rem' }}\r\n                />\r\n              ))}\r\n              {candidate.skills.length > 4 && (\r\n                <Chip\r\n                  label={`+${candidate.skills.length - 4} more`}\r\n                  size=\"small\"\r\n                  variant=\"outlined\"\r\n                  sx={{ fontSize: '0.75rem' }}\r\n                />\r\n              )}\r\n            </Box>\r\n          </Box>\r\n        )}\r\n\r\n        <Box display=\"flex\" gap={1} mt=\"auto\">\r\n          <Button\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            startIcon={<Visibility />}\r\n            onClick={() => window.open(`/candidate/${candidate.id}`, '_blank')}\r\n            sx={{ flex: 1 }}\r\n          >\r\n            View Profile\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            size=\"small\"\r\n            startIcon={<Connect />}\r\n            onClick={() => handleConnect(candidate)}\r\n            sx={{ flex: 1 }}\r\n          >\r\n            Connect\r\n          </Button>\r\n        </Box>\r\n\r\n        {candidate.savedAt && (\r\n          <Typography variant=\"caption\" color=\"text.secondary\" sx={{ mt: 1, display: 'block' }}>\r\n            Saved on {new Date(candidate.savedAt).toLocaleDateString()}\r\n          </Typography>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container maxWidth=\"xl\" sx={{ py: 4 }}>\r\n        <Box display=\"flex\" justifyContent=\"center\" py={8}>\r\n          <CircularProgress size={60} />\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"xl\" sx={{ py: 4 }}>\r\n      <Typography variant=\"h4\" fontWeight=\"bold\" mb={4}>\r\n        Saved Candidates\r\n      </Typography>\r\n\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {candidates.length === 0 ? (\r\n        <Box textAlign=\"center\" py={8}>\r\n          <Typography variant=\"h6\" color=\"text.secondary\" mb={2}>\r\n            No saved candidates yet\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"text.secondary\" mb={3}>\r\n            Start saving candidates from the candidate search page to build your talent pool.\r\n          </Typography>\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={() => window.location.href = '/candidate-search'}\r\n          >\r\n            Search Candidates\r\n          </Button>\r\n        </Box>\r\n      ) : (\r\n        <>\r\n          <Typography variant=\"h6\" mb={3}>\r\n            {candidates.length} saved candidate{candidates.length !== 1 ? 's' : ''}\r\n          </Typography>\r\n\r\n          <Grid container spacing={3}>\r\n            {candidates.map((candidate) => (\r\n              <Grid item xs={12} sm={6} md={4} key={candidate.id}>\r\n                <CandidateCard candidate={candidate} />\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n        </>\r\n      )}\r\n\r\n      {/* Context Menu */}\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleMenuClose}\r\n      >\r\n        <MenuItem onClick={() => handleConnect(selectedCandidate)}>\r\n          <Connect sx={{ mr: 1 }} />\r\n          Connect\r\n        </MenuItem>\r\n        <MenuItem onClick={() => window.open(`/recruit/${selectedCandidate?.id}`, '_blank')}>\r\n          <PersonAdd sx={{ mr: 1 }} />\r\n          Recruit\r\n        </MenuItem>\r\n        <MenuItem onClick={() => window.open(`/candidate/${selectedCandidate?.id}`, '_blank')}>\r\n          <Visibility sx={{ mr: 1 }} />\r\n          View Profile\r\n        </MenuItem>\r\n        <MenuItem \r\n          onClick={() => handleUnsave(selectedCandidate?.id)}\r\n          sx={{ color: 'error.main' }}\r\n        >\r\n          <BookmarkRemove sx={{ mr: 1 }} />\r\n          Remove from Saved\r\n        </MenuItem>\r\n      </Menu>\r\n\r\n      {/* Connect Dialog */}\r\n      <Dialog \r\n        open={connectDialog.open} \r\n        onClose={() => setConnectDialog({ open: false, candidate: null })}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>\r\n          Connect with {connectDialog.candidate?.firstName} {connectDialog.candidate?.lastName}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            fullWidth\r\n            multiline\r\n            rows={4}\r\n            label=\"Message\"\r\n            value={connectMessage}\r\n            onChange={(e) => setConnectMessage(e.target.value)}\r\n            placeholder=\"Write a personalized message...\"\r\n            sx={{ mt: 2 }}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setConnectDialog({ open: false, candidate: null })}>\r\n            Cancel\r\n          </Button>\r\n          <Button \r\n            variant=\"contained\" \r\n            onClick={handleSendConnection}\r\n            disabled={!connectMessage.trim()}\r\n          >\r\n            Send Connection Request\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Snackbar */}\r\n      <Snackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={6000}\r\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n      >\r\n        <Alert \r\n          onClose={() => setSnackbar({ ...snackbar, open: false })} \r\n          severity={snackbar.severity}\r\n        >\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Container>\r\n  );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\SavedVideosPage.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\SavedVideosPage_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 43,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 43,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                687,
                722
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'searchVideos' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 48,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 48,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "searchVideos"
            },
            "fix": {
              "range": [
                788,
                805
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'searchVideos'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'user' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 55,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 55,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "user"
            },
            "fix": {
              "range": [
                993,
                1020
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'user'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  Grid,\r\n  Card,\r\n  CardMedia,\r\n  CardContent,\r\n  CardActions,\r\n  IconButton,\r\n  Button,\r\n  Chip,\r\n  Avatar,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  CircularProgress,\r\n  Alert,\r\n  TextField,\r\n  InputAdornment,\r\n  Menu,\r\n  MenuItem,\r\n  Divider\r\n} from '@mui/material';\r\nimport {\r\n  PlayArrow,\r\n  Bookmark,\r\n  BookmarkBorder,\r\n  Share,\r\n  MoreVert,\r\n  Search,\r\n  FilterList,\r\n  Delete,\r\n  Visibility,\r\n  Work,\r\n  Business,\r\n  Sort\r\n} from '@mui/icons-material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\nimport { \r\n  getUserSavedVideos, \r\n  unsaveVideo, \r\n  shareVideo,\r\n  searchVideos \r\n} from '@/services/api';\r\nimport { toast } from 'react-toastify';\r\nimport AllVideosPage from './AllVideosPage';\r\n\r\nconst SavedVideosPage = () => {\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  \r\n  const [savedVideos, setSavedVideos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [filterType, setFilterType] = useState('all');\r\n  const [sortBy, setSortBy] = useState('saved_date');\r\n  const [selectedVideo, setSelectedVideo] = useState(null);\r\n  const [showVideoPlayer, setShowVideoPlayer] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [deleteDialog, setDeleteDialog] = useState(false);\r\n  const [videoToDelete, setVideoToDelete] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchSavedVideos();\r\n  }, []);\r\n\r\n  const fetchSavedVideos = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getUserSavedVideos();\r\n      setSavedVideos(response.data.videos || []);\r\n    } catch (error) {\r\n      console.error('Failed to fetch saved videos:', error);\r\n      setError('Failed to load saved videos');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleUnsaveVideo = async (videoId) => {\r\n    try {\r\n      await unsaveVideo(videoId);\r\n      setSavedVideos(prev => prev.filter(video => video.id !== videoId));\r\n      setDeleteDialog(false);\r\n      setVideoToDelete(null);\r\n    } catch (error) {\r\n      console.error('Failed to unsave video:', error);\r\n      setError('Failed to remove video from saved');\r\n    }\r\n  };\r\n\r\n  const handleShareVideo = async (video) => {\r\n    try {\r\n      if (navigator.share) {\r\n        await navigator.share({\r\n          title: video.video_title,\r\n          text: `Check out this video: ${video.video_title}`,\r\n          url: `${window.location.origin}/video-player/${video.id}`,\r\n        });\r\n      } else {\r\n  await navigator.clipboard.writeText(`${window.location.origin}/video-player/${video.id}`);\r\n  toast.success('Link copied to clipboard!');\r\n      }\r\n      \r\n      await shareVideo(video.id, 'link');\r\n    } catch (error) {\r\n      console.error('Failed to share video:', error);\r\n    }\r\n  };\r\n\r\n  const handlePlayVideo = (video) => {\r\n    setSelectedVideo(video);\r\n    setShowVideoPlayer(true);\r\n  };\r\n\r\n  const filteredVideos = savedVideos.filter(video => {\r\n    const matchesSearch = video.video_title?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n                         video.user?.displayName?.toLowerCase().includes(searchQuery.toLowerCase());\r\n    \r\n    const matchesFilter = filterType === 'all' || \r\n                         (filterType === 'jobseeker' && video.video_type === 'Job Seeker') ||\r\n                         (filterType === 'employer' && video.video_type === 'Employer');\r\n    \r\n    return matchesSearch && matchesFilter;\r\n  });\r\n\r\n  const sortedVideos = [...filteredVideos].sort((a, b) => {\r\n    switch (sortBy) {\r\n      case 'saved_date':\r\n        return new Date(b.saved_at || b.created_at) - new Date(a.saved_at || a.created_at);\r\n      case 'title':\r\n        return a.video_title?.localeCompare(b.video_title);\r\n      case 'views':\r\n        return (b.views_count || 0) - (a.views_count || 0);\r\n      case 'likes':\r\n        return (b.likes_count || 0) - (a.likes_count || 0);\r\n      default:\r\n        return 0;\r\n    }\r\n  });\r\n\r\n  if (showVideoPlayer && selectedVideo) {\r\n    return (\r\n      <AllVideosPage \r\n        pagetype=\"saved\"\r\n        onClose={() => {\r\n          setShowVideoPlayer(false);\r\n          setSelectedVideo(null);\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"60vh\">\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\r\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={4}>\r\n        <Typography variant=\"h4\" gutterBottom>\r\n          Saved Videos\r\n        </Typography>\r\n        <Chip \r\n          label={`${savedVideos.length} videos saved`} \r\n          color=\"primary\" \r\n          variant=\"outlined\" \r\n        />\r\n      </Box>\r\n\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Search and Filter Controls */}\r\n      <Box sx={{ mb: 4 }}>\r\n        <Grid container spacing={2} alignItems=\"center\">\r\n          <Grid item xs={12} md={6}>\r\n            <TextField\r\n              fullWidth\r\n              placeholder=\"Search saved videos...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position=\"start\">\r\n                    <Search />\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} md={2}>\r\n            <Button\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              startIcon={<FilterList />}\r\n              onClick={(e) => setAnchorEl(e.currentTarget)}\r\n            >\r\n              Filter: {filterType === 'all' ? 'All' : filterType === 'jobseeker' ? 'Job Seekers' : 'Employers'}\r\n            </Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} md={2}>\r\n            <Button\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              startIcon={<Sort />}\r\n              onClick={(e) => setAnchorEl(e.currentTarget)}\r\n            >\r\n              Sort: {sortBy.replace('_', ' ')}\r\n            </Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} md={2}>\r\n            <Button\r\n              fullWidth\r\n              variant=\"contained\"\r\n              onClick={() => navigate('/videos/all')}\r\n            >\r\n              Browse Videos\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n\r\n      {/* Videos Grid */}\r\n      {sortedVideos.length > 0 ? (\r\n        <Grid container spacing={3}>\r\n          {sortedVideos.map((video) => (\r\n            <Grid item xs={12} sm={6} md={4} lg={3} key={video.id}>\r\n              <Card sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n                <Box sx={{ position: 'relative' }}>\r\n                  <CardMedia\r\n                    component=\"div\"\r\n                    sx={{\r\n                      height: 200,\r\n                      backgroundImage: `url(${video.thumbnail_url || '/api/placeholder/300/200'})`,\r\n                      backgroundSize: 'cover',\r\n                      backgroundPosition: 'center',\r\n                      cursor: 'pointer',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      justifyContent: 'center',\r\n                      '&:hover .play-button': {\r\n                        opacity: 1,\r\n                        transform: 'scale(1.1)'\r\n                      }\r\n                    }}\r\n                    onClick={() => handlePlayVideo(video)}\r\n                  >\r\n                    <IconButton\r\n                      className=\"play-button\"\r\n                      sx={{\r\n                        backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n                        color: 'white',\r\n                        opacity: 0.8,\r\n                        transition: 'all 0.3s ease',\r\n                        '&:hover': {\r\n                          backgroundColor: 'rgba(0, 0, 0, 0.9)',\r\n                        }\r\n                      }}\r\n                    >\r\n                      <PlayArrow sx={{ fontSize: 40 }} />\r\n                    </IconButton>\r\n                  </CardMedia>\r\n                  \r\n                  <Chip\r\n                    label={video.video_type === 'Job Seeker' ? 'Job Seeker' : 'Employer'}\r\n                    size=\"small\"\r\n                    color={video.video_type === 'Job Seeker' ? 'primary' : 'secondary'}\r\n                    sx={{\r\n                      position: 'absolute',\r\n                      top: 8,\r\n                      left: 8,\r\n                      backgroundColor: 'rgba(255, 255, 255, 0.9)'\r\n                    }}\r\n                  />\r\n                  \r\n                  <Box sx={{\r\n                    position: 'absolute',\r\n                    bottom: 8,\r\n                    right: 8,\r\n                    display: 'flex',\r\n                    gap: 0.5\r\n                  }}>\r\n                    <Chip\r\n                      label={`${video.views_count || 0} views`}\r\n                      size=\"small\"\r\n                      sx={{ backgroundColor: 'rgba(0, 0, 0, 0.7)', color: 'white' }}\r\n                    />\r\n                  </Box>\r\n                </Box>\r\n\r\n                <CardContent sx={{ flexGrow: 1 }}>\r\n                  <Typography variant=\"h6\" component=\"h3\" gutterBottom noWrap>\r\n                    {video.video_title}\r\n                  </Typography>\r\n                  \r\n                  <Box display=\"flex\" alignItems=\"center\" gap={1} mb={1}>\r\n                    <Avatar sx={{ width: 24, height: 24 }}>\r\n                      {video.user?.displayName?.charAt(0)}\r\n                    </Avatar>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\" noWrap>\r\n                      {video.user?.displayName}\r\n                    </Typography>\r\n                  </Box>\r\n\r\n                  {video.hashtags && (\r\n                    <Typography variant=\"body2\" color=\"text.secondary\" noWrap>\r\n                      {video.hashtags}\r\n                    </Typography>\r\n                  )}\r\n\r\n                  <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mt={1}>\r\n                    <Typography variant=\"caption\" color=\"text.secondary\">\r\n                      Saved {new Date(video.saved_at || video.created_at).toLocaleDateString()}\r\n                    </Typography>\r\n                    <Box display=\"flex\" gap={0.5}>\r\n                      <Chip\r\n                        label={`${video.likes_count || 0}`}\r\n                        size=\"small\"\r\n                        variant=\"outlined\"\r\n                      />\r\n                    </Box>\r\n                  </Box>\r\n                </CardContent>\r\n\r\n                <CardActions>\r\n                  <Button\r\n                    size=\"small\"\r\n                    startIcon={<PlayArrow />}\r\n                    onClick={() => handlePlayVideo(video)}\r\n                  >\r\n                    Watch\r\n                  </Button>\r\n                  \r\n                  <Button\r\n                    size=\"small\"\r\n                    startIcon={<Share />}\r\n                    onClick={() => handleShareVideo(video)}\r\n                  >\r\n                    Share\r\n                  </Button>\r\n                  \r\n                  <IconButton\r\n                    size=\"small\"\r\n                    onClick={(e) => {\r\n                      setAnchorEl(e.currentTarget);\r\n                      setSelectedVideo(video);\r\n                    }}\r\n                  >\r\n                    <MoreVert />\r\n                  </IconButton>\r\n                </CardActions>\r\n              </Card>\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n      ) : (\r\n        <Box textAlign=\"center\" py={8}>\r\n          <Bookmark sx={{ fontSize: 80, color: 'text.secondary', mb: 2 }} />\r\n          <Typography variant=\"h5\" gutterBottom color=\"text.secondary\">\r\n            No saved videos yet\r\n          </Typography>\r\n          <Typography variant=\"body1\" color=\"text.secondary\" mb={3}>\r\n            Start saving videos you like to watch them later\r\n          </Typography>\r\n          <Button\r\n            variant=\"contained\"\r\n            size=\"large\"\r\n            onClick={() => navigate('/videos/all')}\r\n          >\r\n            Browse Videos\r\n          </Button>\r\n        </Box>\r\n      )}\r\n\r\n      {/* Filter Menu */}\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        open={Boolean(anchorEl)}\r\n        onClose={() => setAnchorEl(null)}\r\n      >\r\n        <MenuItem onClick={() => { setFilterType('all'); setAnchorEl(null); }}>\r\n          All Videos\r\n        </MenuItem>\r\n        <MenuItem onClick={() => { setFilterType('jobseeker'); setAnchorEl(null); }}>\r\n          Job Seekers\r\n        </MenuItem>\r\n        <MenuItem onClick={() => { setFilterType('employer'); setAnchorEl(null); }}>\r\n          Employers\r\n        </MenuItem>\r\n        <Divider />\r\n        <MenuItem onClick={() => { setSortBy('saved_date'); setAnchorEl(null); }}>\r\n          Sort by Saved Date\r\n        </MenuItem>\r\n        <MenuItem onClick={() => { setSortBy('title'); setAnchorEl(null); }}>\r\n          Sort by Title\r\n        </MenuItem>\r\n        <MenuItem onClick={() => { setSortBy('views'); setAnchorEl(null); }}>\r\n          Sort by Views\r\n        </MenuItem>\r\n        <MenuItem onClick={() => { setSortBy('likes'); setAnchorEl(null); }}>\r\n          Sort by Likes\r\n        </MenuItem>\r\n        {selectedVideo && (\r\n          <>\r\n            <Divider />\r\n            <MenuItem onClick={() => {\r\n              setVideoToDelete(selectedVideo);\r\n              setDeleteDialog(true);\r\n              setAnchorEl(null);\r\n            }}>\r\n              <Delete sx={{ mr: 1 }} />\r\n              Remove from Saved\r\n            </MenuItem>\r\n          </>\r\n        )}\r\n      </Menu>\r\n\r\n      {/* Delete Confirmation Dialog */}\r\n      <Dialog open={deleteDialog} onClose={() => setDeleteDialog(false)}>\r\n        <DialogTitle>Remove from Saved Videos</DialogTitle>\r\n        <DialogContent>\r\n          <Typography>\r\n            Are you sure you want to remove \"{videoToDelete?.video_title}\" from your saved videos?\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDeleteDialog(false)}>Cancel</Button>\r\n          <Button \r\n            onClick={() => handleUnsaveVideo(videoToDelete?.id)} \r\n            color=\"error\"\r\n            variant=\"contained\"\r\n          >\r\n            Remove\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SavedVideosPage;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\SearchPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState  } from 'react';\r\nimport { Tabs, Tab, Box } from '@mui/material';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst SearchPage = () => {\r\n  const { t } = useTranslation();\r\n  const [activeTab, setActiveTab] = useState(0);\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setActiveTab(newValue);\r\n  };\r\n\r\n  const tabs = [\r\n    { label: t('search.searchJobs'), value: 0 },\r\n    { label: t('search.searchCandidates'), value: 1 },\r\n    { label: t('search.searchVideos'), value: 2 }\r\n  ];\r\n\r\n  return (\r\n    <Box>\r\n      <Tabs value={activeTab} onChange={handleTabChange}>\r\n        {tabs.map((tab, index) => (\r\n          <Tab key={index} label={tab.label} />\r\n        ))}\r\n      </Tabs>\r\n      <Box>\r\n        {activeTab === 0 && <div>{t('search.searchResults')} - Jobs</div>}\r\n        {activeTab === 1 && <div>{t('search.searchResults')} - Candidates</div>}\r\n        {activeTab === 2 && <div>{t('search.searchResults')} - Videos</div>}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default SearchPage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\Settings.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\Settings_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 40,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 40,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                1031,
                1066
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'settings' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 91,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 91,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "settings"
            },
            "fix": {
              "range": [
                2493,
                2501
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'settings'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n    Box,\r\n    Container,\r\n    Paper,\r\n    Typography,\r\n    Divider,\r\n    List,\r\n    ListItem,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    ListItemButton,\r\n    Switch,\r\n    TextField,\r\n    Button,\r\n    Grid,\r\n    Avatar,\r\n    FormControl,\r\n    FormControlLabel,\r\n    InputLabel,\r\n    Select,\r\n    MenuItem,\r\n    Alert,\r\n    Snackbar,\r\n    CircularProgress,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogActions\r\n} from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\r\nimport NotificationsIcon from '@mui/icons-material/Notifications';\r\nimport SecurityIcon from '@mui/icons-material/Security';\r\nimport LanguageIcon from '@mui/icons-material/Language';\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport HelpIcon from '@mui/icons-material/Help';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\nimport { getUserSettings, updateUserSettings } from '../services/userService';\r\n\r\nconst SettingsContainer = styled(Container)(({ theme }) => ({\r\n    padding: theme.spacing(3),\r\n    backgroundColor: theme.palette.background.default,\r\n    minHeight: 'calc(100vh - 56px)',\r\n}));\r\n\r\nconst SettingsPaper = styled(Paper)(({ theme }) => ({\r\n    padding: 0,\r\n    borderRadius: theme.shape.borderRadius,\r\n    overflow: 'hidden',\r\n}));\r\n\r\nconst SettingsSidebar = styled(Box)(({ theme }) => ({\r\n    width: '100%',\r\n    backgroundColor: theme.palette.background.paper,\r\n    [theme.breakpoints.up('md')]: {\r\n        width: 240,\r\n        borderRight: `1px solid ${theme.palette.divider}`,\r\n        height: '100%',\r\n    },\r\n}));\r\n\r\nconst SettingsContent = styled(Box)(({ theme }) => ({\r\n    padding: theme.spacing(3),\r\n    flex: 1,\r\n}));\r\n\r\nconst SettingsHeader = styled(Box)(({ theme }) => ({\r\n    padding: theme.spacing(2),\r\n    borderBottom: `1px solid ${theme.palette.divider}`,\r\n}));\r\n\r\nconst AvatarUpload = styled(Box)(({ theme }) => ({\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    marginBottom: theme.spacing(3),\r\n}));\r\n\r\nconst LargeAvatar = styled(Avatar)(({ theme }) => ({\r\n    width: 100,\r\n    height: 100,\r\n    marginBottom: theme.spacing(2),\r\n}));\r\n\r\nconst Settings = () => {\r\n    const { user } = useAuth();\r\n    const [activeSection, setActiveSection] = useState('profile');\r\n    const [settings, setSettings] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [saving, setSaving] = useState(false);\r\n    const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'success' });\r\n    const [confirmDialog, setConfirmDialog] = useState({ open: false, title: '', message: '' });\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        email: '',\r\n        mobile: '',\r\n        bio: '',\r\n        location: '',\r\n        language: 'ar',\r\n        emailNotifications: true,\r\n        pushNotifications: true,\r\n        smsNotifications: false,\r\n        profileVisibility: 'public',\r\n        twoFactorAuth: false,\r\n    });\r\n\r\n    useEffect(() => {\r\n        const fetchSettings = async () => {\r\n            try {\r\n                setLoading(true);\r\n                const response = await getUserSettings();\r\n                setSettings(response.data.settings);\r\n                setFormData({\r\n                    name: response.data.settings.name || '',\r\n                    email: response.data.settings.email || '',\r\n                    mobile: response.data.settings.mobile || '',\r\n                    bio: response.data.settings.bio || '',\r\n                    location: response.data.settings.location || '',\r\n                    language: response.data.settings.language || 'ar',\r\n                    emailNotifications: response.data.settings.notifications?.email || true,\r\n                    pushNotifications: response.data.settings.notifications?.push || true,\r\n                    smsNotifications: response.data.settings.notifications?.sms || false,\r\n                    profileVisibility: response.data.settings.privacy?.profile_visibility || 'public',\r\n                    twoFactorAuth: response.data.settings.security?.two_factor_auth || false,\r\n                });\r\n            } catch (error) {\r\n                console.error('Error fetching settings:', error);\r\n                setSnackbar({\r\n                    open: true,\r\n                    message: 'An error occurred while loading settings',\r\n                    severity: 'error',\r\n                });\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchSettings();\r\n    }, []);\r\n\r\n    const handleSectionChange = (section) => {\r\n        setActiveSection(section);\r\n    };\r\n\r\n    const handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData({\r\n            ...formData,\r\n            [name]: value,\r\n        });\r\n    };\r\n\r\n    const handleSwitchChange = (e) => {\r\n        const { name, checked } = e.target;\r\n        setFormData({\r\n            ...formData,\r\n            [name]: checked,\r\n        });\r\n    };\r\n\r\n    const handleSaveSettings = async () => {\r\n        try {\r\n            setSaving(true);\r\n\r\n            // Convert data to the required API format\r\n            const updatedSettings = {\r\n                name: formData.name,\r\n                email: formData.email,\r\n                mobile: formData.mobile,\r\n                bio: formData.bio,\r\n                location: formData.location,\r\n                language: formData.language,\r\n                notifications: {\r\n                    email: formData.emailNotifications,\r\n                    push: formData.pushNotifications,\r\n                    sms: formData.smsNotifications,\r\n                },\r\n                privacy: {\r\n                    profile_visibility: formData.profileVisibility,\r\n                },\r\n                security: {\r\n                    two_factor_auth: formData.twoFactorAuth,\r\n                },\r\n            };\r\n\r\n            await updateUserSettings(updatedSettings);\r\n\r\n            setSnackbar({\r\n                open: true,\r\n                message: 'Settings saved successfully',\r\n                severity: 'success',\r\n            });\r\n        } catch (error) {\r\n            console.error('Error saving settings:', error);\r\n            setSnackbar({\r\n                open: true,\r\n                message: 'An error occurred while saving settings',\r\n                severity: 'error',\r\n            });\r\n        } finally {\r\n            setSaving(false);\r\n        }\r\n    };\r\n\r\n    const handleCloseSnackbar = () => {\r\n        setSnackbar({ ...snackbar, open: false });\r\n    };\r\n\r\n    const handleOpenConfirmDialog = (title, message) => {\r\n        setConfirmDialog({\r\n            open: true,\r\n            title,\r\n            message,\r\n        });\r\n    };\r\n\r\n    const handleCloseConfirmDialog = () => {\r\n        setConfirmDialog({ ...confirmDialog, open: false });\r\n    };\r\n\r\n    const handleDeleteAccount = () => {\r\n        handleOpenConfirmDialog(\r\n            'Delete Account',\r\n            'Are you sure you want to delete your account? This action cannot be undone and will result in the loss of all your data.'\r\n        );\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: 'calc(100vh - 56px)' }}>\r\n                <CircularProgress />\r\n            </Box>\r\n        );\r\n    }   \r\n\r\n    return (\r\n        <SettingsContainer maxWidth=\"lg\" sx={{ mt: 4 }}>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n                Settings\r\n            </Typography>\r\n\r\n            <Grid container spacing={3} sx={{ mt: 1 , mb: 3 }}>\r\n                <Grid item xs={12} md={3}>\r\n                    <SettingsPaper elevation={2}>\r\n                        <SettingsSidebar>\r\n                            <List>\r\n                                <ListItemButton\r\n                                    selected={activeSection === 'profile'}\r\n                                    onClick={() => handleSectionChange('profile')}\r\n                                >\r\n                                    <ListItemIcon>\r\n                                        <AccountCircleIcon />\r\n                                    </ListItemIcon>\r\n                                    <ListItemText primary=\"Profile\" />\r\n                                </ListItemButton>\r\n\r\n                                <ListItemButton\r\n                                    selected={activeSection === 'notifications'}\r\n                                    onClick={() => handleSectionChange('notifications')}\r\n                                >\r\n                                    <ListItemIcon>\r\n                                        <NotificationsIcon />\r\n                                    </ListItemIcon>\r\n                                    <ListItemText primary=\"Notifications\" />\r\n                                </ListItemButton>\r\n\r\n                                <ListItemButton\r\n                                    selected={activeSection === 'privacy'}\r\n                                    onClick={() => handleSectionChange('privacy')}\r\n                                >\r\n                                    <ListItemIcon>\r\n                                        <VisibilityIcon />\r\n                                    </ListItemIcon>\r\n                                    <ListItemText primary=\"Privacy\" />\r\n                                </ListItemButton>\r\n\r\n                                <ListItemButton\r\n                                    selected={activeSection === 'security'}\r\n                                    onClick={() => handleSectionChange('security')}\r\n                                >\r\n                                    <ListItemIcon>\r\n                                        <SecurityIcon />\r\n                                    </ListItemIcon>\r\n                                    <ListItemText primary=\"Security\" />\r\n                                </ListItemButton>\r\n\r\n                                <ListItemButton\r\n                                    selected={activeSection === 'language'}\r\n                                    onClick={() => handleSectionChange('language')}\r\n                                >\r\n                                    <ListItemIcon>\r\n                                        <LanguageIcon />\r\n                                    </ListItemIcon>\r\n                                    <ListItemText primary=\"Language\" />\r\n                                </ListItemButton>\r\n\r\n                                <ListItemButton\r\n                                    selected={activeSection === 'help'}\r\n                                    onClick={() => handleSectionChange('help')}\r\n                                >\r\n                                    <ListItemIcon>\r\n                                        <HelpIcon />\r\n                                    </ListItemIcon>\r\n                                    <ListItemText primary=\"Help\" />\r\n                                </ListItemButton>\r\n\r\n                                <Divider />\r\n\r\n                                <ListItemButton\r\n                                    onClick={handleDeleteAccount}\r\n                                    sx={{ color: 'error.main' }}\r\n                                >\r\n                                    <ListItemIcon sx={{ color: 'error.main' }}>\r\n                                        <DeleteIcon />\r\n                                    </ListItemIcon>\r\n                                    <ListItemText primary=\"Delete Account\" />\r\n                                </ListItemButton>\r\n                            </List>\r\n                        </SettingsSidebar>\r\n                    </SettingsPaper>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} md={9}>\r\n                    <SettingsPaper elevation={2}>\r\n                        {activeSection === 'profile' && (\r\n                            <Box>\r\n                                <SettingsHeader>\r\n                                    <Typography variant=\"h6\">Profile Settings</Typography>\r\n                                </SettingsHeader>\r\n\r\n                                <SettingsContent>\r\n                                    <AvatarUpload>\r\n                                        <LargeAvatar src={user?.photoUrl}>\r\n                                            {!user?.photoUrl && user?.name?.charAt(0)}\r\n                                        </LargeAvatar>\r\n                                        <Button variant=\"outlined\" component=\"label\">\r\n                                            Change Photo\r\n                                            <input type=\"file\" hidden accept=\"image/*\" />\r\n                                        </Button>\r\n                                    </AvatarUpload>\r\n\r\n                                    <Grid container spacing={2}>\r\n                                        <Grid item xs={12} sm={6}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                label=\"Name\"\r\n                                                name=\"name\"\r\n                                                value={formData.name}\r\n                                                onChange={handleInputChange}\r\n                                                margin=\"normal\"\r\n                                            />\r\n                                        </Grid>\r\n\r\n                                        <Grid item xs={12} sm={6}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                label=\"Email\"\r\n                                                name=\"email\"\r\n                                                value={formData.email}\r\n                                                onChange={handleInputChange}\r\n                                                margin=\"normal\"\r\n                                            />\r\n                                        </Grid>\r\n\r\n                                        <Grid item xs={12} sm={6}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                label=\"Mobile Number\"\r\n                                                name=\"mobile\"\r\n                                                value={formData.mobile}\r\n                                                onChange={handleInputChange}\r\n                                                margin=\"normal\"\r\n                                            />\r\n                                        </Grid>\r\n\r\n                                        <Grid item xs={12} sm={6}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                label=\"Location\"\r\n                                                name=\"location\"\r\n                                                value={formData.location}\r\n                                                onChange={handleInputChange}\r\n                                                margin=\"normal\"\r\n                                            />\r\n                                        </Grid>\r\n\r\n                                        <Grid item xs={12}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                label=\"Bio\"\r\n                                                name=\"bio\"\r\n                                                value={formData.bio}\r\n                                                onChange={handleInputChange}\r\n                                                margin=\"normal\"\r\n                                                multiline\r\n                                                rows={4}\r\n                                            />\r\n                                        </Grid>\r\n                                    </Grid>\r\n\r\n                                    <Box sx={{ mt: 3, display: 'flex', justifyContent: 'flex-end' }}>\r\n                                        <Button\r\n                                            variant=\"contained\"\r\n                                            color=\"primary\"\r\n                                            onClick={handleSaveSettings}\r\n                                            disabled={saving}\r\n                                        >\r\n                                            {saving ? <CircularProgress size={24} /> : 'Save Changes'}\r\n                                        </Button>\r\n                                    </Box>\r\n                                </SettingsContent>\r\n                            </Box>\r\n                        )}\r\n\r\n                        {activeSection === 'notifications' && (\r\n                            <Box>\r\n                                <SettingsHeader>\r\n                                    <Typography variant=\"h6\">Notification Settings</Typography>\r\n                                </SettingsHeader>\r\n\r\n                                <SettingsContent>\r\n                                    <List>\r\n                                        <ListItem>\r\n                                            <ListItemText\r\n                                                primary=\"Email Notifications\"\r\n                                                secondary=\"Receive notifications via email\"\r\n                                            />\r\n                                            <Switch\r\n                                                edge=\"end\"\r\n                                                name=\"emailNotifications\"\r\n                                                checked={formData.emailNotifications}\r\n                                                onChange={handleSwitchChange}\r\n                                            />\r\n                                        </ListItem>\r\n\r\n                                        <Divider />\r\n\r\n                                        <ListItem>\r\n                                            <ListItemText\r\n                                                primary=\"Push Notifications\"\r\n                                                secondary=\"Receive notifications on your browser and mobile\"\r\n                                            />\r\n                                            <Switch\r\n                                                edge=\"end\"\r\n                                                name=\"pushNotifications\"\r\n                                                checked={formData.pushNotifications}\r\n                                                onChange={handleSwitchChange}\r\n                                            />\r\n                                        </ListItem>\r\n\r\n                                        <Divider />\r\n\r\n                                        <ListItem>\r\n                                            <ListItemText\r\n                                                primary=\"SMS Notifications\"\r\n                                                secondary=\"Receive notifications via SMS\"\r\n                                            />\r\n                                            <Switch\r\n                                                edge=\"end\"\r\n                                                name=\"smsNotifications\"\r\n                                                checked={formData.smsNotifications}\r\n                                                onChange={handleSwitchChange}\r\n                                            />\r\n                                        </ListItem>\r\n                                    </List>\r\n\r\n                                    <Box sx={{ mt: 3, display: 'flex', justifyContent: 'flex-end' }}>\r\n                                        <Button\r\n                                            variant=\"contained\"\r\n                                            color=\"primary\"\r\n                                            onClick={handleSaveSettings}\r\n                                            disabled={saving}\r\n                                        >\r\n                                            {saving ? <CircularProgress size={24} /> : 'Save Changes'}\r\n                                        </Button>\r\n                                    </Box>\r\n                                </SettingsContent>\r\n                            </Box>\r\n                        )}\r\n\r\n                        {activeSection === 'privacy' && (\r\n                            <Box>\r\n                                <SettingsHeader>\r\n                                    <Typography variant=\"h6\">Privacy Settings</Typography>\r\n                                </SettingsHeader>\r\n\r\n                                <SettingsContent>\r\n                                    <FormControl fullWidth margin=\"normal\">\r\n                                        <InputLabel>Profile Visibility</InputLabel>\r\n                                        <Select\r\n                                            name=\"profileVisibility\"\r\n                                            value={formData.profileVisibility}\r\n                                            onChange={handleInputChange}\r\n                                            label=\"Profile Visibility\"\r\n                                        >\r\n                                            <MenuItem value=\"public\">Public</MenuItem>\r\n                                            <MenuItem value=\"connections\">Only Connections</MenuItem>\r\n                                            <MenuItem value=\"private\">Private</MenuItem>\r\n                                        </Select>\r\n                                    </FormControl>\r\n\r\n                                    <Box sx={{ mt: 3, display: 'flex', justifyContent: 'flex-end' }}>\r\n                                        <Button\r\n                                            variant=\"contained\"\r\n                                            color=\"primary\"\r\n                                            onClick={handleSaveSettings}\r\n                                            disabled={saving}\r\n                                        >\r\n                                            {saving ? <CircularProgress size={24} /> : 'Save Changes'}\r\n                                        </Button>\r\n                                    </Box>\r\n                                </SettingsContent>\r\n                            </Box>\r\n                        )}\r\n\r\n                        {activeSection === 'security' && (\r\n                            <Box>\r\n                                <SettingsHeader>\r\n                                    <Typography variant=\"h6\">Security Settings</Typography>\r\n                                </SettingsHeader>\r\n\r\n                                <SettingsContent>\r\n                                    <List>\r\n                                        <ListItem>\r\n                                            <ListItemText\r\n                                                primary=\"Two-Factor Authentication\"\r\n                                                secondary=\"Enable two-factor authentication to increase your account security\"\r\n                                            />\r\n                                            <Switch\r\n                                                edge=\"end\"\r\n                                                name=\"twoFactorAuth\"\r\n                                                checked={formData.twoFactorAuth}\r\n                                                onChange={handleSwitchChange}\r\n                                            />\r\n                                        </ListItem>\r\n\r\n                                        <Divider />\r\n                                    </List>\r\n\r\n                                    <Box sx={{ mt: 3 }}>\r\n                                        <Button\r\n                                            variant=\"outlined\"\r\n                                            color=\"primary\"\r\n                                            fullWidth\r\n                                            sx={{ mb: 2 }}\r\n                                        >\r\n                                            Change Password\r\n                                        </Button>\r\n\r\n                                        <Button\r\n                                            variant=\"outlined\"\r\n                                            color=\"primary\"\r\n                                            fullWidth\r\n                                        >\r\n                                            Active Login Sessions\r\n                                        </Button>\r\n                                    </Box>\r\n\r\n                                    <Box sx={{ mt: 3, display: 'flex', justifyContent: 'flex-end' }}>\r\n                                        <Button\r\n                                            variant=\"contained\"\r\n                                            color=\"primary\"\r\n                                            onClick={handleSaveSettings}\r\n                                            disabled={saving}\r\n                                        >\r\n                                            {saving ? <CircularProgress size={24} /> : 'Save Changes'}\r\n                                        </Button>\r\n                                    </Box>\r\n                                </SettingsContent>\r\n                            </Box>)}\r\n\r\n                            {activeSection === 'language' && (\r\n                                <Box>\r\n                                    <SettingsHeader>\r\n                                        <Typography variant=\"h6\">Language Settings</Typography>\r\n                                    </SettingsHeader>\r\n    \r\n                                    <SettingsContent>\r\n                                        <FormControl fullWidth margin=\"normal\">\r\n                                            <InputLabel>Language</InputLabel>\r\n                                            <Select\r\n                                                name=\"language\"\r\n                                                value={formData.language}\r\n                                                onChange={handleInputChange}\r\n                                                label=\"Language\"\r\n                                            >\r\n                                                <MenuItem value=\"ar\">Arabic</MenuItem>\r\n                                                <MenuItem value=\"en\">English</MenuItem>\r\n                                            </Select>\r\n                                        </FormControl>\r\n    \r\n                                        <Box sx={{ mt: 3, display: 'flex', justifyContent: 'flex-end' }}>\r\n                                            <Button\r\n                                                variant=\"contained\"\r\n                                                color=\"primary\"\r\n                                                onClick={handleSaveSettings}\r\n                                                disabled={saving}\r\n                                            >\r\n                                                {saving ? <CircularProgress size={24} /> : 'Save Changes'}\r\n                                            </Button>\r\n                                        </Box>\r\n                                    </SettingsContent>\r\n                                </Box>\r\n                            )}\r\n    \r\n                            {activeSection === 'help' && (\r\n                                <Box>\r\n                                    <SettingsHeader>\r\n                                        <Typography variant=\"h6\">Help & Support</Typography>\r\n                                    </SettingsHeader>\r\n    \r\n                                    <SettingsContent>\r\n                                        <Typography variant=\"body1\" paragraph>\r\n                                            If you need help or have any questions, you can contact our support team.\r\n                                        </Typography>\r\n    \r\n                                        <List>\r\n                                            <ListItem>\r\n                                                <ListItemText\r\n                                                    primary=\"Help Center\"\r\n                                                    secondary=\"Browse frequently asked questions and tutorial articles\"\r\n                                                />\r\n                                                <Button variant=\"outlined\" size=\"small\">\r\n                                                    Open\r\n                                                </Button>\r\n                                            </ListItem>\r\n    \r\n                                            <Divider />\r\n    \r\n                                            <ListItem>\r\n                                                <ListItemText\r\n                                                    primary=\"Technical Support\"\r\n                                                    secondary=\"Contact our technical support team\"\r\n                                                />\r\n                                                <Button variant=\"outlined\" size=\"small\">\r\n                                                    Contact\r\n                                                </Button>\r\n                                            </ListItem>\r\n    \r\n                                            <Divider />\r\n    \r\n                                            <ListItem>\r\n                                                <ListItemText\r\n                                                    primary=\"Report a Problem\"\r\n                                                    secondary=\"Report an issue or bug in the application\"\r\n                                                />\r\n                                                <Button variant=\"outlined\" size=\"small\">\r\n                                                    Report\r\n                                                </Button>\r\n                                            </ListItem>\r\n                                        </List>\r\n                                    </SettingsContent>\r\n                                </Box>\r\n                            )}\r\n                        </SettingsPaper>\r\n                    </Grid>\r\n                </Grid>\r\n    \r\n                <Snackbar\r\n                    open={snackbar.open}\r\n                    autoHideDuration={6000}\r\n                    onClose={handleCloseSnackbar}\r\n                    anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n                >\r\n                    <Alert onClose={handleCloseSnackbar} severity={snackbar.severity} sx={{ width: '100%' }}>\r\n                        {snackbar.message}\r\n                    </Alert>\r\n                </Snackbar>\r\n    \r\n                <Dialog\r\n                    open={confirmDialog.open}\r\n                    onClose={handleCloseConfirmDialog}\r\n                >\r\n                    <DialogTitle>{confirmDialog.title}</DialogTitle>\r\n                    <DialogContent>\r\n                        <Typography>{confirmDialog.message}</Typography>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={handleCloseConfirmDialog}>Cancel</Button>\r\n                        <Button color=\"error\" onClick={handleCloseConfirmDialog}>\r\n                            Delete Account\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </SettingsContainer>\r\n        );\r\n    };\r\n    \r\n    export default Settings;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\SharePage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'getHomeGradient' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 6,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 6,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "getHomeGradient"
            },
            "fix": {
              "range": [
                255,
                316
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'getHomeGradient'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 46,
        "column": 36,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 46,
        "endColumn": 37
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useEffect, useState } from \"react\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Button } from \"@/components/UI/button.jsx\";\r\nimport { Share2, ExternalLink } from \"lucide-react\";\r\nimport { getHomeGradient } from \"@/config/theme-colors-home\";\r\n\r\nconst PLATFORM = {\r\n  facebook: { color: \"#1877F2\", url: (l) => `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(l)}` },\r\n  twitter: { color: \"#1DA1F2\", url: (l) => `https://twitter.com/intent/tweet?url=${encodeURIComponent(l)}` },\r\n  linkedin: { color: \"#0A66C2\", url: (l) => `https://www.linkedin.com/shareArticle?url=${encodeURIComponent(l)}` },\r\n  whatsapp: { color: \"#25D366\", url: (l) => `https://api.whatsapp.com/send?text=${encodeURIComponent(l)}` }\r\n};\r\n\r\nconst SharePage = () => {\r\n  const [searchParams] = useSearchParams();\r\n  const [shareableLink, setShareableLink] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const link = searchParams.get(\"link\");\r\n    if (link) {\r\n      try { setShareableLink(decodeURIComponent(link)); }\r\n      catch { setShareableLink(link); }\r\n    } else {\r\n      toast.error(\"No shareable link provided.\");\r\n    }\r\n  }, [searchParams]);\r\n\r\n  const handleCopyLink = async () => {\r\n    if (!shareableLink) return toast.error(\"No link to copy\");\r\n    try {\r\n      await navigator.clipboard.writeText(shareableLink);\r\n      toast.success(\"Link copied to clipboard!\");\r\n    } catch (err) {\r\n      console.error(\"Failed to copy link:\", err);\r\n      toast.error(\"Failed to copy link.\");\r\n    }\r\n  };\r\n\r\n  const openSocialMedia = (url) => {\r\n    if (!url) return;\r\n    window.open(url, \"_blank\", \"noopener,noreferrer,width=800,height=600\");\r\n  };\r\n\r\n  const closeWindow = () => {\r\n    try { window.close(); } catch (e) { /* ignore */ }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-slate-50 p-4\">\r\n      <div className=\"w-full max-w-lg bg-white dark:bg-slate-900 rounded-lg shadow-lg p-6 relative\">\r\n        <button\r\n          onClick={closeWindow}\r\n          aria-label=\"close\"\r\n          className=\"absolute right-4 top-4 text-slate-500 hover:text-slate-700\"\r\n        >\r\n          <ExternalLink className=\"h-5 w-5\" />\r\n        </button>\r\n\r\n        <div className=\"text-center mb-4\">\r\n          <h2 className=\"text-lg font-semibold\">Share</h2>\r\n          <p className=\"text-sm text-slate-500\">Share this item using your preferred app or copy the link.</p>\r\n        </div>\r\n\r\n        <div className=\"flex gap-2 items-center mb-4\">\r\n          <input\r\n            readOnly\r\n            value={shareableLink}\r\n            placeholder=\"Shareable link\"\r\n            className=\"flex-1 px-3 py-2 rounded-md border border-slate-200 bg-slate-50 text-sm\"\r\n          />\r\n          <Button variant=\"outline\" size=\"icon\" onClick={handleCopyLink} aria-label=\"Copy link\">\r\n            <Share2 className=\"h-4 w-4\" />\r\n          </Button>\r\n        </div>\r\n\r\n        <div className=\"flex gap-3 justify-center flex-wrap mb-4\">\r\n          <button\r\n            aria-label=\"facebook\"\r\n            onClick={() => openSocialMedia(PLATFORM.facebook.url(shareableLink))}\r\n            className=\"flex items-center gap-2 px-4 py-2 rounded-md text-white\"\r\n            style={{ backgroundColor: PLATFORM.facebook.color }}\r\n          >\r\n            Facebook\r\n          </button>\r\n\r\n          <button\r\n            aria-label=\"twitter\"\r\n            onClick={() => openSocialMedia(PLATFORM.twitter.url(shareableLink))}\r\n            className=\"flex items-center gap-2 px-4 py-2 rounded-md text-white\"\r\n            style={{ backgroundColor: PLATFORM.twitter.color }}\r\n          >\r\n            Twitter\r\n          </button>\r\n\r\n          <button\r\n            aria-label=\"linkedin\"\r\n            onClick={() => openSocialMedia(PLATFORM.linkedin.url(shareableLink))}\r\n            className=\"flex items-center gap-2 px-4 py-2 rounded-md text-white\"\r\n            style={{ backgroundColor: PLATFORM.linkedin.color }}\r\n          >\r\n            LinkedIn\r\n          </button>\r\n\r\n          <button\r\n            aria-label=\"whatsapp\"\r\n            onClick={() => openSocialMedia(PLATFORM.whatsapp.url(shareableLink))}\r\n            className=\"flex items-center gap-2 px-4 py-2 rounded-md text-white\"\r\n            style={{ backgroundColor: PLATFORM.whatsapp.color }}\r\n          >\r\n            WhatsApp\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"flex justify-center gap-3\">\r\n          <Button variant=\"default\" onClick={handleCopyLink}>Copy Link</Button>\r\n          <Button variant=\"ghost\" onClick={closeWindow}>Close</Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SharePage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\SignupPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 159,
        "column": 46,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 159,
        "endColumn": 51,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                4283,
                4292
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 170,
        "column": 48,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 170,
        "endColumn": 53,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                4572,
                4581
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  Box,\r\n  Container,\r\n  Paper,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Stack,\r\n  Divider,\r\n  IconButton,\r\n  InputAdornment,\r\n  styled,\r\n} from \"@mui/material\";\r\nimport {\r\n  Visibility,\r\n  VisibilityOff,\r\n  Google as GoogleIcon,\r\n  LinkedIn as LinkedInIcon,\r\n  Person as PersonIcon,\r\n  Business as BusinessIcon,\r\n} from \"@mui/icons-material\";\r\nimport RoleCard from \"../components/RoleCard\";\r\n\r\n// Styled components\r\nconst SignupContainer = styled(Box)(({ theme }) => ({\r\n  minHeight: '100vh',\r\n  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n  position: 'relative',\r\n  padding: theme.spacing(4, 0),\r\n  '&::before': {\r\n    content: '\"\"',\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    background: 'url(\"data:image/svg+xml,%3Csvg width=\"60\" height=\"60\" viewBox=\"0 0 60 60\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cg fill=\"none\" fill-rule=\"evenodd\"%3E%3Cg fill=\"%23ffffff\" fill-opacity=\"0.05\"%3E%3Ccircle cx=\"30\" cy=\"30\" r=\"2\"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")',\r\n    animation: 'float 20s ease-in-out infinite',\r\n  },\r\n  '@keyframes float': {\r\n    '0%, 100%': { transform: 'translateY(0px)' },\r\n    '50%': { transform: 'translateY(-20px)' },\r\n  },\r\n}));\r\n\r\nconst SignupFormContainer = styled(Paper)(({ theme }) => ({\r\n  maxWidth: 500,\r\n  margin: '0 auto',\r\n  padding: theme.spacing(4),\r\n  boxShadow: '0 20px 40px rgba(0,0,0,0.1), 0 0 0 1px rgba(255,255,255,0.05)',\r\n  borderRadius: '20px',\r\n  backgroundColor: 'rgba(255, 255, 255, 0.95)',\r\n  backdropFilter: 'blur(10px)',\r\n  border: '1px solid rgba(255, 255, 255, 0.2)',\r\n  position: 'relative',\r\n  zIndex: 1,\r\n  animation: 'slideUp 0.6s ease-out',\r\n  '@keyframes slideUp': {\r\n    '0%': { \r\n      opacity: 0, \r\n      transform: 'translateY(30px) scale(0.95)' \r\n    },\r\n    '100%': { \r\n      opacity: 1, \r\n      transform: 'translateY(0) scale(1)' \r\n    },\r\n  },\r\n}));\r\n\r\nconst SignupTitle = styled(Typography)(({ theme }) => ({\r\n  fontWeight: 700,\r\n  fontSize: '2.5rem',\r\n  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n  backgroundClip: 'text',\r\n  WebkitBackgroundClip: 'text',\r\n  WebkitTextFillColor: 'transparent',\r\n  textAlign: 'center',\r\n  marginBottom: theme.spacing(1),\r\n}));\r\n\r\nconst SignupSubtitle = styled(Typography)(({ theme }) => ({\r\n  color: '#6b7280',\r\n  textAlign: 'center',\r\n  fontSize: '1.1rem',\r\n  marginBottom: theme.spacing(4),\r\n}));\r\n\r\nconst InputField = styled(TextField)(({ theme }) => ({\r\n  width: '100%',\r\n  margin: theme.spacing(1.5, 0),\r\n  '& .MuiOutlinedInput-root': {\r\n    borderRadius: '12px',\r\n    backgroundColor: 'rgba(255, 255, 255, 0.8)',\r\n    transition: 'all 0.3s ease',\r\n    '& fieldset': {\r\n      borderColor: 'rgba(0, 0, 0, 0.1)',\r\n      borderWidth: '2px',\r\n    },\r\n    '&:hover fieldset': {\r\n      borderColor: '#667eea',\r\n      boxShadow: '0 0 0 3px rgba(102, 126, 234, 0.1)',\r\n    },\r\n    '&.Mui-focused fieldset': {\r\n      borderColor: '#667eea',\r\n      boxShadow: '0 0 0 3px rgba(102, 126, 234, 0.1)',\r\n    },\r\n  },\r\n  '& .MuiInputLabel-root': {\r\n    color: '#6b7280',\r\n    fontWeight: 500,\r\n  },\r\n  '& .MuiInputLabel-root.Mui-focused': {\r\n    color: '#667eea',\r\n  },\r\n  '& input': {\r\n    padding: theme.spacing(1.5),\r\n    fontSize: '1rem',\r\n  },\r\n}));\r\n\r\nconst SignupButton = styled(Button)(({ theme }) => ({\r\n  width: '100%',\r\n  padding: theme.spacing(1.75),\r\n  marginTop: theme.spacing(2),\r\n  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n  color: 'white',\r\n  border: 'none',\r\n  borderRadius: '12px',\r\n  fontWeight: 600,\r\n  fontSize: '1rem',\r\n  textTransform: 'none',\r\n  cursor: 'pointer',\r\n  transition: 'all 0.3s ease',\r\n  boxShadow: '0 4px 15px rgba(102, 126, 234, 0.3)',\r\n  '&:hover': {\r\n    transform: 'translateY(-2px)',\r\n    boxShadow: '0 8px 25px rgba(102, 126, 234, 0.4)',\r\n  },\r\n  '&:active': {\r\n    transform: 'translateY(0)',\r\n  },\r\n}));\r\n\r\nconst SocialButton = styled(Button)(({ theme }) => ({\r\n  flex: 1,\r\n  padding: theme.spacing(1.5),\r\n  borderRadius: '12px',\r\n  textTransform: 'none',\r\n  fontWeight: 500,\r\n  fontSize: '0.875rem',\r\n  transition: 'all 0.3s ease',\r\n  '&:hover': {\r\n    transform: 'translateY(-1px)',\r\n  },\r\n}));\r\n\r\nconst GoogleButton = styled(SocialButton)(({ theme }) => ({\r\n  backgroundColor: '#fff',\r\n  color: '#db4437',\r\n  border: '2px solid #db4437',\r\n  '&:hover': {\r\n    backgroundColor: '#fef2f2',\r\n    borderColor: '#dc2626',\r\n    boxShadow: '0 4px 12px rgba(219, 68, 55, 0.2)',\r\n  },\r\n}));\r\n\r\nconst LinkedInButton = styled(SocialButton)(({ theme }) => ({\r\n  backgroundColor: '#0077b5',\r\n  color: 'white',\r\n  border: '2px solid #0077b5',\r\n  '&:hover': {\r\n    backgroundColor: '#005885',\r\n    borderColor: '#005885',\r\n    boxShadow: '0 4px 12px rgba(0, 119, 181, 0.3)',\r\n  },\r\n}));\r\n\r\nconst LoginLink = styled(Typography)(({ theme }) => ({\r\n  textAlign: 'center',\r\n  marginTop: theme.spacing(3),\r\n  color: '#6b7280',\r\n  fontSize: '0.875rem',\r\n  '& a': {\r\n    color: '#667eea',\r\n    textDecoration: 'none',\r\n    fontWeight: 600,\r\n    transition: 'color 0.3s ease',\r\n    '&:hover': {\r\n      color: '#5a67d8',\r\n    },\r\n  },\r\n}));\r\n\r\nconst SignupPage = () => {\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    fullName: '',\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const roles = [\r\n    {\r\n      icon: <PersonIcon sx={{ fontSize: 40, color: '#667eea' }} />,\r\n      title: \"Job Seeker\",\r\n      description: \"Find your dream job and showcase your skills through video profiles.\"\r\n    },\r\n    {\r\n      icon: <BusinessIcon sx={{ fontSize: 40, color: '#667eea' }} />,\r\n      title: \"Employer\",\r\n      description: \"Discover top talent and create engaging video job postings.\"\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <SignupContainer>\r\n      <Container maxWidth=\"md\">\r\n        <SignupFormContainer>\r\n          <SignupTitle variant=\"h3\">Join SwipeScout Today!</SignupTitle>\r\n          <SignupSubtitle>\r\n            Connect with opportunities through the power of video\r\n          </SignupSubtitle>\r\n          \r\n          <Box sx={{ mb: 4 }}>\r\n            <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>\r\n              {roles.map((role, index) => (\r\n                <RoleCard \r\n                  key={index} \r\n                  {...role} \r\n                  sx={{\r\n                    flex: 1,\r\n                    transition: 'all 0.3s ease',\r\n                    '&:hover': {\r\n                      transform: 'translateY(-4px)',\r\n                      boxShadow: '0 8px 25px rgba(102, 126, 234, 0.15)',\r\n                    }\r\n                  }}\r\n                />\r\n              ))}\r\n            </Stack>\r\n          </Box>\r\n\r\n          <Box component=\"form\">\r\n            <InputField\r\n              label=\"Full Name\"\r\n              name=\"fullName\"\r\n              value={formData.fullName}\r\n              onChange={handleChange}\r\n              required\r\n              variant=\"outlined\"\r\n            />\r\n            \r\n            <InputField\r\n              label=\"Email Address\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              required\r\n              variant=\"outlined\"\r\n            />\r\n            \r\n            <InputField\r\n              label=\"Password\"\r\n              type={showPassword ? \"text\" : \"password\"}\r\n              name=\"password\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n              required\r\n              variant=\"outlined\"\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      onClick={() => setShowPassword(!showPassword)}\r\n                      edge=\"end\"\r\n                    >\r\n                      {showPassword ? <VisibilityOff /> : <Visibility />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n            \r\n            <InputField\r\n              label=\"Confirm Password\"\r\n              type={showConfirmPassword ? \"text\" : \"password\"}\r\n              name=\"confirmPassword\"\r\n              value={formData.confirmPassword}\r\n              onChange={handleChange}\r\n              required\r\n              variant=\"outlined\"\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                      edge=\"end\"\r\n                    >\r\n                      {showConfirmPassword ? <VisibilityOff /> : <Visibility />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n            \r\n            <SignupButton type=\"submit\">\r\n              Create Account\r\n            </SignupButton>\r\n            \r\n            <Divider sx={{ my: 3 }}>\r\n              <Typography variant=\"body2\" sx={{ \r\n                color: '#6b7280', \r\n                px: 2,\r\n                backgroundColor: 'rgba(255, 255, 255, 0.95)',\r\n                fontWeight: 500,\r\n              }}>\r\n                Or sign up with\r\n              </Typography>\r\n            </Divider>\r\n            \r\n            <Stack direction=\"row\" spacing={2}>\r\n              <GoogleButton\r\n                startIcon={<GoogleIcon />}\r\n                fullWidth\r\n              >\r\n                Google\r\n              </GoogleButton>\r\n              <LinkedInButton\r\n                startIcon={<LinkedInIcon />}\r\n                fullWidth\r\n              >\r\n                LinkedIn\r\n              </LinkedInButton>\r\n            </Stack>\r\n            \r\n            <LoginLink>\r\n              Already have an account? <Link to=\"/login\">Sign In</Link>\r\n            </LoginLink>\r\n          </Box>\r\n        </SignupFormContainer>\r\n      </Container>\r\n    </SignupContainer>\r\n  );\r\n};\r\n\r\nexport default SignupPage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\SkillGapAnalysisPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useMemo' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 38,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 45,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useMemo"
            },
            "fix": {
              "range": [
                35,
                44
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useMemo'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useCallback' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 47,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 58,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useCallback"
            },
            "fix": {
              "range": [
                44,
                57
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useCallback'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect, useMemo, useCallback, useRef } from 'react';\r\nimport { analyzeSkillGaps, getAllJobs } from '../services/analysisApi';\r\nimport { Briefcase, Target, TrendingUp, Loader, AlertTriangle, BookOpen, Zap } from 'lucide-react';\r\nimport ErrorBoundary from '../components/ErrorBoundary';\r\nimport localize from '../utils/localize';\r\n\r\n// Stable icon component wrapper to prevent React reconciliation errors\r\nconst IconWrapper = React.memo(({ children, className = '' }) => (\r\n  <span className={`inline-flex items-center justify-center ${className}`}>\r\n    {children}\r\n  </span>\r\n));\r\n\r\n// Use a stable mounted ref and regular state for loading.\r\n// This is simpler and avoids timing-related DOM insertion issues.\r\n\r\nconst SkillGapAnalysisPage = () => {\r\n  const [jobs, setJobs] = useState([]);\r\n  const [selectedJob, setSelectedJob] = useState('');\r\n  const [analysis, setAnalysis] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Mounted ref to avoid state updates after unmount\r\n  const isMountedRef = useRef(true);\r\n  useEffect(() => {\r\n    isMountedRef.current = true;\r\n    return () => {\r\n      isMountedRef.current = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n  let isFetchActive = true;\r\n    \r\n    const fetchJobs = async () => {\r\n      try {\r\n        const response = await getAllJobs();\r\n        // Backend may return different shapes, commonly:\r\n        // { jobs: [...] } or { message: '..', jobs: [...] } or an array directly\r\n        const data = response?.data;\r\n        \r\n  // Only update state if component is still mounted\r\n  if (!isFetchActive || !isMountedRef.current) return;\r\n        \r\n        if (Array.isArray(data)) {\r\n          setJobs(data);\r\n        } else if (data && Array.isArray(data.jobs)) {\r\n          setJobs(data.jobs);\r\n        } else if (data && Array.isArray(data.data)) {\r\n          setJobs(data.data);\r\n        } else {\r\n          // Unexpected shape (possibly an error object like { message: 'Unauthorized' })\r\n          console.warn('Unexpected jobs response shape:', data);\r\n          setJobs([]);\r\n          if (data && data.message) setError(data.message);\r\n        }\r\n      } catch (err) {\r\n  if (!isFetchActive || !isMountedRef.current) return;\r\n        setError('Failed to fetch jobs list.');\r\n        console.error(err);\r\n      }\r\n    };\r\n    \r\n    fetchJobs();\r\n    \r\n    // Cleanup function to cancel pending state updates\r\n    return () => {\r\n      isFetchActive = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleAnalyze = async () => {\r\n    console.log('ðŸ” Analyze clicked! Selected job:', selectedJob);\r\n    console.log('ðŸ” isMountedRef.current:', isMountedRef.current);\r\n    \r\n    if (!selectedJob) {\r\n      console.log('âŒ No job selected');\r\n      setError('Please select a job to analyze.');\r\n      return;\r\n    }\r\n    \r\n    // avoid doing work if component unmounted\r\n    if (!isMountedRef.current) {\r\n      console.log('âŒ Component unmounted, aborting');\r\n      return;\r\n    }\r\n\r\n    console.log('âœ… Starting analysis request for job ID:', selectedJob);\r\n    setLoading(true);\r\n    setError(null);\r\n    setAnalysis(null);\r\n\r\n    try {\r\n      // Authentication token is automatically included via interceptor\r\n      console.log('ðŸ“¡ Calling analyzeSkillGaps API...');\r\n      const response = await analyzeSkillGaps(selectedJob);\r\n      console.log('âœ… Analysis response received:', response.data);\r\n\r\n      // Only update state if component is still mounted\r\n      if (!isMountedRef.current) return;\r\n\r\n      // sanitize analysis data to avoid showing '[object Object]' when templates\r\n      // accidentally concatenated objects into strings on the backend\r\n      const sanitizeAnalysis = (raw) => {\r\n        if (!raw) return raw;\r\n        // deep clone to avoid mutating original\r\n        const a = JSON.parse(JSON.stringify(raw));\r\n        if (Array.isArray(a.gaps)) {\r\n          a.gaps = a.gaps.map((gap) => {\r\n            try {\r\n              const skillName = localize(gap?.skill?.name) || '';\r\n\r\n              // development_plan.description may contain the literal '[object Object]'\r\n              if (gap.development_plan && typeof gap.development_plan.description === 'string') {\r\n                gap.development_plan.description = gap.development_plan.description.split('[object Object]').join(skillName);\r\n              }\r\n\r\n              // learning_resources: fix names and urls that include the placeholder\r\n              if (Array.isArray(gap.learning_resources)) {\r\n                gap.learning_resources = gap.learning_resources.map((res) => {\r\n                  if (res && typeof res.name === 'string' && res.name.includes('[object Object]')) {\r\n                    res.name = res.name.split('[object Object]').join(skillName);\r\n                  }\r\n                  if (res && typeof res.url === 'string' && res.url.includes('%5Bobject%20Object%5D')) {\r\n                    // replace encoded [object Object] with encoded skill name\r\n                    const encoded = encodeURIComponent(skillName);\r\n                    res.url = res.url.split('%5Bobject%20Object%5D').join(encoded);\r\n                  }\r\n                  return res;\r\n                });\r\n              }\r\n\r\n              // milestones: titles sometimes contain the placeholder\r\n              if (Array.isArray(gap.milestones)) {\r\n                gap.milestones = gap.milestones.map((m) => {\r\n                  if (m && typeof m.title === 'string' && m.title.includes('[object Object]')) {\r\n                    m.title = m.title.split('[object Object]').join(skillName);\r\n                  }\r\n                  return m;\r\n                });\r\n              }\r\n\r\n            } catch (e) {\r\n              // swallow â€“ do best-effort sanitization\r\n              console.warn('Sanitize gap failed', e);\r\n            }\r\n            return gap;\r\n          });\r\n        }\r\n        return a;\r\n      };\r\n\r\n      const sanitized = sanitizeAnalysis(response.data);\r\n      setAnalysis(sanitized);\r\n      setError(null);\r\n    } catch (err) {\r\n      if (!isMountedRef.current) return;\r\n\r\n      console.error('âŒ Error analyzing skill gaps:', err);\r\n      console.error('Error details:', {\r\n        message: err.message,\r\n        response: err.response?.data,\r\n        status: err.response?.status\r\n      });\r\n      setError('Failed to perform skill gap analysis. Please ensure the backend server is running and try again.');\r\n    } finally {\r\n      if (isMountedRef.current) {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const getPriorityColor = (priority) => {\r\n    switch (priority) {\r\n      case 'Critical': return 'bg-red-600 text-white';\r\n      case 'High': return 'bg-red-100 text-red-800';\r\n      case 'Medium': return 'bg-yellow-100 text-yellow-800';\r\n      case 'Low': return 'bg-green-100 text-green-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ErrorBoundary>\r\n      <div className=\"min-h-screen bg-gray-50 p-4 sm:p-6 lg:p-8\">\r\n        <div className=\"max-w-5xl mx-auto\">\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-8\">\r\n          <div className=\"flex items-center mb-4\">\r\n            <TrendingUp className=\"h-8 w-8 text-purple-600 mr-3\" />\r\n            <h1 className=\"text-3xl font-bold text-gray-800\">Skill Gap Analysis</h1>\r\n          </div>\r\n          <p className=\"text-gray-600\">\r\n            Identify the skills you need to develop for your target job and create a plan to bridge the gap.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-8\">\r\n          <h2 className=\"text-2xl font-semibold mb-4 text-gray-700\">Select a Job to Analyze</h2>\r\n          <div className=\"flex flex-col sm:flex-row gap-4\">\r\n            <div className=\"flex-grow relative\">\r\n              <Briefcase className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\r\n              <select\r\n                value={selectedJob}\r\n                onChange={(e) => setSelectedJob(e.target.value)}\r\n                className=\"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\r\n                disabled={!Array.isArray(jobs) || jobs.length === 0}\r\n              >\r\n                <option value=\"\">-- Select a Job --</option>\r\n                {Array.isArray(jobs) && jobs.map(job => (\r\n                  <option key={job.id} value={job.id}>{localize(job.title)}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <button\r\n              key=\"analyze-button\"\r\n              onClick={handleAnalyze}\r\n              disabled={loading || !selectedJob}\r\n              className=\"bg-purple-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-purple-700 transition-colors flex items-center justify-center disabled:bg-purple-400 disabled:cursor-not-allowed\"\r\n            >\r\n              <IconWrapper className=\"mr-2\">\r\n                {loading ? (\r\n                  <Loader className=\"w-5 h-5 animate-spin\" key=\"loader-icon\" />\r\n                ) : (\r\n                  <Zap className=\"w-5 h-5\" key=\"zap-icon\" />\r\n                )}\r\n              </IconWrapper>\r\n              <span>{loading ? 'Analyzing...' : 'Analyze'}</span>\r\n            </button>\r\n          </div>\r\n          {error && (\r\n            <div className=\"mt-4 flex items-center text-red-600\">\r\n              <AlertTriangle className=\"mr-2\" />\r\n              <span>{error}</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {analysis && (\r\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n            <h2 className=\"text-2xl font-semibold mb-4 text-gray-700\">\r\n              Analysis for: <span className=\"text-purple-700\">{localize(analysis.job?.title || (Array.isArray(jobs) && jobs.find(j => j.id === selectedJob)?.title))}</span>\r\n            </h2>\r\n            \r\n            {/* Summary Section */}\r\n            {analysis.summary && (\r\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\r\n                <div className=\"bg-blue-50 p-4 rounded-lg text-center\">\r\n                  <p className=\"text-sm text-gray-600\">Total Gaps</p>\r\n                  <p className=\"text-2xl font-bold text-blue-600\">{analysis.summary.total_gaps}</p>\r\n                </div>\r\n                <div className=\"bg-red-50 p-4 rounded-lg text-center\">\r\n                  <p className=\"text-sm text-gray-600\">Critical</p>\r\n                  <p className=\"text-2xl font-bold text-red-600\">{analysis.summary.critical_gaps}</p>\r\n                </div>\r\n                <div className=\"bg-green-50 p-4 rounded-lg text-center\">\r\n                  <p className=\"text-sm text-gray-600\">Readiness</p>\r\n                  <p className=\"text-2xl font-bold text-green-600\">{analysis.summary.readiness_score}%</p>\r\n                </div>\r\n                <div className=\"bg-purple-50 p-4 rounded-lg text-center\">\r\n                  <p className=\"text-sm text-gray-600\">Est. Time</p>\r\n                  <p className=\"text-2xl font-bold text-purple-600\">{analysis.summary.total_estimated_time}h</p>\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n            <div className=\"space-y-6\">\r\n              {(analysis.gaps || []).map(gap => (\r\n                <div key={gap.skill.id} className=\"border rounded-lg p-4 hover:shadow-lg transition-shadow\">\r\n                  <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-3\">\r\n                    <h3 className=\"font-bold text-xl text-gray-800\">{localize(gap.skill.name)}</h3>\r\n                    <span className={`px-3 py-1 text-sm font-medium rounded-full ${getPriorityColor(gap.priority)}`}>\r\n                      {gap.priority} Priority\r\n                    </span>\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 text-center\">\r\n                    <div className=\"bg-gray-50 p-3 rounded-lg\">\r\n                      <p className=\"text-sm text-gray-500\">Required Level</p>\r\n                      <p className=\"font-bold text-lg text-gray-800\">{gap.required_level}</p>\r\n                    </div>\r\n                    <div className=\"bg-gray-50 p-3 rounded-lg\">\r\n                      <p className=\"text-sm text-gray-500\">Your Level</p>\r\n                      <p className=\"font-bold text-lg text-blue-600\">{gap.user_level}</p>\r\n                    </div>\r\n                    <div className=\"bg-red-50 p-3 rounded-lg\">\r\n                      <p className=\"text-sm text-red-500\">Skill Gap</p>\r\n                      <p className=\"font-bold text-lg text-red-700\">{gap.gap_size}</p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"bg-purple-50 border-l-4 border-purple-500 p-4 rounded-r-lg\">\r\n                    <h4 className=\"font-semibold text-gray-800 flex items-center mb-2\">\r\n                      <BookOpen className=\"mr-2 text-purple-600\" />\r\n                      Development Plan\r\n                    </h4>\r\n                    <p className=\"text-gray-600 mb-2\">{localize(gap.development_plan.description)}</p>\r\n                    <p className=\"text-sm text-gray-500 mb-2\">Estimated learning time: {gap.estimated_learning_time} hours</p>\r\n                    <h5 className=\"font-medium text-gray-700 mt-3\">Suggested Resources:</h5>\r\n                    <ul className=\"list-disc list-inside text-blue-600 space-y-1 mt-1\">\r\n                      {gap.learning_resources.map((res, index) => (\r\n                        <li key={index}>\r\n                          <a href={res.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"hover:underline\">\r\n                            {localize(res.name)} ({res.type})\r\n                          </a>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n        </div>\r\n      </div>\r\n    </ErrorBoundary>\r\n  );\r\n};\r\n\r\nexport default SkillGapAnalysisPage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\SmartRecommendationsPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 62,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 62,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                960,
                995
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'user' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 66,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 66,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "user"
            },
            "fix": {
              "range": [
                1084,
                1111
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'user'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchJobRecommendations'. Either include it or remove the dependency array.",
        "line": 96,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 96,
        "endColumn": 17,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [activeTab, fetchJobRecommendations]",
            "fix": {
              "range": [
                2194,
                2205
              ],
              "text": "[activeTab, fetchJobRecommendations]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Container,\r\n  Grid,\r\n  Typography,\r\n  useTheme,\r\n  CircularProgress,\r\n  Alert,\r\n  Chip,\r\n  Avatar,\r\n  LinearProgress,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Tabs,\r\n  Tab,\r\n  Slider,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemAvatar,\r\n  Divider,\r\n  Paper,\r\n  IconButton,\r\n  Tooltip\r\n} from \"@mui/material\";\r\nimport { \r\n  Psychology,\r\n  TrendingUp,\r\n  Work,\r\n  Person,\r\n  Star,\r\n  LocationOn,\r\n  AttachMoney,\r\n  School,\r\n  Schedule,\r\n  Insights,\r\n  Refresh,\r\n  FilterList,\r\n  Analytics,\r\n  Lightbulb,\r\n  Assessment,\r\n  Business,\r\n  EmojiObjects\r\n} from \"@mui/icons-material\";\r\nimport { \r\n  getJobRecommendations, \r\n  getCandidateRecommendations, \r\n  analyzeMatch,\r\n  getMarketInsights \r\n} from \"@/services/api\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { useContext } from 'react';\r\n\r\nexport default function SmartRecommendationsPage() {\r\n  const theme = useTheme();\r\n  const { user } = useAuth();\r\n  \r\n  const [activeTab, setActiveTab] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  \r\n  // Job recommendations state\r\n  const [jobRecommendations, setJobRecommendations] = useState([]);\r\n  const [minJobScore, setMinJobScore] = useState(70);\r\n  const [jobLimit, setJobLimit] = useState(10);\r\n  \r\n  // Candidate recommendations state\r\n  const [candidateRecommendations, setCandidateRecommendations] = useState([]);\r\n  const [selectedJobId, setSelectedJobId] = useState('');\r\n  const [minCandidateScore, setMinCandidateScore] = useState(70);\r\n  const [candidateLimit, setCandidateLimit] = useState(10);\r\n  \r\n  // Market insights state\r\n  const [marketInsights, setMarketInsights] = useState(null);\r\n  \r\n  // Match analysis state\r\n  const [matchAnalysis, setMatchAnalysis] = useState(null);\r\n  const [analysisDialog, setAnalysisDialog] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 0) {\r\n      fetchJobRecommendations();\r\n    } else if (activeTab === 2) {\r\n      fetchMarketInsights();\r\n    }\r\n  }, [activeTab]);\r\n\r\n  const fetchJobRecommendations = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await getJobRecommendations({\r\n        limit: jobLimit,\r\n        minScore: minJobScore\r\n      });\r\n      setJobRecommendations(response.data.recommendations || []);\r\n    } catch (error) {\r\n      console.error('Error fetching job recommendations:', error);\r\n      setError('Failed to load job recommendations. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchCandidateRecommendations = async () => {\r\n    if (!selectedJobId) return;\r\n    \r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await getCandidateRecommendations(selectedJobId, {\r\n        limit: candidateLimit,\r\n        minScore: minCandidateScore\r\n      });\r\n      setCandidateRecommendations(response.data.recommendations || []);\r\n    } catch (error) {\r\n      console.error('Error fetching candidate recommendations:', error);\r\n      setError('Failed to load candidate recommendations. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchMarketInsights = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await getMarketInsights();\r\n      setMarketInsights(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching market insights:', error);\r\n      setError('Failed to load market insights. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAnalyzeMatch = async (candidateId, jobId) => {\r\n    try {\r\n      const response = await analyzeMatch(candidateId, jobId);\r\n      setMatchAnalysis(response.data);\r\n      setAnalysisDialog(true);\r\n    } catch (error) {\r\n      console.error('Error analyzing match:', error);\r\n    }\r\n  };\r\n\r\n  const getScoreColor = (score) => {\r\n    if (score >= 90) return 'success';\r\n    if (score >= 80) return 'info';\r\n    if (score >= 70) return 'warning';\r\n    return 'error';\r\n  };\r\n\r\n  const JobRecommendationCard = ({ job }) => (\r\n    <Card \r\n      sx={{ \r\n        mb: 2,\r\n        transition: 'transform 0.2s, box-shadow 0.2s',\r\n        '&:hover': {\r\n          transform: 'translateY(-2px)',\r\n          boxShadow: theme.shadows[4]\r\n        }\r\n      }}\r\n    >\r\n      <CardContent>\r\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"flex-start\" mb={2}>\r\n          <Box display=\"flex\" alignItems=\"center\" flexGrow={1}>\r\n            <Avatar\r\n              src={job.companyLogo}\r\n              sx={{ width: 50, height: 50, mr: 2 }}\r\n            >\r\n              {job.company?.[0]}\r\n            </Avatar>\r\n            <Box flexGrow={1}>\r\n              <Typography variant=\"h6\" fontWeight=\"bold\">\r\n                {job.title}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                {job.company}\r\n              </Typography>\r\n              <Box display=\"flex\" alignItems=\"center\" mt={0.5}>\r\n                <LocationOn sx={{ fontSize: 16, mr: 0.5, color: 'text.secondary' }} />\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  {job.location}\r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n          </Box>\r\n          \r\n          <Box textAlign=\"center\">\r\n            <Chip\r\n              label={`${job.compatibilityScore}% Match`}\r\n              color={getScoreColor(job.compatibilityScore)}\r\n              sx={{ mb: 1 }}\r\n            />\r\n            <LinearProgress\r\n              variant=\"determinate\"\r\n              value={job.compatibilityScore}\r\n              color={getScoreColor(job.compatibilityScore)}\r\n              sx={{ width: 80, height: 6, borderRadius: 3 }}\r\n            />\r\n          </Box>\r\n        </Box>\r\n\r\n        {job.matchReasons && job.matchReasons.length > 0 && (\r\n          <Box mb={2}>\r\n            <Typography variant=\"body2\" fontWeight=\"medium\" mb={1}>\r\n              Why this matches:\r\n            </Typography>\r\n            <Box display=\"flex\" flexWrap=\"wrap\" gap={0.5}>\r\n              {job.matchReasons.slice(0, 3).map((reason, index) => (\r\n                <Chip\r\n                  key={index}\r\n                  label={reason}\r\n                  size=\"small\"\r\n                  variant=\"outlined\"\r\n                  color=\"primary\"\r\n                />\r\n              ))}\r\n              {job.matchReasons.length > 3 && (\r\n                <Chip\r\n                  label={`+${job.matchReasons.length - 3} more`}\r\n                  size=\"small\"\r\n                  variant=\"outlined\"\r\n                />\r\n              )}\r\n            </Box>\r\n          </Box>\r\n        )}\r\n\r\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n          <Box>\r\n            {job.salary_min && job.salary_max && (\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                ${job.salary_min.toLocaleString()} - ${job.salary_max.toLocaleString()}\r\n              </Typography>\r\n            )}\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              {job.job_type} Ã¢â‚¬Â¢ Posted {new Date(job.created_at).toLocaleDateString()}\r\n            </Typography>\r\n          </Box>\r\n          \r\n          <Box display=\"flex\" gap={1}>\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              onClick={() => window.open(`/jobs/${job.id}`, '_blank')}\r\n            >\r\n              View Job\r\n            </Button>\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"contained\"\r\n              onClick={() => window.open(`/jobs/${job.id}/apply`, '_blank')}\r\n            >\r\n              Apply Now\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n\r\n  const CandidateRecommendationCard = ({ candidate }) => (\r\n    <Card \r\n      sx={{ \r\n        mb: 2,\r\n        transition: 'transform 0.2s, box-shadow 0.2s',\r\n        '&:hover': {\r\n          transform: 'translateY(-2px)',\r\n          boxShadow: theme.shadows[4]\r\n        }\r\n      }}\r\n    >\r\n      <CardContent>\r\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"flex-start\" mb={2}>\r\n          <Box display=\"flex\" alignItems=\"center\" flexGrow={1}>\r\n            <Avatar\r\n              src={candidate.profileImage}\r\n              sx={{ width: 50, height: 50, mr: 2 }}\r\n            >\r\n              {candidate.first_name?.[0]}{candidate.last_name?.[0]}\r\n            </Avatar>\r\n            <Box flexGrow={1}>\r\n              <Typography variant=\"h6\" fontWeight=\"bold\">\r\n                {candidate.first_name} {candidate.last_name}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                {candidate.title}\r\n              </Typography>\r\n              <Box display=\"flex\" alignItems=\"center\" mt={0.5}>\r\n                <Work sx={{ fontSize: 16, mr: 0.5, color: 'text.secondary' }} />\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  {candidate.total_experience} years experience\r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n          </Box>\r\n          \r\n          <Box textAlign=\"center\">\r\n            <Chip\r\n              label={`${candidate.compatibilityScore}% Match`}\r\n              color={getScoreColor(candidate.compatibilityScore)}\r\n              sx={{ mb: 1 }}\r\n            />\r\n            <LinearProgress\r\n              variant=\"determinate\"\r\n              value={candidate.compatibilityScore}\r\n              color={getScoreColor(candidate.compatibilityScore)}\r\n              sx={{ width: 80, height: 6, borderRadius: 3 }}\r\n            />\r\n          </Box>\r\n        </Box>\r\n\r\n        {candidate.matchReasons && candidate.matchReasons.length > 0 && (\r\n          <Box mb={2}>\r\n            <Typography variant=\"body2\" fontWeight=\"medium\" mb={1}>\r\n              Match highlights:\r\n            </Typography>\r\n            <Box display=\"flex\" flexWrap=\"wrap\" gap={0.5}>\r\n              {candidate.matchReasons.slice(0, 3).map((reason, index) => (\r\n                <Chip\r\n                  key={index}\r\n                  label={reason}\r\n                  size=\"small\"\r\n                  variant=\"outlined\"\r\n                  color=\"primary\"\r\n                />\r\n              ))}\r\n              {candidate.matchReasons.length > 3 && (\r\n                <Chip\r\n                  label={`+${candidate.matchReasons.length - 3} more`}\r\n                  size=\"small\"\r\n                  variant=\"outlined\"\r\n                />\r\n              )}\r\n            </Box>\r\n          </Box>\r\n        )}\r\n\r\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n          <Box>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              {candidate.location}\r\n            </Typography>\r\n            {candidate.expected_salary && (\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Expected: ${candidate.expected_salary.toLocaleString()}\r\n              </Typography>\r\n            )}\r\n          </Box>\r\n          \r\n          <Box display=\"flex\" gap={1}>\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              onClick={() => window.open(`/candidate/${candidate.id}`, '_blank')}\r\n            >\r\n              View Profile\r\n            </Button>\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"contained\"\r\n              onClick={() => handleAnalyzeMatch(candidate.id, selectedJobId)}\r\n            >\r\n              Analyze Match\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n\r\n  const MarketInsightsSection = () => (\r\n    <Grid container spacing={3}>\r\n      {/* Market Stats */}\r\n      <Grid item xs={12}>\r\n        <Card>\r\n          <CardContent>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Market Overview\r\n            </Typography>\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} sm={6} md={3}>\r\n                <Box textAlign=\"center\">\r\n                  <Typography variant=\"h4\" color=\"primary.main\" fontWeight=\"bold\">\r\n                    {marketInsights?.marketStats?.totalJobs || 0}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Active Jobs\r\n                  </Typography>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={12} sm={6} md={3}>\r\n                <Box textAlign=\"center\">\r\n                  <Typography variant=\"h4\" color=\"success.main\" fontWeight=\"bold\">\r\n                    ${(marketInsights?.marketStats?.avgSalary || 0).toLocaleString()}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Average Salary\r\n                  </Typography>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={12} sm={6} md={3}>\r\n                <Box textAlign=\"center\">\r\n                  <Typography variant=\"h4\" color=\"info.main\" fontWeight=\"bold\">\r\n                    {marketInsights?.marketStats?.remoteJobsPercentage || 0}%\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Remote Jobs\r\n                  </Typography>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={12} sm={6} md={3}>\r\n                <Box textAlign=\"center\">\r\n                  <Typography variant=\"h4\" color=\"warning.main\" fontWeight=\"bold\">\r\n                    {marketInsights?.trendingSkills?.length || 0}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Trending Skills\r\n                  </Typography>\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n\r\n      {/* Trending Skills */}\r\n      <Grid item xs={12} md={6}>\r\n        <Card>\r\n          <CardContent>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              <TrendingUp sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n              Trending Skills\r\n            </Typography>\r\n            <List dense>\r\n              {marketInsights?.trendingSkills?.slice(0, 10).map((skill, index) => (\r\n                <ListItem key={index}>\r\n                  <ListItemText\r\n                    primary={skill.skill}\r\n                    secondary={`${skill.demand} job postings`}\r\n                  />\r\n                  <Chip \r\n                    label={`#${index + 1}`} \r\n                    size=\"small\" \r\n                    color={index < 3 ? \"primary\" : \"default\"}\r\n                  />\r\n                </ListItem>\r\n              ))}\r\n            </List>\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n\r\n      {/* Salary Trends */}\r\n      <Grid item xs={12} md={6}>\r\n        <Card>\r\n          <CardContent>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              <AttachMoney sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n              Salary Trends by Role\r\n            </Typography>\r\n            <List dense>\r\n              {marketInsights?.salaryTrends?.slice(0, 10).map((trend, index) => (\r\n                <ListItem key={index}>\r\n                  <ListItemText\r\n                    primary={trend.role}\r\n                    secondary={`${trend.jobCount} positions`}\r\n                  />\r\n                  <Typography variant=\"body2\" fontWeight=\"bold\" color=\"success.main\">\r\n                    ${trend.avgSalary.toLocaleString()}\r\n                  </Typography>\r\n                </ListItem>\r\n              ))}\r\n            </List>\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n\r\n      {/* Top Locations */}\r\n      <Grid item xs={12}>\r\n        <Card>\r\n          <CardContent>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              <LocationOn sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n              Top Job Markets\r\n            </Typography>\r\n            <Grid container spacing={2}>\r\n              {marketInsights?.topLocations?.map((location, index) => (\r\n                <Grid item xs={12} sm={6} md={4} key={index}>\r\n                  <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                    <Typography variant=\"h6\" fontWeight=\"bold\">\r\n                      {location.location}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      {location.jobCount} jobs\r\n                    </Typography>\r\n                  </Paper>\r\n                </Grid>\r\n              ))}\r\n            </Grid>\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n\r\n  return (\r\n    <Container maxWidth=\"xl\" sx={{ py: 4 }}>\r\n      <Box display=\"flex\" alignItems=\"center\" mb={4}>\r\n        <Psychology sx={{ fontSize: 40, color: 'primary.main', mr: 2 }} />\r\n        <Typography variant=\"h4\" fontWeight=\"bold\">\r\n          Smart Recommendations\r\n        </Typography>\r\n      </Box>\r\n\r\n      <Tabs \r\n        value={activeTab} \r\n        onChange={(e, newValue) => setActiveTab(newValue)}\r\n        sx={{ mb: 3 }}\r\n      >\r\n        <Tab \r\n          label=\"Job Recommendations\" \r\n          icon={<Work />} \r\n          iconPosition=\"start\"\r\n        />\r\n        <Tab \r\n          label=\"Candidate Recommendations\" \r\n          icon={<Person />} \r\n          iconPosition=\"start\"\r\n        />\r\n        <Tab \r\n          label=\"Market Insights\" \r\n          icon={<Insights />} \r\n          iconPosition=\"start\"\r\n        />\r\n      </Tabs>\r\n\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Job Recommendations Tab */}\r\n      {activeTab === 0 && (\r\n        <Box>\r\n          <Card sx={{ mb: 3 }}>\r\n            <CardContent>\r\n              <Grid container spacing={2} alignItems=\"center\">\r\n                <Grid item xs={12} md={4}>\r\n                  <Typography variant=\"body2\" gutterBottom>\r\n                    Minimum Match Score: {minJobScore}%\r\n                  </Typography>\r\n                  <Slider\r\n                    value={minJobScore}\r\n                    onChange={(e, value) => setMinJobScore(value)}\r\n                    min={50}\r\n                    max={100}\r\n                    step={5}\r\n                    marks\r\n                    valueLabelDisplay=\"auto\"\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} md={3}>\r\n                  <FormControl fullWidth>\r\n                    <InputLabel>Results Limit</InputLabel>\r\n                    <Select\r\n                      value={jobLimit}\r\n                      onChange={(e) => setJobLimit(e.target.value)}\r\n                      label=\"Results Limit\"\r\n                    >\r\n                      <MenuItem value={5}>5 jobs</MenuItem>\r\n                      <MenuItem value={10}>10 jobs</MenuItem>\r\n                      <MenuItem value={20}>20 jobs</MenuItem>\r\n                      <MenuItem value={50}>50 jobs</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n                <Grid item xs={12} md={3}>\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    startIcon={<Refresh />}\r\n                    onClick={fetchJobRecommendations}\r\n                    disabled={loading}\r\n                    fullWidth\r\n                  >\r\n                    Refresh Recommendations\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {loading ? (\r\n            <Box display=\"flex\" justifyContent=\"center\" py={8}>\r\n              <CircularProgress size={60} />\r\n            </Box>\r\n          ) : jobRecommendations.length === 0 ? (\r\n            <Box textAlign=\"center\" py={8}>\r\n              <EmojiObjects sx={{ fontSize: 60, color: 'text.secondary', mb: 2 }} />\r\n              <Typography variant=\"h6\" color=\"text.secondary\" mb={2}>\r\n                No job recommendations found\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\" mb={3}>\r\n                Try lowering the minimum match score or update your profile for better recommendations.\r\n              </Typography>\r\n              <Button\r\n                variant=\"contained\"\r\n                onClick={() => window.location.href = '/profile'}\r\n              >\r\n                Update Profile\r\n              </Button>\r\n            </Box>\r\n          ) : (\r\n            <Box>\r\n              <Typography variant=\"h6\" mb={3}>\r\n                {jobRecommendations.length} job{jobRecommendations.length !== 1 ? 's' : ''} recommended for you\r\n              </Typography>\r\n              {jobRecommendations.map((job) => (\r\n                <JobRecommendationCard key={job.id} job={job} />\r\n              ))}\r\n            </Box>\r\n          )}\r\n        </Box>\r\n      )}\r\n\r\n      {/* Candidate Recommendations Tab */}\r\n      {activeTab === 1 && (\r\n        <Box>\r\n          <Card sx={{ mb: 3 }}>\r\n            <CardContent>\r\n              <Grid container spacing={2} alignItems=\"center\">\r\n                <Grid item xs={12} md={3}>\r\n                  <FormControl fullWidth>\r\n                    <InputLabel>Select Job</InputLabel>\r\n                    <Select\r\n                      value={selectedJobId}\r\n                      onChange={(e) => setSelectedJobId(e.target.value)}\r\n                      label=\"Select Job\"\r\n                    >\r\n                      <MenuItem value=\"\">Select a job...</MenuItem>\r\n                      {/* This would be populated with user's job postings */}\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n                <Grid item xs={12} md={3}>\r\n                  <Typography variant=\"body2\" gutterBottom>\r\n                    Minimum Match Score: {minCandidateScore}%\r\n                  </Typography>\r\n                  <Slider\r\n                    value={minCandidateScore}\r\n                    onChange={(e, value) => setMinCandidateScore(value)}\r\n                    min={50}\r\n                    max={100}\r\n                    step={5}\r\n                    marks\r\n                    valueLabelDisplay=\"auto\"\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} md={3}>\r\n                  <FormControl fullWidth>\r\n                    <InputLabel>Results Limit</InputLabel>\r\n                    <Select\r\n                      value={candidateLimit}\r\n                      onChange={(e) => setCandidateLimit(e.target.value)}\r\n                      label=\"Results Limit\"\r\n                    >\r\n                      <MenuItem value={5}>5 candidates</MenuItem>\r\n                      <MenuItem value={10}>10 candidates</MenuItem>\r\n                      <MenuItem value={20}>20 candidates</MenuItem>\r\n                      <MenuItem value={50}>50 candidates</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n                <Grid item xs={12} md={3}>\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    startIcon={<Refresh />}\r\n                    onClick={fetchCandidateRecommendations}\r\n                    disabled={loading || !selectedJobId}\r\n                    fullWidth\r\n                  >\r\n                    Find Candidates\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {!selectedJobId ? (\r\n            <Box textAlign=\"center\" py={8}>\r\n              <Business sx={{ fontSize: 60, color: 'text.secondary', mb: 2 }} />\r\n              <Typography variant=\"h6\" color=\"text.secondary\" mb={2}>\r\n                Select a job to find matching candidates\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Choose one of your job postings to get AI-powered candidate recommendations.\r\n              </Typography>\r\n            </Box>\r\n          ) : loading ? (\r\n            <Box display=\"flex\" justifyContent=\"center\" py={8}>\r\n              <CircularProgress size={60} />\r\n            </Box>\r\n          ) : candidateRecommendations.length === 0 ? (\r\n            <Box textAlign=\"center\" py={8}>\r\n              <Person sx={{ fontSize: 60, color: 'text.secondary', mb: 2 }} />\r\n              <Typography variant=\"h6\" color=\"text.secondary\" mb={2}>\r\n                No matching candidates found\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Try lowering the minimum match score or check back later for new candidates.\r\n              </Typography>\r\n            </Box>\r\n          ) : (\r\n            <Box>\r\n              <Typography variant=\"h6\" mb={3}>\r\n                {candidateRecommendations.length} candidate{candidateRecommendations.length !== 1 ? 's' : ''} found\r\n              </Typography>\r\n              {candidateRecommendations.map((candidate) => (\r\n                <CandidateRecommendationCard key={candidate.id} candidate={candidate} />\r\n              ))}\r\n            </Box>\r\n          )}\r\n        </Box>\r\n      )}\r\n\r\n      {/* Market Insights Tab */}\r\n      {activeTab === 2 && (\r\n        <Box>\r\n          <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\r\n            <Typography variant=\"h6\">\r\n              Market Insights & Trends\r\n            </Typography>\r\n            <Button\r\n              variant=\"outlined\"\r\n              startIcon={<Refresh />}\r\n              onClick={fetchMarketInsights}\r\n              disabled={loading}\r\n            >\r\n              Refresh Data\r\n            </Button>\r\n          </Box>\r\n\r\n          {loading ? (\r\n            <Box display=\"flex\" justifyContent=\"center\" py={8}>\r\n              <CircularProgress size={60} />\r\n            </Box>\r\n          ) : marketInsights ? (\r\n            <MarketInsightsSection />\r\n          ) : (\r\n            <Box textAlign=\"center\" py={8}>\r\n              <Assessment sx={{ fontSize: 60, color: 'text.secondary', mb: 2 }} />\r\n              <Typography variant=\"h6\" color=\"text.secondary\" mb={2}>\r\n                No market data available\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Market insights will be available once there's sufficient data.\r\n              </Typography>\r\n            </Box>\r\n          )}\r\n        </Box>\r\n      )}\r\n\r\n      {/* Match Analysis Dialog */}\r\n      <Dialog \r\n        open={analysisDialog} \r\n        onClose={() => setAnalysisDialog(false)}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>\r\n          Match Analysis\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          {matchAnalysis && (\r\n            <Box>\r\n              <Grid container spacing={3} mb={3}>\r\n                <Grid item xs={12} md={6}>\r\n                  <Paper sx={{ p: 2 }}>\r\n                    <Typography variant=\"h6\" gutterBottom>\r\n                      Candidate\r\n                    </Typography>\r\n                    <Typography variant=\"body1\" fontWeight=\"bold\">\r\n                      {matchAnalysis.candidate.name}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      {matchAnalysis.candidate.title}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                      {matchAnalysis.candidate.experience} years experience\r\n                    </Typography>\r\n                  </Paper>\r\n                </Grid>\r\n                <Grid item xs={12} md={6}>\r\n                  <Paper sx={{ p: 2 }}>\r\n                    <Typography variant=\"h6\" gutterBottom>\r\n                      Job Position\r\n                    </Typography>\r\n                    <Typography variant=\"body1\" fontWeight=\"bold\">\r\n                      {matchAnalysis.job.title}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      {matchAnalysis.job.company}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                      Min {matchAnalysis.job.min_experience} years experience\r\n                    </Typography>\r\n                  </Paper>\r\n                </Grid>\r\n              </Grid>\r\n\r\n              <Box textAlign=\"center\" mb={3}>\r\n                <Typography variant=\"h4\" color=\"primary.main\" fontWeight=\"bold\">\r\n                  {matchAnalysis.analysis.compatibilityScore}%\r\n                </Typography>\r\n                <Typography variant=\"h6\" color=\"text.secondary\">\r\n                  Compatibility Score\r\n                </Typography>\r\n                <LinearProgress\r\n                  variant=\"determinate\"\r\n                  value={matchAnalysis.analysis.compatibilityScore}\r\n                  color={getScoreColor(matchAnalysis.analysis.compatibilityScore)}\r\n                  sx={{ mt: 1, height: 8, borderRadius: 4 }}\r\n                />\r\n              </Box>\r\n\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={12} md={4}>\r\n                  <Typography variant=\"h6\" gutterBottom color=\"success.main\">\r\n                    <Lightbulb sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n                    Strengths\r\n                  </Typography>\r\n                  <List dense>\r\n                    {matchAnalysis.analysis.strengths.map((strength, index) => (\r\n                      <ListItem key={index}>\r\n                        <ListItemText primary={strength} />\r\n                      </ListItem>\r\n                    ))}\r\n                  </List>\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} md={4}>\r\n                  <Typography variant=\"h6\" gutterBottom color=\"warning.main\">\r\n                    <Assessment sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n                    Concerns\r\n                  </Typography>\r\n                  <List dense>\r\n                    {matchAnalysis.analysis.concerns.map((concern, index) => (\r\n                      <ListItem key={index}>\r\n                        <ListItemText primary={concern} />\r\n                      </ListItem>\r\n                    ))}\r\n                  </List>\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} md={4}>\r\n                  <Typography variant=\"h6\" gutterBottom color=\"info.main\">\r\n                    <EmojiObjects sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n                    Recommendations\r\n                  </Typography>\r\n                  <List dense>\r\n                    {matchAnalysis.analysis.recommendations.map((recommendation, index) => (\r\n                      <ListItem key={index}>\r\n                        <ListItemText primary={recommendation} />\r\n                      </ListItem>\r\n                    ))}\r\n                  </List>\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setAnalysisDialog(false)}>\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Container>\r\n  );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\TabsMainContent.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 4,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                135,
                146
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useMemo has missing dependencies: 'dashboardTabsConfig', 'employersTabsConfig', and 'videosTabsConfig'. Either include them or remove the dependency array.",
        "line": 292,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 302,
        "endColumn": 4,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [currentPage, employerTab, onEmployerTabChange, employersTabsConfig, dashboardTab, onDashboardTabChange, dashboardTabsConfig, videoTab, onVideoTabChange, videosTabsConfig]",
            "fix": {
              "range": [
                9394,
                9591
              ],
              "text": "[currentPage, employerTab, onEmployerTabChange, employersTabsConfig, dashboardTab, onDashboardTabChange, dashboardTabsConfig, videoTab, onVideoTabChange, videosTabsConfig]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿// This component renders the main content area, including tabs and content\r\n// for each \"page\" of the application.\r\n\r\nimport React, { useContext, useMemo, useState, useEffect  } from 'react';\r\nimport { Box, Container, Tabs, Tab, Typography, IconButton } from \"@mui/material\";\r\nimport FullscreenIcon from '@mui/icons-material/Fullscreen';\r\nimport FullscreenExitIcon from '@mui/icons-material/FullscreenExit';\r\n\r\n// Import the TabPanel component\r\nimport TabPanel from '../components/TabPanel';\r\nimport VideoUpload from './VideoUpload';\r\nimport VideosPage from './VideosPage';\r\nimport Chat from './Chat';\r\nimport JobSeekerProfile from \"./JobSeekerProfile\";\r\nimport JobseekerExploreSidebar from \"./JobseekerVideoExamples\";\r\nimport EditJobSeekerProfile from \"./EditJobSeekerProfile\";\r\nimport JobsListingPage from \"./JobsListingPage\";\r\nimport AllVideosPage from \"./AllVideosPage\";\r\nimport JobSeekerDashboard_ from \"./JobSeekerDashboard\";\r\n\r\n// Import new pages\r\nimport JobSearchPage from \"./JobSearchPage\";\r\nimport SavedVideosPage from \"./SavedVideosPage\";\r\nimport LikedVideosPage from \"./LikedVideosPage\";\r\nimport InterviewPage from \"./InterviewPage\";\r\nimport ResumeBuilderPage from \"./ResumeBuilderPage\";\r\nimport NotificationSettingsPage from \"./NotificationSettingsPage\";\r\nimport PricingPage from \"./PricingPage\";\r\nimport { jobseekerTabCategories } from '../config/jobseekerTabsConfig';\r\nimport localize from '../utils/localize';\r\n\r\nconst MainContent = ({ \r\n  currentPage, \r\n  dashboardTab, \r\n  employerTab, \r\n  videoTab, \r\n  onDashboardTabChange, \r\n  onEmployerTabChange, \r\n  onVideoTabChange, \r\n  setVideoTab,\r\n  tabCategoryKey // <-- new prop to select tab category\r\n}) => {\r\n  const [showVideos, setShowVideos] = useState(false);\r\n  const [isMaximized, setIsMaximized] = useState(false);\r\n\r\n  const handleToggleMaximize = () => {\r\n    setIsMaximized(!isMaximized);\r\n  };\r\n\r\n  const handleOpenVideos = () => {\r\n    setIsMaximized(false); \r\n    setShowVideos(true); \r\n  };\r\n  \r\n  const handleCloseVideos = () => setShowVideos(false);\r\n  \r\n  // Define a configuration for the Dashboard tabs\r\n  const dashboardTabsConfig = [\r\n    { \r\n      label: \"Overview\", \r\n      content: <JobSeekerDashboard_ />\r\n    },\r\n    { \r\n      label: \"Analytics\", \r\n      content: <Typography variant=\"body1\" sx={{ p: 3 }}>\r\n        Advanced analytics and insights about your profile performance, application success rate, and more.\r\n      </Typography> \r\n    },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (currentPage === 'employers' && employerTab === 0) {\r\n      setShowVideos(true);\r\n    } else {\r\n      setShowVideos(false);\r\n    }\r\n  }, [currentPage, employerTab]);\r\n\r\n  const employersTabsConfig = [\r\n    { \r\n      label: \"Explore\", \r\n      content: (\r\n        <Box sx={{ p: 3 }}>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            Discover Employers and Companies\r\n          </Typography>\r\n          <Typography variant=\"body1\" sx={{ mb: 2 }}>\r\n            Browse through company profiles and see what they're looking for.\r\n          </Typography>\r\n          <button onClick={handleOpenVideos}>Show Company Videos</button>\r\n        </Box>\r\n      )\r\n    },\r\n    { \r\n      label: \"Detailed Search\", \r\n      content: (\r\n        <Box sx={{ p: 3 }}>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            Advanced Employer Search\r\n          </Typography>\r\n          <Typography variant=\"body1\">\r\n            Use advanced filters to find companies that match your career goals and values.\r\n          </Typography>\r\n        </Box>\r\n      )\r\n    },\r\n    { \r\n      label: \"Job Listings\", \r\n      content: <JobsListingPage />\r\n    },\r\n  ];\r\n\r\n  // Define a configuration for the Videos tabs\r\n  const videosTabsConfig = [\r\n    { \r\n      label: \"Upload Video\", \r\n      content: <VideoUpload setVideoTab={setVideoTab} />\r\n    },\r\n    { \r\n      label: \"My Videos\", \r\n      content: <VideosPage setVideoTab={setVideoTab} />\r\n    },\r\n    { \r\n      label: \"Example Videos\", \r\n      content: <JobseekerExploreSidebar />\r\n    },\r\n  ];\r\n\r\n  // Get the tab category to display\r\n  const tabCategory = useMemo(() =>\r\n    jobseekerTabCategories.find(cat => cat.key === tabCategoryKey) || jobseekerTabCategories[0],\r\n    [tabCategoryKey]\r\n  );\r\n  const filteredTabs = tabCategory.tabs;\r\n\r\n  // Centralized tab rendering for selected category\r\n  const CategoryTabsContent = () => (\r\n    <Box sx={{ width: '100%' }}>\r\n      <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n        <Tabs value={dashboardTab} onChange={onDashboardTabChange} variant=\"fullWidth\">\r\n          {filteredTabs.map((tab, index) => (\r\n            <Tab key={index} label={\r\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                {React.createElement(tab.icon)}\r\n                <span>{localize(tab.label)}</span>\r\n              </Box>\r\n            } />\r\n          ))}\r\n        </Tabs>\r\n      </Box>\r\n      {filteredTabs.map((tab, index) => (\r\n        <TabPanel key={index} value={dashboardTab} index={index}>\r\n          {tab.context\r\n            ? React.createElement(tab.component, { context: tab.context })\r\n            : React.createElement(tab.component)}\r\n        </TabPanel>\r\n      ))}\r\n    </Box>\r\n  );\r\n\r\n  const pageContent = useMemo(() => {\r\n    // Component to render the employers tabs and content\r\n    const EmployersPageContent = () => (\r\n      <Box sx={{ width: '100%' }}>\r\n        <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n          <Tabs value={employerTab} onChange={onEmployerTabChange} variant=\"fullWidth\">\r\n            {employersTabsConfig.map((tab, index) => (\r\n              <Tab key={index} label={localize(tab.label)} />\r\n            ))}\r\n          </Tabs>\r\n        </Box>\r\n        {employersTabsConfig.map((tab, index) => (\r\n          <TabPanel key={index} value={employerTab} index={index}>\r\n            {tab.content}\r\n          </TabPanel>\r\n        ))}\r\n      </Box>\r\n    );\r\n\r\n    // Component to render the dashboard tabs and content\r\n    const DashboardPageContent = () => (\r\n      <Box sx={{ width: '100%' }}>\r\n        <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n          <Tabs value={dashboardTab} onChange={onDashboardTabChange} variant=\"fullWidth\">\r\n            {dashboardTabsConfig.map((tab, index) => (\r\n              <Tab key={index} label={tab.label} />\r\n            ))}\r\n          </Tabs>\r\n        </Box>\r\n        {dashboardTabsConfig.map((tab, index) => (\r\n          <TabPanel key={index} value={dashboardTab} index={index}>\r\n            {tab.content}\r\n          </TabPanel>\r\n        ))}\r\n      </Box>\r\n    );\r\n\r\n    // Component to render the videos tabs and content\r\n    const VideosPageContent = () => (\r\n      <Box sx={{ width: '100%' }}>\r\n        <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n          <Tabs value={videoTab} onChange={onVideoTabChange} variant=\"fullWidth\">\r\n            {videosTabsConfig.map((tab, index) => (\r\n              <Tab key={index} label={tab.label} />\r\n            ))}\r\n          </Tabs>\r\n        </Box>\r\n        {videosTabsConfig.map((tab, index) => (\r\n          <TabPanel key={index} value={videoTab} index={index}>\r\n            {tab.content}\r\n          </TabPanel>\r\n        ))}\r\n      </Box>\r\n    );\r\n\r\n    // Main page routing logic\r\n    switch (currentPage) {\r\n      case 'dashboard':\r\n        return <CategoryTabsContent />;\r\n      \r\n      case 'videos':\r\n        return <VideosPageContent />;\r\n      \r\n      case 'employers':\r\n        return <EmployersPageContent />;\r\n      \r\n      case 'jobseekerprofile':\r\n        return <JobSeekerProfile />;\r\n      \r\n      case 'messeges':\r\n        return <Chat />;\r\n      \r\n      case 'job-search':\r\n        return <JobSearchPage />;\r\n      \r\n      case 'saved-videos':\r\n        return <SavedVideosPage />;\r\n      \r\n      case 'liked-videos':\r\n        return <LikedVideosPage />;\r\n      \r\n      case 'interviews':\r\n        return <InterviewPage />;\r\n      \r\n      case 'resume-builder':\r\n        return <ResumeBuilderPage />;\r\n      \r\n      case 'notifications':\r\n        return <NotificationSettingsPage />;\r\n      \r\n      case 'pricing':\r\n        return <PricingPage />;\r\n      \r\n      case 'settings':\r\n        return (\r\n          <Box sx={{ p: 3 }}>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n              Account Settings\r\n            </Typography>\r\n            <Typography variant=\"body1\">\r\n              Manage your account preferences, privacy settings, and more.\r\n            </Typography>\r\n            {/* Add settings components here */}\r\n          </Box>\r\n        );\r\n      \r\n      case 'analytics':\r\n        return (\r\n          <Box sx={{ p: 3 }}>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n              Analytics Dashboard\r\n            </Typography>\r\n            <Typography variant=\"body1\">\r\n              View detailed analytics about your profile performance, video views, and application success rates.\r\n            </Typography>\r\n            {/* Add analytics components here */}\r\n          </Box>\r\n        );\r\n      \r\n      default:\r\n        return (\r\n          <Box sx={{ p: 3, textAlign: 'center' }}>\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              Welcome to SwipeScout\r\n            </Typography>\r\n            <Typography variant=\"body1\">\r\n              Select a section from the navigation panel to get started.\r\n            </Typography>\r\n          </Box>\r\n        );\r\n    }\r\n  }, [\r\n    currentPage, \r\n    dashboardTab, \r\n    employerTab, \r\n    videoTab, \r\n    onDashboardTabChange, \r\n    onEmployerTabChange, \r\n    onVideoTabChange, \r\n    setVideoTab,\r\n    tabCategoryKey\r\n  ]);\r\n\r\n  return (\r\n    <Container \r\n      maxWidth={false} \r\n      sx={{ \r\n        flexGrow: 1, \r\n        py: 3,\r\n        px: { xs: 2, sm: 3, md: 4 },\r\n        ml: { xs: 0, sm: '120px' }, // Account for floating navigation panel\r\n        transition: 'margin-left 0.3s ease',\r\n      }}\r\n    >\r\n      {/* Fullscreen toggle for video content */}\r\n      {(currentPage === 'videos' || showVideos) && (\r\n        <Box sx={{ position: 'fixed', top: 16, right: 16, zIndex: 1001 }}>\r\n          <IconButton\r\n            onClick={handleToggleMaximize}\r\n            sx={{\r\n              backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n              color: 'white',\r\n              '&:hover': {\r\n                backgroundColor: 'rgba(0, 0, 0, 0.9)',\r\n              },\r\n            }}\r\n          >\r\n            {isMaximized ? <FullscreenExitIcon /> : <FullscreenIcon />}\r\n          </IconButton>\r\n        </Box>\r\n      )}\r\n\r\n      {/* Video overlay for maximized view */}\r\n      {showVideos && (\r\n        <Box\r\n          sx={{\r\n            position: isMaximized ? 'fixed' : 'relative',\r\n            top: isMaximized ? 0 : 'auto',\r\n            left: isMaximized ? 0 : 'auto',\r\n            width: isMaximized ? '100vw' : '100%',\r\n            height: isMaximized ? '100vh' : 'auto',\r\n            zIndex: isMaximized ? 1000 : 'auto',\r\n            backgroundColor: isMaximized ? 'black' : 'transparent',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n          }}\r\n        >\r\n          <AllVideosPage onClose={handleCloseVideos} isMaximized={isMaximized} />\r\n        </Box>\r\n      )}\r\n\r\n      {/* Main content */}\r\n      {!showVideos && (\r\n        <Box sx={{ width: '100%', minHeight: 'calc(100vh - 200px)' }}>\r\n          {pageContent}\r\n        </Box>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default MainContent;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\TabsMainContentEmployer.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 4,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                149,
                160
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'handleOpenVideos' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 46,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 46,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "handleOpenVideos"
            },
            "fix": {
              "range": [
                1760,
                1854
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'handleOpenVideos'."
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'candidatesTabsConfig' is not defined.",
        "line": 123,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 123,
        "endColumn": 34
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'candidatesTabsConfig' is not defined.",
        "line": 128,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 128,
        "endColumn": 30
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'videosTabsConfig' is not defined.",
        "line": 141,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 141,
        "endColumn": 30
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'videosTabsConfig' is not defined.",
        "line": 146,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 146,
        "endColumn": 26
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useMemo has a missing dependency: 'filteredTabs'. Either include it or remove the dependency array.",
        "line": 227,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 237,
        "endColumn": 4,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [currentPage, dashboardTab, onDashboardTabChange, filteredTabs, candidateTab, onCandidateTabChange, videoTab, onVideoTabChange]",
            "fix": {
              "range": [
                7717,
                7916
              ],
              "text": "[currentPage, dashboardTab, onDashboardTabChange, filteredTabs, candidateTab, onCandidateTabChange, videoTab, onVideoTabChange]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿// This component renders the main content area, including tabs and content\r\n// for each \"page\" of the application for employers.\r\n\r\nimport React, { useContext, useMemo, useState, useEffect  } from 'react';\r\nimport { Box, Container, Tabs, Tab, Typography, IconButton } from \"@mui/material\";\r\nimport FullscreenIcon from '@mui/icons-material/Fullscreen';\r\nimport FullscreenExitIcon from '@mui/icons-material/FullscreenExit';\r\n\r\n// Import the TabPanel component and other page components\r\nimport TabPanel from '../components/TabPanel';\r\nimport VideoUpload from './VideoUpload';\r\nimport VideosPage from './VideosPage';\r\nimport Chat from './Chat';\r\nimport EmployerProfile from \"./EmployerProfilePage\";\r\nimport EmployerViedoExamples from \"./EmployerViedoExamples\";\r\nimport EditEmployerProfile from \"./EditEmployerProfilePage\";\r\nimport PostJob from \"./PostJobPage\";\r\nimport AllVideosPage from \"./AllVideosPage\";\r\nimport EmployerDashboard from \"./EmployerDashboard\";\r\n\r\n// Import new pages\r\nimport CandidateSearchPage from \"./CandidateSearchPage\";\r\nimport CompanyVideos from \"./CompanyVideos\";\r\nimport InterviewPage from \"./InterviewPage\";\r\nimport NotificationSettingsPage from \"./NotificationSettingsPage\";\r\nimport PricingPage from \"./PricingPage\";\r\n\r\n// Import the shared tab config\r\nimport { employerTabCategories } from '../config/employerTabsConfig';\r\nimport localize from '../utils/localize';\r\n\r\nconst MainContent = ({ \r\n  currentPage, \r\n  dashboardTab, \r\n  candidateTab, \r\n  videoTab, \r\n  onDashboardTabChange, \r\n  onCandidateTabChange, \r\n  onVideoTabChange, \r\n  setVideoTab,\r\n  tabCategoryKey // <-- new prop to select tab category\r\n}) => {\r\n  const [showVideos, setShowVideos] = useState(false);\r\n  const [isMaximized, setIsMaximized] = useState(false);\r\n\r\n  const handleOpenVideos = () => {\r\n    setIsMaximized(false); \r\n    setShowVideos(true); \r\n  };\r\n  \r\n  const handleCloseVideos = () => setShowVideos(false);\r\n  \r\n  const handleToggleMaximize = () => {\r\n    setIsMaximized(!isMaximized);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (currentPage === 'candidates' && candidateTab === 0) {\r\n      setShowVideos(true);\r\n    } else {\r\n      setShowVideos(false);\r\n    }\r\n  }, [currentPage, candidateTab]);\r\n\r\n  // Get the tab category to display\r\n  const tabCategory = useMemo(() =>\r\n    employerTabCategories.find(cat => cat.key === tabCategoryKey) || employerTabCategories[0],\r\n    [tabCategoryKey]\r\n  );\r\n  const filteredTabs = tabCategory.tabs;\r\n\r\n  // Centralized tab rendering for selected category\r\n  const CategoryTabsContent = () => (\r\n    <Box sx={{ width: '100%' }}>\r\n      <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n        <Tabs value={dashboardTab} onChange={onDashboardTabChange} variant=\"fullWidth\">\r\n          {filteredTabs.map((tab, index) => (\r\n            <Tab key={index} label={\r\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                {React.createElement(tab.icon)}\r\n                <span>{localize(tab.label)}</span>\r\n              </Box>\r\n            } />\r\n          ))}\r\n        </Tabs>\r\n      </Box>\r\n      {filteredTabs.map((tab, index) => (\r\n        <TabPanel key={index} value={dashboardTab} index={index}>\r\n          {tab.context\r\n            ? React.createElement(tab.component, { context: tab.context })\r\n            : React.createElement(tab.component)}\r\n        </TabPanel>\r\n      ))}\r\n    </Box>\r\n  );\r\n\r\n  const pageContent = useMemo(() => {\r\n    // Component to render the dashboard tabs and content\r\n    const DashboardPageContent = () => (\r\n      <Box sx={{ width: '100%' }}>\r\n        <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n          <Tabs value={dashboardTab} onChange={onDashboardTabChange} variant=\"fullWidth\">\r\n            {filteredTabs.map((tab, index) => (\r\n              <Tab key={index} label={localize(tab.label)} />\r\n            ))}\r\n          </Tabs>\r\n        </Box>\r\n        {filteredTabs.map((tab, index) => (\r\n          <TabPanel key={index} value={dashboardTab} index={index}>\r\n            {tab.context\r\n              ? React.createElement(tab.component, { context: tab.context })\r\n              : React.createElement(tab.component)}\r\n          </TabPanel>\r\n        ))}\r\n      </Box>\r\n    );\r\n    \r\n    // Component to render the candidates tabs and content\r\n    const CandidatesPageContent = () => (\r\n      <Box sx={{ width: '100%' }}>\r\n        <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n          <Tabs value={candidateTab} onChange={onCandidateTabChange} variant=\"fullWidth\">\r\n            {candidatesTabsConfig.map((tab, index) => (\r\n              <Tab key={index} label={tab.label} />\r\n            ))}\r\n          </Tabs>\r\n        </Box>\r\n        {candidatesTabsConfig.map((tab, index) => (\r\n          <TabPanel key={index} value={candidateTab} index={index}>\r\n            {tab.content}\r\n          </TabPanel>\r\n        ))}\r\n      </Box>\r\n    );\r\n\r\n    // Component to render the videos tabs and content\r\n    const VideosPageContent = () => (\r\n      <Box sx={{ width: '100%' }}>\r\n        <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n          <Tabs value={videoTab} onChange={onVideoTabChange} variant=\"fullWidth\">\r\n            {videosTabsConfig.map((tab, index) => (\r\n              <Tab key={index} label={tab.label} />\r\n            ))}\r\n          </Tabs>\r\n        </Box>\r\n        {videosTabsConfig.map((tab, index) => (\r\n          <TabPanel key={index} value={videoTab} index={index}>\r\n            {tab.content}\r\n          </TabPanel>\r\n        ))}\r\n      </Box>\r\n    );\r\n\r\n    // Main page routing logic for employers\r\n    switch (currentPage) {\r\n      case 'dashboard':\r\n        return <CategoryTabsContent />;\r\n      \r\n      case 'candidates':\r\n        return <CandidatesPageContent />;\r\n      \r\n      case 'videos':\r\n        return <VideosPageContent />;\r\n      \r\n      case 'employerprofile':\r\n        return <EmployerProfile />;\r\n      \r\n      case 'messeges':\r\n        return <Chat />;\r\n      \r\n      case 'job-posts':\r\n        return <PostJob />;\r\n      \r\n      case 'candidate-search':\r\n        return <CandidateSearchPage />;\r\n      \r\n      case 'company-videos':\r\n        return <CompanyVideos />;\r\n      \r\n      case 'interviews':\r\n        return <InterviewPage />;\r\n      \r\n      case 'analytics':\r\n        return (\r\n          <Box sx={{ p: 3 }}>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n              Advanced Analytics Dashboard\r\n            </Typography>\r\n            <Typography variant=\"body1\">\r\n              Comprehensive analytics about your hiring performance, candidate engagement, and recruitment ROI.\r\n            </Typography>\r\n            {/* Add advanced analytics components here */}\r\n          </Box>\r\n        );\r\n      \r\n      case 'notifications':\r\n        return <NotificationSettingsPage />;\r\n      \r\n      case 'pricing':\r\n        return <PricingPage />;\r\n      \r\n      case 'settings':\r\n        return (\r\n          <Box sx={{ p: 3 }}>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n              Company Settings\r\n            </Typography>\r\n            <Typography variant=\"body1\">\r\n              Manage your company account settings, team permissions, and billing preferences.\r\n            </Typography>\r\n            {/* Add settings components here */}\r\n          </Box>\r\n        );\r\n      \r\n      default:\r\n        return (\r\n          <Box sx={{ p: 3, textAlign: 'center' }}>\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              Welcome to SwipeScout Employer Dashboard\r\n            </Typography>\r\n            <Typography variant=\"body1\">\r\n              Select a section from the navigation panel to start finding great candidates.\r\n            </Typography>\r\n          </Box>\r\n        );\r\n    }\r\n  }, [\r\n    currentPage, \r\n    dashboardTab, \r\n    candidateTab, \r\n    videoTab, \r\n    onDashboardTabChange, \r\n    onCandidateTabChange, \r\n    onVideoTabChange, \r\n    setVideoTab,\r\n    tabCategoryKey\r\n  ]);\r\n\r\n  return (\r\n    <Container \r\n      maxWidth={false} \r\n      sx={{ \r\n        flexGrow: 1, \r\n        py: 3,\r\n        px: { xs: 2, sm: 3, md: 4 },\r\n        ml: { xs: 0, sm: '120px' }, // Account for floating navigation panel\r\n        transition: 'margin-left 0.3s ease',\r\n      }}\r\n    >\r\n      {/* Fullscreen toggle for video content */}\r\n      {(currentPage === 'videos' || showVideos) && (\r\n        <Box sx={{ position: 'fixed', top: 16, right: 16, zIndex: 1001 }}>\r\n          <IconButton\r\n            onClick={handleToggleMaximize}\r\n            sx={{\r\n              backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n              color: 'white',\r\n              '&:hover': {\r\n                backgroundColor: 'rgba(0, 0, 0, 0.9)',\r\n              },\r\n            }}\r\n          >\r\n            {isMaximized ? <FullscreenExitIcon /> : <FullscreenIcon />}\r\n          </IconButton>\r\n        </Box>\r\n      )}\r\n\r\n      {/* Video overlay for maximized view */}\r\n      {showVideos && (\r\n        <Box\r\n          sx={{\r\n            position: isMaximized ? 'fixed' : 'relative',\r\n            top: isMaximized ? 0 : 'auto',\r\n            left: isMaximized ? 0 : 'auto',\r\n            width: isMaximized ? '100vw' : '100%',\r\n            height: isMaximized ? '100vh' : 'auto',\r\n            zIndex: isMaximized ? 1000 : 'auto',\r\n            backgroundColor: isMaximized ? 'black' : 'transparent',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n          }}\r\n        >\r\n          <AllVideosPage onClose={handleCloseVideos} isMaximized={isMaximized} />\r\n        </Box>\r\n      )}\r\n\r\n      {/* Main content */}\r\n      {!showVideos && (\r\n        <Box sx={{ width: '100%', minHeight: 'calc(100vh - 200px)' }}>\r\n          {pageContent}\r\n        </Box>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default MainContent;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\TalentExplore.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 81,
        "column": 36,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 81,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                1695,
                1704
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState, useRef  } from 'react';\r\nimport {\r\n  Box,\r\n  Grid,\r\n  IconButton,\r\n  Typography,\r\n  Chip,\r\n  Stack,\r\n  Avatar,\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Button,\r\n  TextField,\r\n  InputAdornment,\r\n  Tabs,\r\n  Tab,\r\n  Paper,\r\n  Rating,\r\n  Divider\r\n} from '@mui/material';\r\nimport Close from '@mui/icons-material/Close';\r\nimport {\r\n  Search,\r\n  FilterList,\r\n  BookmarkBorder,\r\n  Bookmark,\r\n  MoreVert,\r\n  PlayArrow,\r\n  Pause,\r\n  School,\r\n  WorkHistory,\r\n  Code,\r\n  Language,\r\n  Star\r\n} from '@mui/icons-material';\r\nimport { styled } from '@mui/system';\r\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\r\n\r\nconst theme = createTheme({\r\n  shadows: Array(25).fill('none'), // Ensures all shadow levels exist\r\n  typography: {\r\n    allVariants: {\r\n      color: '#e0e6f0',\r\n      textShadow: '1px 1px 3px rgba(0,0,0,0.6)',\r\n      letterSpacing: '0.5px',\r\n    },\r\n  },\r\n});\r\n\r\n\r\nconst VideoOverlay = styled('div')({\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n    padding: '16px',\r\n    background: 'linear-gradient(transparent, rgba(0,0,0,0.7))',\r\n    color: '#fff',\r\n  });\r\n  \r\n// Mock data - replace with API calls\r\nconst mockCandidateVideos = [\r\n  {\r\n    id: '1',\r\n    name: 'Alex Johnson',\r\n    jobTitle: 'Frontend Developer',\r\n    videoUrl: 'public/videos/vid2.mkv',\r\n    profilePic: 'src/public/logo.jpg',\r\n    skills: ['React', 'TypeScript', 'UI/UX'],\r\n    experience: '3 years',\r\n    education: 'Computer Science, Stanford',\r\n    rating: 4.5,\r\n    location: 'San Francisco, CA',\r\n    languages: ['English', 'Spanish'],\r\n    saved: false\r\n  },\r\n  // Add more mock data\r\n];\r\n\r\nconst VideoCard = styled(Paper)(({ theme }) => ({\r\n    position: 'relative',\r\n    borderRadius: '16px',\r\n    overflow: 'hidden',\r\n    height: '300px',\r\n    backgroundColor: '#000',\r\n    cursor: 'pointer',\r\n    transition: 'transform 0.3s',\r\n    '&:hover': {\r\n      transform: 'scale(1.02)',\r\n      boxShadow: '0px 3px 5px -1px rgba(0,0,0,0.2), 0px 6px 10px 0px rgba(0,0,0,0.14), 0px 1px 18px 0px rgba(0,0,0,0.12)' // MUI shadow 4 equivalent\r\n    }\r\n  }));\r\n\r\nconst VideoPlayer = styled('video')({\r\n    width: '100%',\r\n    height: '100%',\r\n    objectFit: 'cover',\r\n  });\r\n\r\nconst EmployerExplorePublic = () => {\r\n  const [candidates, setCandidates] = useState(mockCandidateVideos);\r\n  const [selectedCandidate, setSelectedCandidate] = useState(null);\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [activeTab, setActiveTab] = useState(0);\r\n  const [playingVideo, setPlayingVideo] = useState(null);\r\n  const videoRefs = useRef({});\r\n\r\n  const handleCandidateClick = (candidate) => {\r\n    setSelectedCandidate(candidate);\r\n    setOpenDialog(true);\r\n  };\r\n\r\n  const togglePlay = (candidateId, event) => {\r\n    event.stopPropagation();\r\n    if (playingVideo === candidateId) {\r\n      videoRefs.current[candidateId].pause();\r\n      setPlayingVideo(null);\r\n    } else {\r\n      if (playingVideo) {\r\n        videoRefs.current[playingVideo].pause();\r\n      }\r\n      videoRefs.current[candidateId].play();\r\n      setPlayingVideo(candidateId);\r\n    }\r\n  };\r\n\r\n  const toggleSave = (candidateId, event) => {\r\n    event.stopPropagation();\r\n    setCandidates(candidates.map(candidate => \r\n      candidate.id === candidateId ? { ...candidate, saved: !candidate.saved } : candidate\r\n    ));\r\n  };\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setActiveTab(newValue);\r\n    // In a real app, you would filter candidates based on the tab\r\n  };\r\n\r\n  const filteredCandidates = candidates.filter(candidate =>\r\n    candidate.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n    candidate.jobTitle.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n    candidate.skills.some(skill => skill.toLowerCase().includes(searchQuery.toLowerCase()))\r\n  );\r\n//linear-gradient(to right, #1a032a, #003366)\r\n  return (\r\n    <Box sx={{\r\n    //backgroundclr \r\n    backgroundopacity: 0.9,\r\n    padding: theme.spacing(2),\r\n    height: '100vh',\r\n    mt: 2,\r\n    mb: 0,\r\n    pl: 10,\r\n    paddingBottom: 4,\r\n  }}\r\n   \r\n    >\r\n      <Box sx={{ mb: 3 }}>\r\n        <Typography variant=\"h4\" fontWeight=\"bold\" gutterBottom>\r\n          Discover Talent\r\n        </Typography>\r\n        <Typography color=\"text.secondary\">\r\n          Find candidates that match your job requirements\r\n        </Typography> \r\n      </Box>\r\n\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 3 }}>\r\n        <TextField\r\n          placeholder=\"Search candidates, skills, or roles\"\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          sx={{ width: '50%' }}\r\n          InputProps={{\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <Search />\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n          value={searchQuery}\r\n          onChange={(e) => setSearchQuery(e.target.value)}\r\n        />\r\n        <Button variant=\"outlined\" startIcon={<FilterList />}>\r\n          Filters\r\n        </Button>\r\n      </Box>\r\n\r\n      <Tabs value={activeTab} onChange={handleTabChange} sx={{ mb: 3 }}>\r\n        <Tab label=\"Recommended\" />\r\n        <Tab label=\"Recent\" />\r\n        <Tab label=\"Saved\" />\r\n        <Tab label=\"Local\" />\r\n      </Tabs>\r\n\r\n      <Grid container spacing={3}>\r\n        {filteredCandidates.map((candidate) => (\r\n          <Grid item xs={12} sm={6} md={4} lg={3} key={candidate.id}>\r\n            <VideoCard onClick={() => handleCandidateClick(candidate)}>\r\n              <VideoPlayer\r\n                ref={(el) => (videoRefs.current[candidate.id] = el)}\r\n                src={candidate.videoUrl}\r\n                loop\r\n                muted\r\n                playsInline\r\n                onClick={(e) => e.stopPropagation()}\r\n              />\r\n              \r\n              {playingVideo !== candidate.id && (\r\n                <IconButton\r\n                  sx={{\r\n                    position: 'absolute',\r\n                    top: '50%',\r\n                    left: '50%',\r\n                    transform: 'translate(-50%, -50%)',\r\n                    color: '#fff',\r\n                    backgroundColor: 'rgba(0,0,0,0.5)',\r\n                    '&:hover': {\r\n                      backgroundColor: 'rgba(0,0,0,0.7)',\r\n                    },\r\n                  }}\r\n                  onClick={(e) => togglePlay(candidate.id, e)}\r\n                >\r\n                  <PlayArrow fontSize=\"large\" />\r\n                </IconButton>\r\n              )}\r\n              \r\n              <VideoOverlay>\r\n                <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                  <Box>\r\n                    <Typography variant=\"subtitle1\" fontWeight=\"bold\">\r\n                      {candidate.name}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">{candidate.jobTitle}</Typography>\r\n                  </Box>\r\n                  <Avatar src={candidate.profilePic} sx={{ width: 40, height: 40 }} />\r\n                </Box>\r\n                \r\n                <Stack direction=\"row\" spacing={1} sx={{ mt: 1, mb: 1 }}>\r\n                  {candidate.skills.slice(0, 2).map((skill, index) => (\r\n                    <Chip\r\n                      key={index}\r\n                      label={skill}\r\n                      size=\"small\"\r\n                      sx={{\r\n                        backgroundColor: 'rgba(255,255,255,0.2)',\r\n                        color: '#fff',\r\n                        backdropFilter: 'blur(10px)',\r\n                      }}\r\n                    />\r\n                  ))}\r\n                </Stack>\r\n                \r\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                  <Rating\r\n                    value={candidate.rating}\r\n                    precision={0.5}\r\n                    readOnly\r\n                    size=\"small\"\r\n                    emptyIcon={<Star style={{ opacity: 0.55 }} fontSize=\"inherit\" />}\r\n                  />\r\n                  <IconButton\r\n                    size=\"small\"\r\n                    onClick={(e) => toggleSave(candidate.id, e)}\r\n                    sx={{ color: candidate.saved ? '#ffc107' : '#fff' }}\r\n                  >\r\n                    {candidate.saved ? <Bookmark /> : <BookmarkBorder />}\r\n                  </IconButton>\r\n                </Box>\r\n              </VideoOverlay>\r\n            </VideoCard>\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n\r\n      {/* Candidate Details Dialog */}\r\n      <Dialog open={openDialog} onClose={() => setOpenDialog(false)} maxWidth=\"md\" fullWidth>\r\n        <DialogTitle sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n          <Typography variant=\"h6\">Candidate Profile</Typography>\r\n          <IconButton onClick={() => setOpenDialog(false)}>\r\n            <Close />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          {selectedCandidate && (\r\n            <Box sx={{ display: 'flex', flexDirection: { xs: 'column', md: 'row' }, gap: 3 }}>\r\n              <Box sx={{ flex: 1 }}>\r\n                <VideoPlayer\r\n                  autoPlay\r\n                  controls\r\n                  src={selectedCandidate.videoUrl}\r\n                  style={{ width: '100%', borderRadius: '8px' }}\r\n                />\r\n                \r\n                <Box sx={{ mt: 3 }}>\r\n                  <Typography variant=\"h6\" gutterBottom>Skills</Typography>\r\n                  <Stack direction=\"row\" spacing={1} sx={{ flexWrap: 'wrap' }}>\r\n                    {selectedCandidate.skills.map((skill, index) => (\r\n                      <Chip key={index} label={skill} color=\"primary\" />\r\n                    ))}\r\n                  </Stack>\r\n                </Box>\r\n              </Box>\r\n              \r\n              <Box sx={{ flex: 1 }}>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 3 }}>\r\n                  <Avatar src={selectedCandidate.profilePic} sx={{ width: 80, height: 80, mr: 3 }} />\r\n                  <Box>\r\n                    <Typography variant=\"h4\" fontWeight=\"bold\">\r\n                      {selectedCandidate.name}\r\n                    </Typography>\r\n                    <Typography variant=\"h6\" color=\"primary\">\r\n                      {selectedCandidate.jobTitle}\r\n                    </Typography>\r\n                    <Rating\r\n                      value={selectedCandidate.rating}\r\n                      precision={0.5}\r\n                      readOnly\r\n                      sx={{ mt: 1 }}\r\n                    />\r\n                  </Box>\r\n                </Box>\r\n                \r\n                <Grid container spacing={2} sx={{ mb: 3 }}>\r\n                  <Grid item xs={6}>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                      <WorkHistory color=\"primary\" />\r\n                      <Typography>{selectedCandidate.experience} experience</Typography>\r\n                    </Box>\r\n                  </Grid>\r\n                  <Grid item xs={6}>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                      <LocationOn color=\"primary\" />\r\n                      <Typography>{selectedCandidate.location}</Typography>\r\n                    </Box>\r\n                  </Grid>\r\n                  <Grid item xs={6}>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                      <School color=\"primary\" />\r\n                      <Typography>{selectedCandidate.education}</Typography>\r\n                    </Box>\r\n                  </Grid>\r\n                  <Grid item xs={6}>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                      <Language color=\"primary\" />\r\n                      <Typography>{selectedCandidate.languages.join(', ')}</Typography>\r\n                    </Box>\r\n                  </Grid>\r\n                </Grid>\r\n                \r\n                <Divider sx={{ my: 3 }} />\r\n                \r\n                <Box sx={{ mb: 3 }}>\r\n                  <Typography variant=\"h6\" gutterBottom>About</Typography>\r\n                  <Typography>\r\n                    Experienced frontend developer with a passion for creating intuitive user interfaces.\r\n                    Specialized in React and TypeScript with a strong focus on performance and accessibility.\r\n                  </Typography>\r\n                </Box>\r\n                \r\n                <Box sx={{ mb: 3 }}>\r\n                  <Typography variant=\"h6\" gutterBottom>Experience</Typography>\r\n                  <Box sx={{ pl: 2 }}>\r\n                    <Typography fontWeight=\"bold\">Senior Frontend Developer</Typography>\r\n                    <Typography color=\"text.secondary\">TechCorp Ã¢â‚¬Â¢ 2020-Present</Typography>\r\n                    <Typography>\r\n                      - Led the migration from Angular to React<br />\r\n                      - Improved page load performance by 40%<br />\r\n                      - Mentored junior developers\r\n                    </Typography>\r\n                  </Box>\r\n                </Box>\r\n                \r\n                <Box sx={{ display: 'flex', gap: 2, mt: 3 }}>\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    size=\"large\"\r\n                    fullWidth\r\n                  >\r\n                    Connect\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    size=\"large\"\r\n                    fullWidth\r\n                  >\r\n                    Shortlist\r\n                  </Button>\r\n                </Box>\r\n              </Box>\r\n            </Box>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default EmployerExplorePublic;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\TemplateAnalysisPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'selectedResponse' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 39,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 39,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "selectedResponse"
            },
            "fix": {
              "range": [
                864,
                880
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'selectedResponse'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setSelectedResponse' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 39,
        "column": 28,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 39,
        "endColumn": 47,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setSelectedResponse"
            },
            "fix": {
              "range": [
                880,
                901
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setSelectedResponse'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'showTranscript' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 40,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 40,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "showTranscript"
            },
            "fix": {
              "range": [
                931,
                945
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'showTranscript'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setShowTranscript' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 40,
        "column": 26,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 40,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setShowTranscript"
            },
            "fix": {
              "range": [
                945,
                964
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setShowTranscript'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has missing dependencies: 'fetchTemplateResponse' and 'fetchTranscriptionStatus'. Either include them or remove the dependency array.",
        "line": 56,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 56,
        "endColumn": 18,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchTemplateResponse, fetchTranscriptionStatus, responseId]",
            "fix": {
              "range": [
                1507,
                1519
              ],
              "text": "[fetchTemplateResponse, fetchTranscriptionStatus, responseId]"
            }
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchTranscriptionStatus'. Either include it or remove the dependency array.",
        "line": 68,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 68,
        "endColumn": 40,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [autoRefresh, fetchTranscriptionStatus, transcriptionStatus]",
            "fix": {
              "range": [
                1826,
                1860
              ],
              "text": "[autoRefresh, fetchTranscriptionStatus, transcriptionStatus]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'Icon' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 336,
        "column": 42,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 336,
        "endColumn": 46,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "Icon"
            },
            "fix": {
              "range": [
                12378,
                12390
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'Icon'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState, useEffect  } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { \r\n  BarChart3, \r\n  FileText, \r\n  Video, \r\n  Clock, \r\n  User, \r\n  TrendingUp, \r\n  TrendingDown,\r\n  CheckCircle,\r\n  AlertCircle,\r\n  Eye,\r\n  Download,\r\n  Share,\r\n  RefreshCw,\r\n  Play,\r\n  Pause,\r\n  Volume2,\r\n  VolumeX,\r\n  Languages,\r\n  MessageSquare,\r\n  Star,\r\n  Target,\r\n  Brain,\r\n  Lightbulb,\r\n  ArrowLeft\r\n} from 'lucide-react';\r\n\r\nconst TemplateAnalysisPage = () => {\r\n  const { responseId } = useParams();\r\n  const navigate = useNavigate();\r\n  const { t } = useTranslation();\r\n  \r\n  const [templateResponse, setTemplateResponse] = useState(null);\r\n  const [transcriptionStatus, setTranscriptionStatus] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedResponse, setSelectedResponse] = useState(null);\r\n  const [showTranscript, setShowTranscript] = useState(false);\r\n  const [selectedLanguage, setSelectedLanguage] = useState('en');\r\n  const [isGeneratingAnalysis, setIsGeneratingAnalysis] = useState(false);\r\n  const [autoRefresh, setAutoRefresh] = useState(false);\r\n\r\n  const languages = [\r\n    { code: 'en', name: 'English' },\r\n    { code: 'ar', name: 'Ø·Â§Ø¸â€žØ·Â¹Ø·Â±Ø·Â¨Ø¸Ù¹Ø·Â©' },\r\n    { code: 'zh', name: 'Ù†Â¸Â­Ùˆâ€“â€¡' },\r\n    { code: 'es', name: 'EspaØ£Â±ol' },\r\n    { code: 'fr', name: 'FranØ£Â§ais' }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchTemplateResponse();\r\n    fetchTranscriptionStatus();\r\n  }, [responseId]);\r\n\r\n  useEffect(() => {\r\n    let interval;\r\n    if (autoRefresh && transcriptionStatus && !transcriptionStatus.is_complete) {\r\n      interval = setInterval(() => {\r\n        fetchTranscriptionStatus();\r\n      }, 5000);\r\n    }\r\n    return () => {\r\n      if (interval) clearInterval(interval);\r\n    };\r\n  }, [autoRefresh, transcriptionStatus]);\r\n\r\n  const fetchTemplateResponse = async () => {\r\n    try {\r\n      const response = await fetch(`/api/ai/templates/responses/${responseId}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setTemplateResponse(data.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching template response:', error);\r\n    }\r\n  };\r\n\r\n  const fetchTranscriptionStatus = async () => {\r\n    try {\r\n      const response = await fetch(`/api/ai/transcription/template-responses/${responseId}/transcription-status`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setTranscriptionStatus(data.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching transcription status:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const startTranscription = async () => {\r\n    try {\r\n      setAutoRefresh(true);\r\n      const response = await fetch(`/api/ai/transcription/template-responses/${responseId}/transcribe`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        fetchTranscriptionStatus();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error starting transcription:', error);\r\n    }\r\n  };\r\n\r\n  const generateAnalysis = async () => {\r\n    try {\r\n      setIsGeneratingAnalysis(true);\r\n      const response = await fetch(`/api/ai/transcription/template-responses/${responseId}/generate-analysis`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        await fetchTemplateResponse();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error generating analysis:', error);\r\n    } finally {\r\n      setIsGeneratingAnalysis(false);\r\n    }\r\n  };\r\n\r\n  const translateResponse = async (responseId, languages) => {\r\n    try {\r\n      const response = await fetch(`/api/ai/transcription/responses/${responseId}/translate`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        },\r\n        body: JSON.stringify({ languages })\r\n      });\r\n      \r\n      if (response.ok) {\r\n        await fetchTemplateResponse();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error translating response:', error);\r\n    }\r\n  };\r\n\r\n  const getScoreColor = (score) => {\r\n    if (score >= 80) return 'text-green-600 bg-green-100';\r\n    if (score >= 60) return 'text-yellow-600 bg-yellow-100';\r\n    return 'text-red-600 bg-red-100';\r\n  };\r\n\r\n  const getScoreIcon = (score) => {\r\n    if (score >= 80) return <TrendingUp className=\"w-4 h-4\" />;\r\n    if (score >= 60) return <Target className=\"w-4 h-4\" />;\r\n    return <TrendingDown className=\"w-4 h-4\" />;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">{t('common.loading')}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!templateResponse) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <AlertCircle className=\"w-12 h-12 text-red-500 mx-auto mb-4\" />\r\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">\r\n            {t('analysis.responseNotFound')}\r\n          </h2>\r\n          <button\r\n            onClick={() => navigate('/templates')}\r\n            className=\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\r\n          >\r\n            {t('analysis.backToTemplates')}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const overallAnalysis = templateResponse.ai_analysis || {};\r\n  const questionResponses = templateResponse.question_responses || [];\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex items-center gap-4 mb-4\">\r\n            <button\r\n              onClick={() => navigate(-1)}\r\n              className=\"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors\"\r\n            >\r\n              <ArrowLeft className=\"w-5 h-5\" />\r\n            </button>\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900\">\r\n                {t('analysis.interviewAnalysis')}\r\n              </h1>\r\n              <p className=\"text-gray-600\">\r\n                {templateResponse.template?.title}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Status Bar */}\r\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-4\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className={`w-3 h-3 rounded-full ${\r\n                    templateResponse.status === 'reviewed' ? 'bg-green-500' : \r\n                    templateResponse.status === 'submitted' ? 'bg-blue-500' : 'bg-yellow-500'\r\n                  }`}></div>\r\n                  <span className=\"text-sm font-medium text-gray-700\">\r\n                    {t(`analysis.status.${templateResponse.status}`)}\r\n                  </span>\r\n                </div>\r\n                \r\n                {transcriptionStatus && (\r\n                  <div className=\"flex items-center gap-2 text-sm text-gray-600\">\r\n                    <FileText className=\"w-4 h-4\" />\r\n                    <span>\r\n                      {t('analysis.transcribed')}: {transcriptionStatus.transcribed_count}/{transcriptionStatus.total_video_responses}\r\n                    </span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2\">\r\n                {transcriptionStatus && !transcriptionStatus.is_complete && (\r\n                  <button\r\n                    onClick={startTranscription}\r\n                    className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\r\n                  >\r\n                    <RefreshCw className=\"w-4 h-4\" />\r\n                    {t('analysis.startTranscription')}\r\n                  </button>\r\n                )}\r\n                \r\n                {transcriptionStatus?.is_complete && !overallAnalysis.comprehensive_analysis_completed && (\r\n                  <button\r\n                    onClick={generateAnalysis}\r\n                    disabled={isGeneratingAnalysis}\r\n                    className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:bg-gray-400\"\r\n                  >\r\n                    {isGeneratingAnalysis ? (\r\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\r\n                    ) : (\r\n                      <Brain className=\"w-4 h-4\" />\r\n                    )}\r\n                    {t('analysis.generateAnalysis')}\r\n                  </button>\r\n                )}\r\n\r\n                <button\r\n                  onClick={() => setAutoRefresh(!autoRefresh)}\r\n                  className={`p-2 rounded-lg transition-colors ${\r\n                    autoRefresh ? 'bg-blue-100 text-blue-600' : 'bg-gray-100 text-gray-600'\r\n                  }`}\r\n                >\r\n                  <RefreshCw className={`w-4 h-4 ${autoRefresh ? 'animate-spin' : ''}`} />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Progress Bars */}\r\n            {transcriptionStatus && (\r\n              <div className=\"mt-4 space-y-2\">\r\n                <div>\r\n                  <div className=\"flex justify-between text-sm text-gray-600 mb-1\">\r\n                    <span>{t('analysis.transcriptionProgress')}</span>\r\n                    <span>{Math.round(transcriptionStatus.transcription_progress)}%</span>\r\n                  </div>\r\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                    <div \r\n                      className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\r\n                      style={{ width: `${transcriptionStatus.transcription_progress}%` }}\r\n                    ></div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div>\r\n                  <div className=\"flex justify-between text-sm text-gray-600 mb-1\">\r\n                    <span>{t('analysis.analysisProgress')}</span>\r\n                    <span>{Math.round(transcriptionStatus.analysis_progress)}%</span>\r\n                  </div>\r\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                    <div \r\n                      className=\"bg-green-600 h-2 rounded-full transition-all duration-300\"\r\n                      style={{ width: `${transcriptionStatus.analysis_progress}%` }}\r\n                    ></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Overall Analysis */}\r\n        {overallAnalysis.comprehensive_analysis_completed && (\r\n          <div className=\"mb-8\">\r\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-6\">{t('analysis.overallPerformance')}</h2>\r\n            \r\n            {/* Score Cards */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6\">\r\n              {[\r\n                { key: 'overall_score', label: t('analysis.overallScore'), icon: BarChart3 },\r\n                { key: 'communication_score', label: t('analysis.communicationScore'), icon: MessageSquare },\r\n                { key: 'technical_score', label: t('analysis.technicalScore'), icon: Brain },\r\n                { key: 'completeness_score', label: t('analysis.completenessScore'), icon: CheckCircle }\r\n              ].map(({ key, label, icon: Icon }) => {\r\n                const score = overallAnalysis[key] || 0;\r\n                return (\r\n                  <div key={key} className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                      <Icon className=\"w-8 h-8 text-blue-600\" />\r\n                      <div className={`flex items-center gap-1 px-2 py-1 rounded-full text-sm font-medium ${getScoreColor(score)}`}>\r\n                        {getScoreIcon(score)}\r\n                        <span>{Math.round(score)}</span>\r\n                      </div>\r\n                    </div>\r\n                    <h3 className=\"font-semibold text-gray-900 mb-1\">{label}</h3>\r\n                    <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                      <div \r\n                        className={`h-2 rounded-full transition-all duration-300 ${\r\n                          score >= 80 ? 'bg-green-500' : score >= 60 ? 'bg-yellow-500' : 'bg-red-500'\r\n                        }`}\r\n                        style={{ width: `${score}%` }}\r\n                      ></div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n\r\n            {/* Analysis Summary */}\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n              {/* Strengths */}\r\n              <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n                <div className=\"flex items-center gap-2 mb-4\">\r\n                  <TrendingUp className=\"w-5 h-5 text-green-600\" />\r\n                  <h3 className=\"text-lg font-semibold text-gray-900\">{t('analysis.strengths')}</h3>\r\n                </div>\r\n                <ul className=\"space-y-2\">\r\n                  {(overallAnalysis.strengths || []).map((strength, index) => (\r\n                    <li key={index} className=\"flex items-start gap-2\">\r\n                      <CheckCircle className=\"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0\" />\r\n                      <span className=\"text-gray-700\">{strength}</span>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n\r\n              {/* Areas for Improvement */}\r\n              <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n                <div className=\"flex items-center gap-2 mb-4\">\r\n                  <Lightbulb className=\"w-5 h-5 text-yellow-600\" />\r\n                  <h3 className=\"text-lg font-semibold text-gray-900\">{t('analysis.areasForImprovement')}</h3>\r\n                </div>\r\n                <ul className=\"space-y-2\">\r\n                  {(overallAnalysis.weaknesses || []).map((weakness, index) => (\r\n                    <li key={index} className=\"flex items-start gap-2\">\r\n                      <AlertCircle className=\"w-4 h-4 text-yellow-600 mt-0.5 flex-shrink-0\" />\r\n                      <span className=\"text-gray-700\">{weakness}</span>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Recommendations */}\r\n            {overallAnalysis.recommendations && overallAnalysis.recommendations.length > 0 && (\r\n              <div className=\"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-6\">\r\n                <div className=\"flex items-center gap-2 mb-4\">\r\n                  <Star className=\"w-5 h-5 text-blue-600\" />\r\n                  <h3 className=\"text-lg font-semibold text-blue-900\">{t('analysis.recommendations')}</h3>\r\n                </div>\r\n                <ul className=\"space-y-2\">\r\n                  {overallAnalysis.recommendations.map((recommendation, index) => (\r\n                    <li key={index} className=\"flex items-start gap-2\">\r\n                      <div className=\"w-2 h-2 bg-blue-600 rounded-full mt-2 flex-shrink-0\"></div>\r\n                      <span className=\"text-blue-800\">{recommendation}</span>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Question-by-Question Analysis */}\r\n        <div>\r\n          <h2 className=\"text-2xl font-semibold text-gray-900 mb-6\">{t('analysis.questionByQuestion')}</h2>\r\n          \r\n          <div className=\"space-y-6\">\r\n            {questionResponses.map((response, index) => (\r\n              <div key={response.id} className=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden\">\r\n                <div className=\"p-6\">\r\n                  {/* Question Header */}\r\n                  <div className=\"flex items-start justify-between mb-4\">\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center gap-2 mb-2\">\r\n                        <span className=\"text-sm font-medium text-gray-600\">\r\n                          {t('analysis.question')} {index + 1}\r\n                        </span>\r\n                        {response.response_type === 'video' ? (\r\n                          <Video className=\"w-4 h-4 text-blue-600\" />\r\n                        ) : (\r\n                          <FileText className=\"w-4 h-4 text-gray-600\" />\r\n                        )}\r\n                        {response.question?.is_required && (\r\n                          <span className=\"text-red-500 text-xs\">*</span>\r\n                        )}\r\n                      </div>\r\n                      <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n                        {response.question?.question_text}\r\n                      </h3>\r\n                    </div>\r\n                    \r\n                    {response.ai_analysis?.score && (\r\n                      <div className={`flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${getScoreColor(response.ai_analysis.score)}`}>\r\n                        {getScoreIcon(response.ai_analysis.score)}\r\n                        <span>{Math.round(response.ai_analysis.score)}</span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Response Content */}\r\n                  <div className=\"mb-4\">\r\n                    {response.response_type === 'video' ? (\r\n                      <div>\r\n                        {response.video_url && (\r\n                          <div className=\"mb-4\">\r\n                            <video \r\n                              controls \r\n                              className=\"w-full max-w-md rounded-lg\"\r\n                              poster={response.video_thumbnail}\r\n                            >\r\n                              <source src={response.video_url} type=\"video/webm\" />\r\n                              <source src={response.video_url} type=\"video/mp4\" />\r\n                              {t('analysis.videoNotSupported')}\r\n                            </video>\r\n                          </div>\r\n                        )}\r\n                        \r\n                        {response.video_transcript && (\r\n                          <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                            <div className=\"flex items-center justify-between mb-2\">\r\n                              <h4 className=\"font-medium text-gray-900\">{t('analysis.transcript')}</h4>\r\n                              <div className=\"flex items-center gap-2\">\r\n                                <select\r\n                                  value={selectedLanguage}\r\n                                  onChange={(e) => setSelectedLanguage(e.target.value)}\r\n                                  className=\"text-sm border border-gray-300 rounded px-2 py-1\"\r\n                                >\r\n                                  {languages.map(lang => (\r\n                                    <option key={lang.code} value={lang.code}>\r\n                                      {lang.name}\r\n                                    </option>\r\n                                  ))}\r\n                                </select>\r\n                                <button\r\n                                  onClick={() => translateResponse(response.id, [selectedLanguage])}\r\n                                  className=\"text-blue-600 hover:text-blue-700 p-1\"\r\n                                >\r\n                                  <Languages className=\"w-4 h-4\" />\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                            <p className=\"text-gray-700 leading-relaxed\">\r\n                              {response.translation_data?.translations?.[selectedLanguage]?.transcript || response.video_transcript}\r\n                            </p>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                        <h4 className=\"font-medium text-gray-900 mb-2\">{t('analysis.textResponse')}</h4>\r\n                        <p className=\"text-gray-700 leading-relaxed\">\r\n                          {response.text_response}\r\n                        </p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* AI Analysis */}\r\n                  {response.ai_analysis && (\r\n                    <div className=\"border-t border-gray-200 pt-4\">\r\n                      <h4 className=\"font-medium text-gray-900 mb-3\">{t('analysis.aiAnalysis')}</h4>\r\n                      \r\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                        {/* Communication Quality */}\r\n                        {response.ai_analysis.communication_quality && (\r\n                          <div>\r\n                            <h5 className=\"text-sm font-medium text-gray-700 mb-2\">{t('analysis.communicationQuality')}</h5>\r\n                            <div className=\"space-y-1\">\r\n                              {Object.entries(response.ai_analysis.communication_quality).map(([key, value]) => (\r\n                                <div key={key} className=\"flex items-center justify-between text-sm\">\r\n                                  <span className=\"text-gray-600 capitalize\">{key.replace('_', ' ')}</span>\r\n                                  <div className=\"flex items-center gap-2\">\r\n                                    <div className=\"w-16 bg-gray-200 rounded-full h-1\">\r\n                                      <div \r\n                                        className=\"bg-blue-600 h-1 rounded-full\"\r\n                                        style={{ width: `${(value / 10) * 100}%` }}\r\n                                      ></div>\r\n                                    </div>\r\n                                    <span className=\"text-gray-700 font-medium\">{value}/10</span>\r\n                                  </div>\r\n                                </div>\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n\r\n                        {/* Keywords Found */}\r\n                        {response.ai_analysis.keywords_found && response.ai_analysis.keywords_found.length > 0 && (\r\n                          <div>\r\n                            <h5 className=\"text-sm font-medium text-gray-700 mb-2\">{t('analysis.keywordsFound')}</h5>\r\n                            <div className=\"flex flex-wrap gap-1\">\r\n                              {response.ai_analysis.keywords_found.map((keyword, idx) => (\r\n                                <span key={idx} className=\"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full\">\r\n                                  {keyword}\r\n                                </span>\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n\r\n                      {/* Improvement Suggestions */}\r\n                      {response.ai_analysis.improvement_suggestions && response.ai_analysis.improvement_suggestions.length > 0 && (\r\n                        <div className=\"mt-4\">\r\n                          <h5 className=\"text-sm font-medium text-gray-700 mb-2\">{t('analysis.improvementSuggestions')}</h5>\r\n                          <ul className=\"space-y-1\">\r\n                            {response.ai_analysis.improvement_suggestions.map((suggestion, idx) => (\r\n                              <li key={idx} className=\"flex items-start gap-2 text-sm\">\r\n                                <Lightbulb className=\"w-3 h-3 text-yellow-600 mt-0.5 flex-shrink-0\" />\r\n                                <span className=\"text-gray-700\">{suggestion}</span>\r\n                              </li>\r\n                            ))}\r\n                          </ul>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TemplateAnalysisPage;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\TemplateInterviewPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'responses' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 43,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 43,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "responses"
            },
            "fix": {
              "range": [
                1306,
                1315
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'responses'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "The ref value 'questionTimerRef.current' will likely have changed by the time this effect cleanup function runs. If this ref points to a node rendered by React, copy 'questionTimerRef.current' to a variable inside the effect, and use that variable in the cleanup function.",
        "line": 61,
        "column": 68,
        "nodeType": "Identifier",
        "endLine": 61,
        "endColumn": 75
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has missing dependencies: 'fetchTemplate' and 'stopRecording'. Either include them or remove the dependency array.",
        "line": 63,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 63,
        "endColumn": 18,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchTemplate, stopRecording, templateId]",
            "fix": {
              "range": [
                2020,
                2032
              ],
              "text": "[fetchTemplate, stopRecording, templateId]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState, useEffect, useRef  } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { \r\n  Play, \r\n  Pause, \r\n  Square, \r\n  RotateCcw, \r\n  Send, \r\n  Clock, \r\n  Video, \r\n  FileText, \r\n  CheckCircle, \r\n  AlertCircle,\r\n  Camera,\r\n  Mic,\r\n  MicOff,\r\n  VideoOff,\r\n  ArrowLeft,\r\n  ArrowRight,\r\n  Save,\r\n  Eye,\r\n  EyeOff\r\n} from 'lucide-react';\r\n\r\nconst TemplateInterviewPage = () => {\r\n  const { templateId } = useParams();\r\n  const navigate = useNavigate();\r\n  const { t } = useTranslation();\r\n  \r\n  const [template, setTemplate] = useState(null);\r\n  const [templateResponse, setTemplateResponse] = useState(null);\r\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [isPaused, setIsPaused] = useState(false);\r\n  const [recordedBlob, setRecordedBlob] = useState(null);\r\n  const [recordingTime, setRecordingTime] = useState(0);\r\n  const [hasRecorded, setHasRecorded] = useState(false);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [showPreview, setShowPreview] = useState(false);\r\n  const [textResponse, setTextResponse] = useState('');\r\n  const [responses, setResponses] = useState({});\r\n  const [timeRemaining, setTimeRemaining] = useState(null);\r\n  const [interviewStarted, setInterviewStarted] = useState(false);\r\n\r\n  const videoRef = useRef(null);\r\n  const mediaRecorderRef = useRef(null);\r\n  const streamRef = useRef(null);\r\n  const timerRef = useRef(null);\r\n  const questionTimerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    fetchTemplate();\r\n    return () => {\r\n      stopRecording();\r\n      if (streamRef.current) {\r\n        streamRef.current.getTracks().forEach(track => track.stop());\r\n      }\r\n      if (timerRef.current) clearInterval(timerRef.current);\r\n      if (questionTimerRef.current) clearInterval(questionTimerRef.current);\r\n    };\r\n  }, [templateId]);\r\n\r\n  const fetchTemplate = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch(`/api/ai/templates/${templateId}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setTemplate(data.data);\r\n        \r\n        // Initialize responses object\r\n        const initialResponses = {};\r\n        data.data.questions.forEach(question => {\r\n          initialResponses[question.id] = null;\r\n        });\r\n        setResponses(initialResponses);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching template:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const startInterview = async () => {\r\n    try {\r\n      const userId = localStorage.getItem('userId');\r\n      const response = await fetch(`/api/ai/templates/users/${userId}/templates/${templateId}/responses`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setTemplateResponse(data.data);\r\n        setInterviewStarted(true);\r\n        \r\n        // Start overall timer if template has time limit\r\n        if (template.settings?.timeLimit) {\r\n          setTimeRemaining(template.settings.timeLimit * 60);\r\n          timerRef.current = setInterval(() => {\r\n            setTimeRemaining(prev => {\r\n              if (prev <= 1) {\r\n                handleSubmitInterview();\r\n                return 0;\r\n              }\r\n              return prev - 1;\r\n            });\r\n          }, 1000);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error starting interview:', error);\r\n    }\r\n  };\r\n\r\n  const setupCamera = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ \r\n        video: true, \r\n        audio: true \r\n      });\r\n      streamRef.current = stream;\r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = stream;\r\n      }\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error accessing camera:', error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const startRecording = async () => {\r\n    if (!streamRef.current) {\r\n      const cameraReady = await setupCamera();\r\n      if (!cameraReady) return;\r\n    }\r\n\r\n    try {\r\n      const mediaRecorder = new MediaRecorder(streamRef.current);\r\n      mediaRecorderRef.current = mediaRecorder;\r\n      \r\n      const chunks = [];\r\n      mediaRecorder.ondataavailable = (event) => {\r\n        if (event.data.size > 0) {\r\n          chunks.push(event.data);\r\n        }\r\n      };\r\n\r\n      mediaRecorder.onstop = () => {\r\n        const blob = new Blob(chunks, { type: 'video/webm' });\r\n        setRecordedBlob(blob);\r\n        setHasRecorded(true);\r\n      };\r\n\r\n      mediaRecorder.start();\r\n      setIsRecording(true);\r\n      setRecordingTime(0);\r\n      \r\n      // Start recording timer\r\n      const recordingTimer = setInterval(() => {\r\n        setRecordingTime(prev => {\r\n          const newTime = prev + 1;\r\n          const currentQuestion = template.questions[currentQuestionIndex];\r\n          if (currentQuestion.time_limit && newTime >= currentQuestion.time_limit) {\r\n            stopRecording();\r\n            clearInterval(recordingTimer);\r\n          }\r\n          return newTime;\r\n        });\r\n      }, 1000);\r\n\r\n    } catch (error) {\r\n      console.error('Error starting recording:', error);\r\n    }\r\n  };\r\n\r\n  const pauseRecording = () => {\r\n    if (mediaRecorderRef.current && isRecording) {\r\n      mediaRecorderRef.current.pause();\r\n      setIsPaused(true);\r\n    }\r\n  };\r\n\r\n  const resumeRecording = () => {\r\n    if (mediaRecorderRef.current && isPaused) {\r\n      mediaRecorderRef.current.resume();\r\n      setIsPaused(false);\r\n    }\r\n  };\r\n\r\n  const stopRecording = () => {\r\n    if (mediaRecorderRef.current && isRecording) {\r\n      mediaRecorderRef.current.stop();\r\n      setIsRecording(false);\r\n      setIsPaused(false);\r\n    }\r\n  };\r\n\r\n  const retakeRecording = () => {\r\n    setRecordedBlob(null);\r\n    setHasRecorded(false);\r\n    setRecordingTime(0);\r\n    setShowPreview(false);\r\n  };\r\n\r\n  const saveQuestionResponse = async () => {\r\n    try {\r\n      setIsSubmitting(true);\r\n      const currentQuestion = template.questions[currentQuestionIndex];\r\n      \r\n      let responseData = {\r\n        question_id: currentQuestion.id,\r\n        template_response_id: templateResponse.id,\r\n        response_type: currentQuestion.question_type\r\n      };\r\n\r\n      if (currentQuestion.question_type === 'video' && recordedBlob) {\r\n        // Upload video file\r\n        const formData = new FormData();\r\n        formData.append('video', recordedBlob, `response_${currentQuestion.id}.webm`);\r\n        formData.append('questionId', currentQuestion.id);\r\n        formData.append('templateResponseId', templateResponse.id);\r\n        \r\n        const uploadResponse = await fetch('/api/upload/video-response', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n          },\r\n          body: formData\r\n        });\r\n        \r\n        if (uploadResponse.ok) {\r\n          const uploadData = await uploadResponse.json();\r\n          responseData.video_url = uploadData.videoUrl;\r\n          responseData.duration = recordingTime;\r\n        }\r\n      } else if (currentQuestion.question_type === 'text') {\r\n        responseData.text_response = textResponse;\r\n      }\r\n\r\n      const response = await fetch('/api/ai/templates/responses/questions', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        },\r\n        body: JSON.stringify(responseData)\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setResponses(prev => ({\r\n          ...prev,\r\n          [currentQuestion.id]: data.data\r\n        }));\r\n        \r\n        // Move to next question or finish\r\n        if (currentQuestionIndex < template.questions.length - 1) {\r\n          setCurrentQuestionIndex(prev => prev + 1);\r\n          resetQuestionState();\r\n        } else {\r\n          // All questions answered, submit interview\r\n          await handleSubmitInterview();\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error saving response:', error);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmitInterview = async () => {\r\n    try {\r\n      if (templateResponse) {\r\n        const response = await fetch(`/api/ai/templates/responses/${templateResponse.id}/submit`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n          }\r\n        });\r\n\r\n        if (response.ok) {\r\n          navigate('/interview-complete', { \r\n            state: { \r\n              templateId, \r\n              responseId: templateResponse.id,\r\n              templateTitle: template.title \r\n            } \r\n          });\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error submitting interview:', error);\r\n    }\r\n  };\r\n\r\n  const resetQuestionState = () => {\r\n    setRecordedBlob(null);\r\n    setHasRecorded(false);\r\n    setRecordingTime(0);\r\n    setShowPreview(false);\r\n    setTextResponse('');\r\n    setIsRecording(false);\r\n    setIsPaused(false);\r\n  };\r\n\r\n  const goToPreviousQuestion = () => {\r\n    if (currentQuestionIndex > 0) {\r\n      setCurrentQuestionIndex(prev => prev - 1);\r\n      resetQuestionState();\r\n    }\r\n  };\r\n\r\n  const formatTime = (seconds) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">{t('common.loading')}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!template) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <AlertCircle className=\"w-12 h-12 text-red-500 mx-auto mb-4\" />\r\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">\r\n            {t('interview.templateNotFound')}\r\n          </h2>\r\n          <button\r\n            onClick={() => navigate('/templates')}\r\n            className=\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\r\n          >\r\n            {t('interview.backToTemplates')}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const currentQuestion = template.questions[currentQuestionIndex];\r\n  const progress = ((currentQuestionIndex + 1) / template.questions.length) * 100;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {!interviewStarted ? (\r\n        // Interview Introduction\r\n        <div className=\"max-w-4xl mx-auto px-4 py-8\">\r\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\r\n            <div className=\"text-center mb-8\">\r\n              <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">\r\n                {template.title}\r\n              </h1>\r\n              {template.description && (\r\n                <p className=\"text-gray-600 text-lg mb-6\">\r\n                  {template.description}\r\n                </p>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n              <div className=\"text-center\">\r\n                <FileText className=\"w-8 h-8 text-blue-600 mx-auto mb-2\" />\r\n                <h3 className=\"font-semibold text-gray-900 mb-1\">\r\n                  {template.questions.length} {t('interview.questions')}\r\n                </h3>\r\n                <p className=\"text-gray-600 text-sm\">\r\n                  {t('interview.questionsToAnswer')}\r\n                </p>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                <Clock className=\"w-8 h-8 text-blue-600 mx-auto mb-2\" />\r\n                <h3 className=\"font-semibold text-gray-900 mb-1\">\r\n                  {template.settings?.timeLimit || 30} {t('interview.minutes')}\r\n                </h3>\r\n                <p className=\"text-gray-600 text-sm\">\r\n                  {t('interview.totalTime')}\r\n                </p>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                <Video className=\"w-8 h-8 text-blue-600 mx-auto mb-2\" />\r\n                <h3 className=\"font-semibold text-gray-900 mb-1\">\r\n                  {t('interview.videoResponses')}\r\n                </h3>\r\n                <p className=\"text-gray-600 text-sm\">\r\n                  {t('interview.recordYourAnswers')}\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8\">\r\n              <h4 className=\"font-semibold text-blue-900 mb-2\">\r\n                {t('interview.instructions')}\r\n              </h4>\r\n              <ul className=\"text-blue-800 text-sm space-y-1\">\r\n                <li>Ã¢â‚¬Â¢ {t('interview.instruction1')}</li>\r\n                <li>Ã¢â‚¬Â¢ {t('interview.instruction2')}</li>\r\n                <li>Ã¢â‚¬Â¢ {t('interview.instruction3')}</li>\r\n                <li>Ã¢â‚¬Â¢ {t('interview.instruction4')}</li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div className=\"text-center\">\r\n              <button\r\n                onClick={startInterview}\r\n                className=\"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition-colors text-lg font-semibold\"\r\n              >\r\n                {t('interview.startInterview')}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        // Interview Interface\r\n        <div className=\"max-w-6xl mx-auto px-4 py-6\">\r\n          {/* Header */}\r\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6\">\r\n            <div className=\"flex justify-between items-center\">\r\n              <div>\r\n                <h1 className=\"text-xl font-semibold text-gray-900\">\r\n                  {template.title}\r\n                </h1>\r\n                <p className=\"text-gray-600\">\r\n                  {t('interview.question')} {currentQuestionIndex + 1} {t('interview.of')} {template.questions.length}\r\n                </p>\r\n              </div>\r\n              <div className=\"flex items-center gap-4\">\r\n                {timeRemaining !== null && (\r\n                  <div className=\"flex items-center gap-2 text-red-600\">\r\n                    <Clock className=\"w-4 h-4\" />\r\n                    <span className=\"font-mono font-semibold\">\r\n                      {formatTime(timeRemaining)}\r\n                    </span>\r\n                  </div>\r\n                )}\r\n                <div className=\"text-right\">\r\n                  <div className=\"text-sm text-gray-600 mb-1\">\r\n                    {t('interview.progress')}\r\n                  </div>\r\n                  <div className=\"w-32 bg-gray-200 rounded-full h-2\">\r\n                    <div \r\n                      className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\r\n                      style={{ width: `${progress}%` }}\r\n                    ></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            {/* Question Panel */}\r\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n              <div className=\"mb-6\">\r\n                <div className=\"flex items-center gap-2 mb-3\">\r\n                  {currentQuestion.question_type === 'video' ? (\r\n                    <Video className=\"w-5 h-5 text-blue-600\" />\r\n                  ) : (\r\n                    <FileText className=\"w-5 h-5 text-gray-600\" />\r\n                  )}\r\n                  <span className=\"text-sm font-medium text-gray-600\">\r\n                    {t(`interview.${currentQuestion.question_type}Question`)}\r\n                  </span>\r\n                  {currentQuestion.is_required && (\r\n                    <span className=\"text-red-500 text-sm\">*</span>\r\n                  )}\r\n                </div>\r\n                <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">\r\n                  {currentQuestion.question_text}\r\n                </h2>\r\n                {currentQuestion.time_limit && (\r\n                  <div className=\"flex items-center gap-2 text-gray-600 text-sm\">\r\n                    <Clock className=\"w-4 h-4\" />\r\n                    <span>\r\n                      {t('interview.timeLimit')}: {currentQuestion.time_limit} {t('interview.seconds')}\r\n                    </span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Text Response */}\r\n              {currentQuestion.question_type === 'text' && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    {t('interview.yourAnswer')}\r\n                  </label>\r\n                  <textarea\r\n                    value={textResponse}\r\n                    onChange={(e) => setTextResponse(e.target.value)}\r\n                    rows={6}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    placeholder={t('interview.typeYourAnswer')}\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {/* Navigation */}\r\n              <div className=\"flex justify-between items-center mt-6\">\r\n                <button\r\n                  onClick={goToPreviousQuestion}\r\n                  disabled={currentQuestionIndex === 0}\r\n                  className=\"flex items-center gap-2 px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  <ArrowLeft className=\"w-4 h-4\" />\r\n                  {t('interview.previous')}\r\n                </button>\r\n\r\n                <button\r\n                  onClick={saveQuestionResponse}\r\n                  disabled={\r\n                    isSubmitting || \r\n                    (currentQuestion.question_type === 'video' && !hasRecorded) ||\r\n                    (currentQuestion.question_type === 'text' && !textResponse.trim())\r\n                  }\r\n                  className=\"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed\"\r\n                >\r\n                  {isSubmitting ? (\r\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\r\n                  ) : (\r\n                    <>\r\n                      <Save className=\"w-4 h-4\" />\r\n                      {currentQuestionIndex === template.questions.length - 1 \r\n                        ? t('interview.submitInterview') \r\n                        : t('interview.nextQuestion')\r\n                      }\r\n                    </>\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Video Recording Panel */}\r\n            {currentQuestion.question_type === 'video' && (\r\n              <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n                <div className=\"mb-4\">\r\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n                    {t('interview.recordYourResponse')}\r\n                  </h3>\r\n                  <p className=\"text-gray-600 text-sm\">\r\n                    {t('interview.recordingInstructions')}\r\n                  </p>\r\n                </div>\r\n\r\n                {/* Video Preview */}\r\n                <div className=\"relative bg-gray-900 rounded-lg overflow-hidden mb-4\" style={{ aspectRatio: '16/9' }}>\r\n                  <video\r\n                    ref={videoRef}\r\n                    autoPlay\r\n                    muted\r\n                    playsInline\r\n                    className=\"w-full h-full object-cover\"\r\n                  />\r\n                  \r\n                  {/* Recording Indicator */}\r\n                  {isRecording && (\r\n                    <div className=\"absolute top-4 left-4 flex items-center gap-2 bg-red-600 text-white px-3 py-1 rounded-full\">\r\n                      <div className=\"w-2 h-2 bg-white rounded-full animate-pulse\"></div>\r\n                      <span className=\"text-sm font-medium\">\r\n                        {formatTime(recordingTime)}\r\n                      </span>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Preview Controls */}\r\n                  {hasRecorded && showPreview && (\r\n                    <div className=\"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center\">\r\n                      <div className=\"text-center\">\r\n                        <button\r\n                          onClick={() => setShowPreview(false)}\r\n                          className=\"bg-white text-gray-900 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors\"\r\n                        >\r\n                          {t('interview.backToCamera')}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Recording Controls */}\r\n                <div className=\"flex justify-center gap-3 mb-4\">\r\n                  {!isRecording && !hasRecorded && (\r\n                    <button\r\n                      onClick={startRecording}\r\n                      className=\"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2\"\r\n                    >\r\n                      <Video className=\"w-5 h-5\" />\r\n                      {t('interview.startRecording')}\r\n                    </button>\r\n                  )}\r\n\r\n                  {isRecording && !isPaused && (\r\n                    <>\r\n                      <button\r\n                        onClick={pauseRecording}\r\n                        className=\"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition-colors flex items-center gap-2\"\r\n                      >\r\n                        <Pause className=\"w-4 h-4\" />\r\n                        {t('interview.pause')}\r\n                      </button>\r\n                      <button\r\n                        onClick={stopRecording}\r\n                        className=\"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2\"\r\n                      >\r\n                        <Square className=\"w-4 h-4\" />\r\n                        {t('interview.stop')}\r\n                      </button>\r\n                    </>\r\n                  )}\r\n\r\n                  {isRecording && isPaused && (\r\n                    <>\r\n                      <button\r\n                        onClick={resumeRecording}\r\n                        className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2\"\r\n                      >\r\n                        <Play className=\"w-4 h-4\" />\r\n                        {t('interview.resume')}\r\n                      </button>\r\n                      <button\r\n                        onClick={stopRecording}\r\n                        className=\"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2\"\r\n                      >\r\n                        <Square className=\"w-4 h-4\" />\r\n                        {t('interview.stop')}\r\n                      </button>\r\n                    </>\r\n                  )}\r\n\r\n                  {hasRecorded && (\r\n                    <>\r\n                      <button\r\n                        onClick={() => setShowPreview(!showPreview)}\r\n                        className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\r\n                      >\r\n                        {showPreview ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\r\n                        {showPreview ? t('interview.hidePreview') : t('interview.preview')}\r\n                      </button>\r\n                      <button\r\n                        onClick={retakeRecording}\r\n                        className=\"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors flex items-center gap-2\"\r\n                      >\r\n                        <RotateCcw className=\"w-4 h-4\" />\r\n                        {t('interview.retake')}\r\n                      </button>\r\n                    </>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Recording Status */}\r\n                {hasRecorded && (\r\n                  <div className=\"text-center\">\r\n                    <div className=\"flex items-center justify-center gap-2 text-green-600 mb-2\">\r\n                      <CheckCircle className=\"w-5 h-5\" />\r\n                      <span className=\"font-medium\">\r\n                        {t('interview.recordingComplete')}\r\n                      </span>\r\n                    </div>\r\n                    <p className=\"text-gray-600 text-sm\">\r\n                      {t('interview.duration')}: {formatTime(recordingTime)}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TemplateInterviewPage;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\TemplateManagementPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState, useEffect  } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport localize from '../utils/localize';\r\nimport { \r\n  Plus, \r\n  Edit, \r\n  Trash2, \r\n  Eye, \r\n  Copy, \r\n  Settings, \r\n  Video, \r\n  FileText, \r\n  Clock, \r\n  Users,\r\n  BarChart3,\r\n  Search,\r\n  Filter,\r\n  ChevronDown,\r\n  ChevronRight,\r\n  Play,\r\n  Pause,\r\n  Save,\r\n  X\r\n} from 'lucide-react';\r\n\r\nconst TemplateManagementPage = () => {\r\n  const { t } = useTranslation();\r\n  const [templates, setTemplates] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [selectedTemplate, setSelectedTemplate] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filterCategory, setFilterCategory] = useState('all');\r\n  const [expandedTemplate, setExpandedTemplate] = useState(null);\r\n\r\n  // Form states\r\n  const [templateForm, setTemplateForm] = useState({\r\n    title: '',\r\n    description: '',\r\n    category: 'general',\r\n    is_public: false,\r\n    settings: {\r\n      timeLimit: 30,\r\n      allowRetakes: true,\r\n      randomizeQuestions: false\r\n    },\r\n    questions: []\r\n  });\r\n\r\n  const [questionForm, setQuestionForm] = useState({\r\n    question_text: '',\r\n    question_type: 'text',\r\n    is_required: true,\r\n    time_limit: 120,\r\n    settings: {\r\n      allowMultipleAttempts: true,\r\n      expectedDuration: 60\r\n    },\r\n    ai_analysis_criteria: {\r\n      keywords: [],\r\n      topics: [],\r\n      skills: [],\r\n      weight: 1\r\n    }\r\n  });\r\n\r\n  const categories = [\r\n    { value: 'general', label: t('templates.categories.general') },\r\n    { value: 'technical', label: t('templates.categories.technical') },\r\n    { value: 'behavioral', label: t('templates.categories.behavioral') },\r\n    { value: 'custom', label: t('templates.categories.custom') }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchTemplates();\r\n  }, []);\r\n\r\n  const fetchTemplates = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const userId = localStorage.getItem('userId');\r\n      const response = await fetch(`/api/ai/templates/users/${userId}/templates`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setTemplates(data.data.templates);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching templates:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCreateTemplate = async () => {\r\n    try {\r\n      const userId = localStorage.getItem('userId');\r\n      const response = await fetch(`/api/ai/templates/users/${userId}/templates`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        },\r\n        body: JSON.stringify(templateForm)\r\n      });\r\n\r\n      if (response.ok) {\r\n        await fetchTemplates();\r\n        setShowCreateModal(false);\r\n        resetTemplateForm();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error creating template:', error);\r\n    }\r\n  };\r\n\r\n  const handleUpdateTemplate = async () => {\r\n    try {\r\n      const userId = localStorage.getItem('userId');\r\n      const response = await fetch(`/api/ai/templates/${selectedTemplate.id}/users/${userId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        },\r\n        body: JSON.stringify(templateForm)\r\n      });\r\n\r\n      if (response.ok) {\r\n        await fetchTemplates();\r\n        setShowEditModal(false);\r\n        setSelectedTemplate(null);\r\n        resetTemplateForm();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating template:', error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteTemplate = async (templateId) => {\r\n    if (window.confirm(t('templates.confirmDelete'))) {\r\n      try {\r\n        const userId = localStorage.getItem('userId');\r\n        const response = await fetch(`/api/ai/templates/${templateId}/users/${userId}`, {\r\n          method: 'DELETE',\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n          }\r\n        });\r\n\r\n        if (response.ok) {\r\n          await fetchTemplates();\r\n        }\r\n      } catch (error) {\r\n        console.error('Error deleting template:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleAddQuestion = () => {\r\n    setTemplateForm(prev => ({\r\n      ...prev,\r\n      questions: [...prev.questions, { ...questionForm, order_index: prev.questions.length }]\r\n    }));\r\n    resetQuestionForm();\r\n  };\r\n\r\n  const handleRemoveQuestion = (index) => {\r\n    setTemplateForm(prev => ({\r\n      ...prev,\r\n      questions: prev.questions.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  const resetTemplateForm = () => {\r\n    setTemplateForm({\r\n      title: '',\r\n      description: '',\r\n      category: 'general',\r\n      is_public: false,\r\n      settings: {\r\n        timeLimit: 30,\r\n        allowRetakes: true,\r\n        randomizeQuestions: false\r\n      },\r\n      questions: []\r\n    });\r\n  };\r\n\r\n  const resetQuestionForm = () => {\r\n    setQuestionForm({\r\n      question_text: '',\r\n      question_type: 'text',\r\n      is_required: true,\r\n      time_limit: 120,\r\n      settings: {\r\n        allowMultipleAttempts: true,\r\n        expectedDuration: 60\r\n      },\r\n      ai_analysis_criteria: {\r\n        keywords: [],\r\n        topics: [],\r\n        skills: [],\r\n        weight: 1\r\n      }\r\n    });\r\n  };\r\n\r\n  const openEditModal = (template) => {\r\n    setSelectedTemplate(template);\r\n    setTemplateForm({\r\n      title: template.title,\r\n      description: template.description,\r\n      category: template.category,\r\n      is_public: template.is_public,\r\n      settings: template.settings || {\r\n        timeLimit: 30,\r\n        allowRetakes: true,\r\n        randomizeQuestions: false\r\n      },\r\n      questions: template.questions || []\r\n    });\r\n    setShowEditModal(true);\r\n  };\r\n\r\n  const filteredTemplates = templates.filter(template => {\r\n    const matchesSearch = template.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                         template.description?.toLowerCase().includes(searchTerm.toLowerCase());\r\n    const matchesCategory = filterCategory === 'all' || template.category === filterCategory;\r\n    return matchesSearch && matchesCategory;\r\n  });\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'active': return 'text-green-600 bg-green-100';\r\n      case 'draft': return 'text-yellow-600 bg-yellow-100';\r\n      case 'archived': return 'text-gray-600 bg-gray-100';\r\n      default: return 'text-gray-600 bg-gray-100';\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">{t('common.loading')}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n            {t('templates.title')}\r\n          </h1>\r\n          <p className=\"text-gray-600\">\r\n            {t('templates.subtitle')}\r\n          </p>\r\n        </div>\r\n\r\n        {/* Actions Bar */}\r\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6\">\r\n          <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\r\n            <div className=\"flex flex-col sm:flex-row gap-4 flex-1\">\r\n              {/* Search */}\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder={t('templates.searchPlaceholder')}\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full sm:w-64\"\r\n                />\r\n              </div>\r\n\r\n              {/* Category Filter */}\r\n              <select\r\n                value={filterCategory}\r\n                onChange={(e) => setFilterCategory(e.target.value)}\r\n                className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              >\r\n                <option value=\"all\">{t('templates.allCategories')}</option>\r\n                {categories.map(category => (\r\n                  <option key={category.value} value={category.value}>\r\n                    {category.label}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            {/* Create Button */}\r\n            <button\r\n              onClick={() => setShowCreateModal(true)}\r\n              className=\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\r\n            >\r\n              <Plus className=\"w-4 h-4\" />\r\n              {t('templates.createNew')}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Templates Grid */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {filteredTemplates.map((template) => (\r\n            <div key={template.id} className=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden\">\r\n              <div className=\"p-6\">\r\n                {/* Template Header */}\r\n                <div className=\"flex justify-between items-start mb-4\">\r\n                  <div className=\"flex-1\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-1\">\r\n                      {template.title}\r\n                    </h3>\r\n                    <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(template.status)}`}>\r\n                      {t(`templates.status.${template.status}`)}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-1 ml-4\">\r\n                    <button\r\n                      onClick={() => openEditModal(template)}\r\n                      className=\"p-1 text-gray-400 hover:text-blue-600 transition-colors\"\r\n                    >\r\n                      <Edit className=\"w-4 h-4\" />\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleDeleteTemplate(template.id)}\r\n                      className=\"p-1 text-gray-400 hover:text-red-600 transition-colors\"\r\n                    >\r\n                      <Trash2 className=\"w-4 h-4\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Template Description */}\r\n                {template.description && (\r\n                  <p className=\"text-gray-600 text-sm mb-4 line-clamp-2\">\r\n                    {template.description}\r\n                  </p>\r\n                )}\r\n\r\n                {/* Template Stats */}\r\n                <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n                  <div className=\"flex items-center gap-2 text-sm text-gray-600\">\r\n                    <FileText className=\"w-4 h-4\" />\r\n                    <span>{template.question_count || 0} {t('templates.questions')}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2 text-sm text-gray-600\">\r\n                    <Users className=\"w-4 h-4\" />\r\n                    <span>{template.usage_count || 0} {t('templates.responses')}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2 text-sm text-gray-600\">\r\n                    <Clock className=\"w-4 h-4\" />\r\n                    <span>{template.settings?.timeLimit || 30} {t('templates.minutes')}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2 text-sm text-gray-600\">\r\n                    <BarChart3 className=\"w-4 h-4\" />\r\n                    <span>{localize(template.category)}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Template Actions */}\r\n                <div className=\"flex gap-2\">\r\n                  <button\r\n                    onClick={() => setExpandedTemplate(expandedTemplate === template.id ? null : template.id)}\r\n                    className=\"flex-1 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2\"\r\n                  >\r\n                    <Eye className=\"w-4 h-4\" />\r\n                    {t('templates.preview')}\r\n                  </button>\r\n                  <button className=\"bg-blue-100 text-blue-700 px-4 py-2 rounded-lg hover:bg-blue-200 transition-colors flex items-center justify-center gap-2\">\r\n                    <Copy className=\"w-4 h-4\" />\r\n                    {t('templates.duplicate')}\r\n                  </button>\r\n                </div>\r\n\r\n                {/* Expanded Questions Preview */}\r\n                {expandedTemplate === template.id && (\r\n                  <div className=\"mt-4 pt-4 border-t border-gray-200\">\r\n                    <h4 className=\"font-medium text-gray-900 mb-2\">{t('templates.questions')}</h4>\r\n                    <div className=\"space-y-2 max-h-40 overflow-y-auto\">\r\n                      {template.questions?.map((question, index) => (\r\n                        <div key={index} className=\"flex items-start gap-2 text-sm\">\r\n                          <span className=\"text-gray-400 mt-0.5\">{index + 1}.</span>\r\n                          <div className=\"flex-1\">\r\n                            <div className=\"flex items-center gap-2 mb-1\">\r\n                              {question.question_type === 'video' ? (\r\n                                <Video className=\"w-3 h-3 text-blue-600\" />\r\n                              ) : (\r\n                                <FileText className=\"w-3 h-3 text-gray-600\" />\r\n                              )}\r\n                              {question.is_required && (\r\n                                <span className=\"text-red-500 text-xs\">*</span>\r\n                              )}\r\n                            </div>\r\n                            <p className=\"text-gray-700 line-clamp-2\">{question.question_text}</p>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Empty State */}\r\n        {filteredTemplates.length === 0 && (\r\n          <div className=\"text-center py-12\">\r\n            <FileText className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n              {t('templates.noTemplates')}\r\n            </h3>\r\n            <p className=\"text-gray-600 mb-6\">\r\n              {t('templates.noTemplatesDescription')}\r\n            </p>\r\n            <button\r\n              onClick={() => setShowCreateModal(true)}\r\n              className=\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\r\n            >\r\n              {t('templates.createFirst')}\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Create/Edit Template Modal */}\r\n      {(showCreateModal || showEditModal) && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n          <div className=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"p-6 border-b border-gray-200\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <h2 className=\"text-xl font-semibold text-gray-900\">\r\n                  {showCreateModal ? t('templates.createNew') : t('templates.editTemplate')}\r\n                </h2>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowCreateModal(false);\r\n                    setShowEditModal(false);\r\n                    setSelectedTemplate(null);\r\n                    resetTemplateForm();\r\n                  }}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  <X className=\"w-6 h-6\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-6 space-y-6\">\r\n              {/* Basic Information */}\r\n              <div>\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{t('templates.basicInfo')}</h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      {t('templates.templateTitle')} *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={templateForm.title}\r\n                      onChange={(e) => setTemplateForm(prev => ({ ...prev, title: e.target.value }))}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                      placeholder={t('templates.titlePlaceholder')}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      {t('templates.category')}\r\n                    </label>\r\n                    <select\r\n                      value={templateForm.category}\r\n                      onChange={(e) => setTemplateForm(prev => ({ ...prev, category: e.target.value }))}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    >\r\n                      {categories.map(category => (\r\n                        <option key={category.value} value={category.value}>\r\n                          {category.label}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                <div className=\"mt-4\">\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    {t('templates.description')}\r\n                  </label>\r\n                  <textarea\r\n                    value={templateForm.description}\r\n                    onChange={(e) => setTemplateForm(prev => ({ ...prev, description: e.target.value }))}\r\n                    rows={3}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    placeholder={t('templates.descriptionPlaceholder')}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Settings */}\r\n              <div>\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{t('templates.settings')}</h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      {t('templates.timeLimit')} ({t('templates.minutes')})\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={templateForm.settings.timeLimit}\r\n                      onChange={(e) => setTemplateForm(prev => ({\r\n                        ...prev,\r\n                        settings: { ...prev.settings, timeLimit: parseInt(e.target.value) }\r\n                      }))}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                      min=\"1\"\r\n                      max=\"180\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"flex items-center\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"allowRetakes\"\r\n                      checked={templateForm.settings.allowRetakes}\r\n                      onChange={(e) => setTemplateForm(prev => ({\r\n                        ...prev,\r\n                        settings: { ...prev.settings, allowRetakes: e.target.checked }\r\n                      }))}\r\n                      className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                    />\r\n                    <label htmlFor=\"allowRetakes\" className=\"ml-2 text-sm text-gray-700\">\r\n                      {t('templates.allowRetakes')}\r\n                    </label>\r\n                  </div>\r\n                  <div className=\"flex items-center\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"isPublic\"\r\n                      checked={templateForm.is_public}\r\n                      onChange={(e) => setTemplateForm(prev => ({ ...prev, is_public: e.target.checked }))}\r\n                      className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                    />\r\n                    <label htmlFor=\"isPublic\" className=\"ml-2 text-sm text-gray-700\">\r\n                      {t('templates.makePublic')}\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Questions */}\r\n              <div>\r\n                <div className=\"flex justify-between items-center mb-4\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900\">{t('templates.questions')}</h3>\r\n                  <span className=\"text-sm text-gray-600\">\r\n                    {templateForm.questions.length} {t('templates.questionsCount')}\r\n                  </span>\r\n                </div>\r\n\r\n                {/* Question List */}\r\n                <div className=\"space-y-3 mb-4\">\r\n                  {templateForm.questions.map((question, index) => (\r\n                    <div key={index} className=\"border border-gray-200 rounded-lg p-4\">\r\n                      <div className=\"flex justify-between items-start\">\r\n                        <div className=\"flex-1\">\r\n                          <div className=\"flex items-center gap-2 mb-2\">\r\n                            <span className=\"text-sm font-medium text-gray-600\">\r\n                              {t('templates.question')} {index + 1}\r\n                            </span>\r\n                            {question.question_type === 'video' ? (\r\n                              <Video className=\"w-4 h-4 text-blue-600\" />\r\n                            ) : (\r\n                              <FileText className=\"w-4 h-4 text-gray-600\" />\r\n                            )}\r\n                            {question.is_required && (\r\n                              <span className=\"text-red-500 text-xs\">*</span>\r\n                            )}\r\n                          </div>\r\n                          <p className=\"text-gray-700\">{question.question_text}</p>\r\n                          <div className=\"flex items-center gap-4 mt-2 text-xs text-gray-500\">\r\n                            <span>{t('templates.timeLimit')}: {question.time_limit}s</span>\r\n                            <span>{t('templates.type')}: {question.question_type}</span>\r\n                          </div>\r\n                        </div>\r\n                        <button\r\n                          onClick={() => handleRemoveQuestion(index)}\r\n                          className=\"text-red-500 hover:text-red-700 ml-4\"\r\n                        >\r\n                          <Trash2 className=\"w-4 h-4\" />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Add Question Form */}\r\n                <div className=\"border border-gray-200 rounded-lg p-4 bg-gray-50\">\r\n                  <h4 className=\"font-medium text-gray-900 mb-3\">{t('templates.addQuestion')}</h4>\r\n                  <div className=\"space-y-3\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        {t('templates.questionText')} *\r\n                      </label>\r\n                      <textarea\r\n                        value={questionForm.question_text}\r\n                        onChange={(e) => setQuestionForm(prev => ({ ...prev, question_text: e.target.value }))}\r\n                        rows={2}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                        placeholder={t('templates.questionPlaceholder')}\r\n                      />\r\n                    </div>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                          {t('templates.questionType')}\r\n                        </label>\r\n                        <select\r\n                          value={questionForm.question_type}\r\n                          onChange={(e) => setQuestionForm(prev => ({ ...prev, question_type: e.target.value }))}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                        >\r\n                          <option value=\"text\">{t('templates.textQuestion')}</option>\r\n                          <option value=\"video\">{t('templates.videoQuestion')}</option>\r\n                        </select>\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                          {t('templates.timeLimit')} ({t('templates.seconds')})\r\n                        </label>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={questionForm.time_limit}\r\n                          onChange={(e) => setQuestionForm(prev => ({ ...prev, time_limit: parseInt(e.target.value) }))}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                          min=\"30\"\r\n                          max=\"600\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"flex items-center pt-6\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          id=\"isRequired\"\r\n                          checked={questionForm.is_required}\r\n                          onChange={(e) => setQuestionForm(prev => ({ ...prev, is_required: e.target.checked }))}\r\n                          className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                        />\r\n                        <label htmlFor=\"isRequired\" className=\"ml-2 text-sm text-gray-700\">\r\n                          {t('templates.required')}\r\n                        </label>\r\n                      </div>\r\n                    </div>\r\n                    <button\r\n                      onClick={handleAddQuestion}\r\n                      disabled={!questionForm.question_text.trim()}\r\n                      className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2\"\r\n                    >\r\n                      <Plus className=\"w-4 h-4\" />\r\n                      {t('templates.addQuestion')}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Modal Footer */}\r\n            <div className=\"p-6 border-t border-gray-200 flex justify-end gap-3\">\r\n              <button\r\n                onClick={() => {\r\n                  setShowCreateModal(false);\r\n                  setShowEditModal(false);\r\n                  setSelectedTemplate(null);\r\n                  resetTemplateForm();\r\n                }}\r\n                className=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\"\r\n              >\r\n                {t('common.cancel')}\r\n              </button>\r\n              <button\r\n                onClick={showCreateModal ? handleCreateTemplate : handleUpdateTemplate}\r\n                disabled={!templateForm.title.trim() || templateForm.questions.length === 0}\r\n                className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2\"\r\n              >\r\n                <Save className=\"w-4 h-4\" />\r\n                {showCreateModal ? t('templates.create') : t('templates.update')}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TemplateManagementPage;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\TranslationTest.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState  } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { \r\n  Container, \r\n  Typography, \r\n  Button, \r\n  Box, \r\n  Paper,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Divider\r\n} from '@mui/material';\r\nimport { jobseekerTabCategories } from '../config/jobseekerTabsConfig';\r\nimport localize from '../utils/localize';\r\nimport { getEmployerTabCategories } from '../config/employerTabsConfig';\r\n\r\nconst TranslationTest = () => {\r\n  const { t, i18n } = useTranslation();\r\n  const [currentLanguage, setCurrentLanguage] = useState(i18n.language);\r\n\r\n  const languages = [\r\n    { code: 'en', name: 'English' },\r\n    { code: 'ar', name: 'Ø·Â§Ø¸â€žØ·Â¹Ø·Â±Ø·Â¨Ø¸Ù¹Ø·Â©' },\r\n    { code: 'zh', name: 'Ù†Â¸Â­Ùˆâ€“â€¡' }\r\n  ];\r\n\r\n  const handleLanguageChange = (languageCode) => {\r\n    i18n.changeLanguage(languageCode);\r\n    setCurrentLanguage(languageCode);\r\n  };\r\n\r\n  const jobseekerCategories = jobseekerTabCategories();\r\n  const employerCategories = getEmployerTabCategories(t);\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\r\n      <Typography variant=\"h3\" component=\"h1\" gutterBottom align=\"center\">\r\n        Translation Test Page\r\n      </Typography>\r\n      \r\n      <Typography variant=\"h6\" gutterBottom align=\"center\">\r\n        Current Language: {currentLanguage}\r\n      </Typography>\r\n\r\n      {/* Language Switcher */}\r\n      <Box sx={{ display: 'flex', justifyContent: 'center', gap: 2, mb: 4 }}>\r\n        {languages.map((language) => (\r\n          <Button\r\n            key={language.code}\r\n            variant={currentLanguage === language.code ? 'contained' : 'outlined'}\r\n            onClick={() => handleLanguageChange(language.code)}\r\n          >\r\n            {language.name}\r\n          </Button>\r\n        ))}\r\n      </Box>\r\n\r\n      {/* Common Translations */}\r\n      <Paper sx={{ p: 3, mb: 3 }}>\r\n        <Typography variant=\"h5\" gutterBottom>\r\n          Common Translations\r\n        </Typography>\r\n        <Typography>Home: {t('common.home', 'Home')}</Typography>\r\n        <Typography>Dashboard: {t('common.dashboard', 'Dashboard')}</Typography>\r\n        <Typography>Settings: {t('common.settings', 'Settings')}</Typography>\r\n        <Typography>Search: {t('common.search', 'Search')}</Typography>\r\n        <Typography>Profile: {t('common.profile', 'Profile')}</Typography>\r\n      </Paper>\r\n\r\n      {/* Jobseeker Tabs */}\r\n      <Paper sx={{ p: 3, mb: 3 }}>\r\n        <Typography variant=\"h5\" gutterBottom>\r\n          Jobseeker Tab Categories\r\n        </Typography>\r\n        <List>\r\n          {jobseekerCategories.map((category) => (\r\n            <div key={category.key}>\r\n              <ListItem>\r\n                <ListItemText \r\n                  primary={localize(category.label)}\r\n                  secondary={`Key: ${category.key}`}\r\n                />\r\n              </ListItem>\r\n              <Box sx={{ pl: 4 }}>\r\n                {category.tabs.map((tab) => (\r\n                  <ListItem key={tab.path}>\r\n                    <ListItemText \r\n                      primary={localize(tab.label)}\r\n                      secondary={localize(tab.description)}\r\n                    />\r\n                  </ListItem>\r\n                ))}\r\n              </Box>\r\n              <Divider />\r\n            </div>\r\n          ))}\r\n        </List>\r\n      </Paper>\r\n\r\n      {/* Employer Tabs */}\r\n      <Paper sx={{ p: 3, mb: 3 }}>\r\n        <Typography variant=\"h5\" gutterBottom>\r\n          Employer Tab Categories\r\n        </Typography>\r\n        <List>\r\n          {employerCategories.map((category) => (\r\n            <div key={category.key}>\r\n              <ListItem>\r\n                <ListItemText \r\n                  primary={localize(category.label)}\r\n                  secondary={`Key: ${category.key}`}\r\n                />\r\n              </ListItem>\r\n              <Box sx={{ pl: 4 }}>\r\n                {category.tabs.map((tab) => (\r\n                  <ListItem key={tab.path}>\r\n                    <ListItemText \r\n                      primary={localize(tab.label)}\r\n                      secondary={localize(tab.description)}\r\n                    />\r\n                  </ListItem>\r\n                ))}\r\n              </Box>\r\n              <Divider />\r\n            </div>\r\n          ))}\r\n        </List>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default TranslationTest;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\Unauthorized.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from 'react';\r\nimport { \r\n  Box, \r\n  Typography, \r\n  Button, \r\n  Container, \r\n  useTheme,\r\n  Paper\r\n} from '@mui/material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport LockIcon from '@mui/icons-material/Lock';\r\nimport HomeIcon from '@mui/icons-material/Home';\r\n\r\nconst UnauthorizedPage = () => {\r\n  const theme = useTheme();\r\n  const navigate = useNavigate();\r\n\r\n  return (\r\n    <Container maxWidth=\"md\" sx={{ mt: 8 }}>\r\n      <Paper \r\n        elevation={3} \r\n        sx={{ \r\n          p: 4,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n          textAlign: 'center',\r\n          borderRadius: 2\r\n        }}\r\n      >\r\n        <LockIcon \r\n          sx={{ \r\n            fontSize: 80, \r\n            color: theme.palette.error.main,\r\n            mb: 2 \r\n          }} \r\n        />\r\n        \r\n        <Typography variant=\"h4\" gutterBottom sx={{ fontWeight: 'bold' }}>\r\n          Access Denied\r\n        </Typography>\r\n        \r\n        <Typography variant=\"h6\" color=\"textSecondary\" paragraph>\r\n          You don't have permission to view this page\r\n        </Typography>\r\n        \r\n        <Typography variant=\"body1\" sx={{ mb: 3 }}>\r\n          Please contact your administrator if you believe this is an error, \r\n          or return to the home page.\r\n        </Typography>\r\n        \r\n        <Box sx={{ display: 'flex', gap: 2 }}>\r\n          <Button\r\n            variant=\"contained\"\r\n            startIcon={<HomeIcon />}\r\n            onClick={() => navigate('/')}\r\n            sx={{\r\n              backgroundColor: theme.palette.primary.main,\r\n              '&:hover': {\r\n                backgroundColor: theme.palette.primary.dark\r\n              }\r\n            }}\r\n          >\r\n            Go to Home\r\n          </Button>\r\n          \r\n          <Button\r\n            variant=\"outlined\"\r\n            onClick={() => navigate(-1)}\r\n            sx={{\r\n              borderColor: theme.palette.primary.main,\r\n              color: theme.palette.primary.main,\r\n              '&:hover': {\r\n                backgroundColor: theme.palette.action.hover\r\n              }\r\n            }}\r\n          >\r\n            Go Back\r\n          </Button>\r\n        </Box>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default UnauthorizedPage;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\VideoEditPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'deleteEditedVideo' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 6,
        "column": 37,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 6,
        "endColumn": 54,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "deleteEditedVideo"
            },
            "fix": {
              "range": [
                259,
                278
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'deleteEditedVideo'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'exportVideoApi' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 6,
        "column": 98,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 6,
        "endColumn": 112,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "exportVideoApi"
            },
            "fix": {
              "range": [
                305,
                336
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'exportVideoApi'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has missing dependencies: 'loadMyVideos', 'toast', and 'user.id'. Either include them or remove the dependency array.",
        "line": 134,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 134,
        "endColumn": 8,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [loadMyVideos, toast, user.id]",
            "fix": {
              "range": [
                5487,
                5489
              ],
              "text": "[loadMyVideos, toast, user.id]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 375,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 375,
        "endColumn": 17
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'res' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 438,
        "column": 13,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 438,
        "endColumn": 16,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "res"
            },
            "fix": {
              "range": [
                15341,
                15382
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'res'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useRef, useEffect } from 'react';\r\nimport {\r\n  Play, Pause, Volume2, VolumeX, Upload, Trash2, Video as VideoIcon,\r\n  Loader2, Download, RotateCw, Sliders, Scissors, Sparkles\r\n} from 'lucide-react';\r\nimport { uploadVideo, getAllVideos, deleteEditedVideo, editVideo as editVideoApi, exportVideo as exportVideoApi, getSubscriptionStatus } from '@/services/api';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/UI/card.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Input } from '@/components/UI/input.jsx';\r\nimport { Label } from '@/components/UI/label.jsx';\r\nimport { Slider } from '@/components/UI/slider.jsx';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/UI/tabs.jsx';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter, DialogDescription } from '@/components/UI/dialog.jsx';\r\nimport { Textarea } from '@/components/UI/textarea.jsx';\r\nimport { Progress } from '@/components/UI/progress.jsx';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/UI/select.jsx';\r\n\r\n// FFmpeg import with fallback\r\nlet ffmpeg;\r\nlet createFFmpeg;\r\nlet fetchFile;\r\n\r\ntry {\r\n  import('@ffmpeg/ffmpeg').then(module => {\r\n    createFFmpeg = module.createFFmpeg;\r\n    fetchFile = module.fetchFile;\r\n    initializeFFmpeg();\r\n  }).catch(async () => {\r\n    const ffmpegModule = await import('@ffmpeg/ffmpeg');\r\n    createFFmpeg = ffmpegModule.default?.createFFmpeg || ffmpegModule.createFFmpeg;\r\n    fetchFile = ffmpegModule.default?.fetchFile || ffmpegModule.fetchFile;\r\n    initializeFFmpeg();\r\n  });\r\n} catch (error) {\r\n  console.error('Failed to load FFmpeg:', error);\r\n}\r\n\r\nfunction initializeFFmpeg() {\r\n  if (createFFmpeg) {\r\n    ffmpeg = createFFmpeg({ \r\n      log: true,\r\n      corePath: 'https://unpkg.com/@ffmpeg/core@0.11.0/dist/ffmpeg-core.js'\r\n    });\r\n  }\r\n}\r\n\r\nexport default function VideoEditPage() {\r\n  const { user } = useAuth();\r\n  const { toast } = useToast();\r\n  const videoRef = useRef(null);\r\n  const fileInputRef = useRef(null);\r\n  \r\n  const [activeTab, setActiveTab] = useState('upload');\r\n  const [videoFile, setVideoFile] = useState(null);\r\n  const [videoUrl, setVideoUrl] = useState(\"\");\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [duration, setDuration] = useState(0);\r\n  const [volume, setVolume] = useState(100);\r\n  const [loadingFFmpeg, setLoadingFFmpeg] = useState(true);\r\n  const [processing, setProcessing] = useState(false);\r\n  const [processingProgress, setProcessingProgress] = useState(0);\r\n  const [exporting, setExporting] = useState(false);\r\n  const [myVideos, setMyVideos] = useState([]);\r\n  const [selectedVideoFromList, setSelectedVideoFromList] = useState(null);\r\n  const [useServerProcessing, setUseServerProcessing] = useState(false);\r\n  const [isPro, setIsPro] = useState(false);\r\n\r\n  // Video editing parameters\r\n  const [videoTitle, setVideoTitle] = useState(\"\");\r\n  const [videoDescription, setVideoDescription] = useState(\"\");\r\n  const [trimStart, setTrimStart] = useState(0);\r\n  const [trimEnd, setTrimEnd] = useState(0);\r\n  const [brightness, setBrightness] = useState(0);\r\n  const [contrast, setContrast] = useState(100);\r\n  const [saturation, setSaturation] = useState(100);\r\n  const [blur, setBlur] = useState(0);\r\n  const [playbackSpeed, setPlaybackSpeed] = useState(1);\r\n  const [rotation, setRotation] = useState(0);\r\n  const [crop, setCrop] = useState({ x: 0, y: 0, w: 0, h: 0 });\r\n  const [targetRes, setTargetRes] = useState({ w: 0, h: 0 });\r\n  const [segments, setSegments] = useState([]); // [{start,end}]\r\n  const [audioFile, setAudioFile] = useState(null);\r\n  const [watermarkFile, setWatermarkFile] = useState(null);\r\n  const [watermarkPos, setWatermarkPos] = useState('top-right');\r\n  const [watermarkOpacity, setWatermarkOpacity] = useState(100);\r\n\r\n  // Preview and export\r\n  const [previewDialog, setPreviewDialog] = useState(false);\r\n  const [processedVideoUrl, setProcessedVideoUrl] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    async function loadFFmpeg() {\r\n      try {\r\n        if (ffmpeg && !ffmpeg.isLoaded()) {\r\n          ffmpeg.setProgress(({ ratio }) => {\r\n            setProcessingProgress(Math.round(ratio * 100));\r\n          });\r\n          await ffmpeg.load();\r\n          setLoadingFFmpeg(false);\r\n        } else if (!ffmpeg) {\r\n          setTimeout(() => {\r\n            setLoadingFFmpeg(false);\r\n            toast({ \r\n              description: \"FFmpeg failed to load. Some features may not work.\",\r\n              variant: \"destructive\"\r\n            });\r\n          }, 3000);\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to load FFmpeg:', error);\r\n        setLoadingFFmpeg(false);\r\n        toast({\r\n          description: \"Failed to load video editor. Basic editing may still work.\",\r\n          variant: \"destructive\"\r\n        });\r\n      }\r\n    }\r\n    \r\n    loadFFmpeg();\r\n    loadMyVideos();\r\n    // Load subscription status\r\n    if (user?.id) {\r\n      getSubscriptionStatus(user.id).then(r => {\r\n        const status = r.data;\r\n        // Consider active states\r\n        setIsPro(!!status?.active);\r\n      }).catch(() => setIsPro(false));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (videoFile) {\r\n      const url = URL.createObjectURL(videoFile);\r\n      setVideoUrl(url);\r\n      return () => URL.revokeObjectURL(url);\r\n    }\r\n  }, [videoFile]);\r\n\r\n  useEffect(() => {\r\n    if (videoRef.current && duration > 0) {\r\n      setTrimEnd(duration);\r\n    }\r\n  }, [duration]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (processedVideoUrl) {\r\n        URL.revokeObjectURL(processedVideoUrl);\r\n      }\r\n    };\r\n  }, [processedVideoUrl]);\r\n\r\n  const loadMyVideos = async () => {\r\n    try {\r\n      const response = await getAllVideos(1, 50, { userId: user?.id });\r\n      setMyVideos(response.data?.videos || []);\r\n    } catch (error) {\r\n      console.error('Error loading my videos:', error);\r\n    }\r\n  };\r\n\r\n  const handleSelectVideoFromList = (video) => {\r\n    setSelectedVideoFromList(video);\r\n    setVideoUrl(video.video_url);\r\n    setVideoTitle(video.video_title || '');\r\n    setVideoDescription(video.description || '');\r\n    setVideoFile(null);\r\n    resetEditingParameters();\r\n  };\r\n\r\n  const resetEditingParameters = () => {\r\n    setBrightness(0);\r\n    setContrast(100);\r\n    setSaturation(100);\r\n    setBlur(0);\r\n    setPlaybackSpeed(1);\r\n    setRotation(0);\r\n    setTrimStart(0);\r\n    setSegments([]);\r\n    setCrop({ x: 0, y: 0, w: 0, h: 0 });\r\n    setTargetRes({ w: 0, h: 0 });\r\n    setAudioFile(null);\r\n    setWatermarkFile(null);\r\n    setWatermarkPos('top-right');\r\n    setWatermarkOpacity(100);\r\n  };\r\n\r\n  const handleFileUpload = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file && file.type.startsWith('video/')) {\r\n      setVideoFile(file);\r\n      setVideoTitle(file.name.replace(/\\.[^/.]+$/, \"\"));\r\n      setVideoDescription(\"\");\r\n      setSelectedVideoFromList(null);\r\n      resetEditingParameters();\r\n    } else {\r\n      toast({ description: \"Please select a valid video file\", variant: \"destructive\" });\r\n    }\r\n  };\r\n\r\n  const handleVideoLoad = () => {\r\n    if (videoRef.current) {\r\n      setDuration(videoRef.current.duration);\r\n      setTrimEnd(videoRef.current.duration);\r\n    }\r\n  };\r\n\r\n  const handleTimeUpdate = () => {\r\n    if (videoRef.current) {\r\n      setCurrentTime(videoRef.current.currentTime);\r\n    }\r\n  };\r\n\r\n  const handlePlayPause = () => {\r\n    if (videoRef.current) {\r\n      if (isPlaying) {\r\n        videoRef.current.pause();\r\n      } else {\r\n        videoRef.current.play();\r\n      }\r\n      setIsPlaying(!isPlaying);\r\n    }\r\n  };\r\n\r\n  const handleSeek = (value) => {\r\n    if (videoRef.current) {\r\n      videoRef.current.currentTime = value[0];\r\n      setCurrentTime(value[0]);\r\n    }\r\n  };\r\n\r\n  const handleVolumeChange = (value) => {\r\n    if (videoRef.current) {\r\n      const volumeValue = value[0] / 100;\r\n      videoRef.current.volume = volumeValue;\r\n      setVolume(value[0]);\r\n      setIsMuted(value[0] === 0);\r\n    }\r\n  };\r\n\r\n  const handleMute = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.muted = !isMuted;\r\n      setIsMuted(!isMuted);\r\n    }\r\n  };\r\n\r\n  const formatTime = (time) => {\r\n    const minutes = Math.floor(time / 60);\r\n    const seconds = Math.floor(time % 60);\r\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const handleProcessVideo = async () => {\r\n    if (!videoUrl) {\r\n      toast({ description: \"Please select a video first\", variant: \"destructive\" });\r\n      return;\r\n    }\r\n\r\n    if (!ffmpeg || !ffmpeg.isLoaded()) {\r\n      setProcessing(true);\r\n      try {\r\n        await new Promise(resolve => setTimeout(resolve, 2000));\r\n        setProcessedVideoUrl(videoUrl);\r\n        setPreviewDialog(true);\r\n        toast({ description: \"Video processed successfully! (Basic mode)\" });\r\n      } catch (error) {\r\n        console.error('Error processing video:', error);\r\n        toast({ description: \"Failed to process video\", variant: \"destructive\" });\r\n      } finally {\r\n        setProcessing(false);\r\n      }\r\n      return;\r\n    }\r\n\r\n    setProcessing(true);\r\n    setProcessingProgress(0);\r\n    \r\n    try {\r\n      const inputFileName = 'input.mp4';\r\n      const outputFileName = 'output.mp4';\r\n\r\n      if (videoFile) {\r\n        ffmpeg.FS('writeFile', inputFileName, await fetchFile(videoFile));\r\n      } else if (selectedVideoFromList) {\r\n        const response = await fetch(selectedVideoFromList.video_url);\r\n        const blob = await response.blob();\r\n        ffmpeg.FS('writeFile', inputFileName, await fetchFile(blob));\r\n      }\r\n\r\n      let command = ['-i', inputFileName];\r\n      let videoFilters = [];\r\n      // Multi-segment: client-side support is PRO-only and heavy, prefer server. We'll simulate by trimming range if multiple not available\r\n      if (segments.length > 1 && !isPro) {\r\n        toast({ description: 'Multi-segment editing is available for Pro users. Using first segment only.', variant: 'default' });\r\n      }\r\n      \r\n      // If segments present (pro), use first segment locally; full multi-clip via server\r\n      if (segments.length > 0) {\r\n        const s = segments[0];\r\n        command.push('-ss', (s?.start ?? trimStart).toString());\r\n        const tEnd = (s?.end ?? trimEnd);\r\n        command.push('-t', Math.max(0, tEnd - (s?.start ?? trimStart)).toString());\r\n      } else if (trimStart > 0 || trimEnd < duration) {\r\n        command.push('-ss', trimStart.toString());\r\n        command.push('-t', (trimEnd - trimStart).toString());\r\n      }\r\n      \r\n      const contrastVal = contrast / 100;\r\n      const saturationVal = saturation / 100;\r\n      if (brightness !== 0 || contrastVal !== 1 || saturationVal !== 1) {\r\n        videoFilters.push(`eq=brightness=${brightness}:contrast=${contrastVal}:saturation=${saturationVal}`);\r\n      }\r\n      \r\n      if (blur > 0) {\r\n        videoFilters.push(`boxblur=${blur}`);\r\n      }\r\n      \r\n      if (rotation !== 0) {\r\n        const rotationMap = {\r\n          90: 'transpose=1',\r\n          180: 'transpose=2,transpose=2',\r\n          270: 'transpose=2'\r\n        };\r\n        if (rotationMap[rotation]) {\r\n          videoFilters.push(rotationMap[rotation]);\r\n        }\r\n      }\r\n\r\n      // Crop\r\n      if (crop.w && crop.h) {\r\n        videoFilters.push(`crop=${crop.w}:${crop.h}:${crop.x}:${crop.y}`);\r\n      }\r\n      // Scale\r\n      if (targetRes.w && targetRes.h) {\r\n        videoFilters.push(`scale=${targetRes.w}:${targetRes.h}`);\r\n      }\r\n      \r\n      if (playbackSpeed !== 1) {\r\n        videoFilters.push(`setpts=${1/playbackSpeed}*PTS`);\r\n        command.push('-af', `atempo=${playbackSpeed}`);\r\n      }\r\n      \r\n      if (videoFilters.length > 0) {\r\n        command.push('-vf', videoFilters.join(','));\r\n      }\r\n      \r\n  command.push('-c:v', 'libx264');\r\n      command.push('-preset', 'fast');\r\n      command.push('-crf', '23');\r\n      command.push(outputFileName);\r\n\r\n      await ffmpeg.run(...command);\r\n\r\n      const data = ffmpeg.FS('readFile', outputFileName);\r\n      const processedBlob = new Blob([data.buffer], { type: 'video/mp4' });\r\n      const processedUrl = URL.createObjectURL(processedBlob);\r\n      \r\n      if (processedVideoUrl) {\r\n        URL.revokeObjectURL(processedVideoUrl);\r\n      }\r\n      \r\n      setProcessedVideoUrl(processedUrl);\r\n      setPreviewDialog(true);\r\n      toast({ description: \"Video processed successfully!\" });\r\n\r\n      try {\r\n        ffmpeg.FS('unlink', inputFileName);\r\n        ffmpeg.FS('unlink', outputFileName);\r\n      } catch (e) {\r\n        // Ignore cleanup errors\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Error processing video:', error);\r\n      toast({ description: \"Failed to process video\", variant: \"destructive\" });\r\n    } finally {\r\n      setProcessing(false);\r\n      setProcessingProgress(0);\r\n    }\r\n  };\r\n\r\n  const buildServerFormData = async () => {\r\n    const formData = new FormData();\r\n    // Prefer the original input video for server processing\r\n    if (videoFile) {\r\n      formData.append('video', videoFile);\r\n    } else if (selectedVideoFromList?.video_url) {\r\n      const resp = await fetch(selectedVideoFromList.video_url);\r\n      const blob = await resp.blob();\r\n      formData.append('video', new File([blob], selectedVideoFromList.video_title || 'video.mp4', { type: blob.type || 'video/mp4' }));\r\n    } else if (processedVideoUrl) {\r\n      const resp = await fetch(processedVideoUrl);\r\n      const blob = await resp.blob();\r\n      formData.append('video', new File([blob], `${videoTitle || 'edited_video'}.mp4`, { type: 'video/mp4' }));\r\n    }\r\n    formData.append('title', videoTitle || 'Edited Video');\r\n    formData.append('description', videoDescription || '');\r\n    formData.append('trimStart', String(trimStart));\r\n    formData.append('trimEnd', String(trimEnd || duration));\r\n    formData.append('brightness', String(100 + brightness)); // server expects 0-200\r\n    formData.append('contrast', String(contrast));\r\n    formData.append('saturation', String(saturation));\r\n    if (crop.w && crop.h) {\r\n      formData.append('cropX', String(crop.x));\r\n      formData.append('cropY', String(crop.y));\r\n      formData.append('cropW', String(crop.w));\r\n      formData.append('cropH', String(crop.h));\r\n    }\r\n    if (targetRes.w && targetRes.h) {\r\n      formData.append('targetWidth', String(targetRes.w));\r\n      formData.append('targetHeight', String(targetRes.h));\r\n    }\r\n    if (segments.length > 0) {\r\n      formData.append('segments', JSON.stringify(segments));\r\n    }\r\n    if (audioFile && isPro) {\r\n      formData.append('audio', audioFile);\r\n      formData.append('mixAudio', 'true');\r\n    }\r\n    if (watermarkFile && isPro) {\r\n      formData.append('watermark', watermarkFile);\r\n      formData.append('watermarkPos', watermarkPos);\r\n      formData.append('watermarkOpacity', String(watermarkOpacity / 100));\r\n    }\r\n    return formData;\r\n  };\r\n\r\n  const handleProcessOnServer = async () => {\r\n    try {\r\n      setProcessing(true);\r\n      const formData = await buildServerFormData();\r\n      const res = await editVideoApi(formData);\r\n      toast({ description: 'Video processed on server successfully.' });\r\n      setPreviewDialog(true);\r\n      // Optionally fetch back via getVideoInfo\r\n    } catch (e) {\r\n      console.error(e);\r\n      toast({ description: 'Server processing failed', variant: 'destructive' });\r\n    } finally {\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleUploadProcessedVideo = async () => {\r\n    if (!processedVideoUrl) {\r\n      toast({ description: \"No processed video to upload\", variant: \"destructive\" });\r\n      return;\r\n    }\r\n\r\n    setExporting(true);\r\n    try {\r\n      const response = await fetch(processedVideoUrl);\r\n      const blob = await response.blob();\r\n      const file = new File([blob], `${videoTitle || 'edited_video'}.mp4`, { type: 'video/mp4' });\r\n\r\n      const formData = new FormData();\r\n      formData.append('video', file);\r\n      formData.append('title', videoTitle);\r\n      formData.append('description', videoDescription);\r\n\r\n      await uploadVideo(formData);\r\n      \r\n      toast({ description: \"Video uploaded successfully!\" });\r\n      setPreviewDialog(false);\r\n      \r\n      URL.revokeObjectURL(processedVideoUrl);\r\n      setProcessedVideoUrl(\"\");\r\n      \r\n      loadMyVideos();\r\n    } catch (error) {\r\n      console.error('Error uploading video:', error);\r\n      toast({ description: \"Failed to upload video\", variant: \"destructive\" });\r\n    } finally {\r\n      setExporting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-6 px-4 max-w-7xl\">\r\n      <h1 className=\"text-4xl font-bold bg-gradient-to-r from-purple-600 to-cyan-600 bg-clip-text text-transparent mb-6\">\r\n        Video Editor\r\n      </h1>\r\n\r\n      {loadingFFmpeg && (\r\n        <Card className=\"mb-6 border-l-4 border-l-purple-600\">\r\n          <CardContent className=\"pt-6 flex items-center gap-4\">\r\n            <Loader2 className=\"h-8 w-8 animate-spin text-purple-600\" />\r\n            <div>\r\n              <p className=\"font-semibold\">Loading video editor...</p>\r\n              <p className=\"text-sm text-gray-600\">Please wait while we initialize FFmpeg</p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\r\n        <TabsList className=\"grid w-full grid-cols-2 max-w-md\">\r\n          <TabsTrigger value=\"upload\">Upload New</TabsTrigger>\r\n          <TabsTrigger value=\"library\">My Videos</TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"upload\" className=\"space-y-6\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <Upload className=\"h-5 w-5 text-purple-600\" />\r\n                Upload Video\r\n              </CardTitle>\r\n              <CardDescription>Upload a video file to start editing</CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"flex flex-col items-center justify-center border-2 border-dashed rounded-lg p-8 hover:border-purple-600 transition-colors\">\r\n                <VideoIcon className=\"h-16 w-16 text-gray-400 mb-4\" />\r\n                <Button\r\n                  onClick={() => fileInputRef.current?.click()}\r\n                  className=\"bg-gradient-to-r from-purple-600 to-cyan-600 hover:from-purple-700 hover:to-cyan-700\"\r\n                >\r\n                  <Upload className=\"h-4 w-4 mr-2\" />\r\n                  Select Video File\r\n                </Button>\r\n                <input\r\n                  ref={fileInputRef}\r\n                  type=\"file\"\r\n                  accept=\"video/*\"\r\n                  onChange={handleFileUpload}\r\n                  className=\"hidden\"\r\n                />\r\n                <p className=\"text-sm text-gray-600 mt-2\">MP4, MOV, AVI, WebM supported</p>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"library\" className=\"space-y-6\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <VideoIcon className=\"h-5 w-5 text-cyan-600\" />\r\n                My Videos\r\n              </CardTitle>\r\n              <CardDescription>Select a video from your library to edit</CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                {myVideos.length === 0 ? (\r\n                  <div className=\"col-span-full text-center py-8 text-gray-500\">\r\n                    <p>No videos found</p>\r\n                  </div>\r\n                ) : (\r\n                  myVideos.map((video) => (\r\n                    <Card\r\n                      key={video.id}\r\n                      className={`cursor-pointer transition-all hover:shadow-lg ${\r\n                        selectedVideoFromList?.id === video.id ? 'border-2 border-purple-600' : ''\r\n                      }`}\r\n                      onClick={() => handleSelectVideoFromList(video)}\r\n                    >\r\n                      <div className=\"aspect-video bg-gray-900 rounded-t-lg overflow-hidden\">\r\n                        <video src={video.video_url} className=\"w-full h-full object-cover\" />\r\n                      </div>\r\n                      <CardContent className=\"p-3\">\r\n                        <p className=\"font-medium truncate\">{video.video_title}</p>\r\n                        <p className=\"text-xs text-gray-600 truncate\">{video.description || 'No description'}</p>\r\n                      </CardContent>\r\n                    </Card>\r\n                  ))\r\n                )}\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      {videoUrl && (\r\n        <>\r\n          {/* Video Player */}\r\n          <Card className=\"mb-6\">\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <Sparkles className=\"h-5 w-5 text-purple-600\" />\r\n                Video Preview\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"bg-black rounded-lg overflow-hidden\">\r\n                <video\r\n                  ref={videoRef}\r\n                  src={videoUrl}\r\n                  onLoadedMetadata={handleVideoLoad}\r\n                  onTimeUpdate={handleTimeUpdate}\r\n                  className=\"w-full\"\r\n                  style={{\r\n                    filter: `brightness(${1 + brightness/100}) contrast(${contrast/100}) saturate(${saturation/100}) blur(${blur}px)`,\r\n                    transform: `rotate(${rotation}deg)`\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              {/* Controls */}\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center gap-4\">\r\n                  <Button variant=\"outline\" size=\"icon\" onClick={handlePlayPause}>\r\n                    {isPlaying ? <Pause className=\"h-4 w-4\" /> : <Play className=\"h-4 w-4\" />}\r\n                  </Button>\r\n                  <Button variant=\"outline\" size=\"icon\" onClick={handleMute}>\r\n                    {isMuted ? <VolumeX className=\"h-4 w-4\" /> : <Volume2 className=\"h-4 w-4\" />}\r\n                  </Button>\r\n                  <div className=\"flex-1 space-y-2\">\r\n                    <Slider\r\n                      value={[currentTime]}\r\n                      max={duration || 100}\r\n                      step={0.1}\r\n                      onValueChange={handleSeek}\r\n                      className=\"cursor-pointer\"\r\n                    />\r\n                    <div className=\"flex justify-between text-xs text-gray-600\">\r\n                      <span>{formatTime(currentTime)}</span>\r\n                      <span>{formatTime(duration)}</span>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"w-32\">\r\n                    <Slider\r\n                      value={[volume]}\r\n                      max={100}\r\n                      step={1}\r\n                      onValueChange={handleVolumeChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Metadata */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"title\">Video Title</Label>\r\n                  <Input\r\n                    id=\"title\"\r\n                    value={videoTitle}\r\n                    onChange={(e) => setVideoTitle(e.target.value)}\r\n                    placeholder=\"Enter video title\"\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"description\">Description</Label>\r\n                  <Textarea\r\n                    id=\"description\"\r\n                    value={videoDescription}\r\n                    onChange={(e) => setVideoDescription(e.target.value)}\r\n                    placeholder=\"Enter video description\"\r\n                    rows={1}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label>Processing Mode</Label>\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <label className=\"flex items-center gap-2 text-sm\">\r\n                      <input type=\"checkbox\" checked={useServerProcessing} onChange={(e) => setUseServerProcessing(e.target.checked)} />\r\n                      Use server processing {isPro ? <Badge className=\"ml-2\">PRO</Badge> : <Badge variant=\"secondary\" className=\"ml-2\">Basic</Badge>}\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Editing Tools */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n            {/* Trim & Segments */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Scissors className=\"h-5 w-5 text-cyan-600\" />\r\n                  Trim & Cut\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label>Start Time: {formatTime(trimStart)}</Label>\r\n                  <Slider value={[trimStart]} max={duration || 100} step={0.1} onValueChange={(val) => setTrimStart(val[0])} />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label>End Time: {formatTime(trimEnd)}</Label>\r\n                  <Slider value={[trimEnd]} max={duration || 100} step={0.1} onValueChange={(val) => setTrimEnd(val[0])} />\r\n                </div>\r\n                <div className=\"pt-2 border-t\">\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <Label>Segments {isPro ? <Badge className=\"ml-2\">PRO</Badge> : <Badge variant=\"secondary\" className=\"ml-2\">PRO</Badge>}</Label>\r\n                    <Button variant=\"outline\" size=\"sm\" onClick={() => {\r\n                      if (!isPro) { toast({ description: 'Multi-segment editing is a PRO feature', variant: 'default' }); return; }\r\n                      const start = Math.max(0, currentTime - 2);\r\n                      const end = Math.min(duration, currentTime + 2);\r\n                      setSegments([...segments, { start, end }]);\r\n                    }}>Add segment at playhead</Button>\r\n                  </div>\r\n                  {segments.length === 0 ? (\r\n                    <p className=\"text-xs text-gray-500\">No segments added.</p>\r\n                  ) : (\r\n                    <div className=\"space-y-2\">\r\n                      {segments.map((s, idx) => (\r\n                        <div key={idx} className=\"flex items-center gap-2 text-sm\">\r\n                          <span className=\"w-16\">#{idx + 1}</span>\r\n                          <Input className=\"w-24\" type=\"number\" step=\"0.1\" value={s.start} onChange={(e) => {\r\n                            const v = [...segments]; v[idx] = { ...v[idx], start: Number(e.target.value) }; setSegments(v);\r\n                          }} />\r\n                          <span>to</span>\r\n                          <Input className=\"w-24\" type=\"number\" step=\"0.1\" value={s.end} onChange={(e) => {\r\n                            const v = [...segments]; v[idx] = { ...v[idx], end: Number(e.target.value) }; setSegments(v);\r\n                          }} />\r\n                          <Button size=\"icon\" variant=\"ghost\" onClick={() => { setSegments(segments.filter((_, i) => i !== idx)); }}><Trash2 className=\"h-4 w-4\" /></Button>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Visual Adjustments */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Sliders className=\"h-5 w-5 text-purple-600\" />\r\n                  Visual Adjustments\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label>Brightness: {brightness}</Label>\r\n                  <Slider value={[brightness]} min={-100} max={100} step={1} onValueChange={(val) => setBrightness(val[0])} />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label>Contrast: {contrast}%</Label>\r\n                  <Slider value={[contrast]} min={0} max={200} step={1} onValueChange={(val) => setContrast(val[0])} />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label>Saturation: {saturation}%</Label>\r\n                  <Slider value={[saturation]} min={0} max={200} step={1} onValueChange={(val) => setSaturation(val[0])} />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label>Blur: {blur}px</Label>\r\n                  <Slider value={[blur]} min={0} max={10} step={0.5} onValueChange={(val) => setBlur(val[0])} />\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Transform */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <RotateCw className=\"h-5 w-5 text-pink-600\" />\r\n                  Transform\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label>Rotation</Label>\r\n                  <Select value={rotation.toString()} onValueChange={(val) => setRotation(Number(val))}>\r\n                    <SelectTrigger><SelectValue /></SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"0\">0Â° (Normal)</SelectItem>\r\n                      <SelectItem value=\"90\">90Â° (Right)</SelectItem>\r\n                      <SelectItem value=\"180\">180Â° (Upside down)</SelectItem>\r\n                      <SelectItem value=\"270\">270Â° (Left)</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label>Playback Speed</Label>\r\n                  <Select value={playbackSpeed.toString()} onValueChange={(val) => setPlaybackSpeed(Number(val))}>\r\n                    <SelectTrigger><SelectValue /></SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"0.5\">0.5x (Slow)</SelectItem>\r\n                      <SelectItem value=\"1\">1x (Normal)</SelectItem>\r\n                      <SelectItem value=\"1.5\">1.5x (Fast)</SelectItem>\r\n                      <SelectItem value=\"2\">2x (Very Fast)</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n                <div className=\"grid grid-cols-2 gap-3\">\r\n                  <div className=\"space-y-2\">\r\n                    <Label>Crop (x,y,w,h)</Label>\r\n                    <div className=\"grid grid-cols-4 gap-2\">\r\n                      <Input type=\"number\" placeholder=\"x\" value={crop.x} onChange={(e) => setCrop({ ...crop, x: Number(e.target.value) })} />\r\n                      <Input type=\"number\" placeholder=\"y\" value={crop.y} onChange={(e) => setCrop({ ...crop, y: Number(e.target.value) })} />\r\n                      <Input type=\"number\" placeholder=\"w\" value={crop.w} onChange={(e) => setCrop({ ...crop, w: Number(e.target.value) })} />\r\n                      <Input type=\"number\" placeholder=\"h\" value={crop.h} onChange={(e) => setCrop({ ...crop, h: Number(e.target.value) })} />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <Label>Target Resolution</Label>\r\n                    <div className=\"grid grid-cols-2 gap-2\">\r\n                      <Input type=\"number\" placeholder=\"width\" value={targetRes.w} onChange={(e) => setTargetRes({ ...targetRes, w: Number(e.target.value) })} />\r\n                      <Input type=\"number\" placeholder=\"height\" value={targetRes.h} onChange={(e) => setTargetRes({ ...targetRes, h: Number(e.target.value) })} />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Overlays & Audio */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Sliders className=\"h-5 w-5 text-green-600\" />\r\n                  Overlays & Audio {isPro ? <Badge className=\"ml-2\">PRO</Badge> : <Badge variant=\"secondary\" className=\"ml-2\">PRO</Badge>}\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label>Watermark (image)</Label>\r\n                  <Input type=\"file\" accept=\"image/*\" onChange={(e) => setWatermarkFile(e.target.files?.[0] || null)} />\r\n                  <div className=\"grid grid-cols-3 gap-2\">\r\n                    <Select value={watermarkPos} onValueChange={setWatermarkPos}>\r\n                      <SelectTrigger><SelectValue /></SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"top-left\">Top Left</SelectItem>\r\n                        <SelectItem value=\"top-right\">Top Right</SelectItem>\r\n                        <SelectItem value=\"bottom-left\">Bottom Left</SelectItem>\r\n                        <SelectItem value=\"bottom-right\">Bottom Right</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                    <div className=\"space-y-1\">\r\n                      <Label className=\"text-xs\">Opacity: {watermarkOpacity}%</Label>\r\n                      <Slider value={[watermarkOpacity]} max={100} step={1} onValueChange={(v) => setWatermarkOpacity(v[0])} />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label>Background/Mix Audio</Label>\r\n                  <Input type=\"file\" accept=\"audio/*\" onChange={(e) => setAudioFile(e.target.files?.[0] || null)} />\r\n                </div>\r\n                {!isPro && <p className=\"text-xs text-gray-500\">Overlays and audio mix are Pro features. You can still export without them.</p>}\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          {/* Process Button */}\r\n          <Card>\r\n            <CardContent className=\"pt-6\">\r\n              <div className=\"flex justify-center gap-3 flex-wrap\">\r\n                {!useServerProcessing && (\r\n                  <Button onClick={handleProcessVideo} disabled={processing || loadingFFmpeg} className=\"bg-gradient-to-r from-purple-600 to-cyan-600 hover:from-purple-700 hover:to-cyan-700 px-8 py-6 text-lg\">\r\n                    {processing ? (<><Loader2 className=\"h-5 w-5 mr-2 animate-spin\" />Processing {processingProgress}%</>) : (<><Sparkles className=\"h-5 w-5 mr-2\" />Process Locally</>)}\r\n                  </Button>\r\n                )}\r\n                {useServerProcessing && (\r\n                  <Button onClick={handleProcessOnServer} disabled={processing} className=\"bg-gradient-to-r from-indigo-600 to-emerald-600 hover:from-indigo-700 hover:to-emerald-700 px-8 py-6 text-lg\">\r\n                    {processing ? (<><Loader2 className=\"h-5 w-5 mr-2 animate-spin\" />Sending to server...</>) : (<><Upload className=\"h-5 w-5 mr-2\" />Process on Server</>)}\r\n                  </Button>\r\n                )}\r\n              </div>\r\n              {processing && (<Progress value={processingProgress} className=\"mt-4\" />)}\r\n            </CardContent>\r\n          </Card>\r\n        </>\r\n      )}\r\n\r\n      {/* Preview Dialog */}\r\n      <Dialog open={previewDialog} onOpenChange={setPreviewDialog}>\r\n        <DialogContent className=\"max-w-4xl\">\r\n          <DialogHeader>\r\n            <DialogTitle>Preview Processed Video</DialogTitle>\r\n            <DialogDescription>Review your edited video before uploading</DialogDescription>\r\n          </DialogHeader>\r\n          {processedVideoUrl && (\r\n            <div className=\"bg-black rounded-lg overflow-hidden\">\r\n              <video src={processedVideoUrl} controls className=\"w-full\" />\r\n            </div>\r\n          )}\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setPreviewDialog(false)}>Cancel</Button>\r\n            <Button onClick={handleUploadProcessedVideo} disabled={exporting} className=\"bg-gradient-to-r from-purple-600 to-cyan-600 hover:from-purple-700 hover:to-cyan-700\">\r\n              {exporting ? (<><Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />Uploading...</>) : (<><Upload className=\"h-4 w-4 mr-2\" />Upload Video</>)}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\VideoEditPage_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useMediaQuery' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 30,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 30,
        "endColumn": 16,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useMediaQuery"
            },
            "fix": {
              "range": [
                414,
                432
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useMediaQuery'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 45,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 45,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                751,
                786
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 79,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 79,
        "endColumn": 14,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                1746,
                1771
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'loadMyVideos'. Either include it or remove the dependency array.",
        "line": 152,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 152,
        "endColumn": 8,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [loadMyVideos]",
            "fix": {
              "range": [
                4682,
                4684
              ],
              "text": "[loadMyVideos]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 425,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 425,
        "endColumn": 17
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useRef, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Grid,\r\n  Slider,\r\n  TextField,\r\n  IconButton,\r\n  Alert,\r\n  useTheme,\r\n  Paper,\r\n  Divider,\r\n  Stack,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Snackbar,\r\n  CircularProgress,\r\n  Tab,\r\n  Tabs,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  useMediaQuery\r\n} from \"@mui/material\";\r\nimport {\r\n  PlayArrow,\r\n  Pause,\r\n  VolumeUp,\r\n  VolumeOff,\r\n  CloudUpload,\r\n  Delete,\r\n  VideoLibrary,\r\n  ExpandMore,\r\n  Upload\r\n} from \"@mui/icons-material\";\r\nimport { uploadVideo, getAllVideos, deleteEditedVideo } from '@/services/api';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\n\r\n// FFmpeg import with fallback for different versions\r\nlet ffmpeg;\r\nlet createFFmpeg;\r\nlet fetchFile;\r\n\r\ntry {\r\n  // Try importing as ESM module (newer versions)\r\n  import('@ffmpeg/ffmpeg').then(module => {\r\n    createFFmpeg = module.createFFmpeg;\r\n    fetchFile = module.fetchFile;\r\n    initializeFFmpeg();\r\n  }).catch(async () => {\r\n    // Fallback to CommonJS style (older versions)\r\n    const ffmpegModule = await import('@ffmpeg/ffmpeg');\r\n    createFFmpeg = ffmpegModule.default?.createFFmpeg || ffmpegModule.createFFmpeg;\r\n    fetchFile = ffmpegModule.default?.fetchFile || ffmpegModule.fetchFile;\r\n    initializeFFmpeg();\r\n  });\r\n} catch (error) {\r\n  console.error('Failed to load FFmpeg:', error);\r\n}\r\n\r\nfunction initializeFFmpeg() {\r\n  if (createFFmpeg) {\r\n    ffmpeg = createFFmpeg({ \r\n      log: true,\r\n      corePath: 'https://unpkg.com/@ffmpeg/core@0.11.0/dist/ffmpeg-core.js'\r\n    });\r\n  }\r\n}\r\n\r\nexport default function VideoEditPage() {\r\n  const theme = useTheme();\r\n  // const isMobile = useMediaQuery(theme.breakpoints.down('md')); // Removed: unused variable\n  const { user } = useAuth();\r\n  const videoRef = useRef(null);\r\n  const fileInputRef = useRef(null);\r\n  \r\n  const [tabValue, setTabValue] = useState(0);\r\n  const [videoFile, setVideoFile] = useState(null);\r\n  const [videoUrl, setVideoUrl] = useState(\"\");\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [duration, setDuration] = useState(0);\r\n  const [volume, setVolume] = useState(1);\r\n  const [loadingFFmpeg, setLoadingFFmpeg] = useState(true);\r\n  const [processing, setProcessing] = useState(false);\r\n  const [processingProgress, setProcessingProgress] = useState(0);\r\n  const [exporting, setExporting] = useState(false);\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: \"\", severity: \"success\" });\r\n  const [myVideos, setMyVideos] = useState([]);\r\n  const [selectedVideoFromList, setSelectedVideoFromList] = useState(null);\r\n\r\n  // Video editing parameters\r\n  const [videoTitle, setVideoTitle] = useState(\"\");\r\n  const [videoDescription, setVideoDescription] = useState(\"\");\r\n  const [trimStart, setTrimStart] = useState(0);\r\n  const [trimEnd, setTrimEnd] = useState(0);\r\n  const [brightness, setBrightness] = useState(0);\r\n  const [contrast, setContrast] = useState(1);\r\n  const [saturation, setSaturation] = useState(1);\r\n  const [blur, setBlur] = useState(0);\r\n  const [playbackSpeed, setPlaybackSpeed] = useState(1);\r\n  const [audioVolume, setAudioVolume] = useState(1);\r\n  const [audioMuted, setAudioMuted] = useState(false);\r\n  const [rotation, setRotation] = useState(0);\r\n\r\n  // Preview and export\r\n  const [previewDialog, setPreviewDialog] = useState(false);\r\n  const [processedVideoUrl, setProcessedVideoUrl] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    async function loadFFmpeg() {\r\n      try {\r\n        if (ffmpeg && !ffmpeg.isLoaded()) {\r\n          ffmpeg.setProgress(({ ratio }) => {\r\n            setProcessingProgress(Math.round(ratio * 100));\r\n          });\r\n          await ffmpeg.load();\r\n          setLoadingFFmpeg(false);\r\n        } else if (!ffmpeg) {\r\n          // If FFmpeg still not available after a delay\r\n          setTimeout(() => {\r\n            setLoadingFFmpeg(false);\r\n            setSnackbar({\r\n              open: true,\r\n              message: \"FFmpeg failed to load. Some features may not work.\",\r\n              severity: \"warning\"\r\n            });\r\n          }, 3000);\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to load FFmpeg:', error);\r\n        setLoadingFFmpeg(false);\r\n        setSnackbar({\r\n          open: true,\r\n          message: \"Failed to load video editor. Basic editing may still work.\",\r\n          severity: \"warning\"\r\n        });\r\n      }\r\n    }\r\n    \r\n    loadFFmpeg();\r\n    loadMyVideos();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (videoFile) {\r\n      const url = URL.createObjectURL(videoFile);\r\n      setVideoUrl(url);\r\n      return () => URL.revokeObjectURL(url);\r\n    }\r\n  }, [videoFile]);\r\n\r\n  useEffect(() => {\r\n    if (videoRef.current && duration > 0) {\r\n      setTrimEnd(duration);\r\n    }\r\n  }, [duration]);\r\n\r\n  useEffect(() => {\r\n    // Clean up processed video URL when component unmounts\r\n    return () => {\r\n      if (processedVideoUrl) {\r\n        URL.revokeObjectURL(processedVideoUrl);\r\n      }\r\n    };\r\n  }, [processedVideoUrl]);\r\n\r\n  const loadMyVideos = async () => {\r\n    try {\r\n      const response = await getAllVideos(1, 50, { userId: user?.id });\r\n      setMyVideos(response.data?.videos || []);\r\n    } catch (error) {\r\n      console.error('Error loading my videos:', error);\r\n    }\r\n  };\r\n\r\n  const handleSelectVideoFromList = (video) => {\r\n    setSelectedVideoFromList(video);\r\n    setVideoUrl(video.video_url);\r\n    setVideoTitle(video.video_title || '');\r\n    setVideoDescription(video.description || '');\r\n    setVideoFile(null);\r\n    resetEditingParameters();\r\n  };\r\n\r\n  const resetEditingParameters = () => {\r\n    setBrightness(0);\r\n    setContrast(1);\r\n    setSaturation(1);\r\n    setBlur(0);\r\n    setPlaybackSpeed(1);\r\n    setAudioVolume(1);\r\n    setAudioMuted(false);\r\n    setRotation(0);\r\n    setTrimStart(0);\r\n  };\r\n\r\n  const handleFileUpload = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file && file.type.startsWith('video/')) {\r\n      setVideoFile(file);\r\n      setVideoTitle(file.name.replace(/\\.[^/.]+$/, \"\"));\r\n      setVideoDescription(\"\");\r\n      setSelectedVideoFromList(null);\r\n      resetEditingParameters();\r\n    } else {\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Please select a valid video file\",\r\n        severity: \"error\"\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleVideoLoad = () => {\r\n    if (videoRef.current) {\r\n      setDuration(videoRef.current.duration);\r\n      setTrimEnd(videoRef.current.duration);\r\n    }\r\n  };\r\n\r\n  const handleTimeUpdate = () => {\r\n    if (videoRef.current) {\r\n      setCurrentTime(videoRef.current.currentTime);\r\n    }\r\n  };\r\n\r\n  const handlePlayPause = () => {\r\n    if (videoRef.current) {\r\n      if (isPlaying) {\r\n        videoRef.current.pause();\r\n      } else {\r\n        videoRef.current.play();\r\n      }\r\n      setIsPlaying(!isPlaying);\r\n    }\r\n  };\r\n\r\n  const handleSeek = (event, newValue) => {\r\n    if (videoRef.current) {\r\n      videoRef.current.currentTime = newValue;\r\n      setCurrentTime(newValue);\r\n    }\r\n  };\r\n\r\n  const handleVolumeChange = (event, newValue) => {\r\n    if (videoRef.current) {\r\n      const volumeValue = newValue / 100;\r\n      videoRef.current.volume = volumeValue;\r\n      setVolume(volumeValue);\r\n      setIsMuted(volumeValue === 0);\r\n    }\r\n  };\r\n\r\n  const handleMute = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.muted = !isMuted;\r\n      setIsMuted(!isMuted);\r\n    }\r\n  };\r\n\r\n  const handleTrimStartChange = (event, newValue) => {\r\n    setTrimStart(newValue);\r\n    if (videoRef.current) {\r\n      videoRef.current.currentTime = newValue;\r\n    }\r\n  };\r\n\r\n  const handleTrimEndChange = (event, newValue) => {\r\n    setTrimEnd(newValue);\r\n  };\r\n\r\n  const formatTime = (time) => {\r\n    const minutes = Math.floor(time / 60);\r\n    const seconds = Math.floor(time % 60);\r\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const handleProcessVideo = async () => {\r\n    if (!videoUrl) {\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Please select a video first\",\r\n        severity: \"error\"\r\n      });\r\n      return;\r\n    }\r\n\r\n    // If FFmpeg isn't available, use a simplified processing approach\r\n    if (!ffmpeg || !ffmpeg.isLoaded()) {\r\n      setProcessing(true);\r\n      try {\r\n        // Simulate processing for demo purposes\r\n        await new Promise(resolve => setTimeout(resolve, 2000));\r\n        \r\n        // For demo, just use the original video\r\n        setProcessedVideoUrl(videoUrl);\r\n        setPreviewDialog(true);\r\n        \r\n        setSnackbar({\r\n          open: true,\r\n          message: \"Video processed successfully! (Basic mode)\",\r\n          severity: \"success\"\r\n        });\r\n      } catch (error) {\r\n        console.error('Error processing video:', error);\r\n        setSnackbar({\r\n          open: true,\r\n          message: `Failed to process video: ${error.message || 'Unknown error'}`,\r\n          severity: \"error\"\r\n        });\r\n      } finally {\r\n        setProcessing(false);\r\n      }\r\n      return;\r\n    }\r\n\r\n    setProcessing(true);\r\n    setProcessingProgress(0);\r\n    \r\n    try {\r\n      const inputFileName = 'input.mp4';\r\n      const outputFileName = 'output.mp4';\r\n\r\n      // Load video file\r\n      if (videoFile) {\r\n        ffmpeg.FS('writeFile', inputFileName, await fetchFile(videoFile));\r\n      } else if (selectedVideoFromList) {\r\n        const response = await fetch(selectedVideoFromList.video_url);\r\n        const blob = await response.blob();\r\n        ffmpeg.FS('writeFile', inputFileName, await fetchFile(blob));\r\n      }\r\n\r\n      // Build FFmpeg command\r\n      let command = ['-i', inputFileName];\r\n      let videoFilters = [];\r\n      \r\n      // Trim\r\n      if (trimStart > 0 || trimEnd < duration) {\r\n        command.push('-ss', trimStart.toString());\r\n        command.push('-t', (trimEnd - trimStart).toString());\r\n      }\r\n      \r\n      // Visual filters\r\n      if (brightness !== 0 || contrast !== 1 || saturation !== 1) {\r\n        videoFilters.push(`eq=brightness=${brightness}:contrast=${contrast}:saturation=${saturation}`);\r\n      }\r\n      \r\n      if (blur > 0) {\r\n        videoFilters.push(`boxblur=${blur}`);\r\n      }\r\n      \r\n      // Rotation\r\n      if (rotation !== 0) {\r\n        const rotationMap = {\r\n          90: 'transpose=1',\r\n          180: 'transpose=2,transpose=2',\r\n          270: 'transpose=2'\r\n        };\r\n        if (rotationMap[rotation]) {\r\n          videoFilters.push(rotationMap[rotation]);\r\n        }\r\n      }\r\n      \r\n      // Speed\r\n      if (playbackSpeed !== 1) {\r\n        videoFilters.push(`setpts=${1/playbackSpeed}*PTS`);\r\n        command.push('-af', `atempo=${playbackSpeed}`);\r\n      }\r\n      \r\n      // Apply video filters\r\n      if (videoFilters.length > 0) {\r\n        command.push('-vf', videoFilters.join(','));\r\n      }\r\n      \r\n      // Audio volume\r\n      if (audioVolume !== 1 && !audioMuted) {\r\n        command.push('-af', `volume=${audioVolume}`);\r\n      }\r\n      \r\n      // Mute audio\r\n      if (audioMuted) {\r\n        command.push('-an');\r\n      }\r\n      \r\n      // Output settings\r\n      command.push('-c:v', 'libx264');\r\n      command.push('-preset', 'fast');\r\n      command.push('-crf', '23');\r\n      command.push(outputFileName);\r\n\r\n      await ffmpeg.run(...command);\r\n\r\n      const data = ffmpeg.FS('readFile', outputFileName);\r\n      const processedBlob = new Blob([data.buffer], { type: 'video/mp4' });\r\n      const processedUrl = URL.createObjectURL(processedBlob);\r\n      \r\n      // Clean up previous processed video URL if exists\r\n      if (processedVideoUrl) {\r\n        URL.revokeObjectURL(processedVideoUrl);\r\n      }\r\n      \r\n      setProcessedVideoUrl(processedUrl);\r\n      setPreviewDialog(true);\r\n\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Video processed successfully!\",\r\n        severity: \"success\"\r\n      });\r\n\r\n      // Clean up FFmpeg files\r\n      try {\r\n        ffmpeg.FS('unlink', inputFileName);\r\n        ffmpeg.FS('unlink', outputFileName);\r\n      } catch (e) {\r\n        // Ignore cleanup errors\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Error processing video:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: `Failed to process video: ${error.message || 'Unknown error'}`,\r\n        severity: \"error\"\r\n      });\r\n    } finally {\r\n      setProcessing(false);\r\n      setProcessingProgress(0);\r\n    }\r\n  };\r\n\r\n  const handleUploadProcessedVideo = async () => {\r\n    if (!processedVideoUrl) {\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"No processed video to upload.\",\r\n        severity: \"error\"\r\n      });\r\n      return;\r\n    }\r\n\r\n    setExporting(true);\r\n    try {\r\n      const response = await fetch(processedVideoUrl);\r\n      const blob = await response.blob();\r\n      const file = new File([blob], `${videoTitle || 'edited_video'}.mp4`, { type: 'video/mp4' });\r\n\r\n      const formData = new FormData();\r\n      formData.append('video', file);\r\n      formData.append('title', videoTitle);\r\n      formData.append('description', videoDescription);\r\n\r\n      await uploadVideo(formData);\r\n      \r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Video uploaded successfully!\",\r\n        severity: \"success\"\r\n      });\r\n      setPreviewDialog(false);\r\n      \r\n      // Clean up processed video URL\r\n      URL.revokeObjectURL(processedVideoUrl);\r\n      setProcessedVideoUrl(\"\");\r\n      \r\n      loadMyVideos();\r\n    } catch (error) {\r\n      console.error('Error uploading video:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: `Failed to upload video: ${error.message || 'Unknown error'}`,\r\n        severity: \"error\"\r\n      });\r\n    } finally {\r\n      setExporting(false);\r\n    }\r\n  };\r\n\r\n  const downloadProcessedVideo = () => {\r\n    if (processedVideoUrl) {\r\n      const link = document.createElement('a');\r\n      link.href = processedVideoUrl;\r\n      link.download = `${videoTitle || 'edited_video'}.mp4`;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n    }\r\n  };\r\n\r\n  const handleDeleteVideo = async (videoId) => {\r\n    try {\r\n      await deleteEditedVideo(videoId);\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Video deleted successfully\",\r\n        severity: \"success\"\r\n      });\r\n      loadMyVideos();\r\n    } catch (error) {\r\n      console.error('Error deleting video:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Failed to delete video\",\r\n        severity: \"error\"\r\n      });\r\n    }\r\n  };\r\n\r\n  const VideoEditor = () => (\r\n    <Grid container spacing={4}>\r\n      {/* Video Selection */}\r\n      <Grid item xs={12}>\r\n        <Card>\r\n          <CardContent>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Select Video\r\n            </Typography>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} md={6}>\r\n                <Typography variant=\"subtitle1\" gutterBottom>\r\n                  Upload New Video\r\n                </Typography>\r\n                <input\r\n                  ref={fileInputRef}\r\n                  type=\"file\"\r\n                  accept=\"video/*\"\r\n                  onChange={handleFileUpload}\r\n                  style={{ display: 'none' }}\r\n                />\r\n                <Button\r\n                  variant=\"contained\"\r\n                  startIcon={<CloudUpload />}\r\n                  onClick={() => fileInputRef.current?.click()}\r\n                  size=\"large\"\r\n                  disabled={loadingFFmpeg}\r\n                  fullWidth\r\n                >\r\n                  {loadingFFmpeg ? <CircularProgress size={20} /> : 'Choose Video File'}\r\n                </Button>\r\n                {videoFile && (\r\n                  <Typography variant=\"body2\" sx={{ mt: 1 }}>\r\n                    Selected: {videoFile.name}\r\n                  </Typography>\r\n                )}\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <Typography variant=\"subtitle1\" gutterBottom>\r\n                  Select From Your Videos\r\n                </Typography>\r\n                <FormControl fullWidth>\r\n                  <InputLabel>My Videos</InputLabel>\r\n                  <Select\r\n                    value={selectedVideoFromList?.id || ''}\r\n                    label=\"My Videos\"\r\n                    onChange={(e) => {\r\n                      const video = myVideos.find(v => v.id === e.target.value);\r\n                      if (video) handleSelectVideoFromList(video);\r\n                    }}\r\n                  >\r\n                    {myVideos.map((video) => (\r\n                      <MenuItem key={video.id} value={video.id}>\r\n                        {video.video_title}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n            </Grid>\r\n            {loadingFFmpeg && (\r\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\r\n                Loading video editor... Please wait.\r\n              </Typography>\r\n            )}\r\n            {!ffmpeg && !loadingFFmpeg && (\r\n              <Alert severity=\"warning\" sx={{ mt: 1 }}>\r\n                Advanced video processing is not available. Basic editing only.\r\n              </Alert>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n\r\n      {/* Video Player */}\r\n      {videoUrl && (\r\n        <Grid item xs={12} md={8}>\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Video Preview\r\n              </Typography>\r\n              <Box position=\"relative\" mb={2}>\r\n                <video\r\n                  ref={videoRef}\r\n                  src={videoUrl}\r\n                  style={{ width: '100%', maxHeight: '400px', borderRadius: '8px' }}\r\n                  onLoadedMetadata={handleVideoLoad}\r\n                  onTimeUpdate={handleTimeUpdate}\r\n                  onPlay={() => setIsPlaying(true)}\r\n                  onPause={() => setIsPlaying(false)}\r\n                />\r\n                <Box sx={{ display: 'flex', alignItems: 'center', mt: 1 }}>\r\n                  <IconButton onClick={handlePlayPause}>\r\n                    {isPlaying ? <Pause /> : <PlayArrow />}\r\n                  </IconButton>\r\n                  <IconButton onClick={handleMute}>\r\n                    {isMuted || volume === 0 ? <VolumeOff /> : <VolumeUp />}\r\n                  </IconButton>\r\n                  <Slider\r\n                    value={volume * 100}\r\n                    onChange={handleVolumeChange}\r\n                    sx={{ width: 100, mx: 2 }}\r\n                  />\r\n                  <Typography variant=\"body2\">\r\n                    {formatTime(currentTime)} / {formatTime(duration)}\r\n                  </Typography>\r\n                </Box>\r\n                <Slider\r\n                  value={currentTime}\r\n                  max={duration}\r\n                  onChange={handleSeek}\r\n                  sx={{ width: '100%' }}\r\n                />\r\n              </Box>\r\n\r\n              {/* Trim Controls */}\r\n              <Box mb={2}>\r\n                <Typography variant=\"subtitle2\" gutterBottom>\r\n                  Trim Video\r\n                </Typography>\r\n                <Box display=\"flex\" alignItems=\"center\" gap={2}>\r\n                  <Typography variant=\"body2\">Start:</Typography>\r\n                  <Box flexGrow={1}>\r\n                    <Slider\r\n                      value={trimStart}\r\n                      max={duration}\r\n                      onChange={handleTrimStartChange}\r\n                      valueLabelDisplay=\"auto\"\r\n                      valueLabelFormat={formatTime}\r\n                      step={0.1}\r\n                    />\r\n                  </Box>\r\n                  <Typography variant=\"body2\">{formatTime(trimStart)}</Typography>\r\n                </Box>\r\n                \r\n                <Box display=\"flex\" alignItems=\"center\" gap={2}>\r\n                  <Typography variant=\"body2\">End:</Typography>\r\n                  <Box flexGrow={1}>\r\n                    <Slider\r\n                      value={trimEnd}\r\n                      max={duration}\r\n                      onChange={handleTrimEndChange}\r\n                      valueLabelDisplay=\"auto\"\r\n                      valueLabelFormat={formatTime}\r\n                      step={0.1}\r\n                    />\r\n                  </Box>\r\n                  <Typography variant=\"body2\">{formatTime(trimEnd)}</Typography>\r\n                </Box>\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      )}\r\n\r\n      {/* Editing Controls */}\r\n      {videoUrl && (\r\n        <Grid item xs={12} md={4}>\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Video Details\r\n              </Typography>\r\n              \r\n              <TextField\r\n                fullWidth\r\n                label=\"Title\"\r\n                value={videoTitle}\r\n                onChange={(e) => setVideoTitle(e.target.value)}\r\n                sx={{ mb: 2 }}\r\n              />\r\n              \r\n              <TextField\r\n                fullWidth\r\n                multiline\r\n                rows={3}\r\n                label=\"Description\"\r\n                value={videoDescription}\r\n                onChange={(e) => setVideoDescription(e.target.value)}\r\n                sx={{ mb: 3 }}\r\n              />\r\n\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Video Filters\r\n              </Typography>\r\n              \r\n              <Box mb={2}>\r\n                <Typography variant=\"body2\" gutterBottom>\r\n                  Brightness: {brightness.toFixed(1)}\r\n                </Typography>\r\n                <Slider\r\n                  value={brightness}\r\n                  onChange={(e, newValue) => setBrightness(newValue)}\r\n                  min={-1}\r\n                  max={1}\r\n                  step={0.1}\r\n                  valueLabelDisplay=\"auto\"\r\n                />\r\n              </Box>\r\n              \r\n              <Box mb={2}>\r\n                <Typography variant=\"body2\" gutterBottom>\r\n                  Contrast: {contrast.toFixed(1)}\r\n                </Typography>\r\n                <Slider\r\n                  value={contrast}\r\n                  onChange={(e, newValue) => setContrast(newValue)}\r\n                  min={0}\r\n                  max={2}\r\n                  step={0.1}\r\n                  valueLabelDisplay=\"auto\"\r\n                />\r\n              </Box>\r\n              \r\n              <Box mb={3}>\r\n                <Typography variant=\"body2\" gutterBottom>\r\n                  Saturation: {saturation.toFixed(1)}\r\n                </Typography>\r\n                <Slider\r\n                  value={saturation}\r\n                  onChange={(e, newValue) => setSaturation(newValue)}\r\n                  min={0}\r\n                  max={2}\r\n                  step={0.1}\r\n                  valueLabelDisplay=\"auto\"\r\n                />\r\n              </Box>\r\n\r\n              <Stack spacing={2}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  onClick={handleProcessVideo}\r\n                  disabled={processing || loadingFFmpeg || !videoUrl}\r\n                  fullWidth\r\n                >\r\n                  {processing ? (\r\n                    <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                      <CircularProgress size={20} sx={{ mr: 1 }} />\r\n                      Processing ({processingProgress}%)\r\n                    </Box>\r\n                  ) : (\r\n                    'Process Video'\r\n                  )}\r\n                </Button>\r\n              </Stack>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      )}\r\n    </Grid>\r\n  );\r\n\r\n  const SavedVideos = () => (\r\n    <Box>\r\n      <Typography variant=\"h6\" mb={3}>\r\n        Your Edited Videos\r\n      </Typography>\r\n      \r\n      {myVideos.length === 0 ? (\r\n        <Card>\r\n          <CardContent sx={{ textAlign: 'center', py: 8 }}>\r\n            <VideoLibrary sx={{ fontSize: 64, color: 'text.secondary', mb: 2 }} />\r\n            <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\r\n              No edited videos yet\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              Start editing videos to see them here\r\n            </Typography>\r\n          </CardContent>\r\n        </Card>\r\n      ) : (\r\n        <Grid container spacing={3}>\r\n          {myVideos.map((video) => (\r\n            <Grid item xs={12} sm={6} md={4} key={video.id}>\r\n              <Card>\r\n                <CardContent>\r\n                  <Typography variant=\"h6\" gutterBottom noWrap>\r\n                    {video.video_title}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n                    {video.description}\r\n                  </Typography>\r\n                  <Box sx={{ position: 'relative', width: '100%', pt: '56.25%', mb: 2 }}>\r\n                    <video\r\n                      src={video.video_url}\r\n                      controls\r\n                      style={{ position: 'absolute', top: 0, left: 0, width: '100%', height: '100%', borderRadius: '8px' }}\r\n                    />\r\n                  </Box>\r\n                  <Stack direction=\"row\" spacing={1} justifyContent=\"flex-end\">\r\n                    <Button\r\n                      variant=\"outlined\"\r\n                      color=\"error\"\r\n                      startIcon={<Delete />}\r\n                      onClick={() => handleDeleteVideo(video.id)}\r\n                    >\r\n                      Delete\r\n                    </Button>\r\n                  </Stack>\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n      )}\r\n    </Box>\r\n  );\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\r\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom align=\"center\" color=\"primary\">\r\n        Video Editor\r\n      </Typography>\r\n      <Typography variant=\"body1\" sx={{ mb: 4, textAlign: 'center', color: 'text.secondary' }}>\r\n        Upload, edit, and enhance your videos with our easy-to-use editor\r\n      </Typography>\r\n      \r\n      <Paper elevation={3} sx={{ p: 3, mb: 4, borderRadius: 2 }}>\r\n        <Tabs \r\n          value={tabValue} \r\n          onChange={(e, newValue) => setTabValue(newValue)} \r\n          centered\r\n          sx={{ mb: 2 }}\r\n        >\r\n          <Tab label=\"Edit Video\" />\r\n          <Tab label=\"Saved Videos\" />\r\n        </Tabs>\r\n        <Divider sx={{ my: 2 }} />\r\n        {tabValue === 0 && <VideoEditor />}\r\n        {tabValue === 1 && <SavedVideos />}\r\n      </Paper>\r\n\r\n      {/* Preview Dialog */}\r\n      <Dialog\r\n        open={previewDialog}\r\n        onClose={() => setPreviewDialog(false)}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>Processed Video Preview</DialogTitle>\r\n        <DialogContent>\r\n          {processedVideoUrl && (\r\n            <video src={processedVideoUrl} controls style={{ width: '100%', borderRadius: '8px' }} />\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setPreviewDialog(false)}>Close</Button>\r\n          <Button onClick={downloadProcessedVideo}>\r\n            Download\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            startIcon={<Upload />}\r\n            onClick={handleUploadProcessedVideo}\r\n            disabled={exporting}\r\n          >\r\n            {exporting ? <CircularProgress size={20} /> : 'Upload to Server'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      <Snackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={6000}\r\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n      >\r\n        <Alert onClose={() => setSnackbar({ ...snackbar, open: false })} severity={snackbar.severity} sx={{ width: '100%' }}>\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Container>\r\n  );\r\n}",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\VideoFeed.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 46,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 56,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                43,
                55
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 46,
        "column": 48,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 46,
        "endColumn": 53,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                955,
                964
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "The 'allVideos' array makes the dependencies of useEffect Hook (at line 160) change on every render. To fix this, wrap the initialization of 'allVideos' in its own useMemo() Hook.",
        "line": 131,
        "column": 9,
        "nodeType": "VariableDeclarator",
        "endLine": 148,
        "endColumn": 4
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has missing dependencies: 'handleSwipeDown', 'handleSwipeUp', and 'togglePlay'. Either include them or remove the dependency array.",
        "line": 257,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 257,
        "endColumn": 36,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [currentVideoIndex, handleSwipeDown, handleSwipeUp, isPlaying, togglePlay]",
            "fix": {
              "range": [
                6302,
                6332
              ],
              "text": "[currentVideoIndex, handleSwipeDown, handleSwipeUp, isPlaying, togglePlay]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useRef, useEffect, useContext } from 'react';\r\nimport {\r\n  Box,\r\n  IconButton,\r\n  Typography,\r\n  Chip,\r\n  Stack,\r\n  Avatar,\r\n  CircularProgress,\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Button,\r\n} from '@mui/material';\r\nimport {\r\n  FavoriteBorder,\r\n  Favorite,\r\n  BookmarkBorder,\r\n  Bookmark,\r\n  Share,\r\n  MoreVert,\r\n  ArrowUpward,\r\n  ArrowDownward,\r\n  Close,\r\n  PlayArrow,\r\n} from '@mui/icons-material';\r\nimport { styled } from '@mui/system';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { useVideoContext } from '@/contexts/VideoContext';\r\n\r\n// Styled components with improved styles\r\nconst VideoContainer = styled('div')({\r\n  position: 'relative',\r\n  width: '100%',\r\n  height: '100vh',\r\n  overflow: 'hidden',\r\n  backgroundColor: '#000',\r\n});\r\n\r\nconst StyledVideo = styled('video')({\r\n  width: '100%',\r\n  height: '100%',\r\n  objectFit: 'cover',\r\n});\r\n\r\nconst UploadingVideoOverlay = styled('div')(({ theme }) => ({\r\n  position: 'absolute',\r\n  top: 0,\r\n  left: 0,\r\n  right: 0,\r\n  bottom: 0,\r\n  border: '4px solid transparent',\r\n  borderRadius: '8px',\r\n  background: 'linear-gradient(45deg, #ff0000, #ff8a00) border-box',\r\n  mask: 'linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0)',\r\n  maskComposite: 'exclude',\r\n  animation: 'pulse 2s infinite',\r\n  zIndex: 2,\r\n  '@keyframes pulse': {\r\n    '0%': { opacity: 0.7 },\r\n    '50%': { opacity: 0.3 },\r\n    '100%': { opacity: 0.7 },\r\n  },\r\n}));\r\n\r\nconst OverlayContent = styled('div')({\r\n  position: 'absolute',\r\n  bottom: 0,\r\n  left: 0,\r\n  right: 0,\r\n  padding: '16px',\r\n  background: 'linear-gradient(transparent, rgba(0,0,0,0.7))',\r\n  color: '#fff',\r\n  zIndex: 1,\r\n});\r\n\r\nconst RightActionBar = styled('div')({\r\n  position: 'absolute',\r\n  right: '16px',\r\n  bottom: '120px',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  alignItems: 'center',\r\n  gap: '16px',\r\n  zIndex: 2,\r\n});\r\n\r\nconst ActionButton = styled(IconButton)({\r\n  color: '#fff',\r\n  backgroundColor: 'rgba(0,0,0,0.3)',\r\n  '&:hover': {\r\n    backgroundColor: 'rgba(0,0,0,0.5)',\r\n  },\r\n});\r\n\r\nconst ConnectButton = styled(Button)({\r\n  position: 'absolute',\r\n  right: '16px',\r\n  bottom: '16px',\r\n  zIndex: 2,\r\n  backgroundColor: '#1976d2',\r\n  color: '#fff',\r\n  fontWeight: 'bold',\r\n  '&:hover': {\r\n    backgroundColor: '#1565c0',\r\n  },\r\n});\r\n\r\nconst CompanyDetailDialog = styled(Dialog)({\r\n  '& .MuiDialog-paper': {\r\n    borderRadius: '16px',\r\n    maxWidth: '600px',\r\n    width: '90%',\r\n    backgroundColor: '#1e1e1e',\r\n    color: '#fff',\r\n  },\r\n});\r\n\r\nconst VideoFeed = () => {\r\n  const { vid } = useParams();\r\n  const navigate = useNavigate();\r\n  const { videos } = useVideoContext();\r\n\r\n  const [currentVideoIndex, setCurrentVideoIndex] = useState(0);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n  const videoRef = useRef(null);\r\n\r\n  // Combine mock data with context videos\r\n  const allVideos = [\r\n    ...videos.filter(v => v.status === 'completed' && v.video_url),\r\n    {\r\n      id: '1',\r\n      companyName: 'Corporate Solutions Inc.',\r\n      videoUrl: 'https://res.cloudinary.com/djfvfxrsh/video/upload/v1747935032/Employer/grfwutcixeecejrsqu7o.mp4',\r\n      logoUrl: 'https://via.placeholder.com/48/5DADE2/FFFFFF?text=CSI',\r\n      description: 'Discover the vibrant culture and innovative projects at Corporate Solutions Inc. We are always looking for passionate individuals to join our growing team.',\r\n      industry: 'Consulting',\r\n      foundedYear: 2005,\r\n      employeeCount: '500-1000',\r\n      benefits: ['Health Insurance', '401k', 'Paid Time Off', 'Flexible Hours'],\r\n      tagline: 'Innovate. Grow. Succeed.',\r\n      liked: false,\r\n      saved: false,\r\n      status: 'completed'\r\n    }\r\n  ];\r\n\r\n  const currentVideo = allVideos[currentVideoIndex];\r\n\r\n  useEffect(() => {\r\n    // Set initial video index based on URL param\r\n    if (vid) {\r\n      const index = allVideos.findIndex(video => video.id === vid);\r\n      if (index >= 0) {\r\n        setCurrentVideoIndex(index);\r\n      }\r\n    }\r\n  }, [vid, allVideos]);\r\n\r\n  const tryPlayVideo = () => {\r\n    if (videoRef.current) {\r\n      const playPromise = videoRef.current.play();\r\n      if (playPromise !== undefined) {\r\n        playPromise.then(() => {\r\n          setIsPlaying(true);\r\n        }).catch(error => {\r\n          console.warn('Autoplay prevented:', error);\r\n          setIsPlaying(false);\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSwipeUp = () => {\r\n    if (currentVideoIndex < allVideos.length - 1) {\r\n      setCurrentVideoIndex(currentVideoIndex + 1);\r\n      setIsLoading(true);\r\n      setIsPlaying(false);\r\n    }\r\n  };\r\n\r\n  const handleSwipeDown = () => {\r\n    if (currentVideoIndex > 0) {\r\n      setCurrentVideoIndex(currentVideoIndex - 1);\r\n      setIsLoading(true);\r\n      setIsPlaying(false);\r\n    }\r\n  };\r\n\r\n  const togglePlay = () => {\r\n    if (videoRef.current) {\r\n      if (isPlaying) {\r\n        videoRef.current.pause();\r\n        setIsPlaying(false);\r\n      } else {\r\n        tryPlayVideo();\r\n      }\r\n    }\r\n  };\r\n\r\n  const toggleLike = () => {\r\n    // Implement like functionality\r\n  };\r\n\r\n  const toggleSave = () => {\r\n    // Implement save functionality\r\n  };\r\n\r\n  const handleVideoLoaded = () => {\r\n    setIsLoading(false);\r\n    tryPlayVideo();\r\n  };\r\n\r\n  const handleVideoError = (e) => {\r\n    console.error('Video loading failed:', e);\r\n    setIsLoading(false);\r\n    setIsPlaying(false);\r\n  };\r\n\r\n  const handleOpenDialog = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.pause();\r\n      setIsPlaying(false);\r\n    }\r\n    setOpenDialog(true);\r\n  };\r\n\r\n  const handleCloseDialog = () => {\r\n    if (videoRef.current) {\r\n      tryPlayVideo();\r\n    }\r\n    setOpenDialog(false);\r\n  };\r\n\r\n  const handleCloseFeed = () => {\r\n    navigate(-1);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      if (e.key === 'ArrowUp') {\r\n        handleSwipeUp();\r\n      } else if (e.key === 'ArrowDown') {\r\n        handleSwipeDown();\r\n      } else if (e.key === ' ') {\r\n        e.preventDefault();\r\n        togglePlay();\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [currentVideoIndex, isPlaying]);\r\n\r\n  useEffect(() => {\r\n    if (videoRef.current) {\r\n      setIsLoading(true);\r\n      videoRef.current.muted = false;\r\n      videoRef.current.load();\r\n    }\r\n  }, [currentVideoIndex, currentVideo?.videoUrl]);\r\n\r\n  if (!currentVideo) {\r\n    return (\r\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>\r\n        <Typography variant=\"h6\">No videos available</Typography>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ position: 'relative', height: '100vh', overflow: 'hidden', backgroundColor: '#000' }}>\r\n      <VideoContainer\r\n        onClick={togglePlay}\r\n        onTouchStart={(e) => {\r\n          const startY = e.touches[0].clientY;\r\n          const handleTouchEnd = (e) => {\r\n            const endY = e.changedTouches[0].clientY;\r\n            if (endY < startY - 50) {\r\n              handleSwipeUp();\r\n            } else if (endY > startY + 50) {\r\n              handleSwipeDown();\r\n            }\r\n            document.removeEventListener('touchend', handleTouchEnd);\r\n          };\r\n          document.addEventListener('touchend', handleTouchEnd);\r\n        }}\r\n      >\r\n        {isLoading && (\r\n          <Box\r\n            sx={{\r\n              position: 'absolute',\r\n              top: '50%',\r\n              left: '50%',\r\n              transform: 'translate(-50%, -50%)',\r\n              zIndex: 1,\r\n            }}\r\n          >\r\n            <CircularProgress color=\"primary\" />\r\n          </Box>\r\n        )}\r\n\r\n        {currentVideo.status === 'uploading' && <UploadingVideoOverlay />}\r\n\r\n        <StyledVideo\r\n          ref={videoRef}\r\n          src={currentVideo.videoUrl}\r\n          loop\r\n          playsInline\r\n          muted={false}\r\n          onLoadedData={handleVideoLoaded}\r\n          onError={handleVideoError}\r\n          crossOrigin=\"anonymous\"\r\n        />\r\n\r\n        {!isPlaying && !isLoading && (\r\n          <IconButton\r\n            sx={{\r\n              position: 'absolute',\r\n              top: '50%',\r\n              left: '50%',\r\n              transform: 'translate(-50%, -50%)',\r\n              color: '#fff',\r\n              backgroundColor: 'rgba(0,0,0,0.5)',\r\n              zIndex: 2,\r\n              width: '64px',\r\n              height: '64px',\r\n              '&:hover': {\r\n                backgroundColor: 'rgba(0,0,0,0.7)',\r\n              },\r\n            }}\r\n            onClick={togglePlay}\r\n          >\r\n            <PlayArrow fontSize=\"large\" />\r\n          </IconButton>\r\n        )}\r\n\r\n        <IconButton\r\n          sx={{\r\n            position: 'absolute',\r\n            top: '16px',\r\n            left: '16px',\r\n            color: '#fff',\r\n            backgroundColor: 'rgba(0,0,0,0.3)',\r\n            '&:hover': {\r\n              backgroundColor: 'rgba(0,0,0,0.5)',\r\n            },\r\n            zIndex: 3,\r\n          }}\r\n          onClick={handleCloseFeed}\r\n        >\r\n          <Close />\r\n        </IconButton>\r\n\r\n        <OverlayContent>\r\n          <Typography variant=\"h5\" fontWeight=\"bold\" sx={{ color: \"#fff\" }}>\r\n            {currentVideo.companyName || 'Company Name'}\r\n          </Typography>\r\n          <Typography variant=\"subtitle1\" sx={{ mb: 1, color: \"rgba(255, 255, 255, 0.7)\" }}>\r\n            {currentVideo.tagline || 'Company Tagline'}\r\n          </Typography>\r\n          <Stack direction=\"row\" spacing={1} sx={{ mb: 2 }}>\r\n            {currentVideo.industry && (\r\n              <Chip\r\n                label={currentVideo.industry}\r\n                size=\"small\"\r\n                sx={{\r\n                  backgroundColor: 'rgba(255,255,255,0.2)',\r\n                  color: '#fff',\r\n                  backdropFilter: 'blur(10px)',\r\n                }}\r\n              />\r\n            )}\r\n            {currentVideo.foundedYear && (\r\n              <Chip\r\n                label={`Founded: ${currentVideo.foundedYear}`}\r\n                size=\"small\"\r\n                sx={{\r\n                  backgroundColor: 'rgba(255,255,255,0.2)',\r\n                  color: '#fff',\r\n                  backdropFilter: 'blur(10px)',\r\n                }}\r\n              />\r\n            )}\r\n          </Stack>\r\n          <Typography variant=\"body2\" sx={{ mb: 2, color: \"rgba(255, 255, 255, 0.7)\" }}>\r\n            {currentVideo.description || 'Company description'}\r\n          </Typography>\r\n        </OverlayContent>\r\n\r\n        <RightActionBar>\r\n          <IconButton\r\n            sx={{\r\n              color: '#fff',\r\n              backgroundColor: 'rgba(0,0,0,0.3)',\r\n              '&:hover': {\r\n                backgroundColor: 'rgba(0,0,0,0.5)',\r\n              },\r\n            }}\r\n            onClick={handleSwipeUp}\r\n            disabled={currentVideoIndex >= allVideos.length - 1}\r\n          >\r\n            <ArrowUpward />\r\n          </IconButton>\r\n\r\n          <IconButton\r\n            sx={{\r\n              color: '#fff',\r\n              backgroundColor: 'rgba(0,0,0,0.3)',\r\n              '&:hover': {\r\n                backgroundColor: 'rgba(0,0,0,0.5)',\r\n              },\r\n            }}\r\n            onClick={handleSwipeDown}\r\n            disabled={currentVideoIndex <= 0}\r\n          >\r\n            <ArrowDownward />\r\n          </IconButton>\r\n\r\n          <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', mt: 2 }}>\r\n            <Avatar src={currentVideo.logoUrl} sx={{ width: 48, height: 48, mb: 1 }} />\r\n            <ActionButton onClick={toggleLike}>\r\n              {currentVideo.liked ? (\r\n                <Favorite sx={{ color: '#ff4081' }} />\r\n              ) : (\r\n                <FavoriteBorder />\r\n              )}\r\n            </ActionButton>\r\n          </Box>\r\n\r\n          <ActionButton onClick={toggleSave}>\r\n            {currentVideo.saved ? (\r\n              <Bookmark sx={{ color: '#ffc107' }} />\r\n            ) : (\r\n              <BookmarkBorder />\r\n            )}\r\n          </ActionButton>\r\n\r\n          <ActionButton>\r\n            <Share />\r\n          </ActionButton>\r\n\r\n          <ActionButton onClick={handleOpenDialog}>\r\n            <MoreVert />\r\n          </ActionButton>\r\n        </RightActionBar>\r\n\r\n        <ConnectButton\r\n          variant=\"contained\"\r\n          size=\"large\"\r\n          onClick={handleOpenDialog}\r\n        >\r\n          Connect\r\n        </ConnectButton>\r\n      </VideoContainer>\r\n\r\n      <CompanyDetailDialog open={openDialog} onClose={handleCloseDialog}>\r\n        <DialogTitle sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n          <Typography variant=\"h6\">Company Details</Typography>\r\n          <IconButton onClick={handleCloseDialog} sx={{ color: '#fff' }}>\r\n            <Close />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n            <Avatar src={currentVideo.logoUrl} sx={{ width: 64, height: 64, mr: 2 }} />\r\n            <Box>\r\n              <Typography variant=\"h5\" fontWeight=\"bold\">\r\n                {currentVideo.companyName}\r\n              </Typography>\r\n              <Typography variant=\"subtitle1\">{currentVideo.tagline}</Typography>\r\n            </Box>\r\n          </Box>\r\n\r\n          <Box sx={{ mb: 3 }}>\r\n            <Typography variant=\"body1\" paragraph sx={{ color: 'rgba(255, 255, 255, 0.8)' }}>\r\n              {currentVideo.description}\r\n            </Typography>\r\n          </Box>\r\n\r\n          <Stack direction=\"column\" spacing={1} sx={{ mb: 3 }}>\r\n            <Typography variant=\"subtitle2\" color=\"rgba(255, 255, 255, 0.6)\">\r\n              Industry\r\n            </Typography>\r\n            <Typography variant=\"body1\" sx={{ color: '#fff' }}>\r\n              {currentVideo.industry}\r\n            </Typography>\r\n\r\n            <Typography variant=\"subtitle2\" color=\"rgba(255, 255, 255, 0.6)\">\r\n              Founded\r\n            </Typography>\r\n            <Typography variant=\"body1\" sx={{ color: '#fff' }}>\r\n              {currentVideo.foundedYear}\r\n            </Typography>\r\n\r\n            <Typography variant=\"subtitle2\" color=\"rgba(255, 255, 255, 0.6)\">\r\n              Employees\r\n            </Typography>\r\n            <Typography variant=\"body1\" sx={{ color: '#fff' }}>\r\n              {currentVideo.employeeCount}\r\n            </Typography>\r\n\r\n            {currentVideo.benefits && currentVideo.benefits.length > 0 && (\r\n              <>\r\n                <Typography variant=\"subtitle2\" color=\"rgba(255, 255, 255, 0.6)\">\r\n                  Benefits\r\n                </Typography>\r\n                <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\r\n                  {currentVideo.benefits.map((benefit, index) => (\r\n                    <Chip \r\n                      key={index} \r\n                      label={benefit} \r\n                      color=\"primary\" \r\n                      variant=\"outlined\" \r\n                      sx={{ color: '#fff', borderColor: '#1976d2' }}\r\n                    />\r\n                  ))}\r\n                </Box>\r\n              </>\r\n            )}\r\n          </Stack>\r\n\r\n          <Box sx={{ display: 'flex', justifyContent: 'flex-end', gap: 2, mt: 3 }}>\r\n            <Button \r\n              variant=\"outlined\" \r\n              onClick={handleCloseDialog}\r\n              sx={{ color: '#fff', borderColor: '#fff' }}\r\n            >\r\n              Close\r\n            </Button>\r\n            <Button variant=\"contained\" color=\"primary\">\r\n              Visit Website\r\n            </Button>\r\n          </Box>\r\n        </DialogContent>\r\n      </CompanyDetailDialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default VideoFeed;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\VideoFeedViewer.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 29,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 29,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                574,
                609
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'mutedStates' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 163,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 163,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "mutedStates"
            },
            "fix": {
              "range": [
                4223,
                4234
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'mutedStates'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setMutedStates' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 163,
        "column": 23,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 163,
        "endColumn": 37,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setMutedStates"
            },
            "fix": {
              "range": [
                4234,
                4250
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setMutedStates'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'playingStates' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 164,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 164,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "playingStates"
            },
            "fix": {
              "range": [
                4391,
                4404
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'playingStates'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'role' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 170,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 170,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "role"
            },
            "fix": {
              "range": [
                4867,
                4872
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'role'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'user' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 170,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 170,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "user"
            },
            "fix": {
              "range": [
                4871,
                4877
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'user'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'loadNextPage'. Either include it or remove the dependency array.",
        "line": 247,
        "column": 5,
        "nodeType": "ArrayExpression",
        "endLine": 247,
        "endColumn": 27,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [loadingMore, hasMore, loadNextPage]",
            "fix": {
              "range": [
                7411,
                7433
              ],
              "text": "[loadingMore, hasMore, loadNextPage]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'index' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 365,
        "column": 27,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 365,
        "endColumn": 32,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "index"
            },
            "fix": {
              "range": [
                10659,
                10666
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'index'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 7,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿// src/components/VideoFeedViewer.jsx\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport {\r\n  IconButton,\r\n  Typography,\r\n  Box,\r\n  Avatar,\r\n  Button,\r\n  Stack,\r\n  Chip,\r\n  styled\r\n} from \"@mui/material\";\r\nimport {\r\n  VolumeUp,\r\n  VolumeOff,\r\n  Bookmark,\r\n  BookmarkBorder,\r\n  Share,\r\n  ArrowBack,\r\n  ArrowUpward,\r\n  ArrowDownward,\r\n  Favorite,\r\n  FavoriteBorder,\r\n  MoreVert\r\n} from \"@mui/icons-material\";\r\nimport api from \"@/services/api\";\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\nimport JobseekerProfileView from \"./JobseekerProfileView\";\r\nimport EmployerProfileView from \"./EmployerProfileView\";\r\nimport { Dialog, DialogContent } from \"@mui/material\";\r\nimport { Close } from \"@mui/icons-material\";\r\n\r\n// Styled components for consistent styling\r\nconst OverlayContent = styled(\"div\")({\r\n  position: \"absolute\",\r\n  bottom: 0,\r\n  left: 0,\r\n  right: 0,\r\n  padding: \"16px\",\r\n  background: \"linear-gradient(transparent, rgba(0,0,0,0.7))\",\r\n  color: \"#fff\",\r\n  zIndex: 1\r\n});\r\n\r\nconst RightActionBar = styled(\"div\")({\r\n  position: \"absolute\",\r\n  right: \"16px\",\r\n  bottom: \"120px\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  gap: \"16px\",\r\n  zIndex: 2\r\n});\r\n\r\nconst ActionButton = styled(IconButton)({\r\n  color: \"#fff\",\r\n  backgroundColor: \"rgba(0,0,0,0.3)\",\r\n  \"&:hover\": {\r\n    backgroundColor: \"rgba(0,0,0,0.5)\"\r\n  }\r\n});\r\n\r\nconst ConnectButton = styled(Button)({\r\n  position: \"absolute\",\r\n  right: \"16px\",\r\n  bottom: \"16px\",\r\n  zIndex: 2,\r\n  backgroundColor: \"#1976d2\",\r\n  color: \"#fff\",\r\n  fontWeight: \"bold\",\r\n  \"&:hover\": {\r\n    backgroundColor: \"#1565c0\"\r\n  }\r\n});\r\n\r\n// ProfileDialog component for displaying user profiles\r\nconst ProfileDialog = ({ open, onClose, role, userId }) => {\r\n  const navigate = useNavigate();\r\n  \r\n\r\n  // Handles navigation to the full profile page\r\n  const handleViewFullProfile = () => {\r\n    onClose(); // Close the dialog\r\n    if (role === \"employer\") {\r\n      navigate(`/employer-profile/${userId}`);\r\n    } else if (role === \"job_seeker\") {\r\n      navigate(`/jobseeker-profile/${userId}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={onClose}\r\n      fullWidth\r\n      maxWidth=\"md\"\r\n      PaperProps={{\r\n        style: {\r\n          height: \"90vh\",\r\n          borderRadius: \"12px\"\r\n        }\r\n      }}\r\n    >\r\n      <IconButton\r\n        onClick={onClose}\r\n        sx={{\r\n          position: \"absolute\",\r\n          right: 8,\r\n          top: 8,\r\n          zIndex: 1\r\n        }}\r\n      >\r\n        <Close />\r\n      </IconButton>\r\n      <DialogContent sx={{ p: 0 }}>\r\n        {/* Conditionally render Jobseeker or Employer profile view based on role */}\r\n        {role === \"employer\"\r\n          ? <EmployerProfileView userId={userId} isDialog />\r\n          : role === \"job_seeker\"\r\n            ? <JobseekerProfileView userId={userId} isDialog />\r\n            : null}\r\n      </DialogContent>\r\n      <Box sx={{ p: 2, textAlign: \"center\" }}>\r\n        <Button\r\n          variant=\"contained\"\r\n          onClick={handleViewFullProfile}\r\n          sx={{ mt: 2 ,p:1  ,width:180, height: 26, fontSize: 11, fontWeight: \"bold\" ,color: \"rgb(182, 211, 245)\", backgroundColor: \"#1976d2\", \"&:hover\": { backgroundColor: \"#1565c0\" }}}\r\n        >\r\n          View Full Page\r\n        </Button>\r\n      </Box>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\n// MoreOptionsDialog component for additional video options\r\nconst MoreOptionsDialog = ({ open, onClose }) => {\r\n  return (\r\n    <Dialog open={open} onClose={onClose}>\r\n      <DialogContent>\r\n        <Typography variant=\"h6\">More Options</Typography>\r\n        <Button onClick={onClose} sx={{ mt: 2 }}>\r\n          Close\r\n        </Button>\r\n        {/* Add more options here like \"Report\", \"Share\" etc. */}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nconst VideoFeedViewer = () => {\r\n  const { state } = useLocation();\r\n  const { currentVideo, allVideos = [], initialPage = 1 } = state || {};\r\n  const [currentVideoIndex, setCurrentVideoIndex] = useState(0);\r\n\r\n  const containerRef = useRef(null);\r\n  const videoRefs = useRef({});\r\n  const navigate = useNavigate();\r\n\r\n  const [mutedStates, setMutedStates] = useState({}); // State to manage mute status of individual videos (currently not used for individual mute but can be extended)\r\n  const [playingStates, setPlayingStates] = useState({}); // State to manage playing status of individual videos (currently not used for individual play/pause but can be extended)\r\n  const [videos, setVideos] = useState(allVideos);\r\n  const [page, setPage] = useState(initialPage);\r\n  const [loadingMore, setLoadingMore] = useState(false);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [isMuted, setIsMuted] = useState(true); // Global mute state for all videos\r\n  const { role, user } = useAuth();\r\n  const [profileDialogOpen, setProfileDialogOpen] = useState(false); // State for the ProfileDialog\r\n  const [moreOptionsDialogOpen, setMoreOptionsDialogOpen] = useState(false); // State for the MoreOptionsDialog\r\n  const [selectedProfile, setSelectedProfile] = useState({\r\n    role: \"\",\r\n    userId: \"\"\r\n  });\r\n\r\n  const VITE_API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:5000';\r\n\r\n\r\n  // Scroll to selected video on load\r\n  useEffect(\r\n    () => {\r\n      const index = videos.findIndex(v => v.id === currentVideo.id);\r\n      if (index !== -1 && containerRef.current) {\r\n        setCurrentVideoIndex(index);\r\n        setTimeout(() => {\r\n          containerRef.current.scrollTo({\r\n            top: index * window.innerHeight,\r\n            behavior: \"instant\" // Use \"instant\" for immediate scroll on initial load\r\n          });\r\n        }, 50);\r\n      }\r\n    },\r\n    [currentVideo, videos]\r\n  );\r\n\r\n  // Intersection Observer for video auto-play/pause\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      entries => {\r\n        entries.forEach(entry => {\r\n          const video = entry.target;\r\n          if (entry.isIntersecting) {\r\n            video.play().catch(() => {}); // Attempt to play, catch errors if playback is blocked\r\n          } else {\r\n            video.pause();\r\n            video.currentTime = 0; // Reset video to beginning when out of view\r\n          }\r\n        });\r\n      },\r\n      {\r\n        threshold: 0.6 // Video is considered \"intersecting\" when 60% of it is visible\r\n      }\r\n    );\r\n\r\n    // Observe all video elements\r\n    Object.values(videoRefs.current).forEach(video => {\r\n      if (video) observer.observe(video);\r\n    });\r\n\r\n    // Cleanup observer on component unmount\r\n    return () => {\r\n      observer.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  // Infinite scroll logic\r\n  useEffect(\r\n    () => {\r\n      const handleScroll = () => {\r\n        const { scrollTop, scrollHeight, clientHeight } = containerRef.current;\r\n        // Check if user is near the bottom of the scrollable area\r\n        if (\r\n          scrollTop + clientHeight >= scrollHeight - 50 &&\r\n          hasMore && // Only load more if there's more content available\r\n          !loadingMore // Prevent multiple simultaneous load requests\r\n        ) {\r\n          loadNextPage();\r\n        }\r\n      };\r\n\r\n      const el = containerRef.current;\r\n      el.addEventListener(\"scroll\", handleScroll);\r\n      return () => el.removeEventListener(\"scroll\", handleScroll);\r\n    },\r\n    [loadingMore, hasMore] // Dependencies for the effect\r\n  );\r\n\r\n  // Fetches the next page of videos\r\n  const loadNextPage = async () => {\r\n    setLoadingMore(true); // Set loading state to true\r\n    try {\r\n      const res = await api.get(`/videos/all/?page=${page + 1}&limit=10`);\r\n      \r\n      const newVideos = res.data.videos;\r\n      if (!newVideos || newVideos.length === 0) {\r\n        setHasMore(false); // No more videos to load\r\n      } else {\r\n        setVideos(prev => [...prev, ...newVideos]); // Append new videos to existing ones\r\n        setPage(prev => prev + 1); // Increment page number\r\n      }\r\n      console.log(\"Fetched more videos::::::::: \", videos);\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch more videos\", err);\r\n    } finally {\r\n      setLoadingMore(false); // Reset loading state\r\n    }\r\n  };\r\n\r\n  // Toggles global mute state\r\n  const toggleMute = () => {\r\n    setIsMuted(prev => !prev);\r\n  };\r\n\r\n  // Toggles play/pause for a specific video (currently not fully utilized with auto-play)\r\n  const togglePlay = id => {\r\n    const video = videoRefs.current[id];\r\n    if (video) {\r\n      if (video.paused) {\r\n        video.play();\r\n        setPlayingStates(prev => ({ ...prev, [id]: true }));\r\n      } else {\r\n        video.pause();\r\n        setPlayingStates(prev => ({ ...prev, [id]: false }));\r\n      }\r\n    }\r\n  };\r\n\r\n  // Scrolls to the next video\r\n  const handleSwipeUp = () => {\r\n    if (currentVideoIndex < videos.length - 1) {\r\n      const newIndex = currentVideoIndex + 1;\r\n      setCurrentVideoIndex(newIndex);\r\n      containerRef.current.scrollTo({\r\n        top: newIndex * window.innerHeight,\r\n        behavior: \"smooth\"\r\n      });\r\n    }\r\n  };\r\n\r\n  // Opens the profile dialog\r\n  const openProfileDialog = (role, userId) => {\r\n   \r\n    setSelectedProfile({ role, userId });\r\n    setProfileDialogOpen(true);\r\n  };\r\n\r\n  // Closes the profile dialog\r\n  const closeProfileDialog = () => {\r\n    setProfileDialogOpen(false);\r\n  };\r\n\r\n  // Scrolls to the previous video\r\n  const handleSwipeDown = () => {\r\n    if (currentVideoIndex > 0) {\r\n      const newIndex = currentVideoIndex - 1;\r\n      setCurrentVideoIndex(newIndex);\r\n      containerRef.current.scrollTo({\r\n        top: newIndex * window.innerHeight,\r\n        behavior: \"smooth\"\r\n      });\r\n    }\r\n  };\r\n\r\n  // Opens the current user's profile if authenticated\r\n  const openProfile = (video) => {\r\n    if (video.user?.role === \"employer\" || video.user?.role === \"job_seeker\") {\r\n     \r\n      \r\n      openProfileDialog(video.user?.role, video.user?.id);\r\n    }\r\n  };\r\n\r\n  const toggleLike = () => {\r\n    // Implement like functionality\r\n  };\r\n\r\n  const toggleSave = () => {\r\n    // Implement save functionality\r\n  };\r\n\r\n  // Opens the more options dialog\r\n  const handleOpenDialog = () => {\r\n    setMoreOptionsDialogOpen(true);\r\n  };\r\n\r\n  // Closes the more options dialog\r\n  const handleCloseDialog = () => {\r\n    setMoreOptionsDialogOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      ref={containerRef}\r\n      sx={{\r\n        height: \"100vh\",\r\n        overflowY: \"scroll\",\r\n        scrollSnapType: \"y mandatory\",\r\n        scrollBehavior: \"smooth\",\r\n        mt: \"0px\",\r\n        backgroundColor: \"black\"\r\n      }}\r\n    >\r\n      {videos.map((video, index) =>\r\n        <Box\r\n          key={video.id}\r\n          sx={{\r\n            height: \"100vh\",\r\n            scrollSnapAlign: \"start\",\r\n            position: \"relative\",\r\n            backgroundColor: \"black\"\r\n          }}\r\n        >\r\n          <video\r\n            ref={el => (videoRefs.current[video.id] = el)}\r\n            src={video.videoUrl}\r\n            style={{\r\n              width: \"100%\",\r\n              height: \"100%\",\r\n              objectFit: \"cover\",\r\n              cursor: \"pointer\"\r\n            }}\r\n            muted={isMuted}\r\n            loop\r\n            playsInline\r\n            autoPlay\r\n            onClick={() => togglePlay(video.id)}\r\n          />\r\n\r\n          {/* Title and info */}\r\n          <Box\r\n            sx={{\r\n              position: \"absolute\",\r\n              bottom: \"80px\",\r\n              left: \"20px\",\r\n              color: \"white\",\r\n              zIndex: 10\r\n            }}\r\n          >\r\n            <Typography variant=\"h5\" fontWeight=\"bold\" sx={{ color: \"#fff\" }}>\r\n              {video.video_title || \"Untitled\"}\r\n            </Typography>\r\n            <Typography variant=\"body2\" sx={{ color: \"#fff\" }}>\r\n              {video.video_type}\r\n            </Typography>\r\n          </Box>\r\n\r\n          {/* Mute/Unmute icon */}\r\n          <IconButton\r\n            onClick={toggleMute}\r\n            sx={{\r\n              position: \"absolute\",\r\n              top: \"20px\",\r\n              right: \"20px\",\r\n              backgroundColor: \"rgba(0,0,0,0.5)\",\r\n              color: \"white\",\r\n              zIndex: 100\r\n            }}\r\n          >\r\n            {isMuted ? <VolumeOff /> : <VolumeUp />}\r\n          </IconButton>\r\n\r\n          {/* Back button */}\r\n          <IconButton\r\n            onClick={() => navigate(-1)}\r\n            sx={{\r\n              position: \"absolute\",\r\n              top: \"20px\",\r\n              left: \"20px\",\r\n              backgroundColor: \"rgba(0,0,0,0.5)\",\r\n              color: \"white\",\r\n              zIndex: 100\r\n            }}\r\n          >\r\n            <ArrowBack />\r\n          </IconButton>\r\n\r\n          {/* Overlay Content (Bottom Left) */}\r\n          <OverlayContent>\r\n            <Stack direction=\"row\" spacing={1} sx={{ mb: 2 }}>\r\n              {(video.tags || []).map((tag, index) =>\r\n                <Chip\r\n                  key={index}\r\n                  label={tag}\r\n                  size=\"small\"\r\n                  sx={{\r\n                    backgroundColor: \"rgba(255,255,255,0.2)\",\r\n                    color: \"#fff\",\r\n                    backdropFilter: \"blur(10px)\"\r\n                  }}\r\n                />\r\n              )}\r\n            </Stack>\r\n          </OverlayContent>\r\n\r\n          {/* Right Action Bar */}\r\n          <RightActionBar>\r\n            <IconButton\r\n              sx={{\r\n                color: \"#fff\",\r\n                backgroundColor: \"rgba(0,0,0,0.3)\",\r\n                \"&:hover\": {\r\n                  backgroundColor: \"rgba(0,0,0,0.5)\"\r\n                }\r\n              }}\r\n              onClick={handleSwipeUp}\r\n              disabled={currentVideoIndex >= videos.length - 1}\r\n            >\r\n              <ArrowUpward />\r\n            </IconButton>\r\n\r\n            <IconButton\r\n              sx={{\r\n                color: \"#fff\",\r\n                backgroundColor: \"rgba(0,0,0,0.3)\",\r\n                \"&:hover\": {\r\n                  backgroundColor: \"rgba(0,0,0,0.5)\"\r\n                }\r\n              }}\r\n              onClick={handleSwipeDown}\r\n              disabled={currentVideoIndex <= 0}\r\n            >\r\n              <ArrowDownward />\r\n            </IconButton>\r\n\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                alignItems: \"center\",\r\n                mt: 2\r\n              }}\r\n            >\r\n              <Avatar\r\n                onClick={()=>openProfile(video)}\r\n                src={VITE_API_BASE_URL+video.user?.photoUrl}\r\n                sx={{ width: 48, cursor: \"pointer\", height: 48, mb: 1 }}\r\n              />\r\n              <ActionButton onClick={toggleLike}>\r\n                {video.liked\r\n                  ? <Favorite sx={{ color: \"#ff4081\" }} />\r\n                  : <FavoriteBorder />}\r\n              </ActionButton>\r\n            </Box>\r\n\r\n            <ActionButton onClick={toggleSave}>\r\n              {video.saved\r\n                ? <Bookmark sx={{ color: \"#ffc107\" }} />\r\n                : <BookmarkBorder />}\r\n            </ActionButton>\r\n\r\n            <ActionButton>\r\n              <Share />\r\n            </ActionButton>\r\n\r\n            <ActionButton onClick={handleOpenDialog}>\r\n              <MoreVert />\r\n            </ActionButton>\r\n          </RightActionBar>\r\n\r\n          <ConnectButton\r\n            variant=\"contained\"\r\n            size=\"large\"\r\n            onClick={handleOpenDialog}\r\n          >\r\n            Connect\r\n          </ConnectButton>\r\n        </Box>\r\n      )}\r\n\r\n      {/* Profile Dialog */}\r\n      <ProfileDialog\r\n        open={profileDialogOpen}\r\n        onClose={closeProfileDialog}\r\n        role={selectedProfile.role}\r\n        userId={selectedProfile.userId}\r\n      />\r\n\r\n      {/* More Options Dialog */}\r\n      <MoreOptionsDialog\r\n        open={moreOptionsDialogOpen}\r\n        onClose={handleCloseDialog}\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default VideoFeedViewer;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\VideoGridPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 62,
        "column": 46,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 62,
        "endColumn": 51,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                1300,
                1309
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 98,
        "column": 36,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 98,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                2159,
                2168
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'location' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 126,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 126,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "location"
            },
            "fix": {
              "range": [
                2763,
                2794
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'location'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useMemo has a missing dependency: 'loadVideos'. Either include it or remove the dependency array.",
        "line": 214,
        "column": 5,
        "nodeType": "ArrayExpression",
        "endLine": 214,
        "endColumn": 22,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [loadVideos, setSearchParams]",
            "fix": {
              "range": [
                6824,
                6841
              ],
              "text": "[loadVideos, setSearchParams]"
            }
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'loadVideos'. Either include it or remove the dependency array.",
        "line": 260,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 260,
        "endColumn": 53,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [loadVideos, selectedCategory, selectedSubcategory, sortBy]",
            "fix": {
              "range": [
                7957,
                8004
              ],
              "text": "[loadVideos, selectedCategory, selectedSubcategory, sortBy]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState, useEffect, useCallback, useMemo  } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  Tabs,\r\n  Tab,\r\n  Chip,\r\n  IconButton,\r\n  Button,\r\n  Card,\r\n  CardMedia,\r\n  CardContent,\r\n  Avatar,\r\n  Grid,\r\n  Drawer,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Divider,\r\n  TextField,\r\n  InputAdornment,\r\n  Menu,\r\n  MenuItem,\r\n  useTheme,\r\n  useMediaQuery,\r\n  Skeleton,\r\n  Fade,\r\n  Zoom,\r\n} from '@mui/material';\r\nimport {\r\n  Search,\r\n  FilterList,\r\n  Sort,\r\n  PlayArrow,\r\n  Favorite,\r\n  FavoriteBorder,\r\n  Bookmark,\r\n  BookmarkBorder,\r\n  Share,\r\n  MoreVert,\r\n  Work,\r\n  People,\r\n  Business,\r\n  Star,\r\n  TrendingUp,\r\n  AccessTime,\r\n  Visibility,\r\n  Close,\r\n  Menu as MenuIcon,\r\n} from '@mui/icons-material';\r\nimport { useNavigate, useLocation, useSearchParams } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport localize from '../utils/localize';\r\nimport { styled } from '@mui/material/styles';\r\nimport PerformanceOptimizedVideoGrid from '../components/PerformanceOptimizedVideoGrid';\r\nimport { useInfiniteScroll } from '../hooks/useIntersectionObserver';\r\nimport { createDebouncedFunction } from '../utils/performanceOptimizations';\r\nimport api from '@/services/api';\r\n\r\nconst StyledContainer = styled(Container)(({ theme }) => ({\r\n  maxWidth: '100% !important',\r\n  padding: 0,\r\n  height: '100vh',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  overflow: 'hidden',\r\n}));\r\n\r\nconst CategoryTabs = styled(Tabs)(({ theme }) => ({\r\n  borderBottom: `1px solid ${theme.palette.divider}`,\r\n  minHeight: 64,\r\n  '& .MuiTab-root': {\r\n    minHeight: 64,\r\n    textTransform: 'none',\r\n    fontSize: '1rem',\r\n    fontWeight: 600,\r\n    '&.Mui-selected': {\r\n      color: theme.palette.primary.main,\r\n    },\r\n  },\r\n}));\r\n\r\nconst SidebarDrawer = styled(Drawer)(({ theme }) => ({\r\n  '& .MuiDrawer-paper': {\r\n    width: 280,\r\n    backgroundColor: theme.palette.background.paper,\r\n    borderRight: `1px solid ${theme.palette.divider}`,\r\n    height: '100vh',\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    zIndex: theme.zIndex.drawer,\r\n  },\r\n}));\r\n\r\nconst ContentArea = styled(Box)(({ theme }) => ({\r\n  flex: 1,\r\n  display: 'flex',\r\n  overflow: 'hidden',\r\n  marginLeft: 0,\r\n  transition: 'margin-left 0.3s ease',\r\n  '&.with-sidebar': {\r\n    marginLeft: 280,\r\n  },\r\n}));\r\n\r\nconst VideoCard = styled(Card)(({ theme }) => ({\r\n  cursor: 'pointer',\r\n  borderRadius: 16,\r\n  overflow: 'hidden',\r\n  transition: 'all 0.3s ease',\r\n  '&:hover': {\r\n    transform: 'translateY(-4px)',\r\n    boxShadow: theme.shadows[8],\r\n  },\r\n}));\r\n\r\n\r\n\r\nconst VideoGridPage = () => {\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const { t } = useTranslation();\r\n\r\n  const categories = [\r\n  { id: 'all', label: t('videos.categories.all'), icon: <Visibility /> },\r\n  { id: 'jobseekers', label: t('videos.categories.jobSeekers'), icon: <People /> },\r\n  { id: 'employers', label: t('videos.categories.employers'), icon: <Business /> },\r\n  { id: 'trending', label: t('videos.categories.trending'), icon: <TrendingUp /> },\r\n  { id: 'recent', label: t('videos.categories.recent'), icon: <AccessTime /> },\r\n  { id: 'featured', label: t('videos.categories.featured'), icon: <Star /> },\r\n];\r\n\r\nconst subcategories = {\r\n  all: [\r\n    { id: 'all', label: t('videos.subcategories.all') },\r\n    { id: 'popular', label: t('videos.subcategories.mostPopular') },\r\n    { id: 'newest', label: t('videos.subcategories.newest') },\r\n    { id: 'most-liked', label: t('videos.subcategories.mostLiked') },\r\n  ],\r\n  jobseekers: [\r\n    { id: 'all', label: t('videos.subcategories.allJobSeekers') },\r\n    { id: 'tech', label: t('videos.subcategories.tech') },\r\n    { id: 'marketing', label: t('videos.subcategories.marketing') },\r\n    { id: 'design', label: t('videos.subcategories.design') },\r\n    { id: 'sales', label: t('videos.subcategories.sales') },\r\n    { id: 'finance', label: t('videos.subcategories.finance') },\r\n    { id: 'healthcare', label: t('videos.subcategories.healthcare') },\r\n    { id: 'education', label: t('videos.subcategories.education') },\r\n  ],\r\n  employers: [\r\n    { id: 'all', label: t('videos.subcategories.allCompanies') },\r\n    { id: 'startup', label: t('videos.subcategories.startups') },\r\n    { id: 'corporate', label: t('videos.subcategories.corporations') },\r\n    { id: 'remote', label: t('videos.subcategories.remoteFirst') },\r\n    { id: 'local', label: t('videos.subcategories.localCompanies') },\r\n  ],\r\n  trending: [\r\n    { id: 'today', label: t('videos.subcategories.today') },\r\n    { id: 'week', label: t('videos.subcategories.thisWeek') },\r\n    { id: 'month', label: t('videos.subcategories.thisMonth') },\r\n  ],\r\n  recent: [\r\n    { id: 'today', label: t('videos.subcategories.today') },\r\n    { id: 'yesterday', label: t('videos.subcategories.yesterday') },\r\n    { id: 'week', label: t('videos.subcategories.thisWeek') },\r\n  ],\r\n  featured: [\r\n    { id: 'editor-picks', label: t('videos.subcategories.editorPicks') },\r\n    { id: 'success-stories', label: t('videos.subcategories.successStories') },\r\n    { id: 'company-spotlights', label: t('videos.subcategories.companySpotlights') },\r\n  ],\r\n};\r\n\r\nconst sortOptions = [\r\n  { id: 'newest', label: t('videos.sortOptions.newestFirst') },\r\n  { id: 'oldest', label: t('videos.sortOptions.oldestFirst') },\r\n  { id: 'most-viewed', label: t('videos.sortOptions.mostViewed') },\r\n  { id: 'most-liked', label: t('videos.sortOptions.mostLiked') },\r\n  { id: 'trending', label: t('videos.sortOptions.trending') },\r\n];\r\n\r\n  // State management\r\n  const [sidebarOpen, setSidebarOpen] = useState(!isMobile);\r\n  const [selectedCategory, setSelectedCategory] = useState(searchParams.get('category') || 'all');\r\n  const [selectedSubcategory, setSelectedSubcategory] = useState(searchParams.get('subcategory') || 'all');\r\n  const [searchQuery, setSearchQuery] = useState(searchParams.get('search') || '');\r\n  const [sortBy, setSortBy] = useState(searchParams.get('sort') || 'newest');\r\n  const [videos, setVideos] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [page, setPage] = useState(1);\r\n  const [sortMenuAnchor, setSortMenuAnchor] = useState(null);\r\n\r\n  // Debounced search function\r\n  const debouncedSearch = useMemo(\r\n    () => createDebouncedFunction((query) => {\r\n      setSearchParams(prev => {\r\n        const newParams = new URLSearchParams(prev);\r\n        if (query) {\r\n          newParams.set('search', query);\r\n        } else {\r\n          newParams.delete('search');\r\n        }\r\n        return newParams;\r\n      });\r\n      loadVideos(true);\r\n    }, 500),\r\n    [setSearchParams]\r\n  );\r\n\r\n  // Load videos function\r\n  const loadVideos = useCallback(async (reset = false) => {\r\n    if (loading) return;\r\n    \r\n    setLoading(true);\r\n    try {\r\n      const params = {\r\n        category: selectedCategory,\r\n        subcategory: selectedSubcategory,\r\n        search: searchQuery,\r\n        sort: sortBy,\r\n        page: reset ? 1 : page,\r\n        limit: 20,\r\n      };\r\n\r\n      const response = await api.searchVideos(params);\r\n      \r\n      if (reset) {\r\n        setVideos(response.data.videos);\r\n        setPage(2);\r\n      } else {\r\n        setVideos(prev => [...prev, ...response.data.videos]);\r\n        setPage(prev => prev + 1);\r\n      }\r\n      \r\n      setHasMore(response.data.hasMore);\r\n    } catch (error) {\r\n      console.error('Failed to load videos:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [selectedCategory, selectedSubcategory, searchQuery, sortBy, page, loading]);\r\n\r\n  // Infinite scroll\r\n  const [loadMoreRef] = useInfiniteScroll(\r\n    () => loadVideos(false),\r\n    hasMore,\r\n    loading\r\n  );\r\n\r\n  // Effects\r\n  useEffect(() => {\r\n    loadVideos(true);\r\n  }, [selectedCategory, selectedSubcategory, sortBy]);\r\n\r\n  useEffect(() => {\r\n    debouncedSearch(searchQuery);\r\n  }, [searchQuery, debouncedSearch]);\r\n\r\n  // Event handlers\r\n  const handleCategoryChange = (event, newValue) => {\r\n    setSelectedCategory(newValue);\r\n    setSelectedSubcategory('all');\r\n    setSearchParams(prev => {\r\n      const newParams = new URLSearchParams(prev);\r\n      newParams.set('category', newValue);\r\n      newParams.set('subcategory', 'all');\r\n      return newParams;\r\n    });\r\n  };\r\n\r\n  const handleSubcategoryChange = (subcategoryId) => {\r\n    setSelectedSubcategory(subcategoryId);\r\n    setSearchParams(prev => {\r\n      const newParams = new URLSearchParams(prev);\r\n      newParams.set('subcategory', subcategoryId);\r\n      return newParams;\r\n    });\r\n  };\r\n\r\n  const handleVideoPlay = (video) => {\r\n    // Navigate to VideoPlayerPage with context\r\n    navigate('/video-player', {\r\n      state: {\r\n        videoId: video.id,\r\n        context: {\r\n          category: selectedCategory,\r\n          subcategory: selectedSubcategory,\r\n          search: searchQuery,\r\n          sort: sortBy,\r\n        },\r\n        videos: videos,\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleVideoLike = async (videoId, isLiked) => {\r\n    try {\r\n      if (isLiked) {\r\n        await api.likeVideo(videoId);\r\n      } else {\r\n        await api.unlikeVideo(videoId);\r\n      }\r\n      \r\n      setVideos(prev => prev.map(video => \r\n        video.id === videoId \r\n          ? { ...video, isLiked, likesCount: video.likesCount + (isLiked ? 1 : -1) }\r\n          : video\r\n      ));\r\n    } catch (error) {\r\n      console.error('Failed to update like:', error);\r\n    }\r\n  };\r\n\r\n  const handleVideoSave = async (videoId, isSaved) => {\r\n    try {\r\n      if (isSaved) {\r\n        await api.saveVideo(videoId);\r\n      } else {\r\n        await api.unsaveVideo(videoId);\r\n      }\r\n      \r\n      setVideos(prev => prev.map(video => \r\n        video.id === videoId \r\n          ? { ...video, isSaved }\r\n          : video\r\n      ));\r\n    } catch (error) {\r\n      console.error('Failed to update save:', error);\r\n    }\r\n  };\r\n\r\n  const handleVideoShare = (video) => {\r\n    if (navigator.share) {\r\n      navigator.share({\r\n        title: video.title,\r\n        text: `Check out this video on SwipeScout: ${video.title}`,\r\n        url: `${window.location.origin}/videos/${video.id}`,\r\n      });\r\n    } else {\r\n      // Fallback to clipboard\r\n      navigator.clipboard.writeText(`${window.location.origin}/videos/${video.id}`);\r\n      // Show toast notification\r\n    }\r\n  };\r\n\r\n  const handleSortChange = (sortOption) => {\r\n    setSortBy(sortOption);\r\n    setSearchParams(prev => {\r\n      const newParams = new URLSearchParams(prev);\r\n      newParams.set('sort', sortOption);\r\n      return newParams;\r\n    });\r\n    setSortMenuAnchor(null);\r\n  };\r\n\r\n  const toggleSidebar = () => {\r\n    setSidebarOpen(!sidebarOpen);\r\n  };\r\n\r\n  return (\r\n    <StyledContainer>\r\n      {/* Header */}\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-between',\r\n          p: 2,\r\n          borderBottom: 1,\r\n          borderColor: 'divider',\r\n          bgcolor: 'background.paper',\r\n          zIndex: 1,\r\n        }}\r\n      >\r\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n          <IconButton onClick={toggleSidebar}>\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h5\" fontWeight=\"bold\">\r\n            {t('videos.explore')}\r\n          </Typography>\r\n        </Box>\r\n\r\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n          {/* Search */}\r\n          <TextField\r\n            size=\"small\"\r\n            placeholder={t('videos.searchPlaceholder')}\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <Search />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n            sx={{ minWidth: 200 }}\r\n          />\r\n\r\n          {/* Sort */}\r\n          <Button\r\n            variant=\"outlined\"\r\n            startIcon={<Sort />}\r\n            onClick={(e) => setSortMenuAnchor(e.currentTarget)}\r\n          >\r\n            {sortOptions.find(opt => opt.id === sortBy)?.label}\r\n          </Button>\r\n          \r\n          <Menu\r\n            anchorEl={sortMenuAnchor}\r\n            open={Boolean(sortMenuAnchor)}\r\n            onClose={() => setSortMenuAnchor(null)}\r\n          >\r\n            {sortOptions.map((option) => (\r\n              <MenuItem\r\n                key={option.id}\r\n                selected={sortBy === option.id}\r\n                onClick={() => handleSortChange(option.id)}\r\n              >\r\n                {option.label}\r\n              </MenuItem>\r\n            ))}\r\n          </Menu>\r\n        </Box>\r\n      </Box>\r\n\r\n      <Box sx={{ display: 'flex', flex: 1, overflow: 'hidden' }}>\r\n        {/* Sidebar */}\r\n        <SidebarDrawer\r\n          variant={isMobile ? 'temporary' : 'persistent'}\r\n          open={sidebarOpen}\r\n          onClose={() => setSidebarOpen(false)}\r\n        >\r\n          <Box sx={{ p: 2 }}>\r\n            <Typography variant=\"h6\" fontWeight=\"bold\" gutterBottom>\r\n              {t('videos.categories')}\r\n            </Typography>\r\n            \r\n            <List>\r\n              {categories.map((category) => (\r\n                <ListItem\r\n                  key={category.id}\r\n                  button\r\n                  selected={selectedCategory === category.id}\r\n                  onClick={() => handleCategoryChange(null, category.id)}\r\n                  sx={{\r\n                    borderRadius: 2,\r\n                    mb: 0.5,\r\n                    '&.Mui-selected': {\r\n                      bgcolor: 'primary.light',\r\n                      color: 'primary.contrastText',\r\n                    },\r\n                  }}\r\n                >\r\n                  <ListItemIcon sx={{ color: 'inherit' }}>\r\n                    {category.icon}\r\n                  </ListItemIcon>\r\n                  <ListItemText primary={localize(category.label)} />\r\n                </ListItem>\r\n              ))}\r\n            </List>\r\n\r\n            {/* Subcategories */}\r\n            {subcategories[selectedCategory] && (\r\n              <>\r\n                <Divider sx={{ my: 2 }} />\r\n                <Typography variant=\"subtitle2\" fontWeight=\"bold\" gutterBottom>\r\n                  {t('videos.subcategories')}\r\n                </Typography>\r\n                \r\n                <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\r\n                  {subcategories[selectedCategory].map((sub) => (\r\n                    <Chip\r\n                      key={sub.id}\r\n                      label={localize(sub.label)}\r\n                      variant={selectedSubcategory === sub.id ? 'filled' : 'outlined'}\r\n                      color={selectedSubcategory === sub.id ? 'primary' : 'default'}\r\n                      onClick={() => handleSubcategoryChange(sub.id)}\r\n                      size=\"small\"\r\n                    />\r\n                  ))}\r\n                </Box>\r\n              </>\r\n            )}\r\n          </Box>\r\n        </SidebarDrawer>\r\n\r\n        {/* Main Content */}\r\n        <ContentArea className={sidebarOpen && !isMobile ? 'with-sidebar' : ''}>\r\n          <Box sx={{ flex: 1, overflow: 'auto', p: 2 }}>\r\n            {/* Category Tabs (Mobile) */}\r\n            {isMobile && (\r\n              <CategoryTabs\r\n                value={selectedCategory}\r\n                onChange={handleCategoryChange}\r\n                variant=\"scrollable\"\r\n                scrollButtons=\"auto\"\r\n                sx={{ mb: 2 }}\r\n              >\r\n                {categories.map((category) => (\r\n                  <Tab\r\n                    key={category.id}\r\n                    value={category.id}\r\n                    label={localize(category.label)}\r\n                    icon={category.icon}\r\n                    iconPosition=\"start\"\r\n                  />\r\n                ))}\r\n              </CategoryTabs>\r\n            )}\r\n\r\n            {/* Video Grid */}\r\n            <PerformanceOptimizedVideoGrid\r\n              videos={videos}\r\n              onVideoPlay={handleVideoPlay}\r\n              onVideoLike={handleVideoLike}\r\n              onVideoSave={handleVideoSave}\r\n              onVideoShare={handleVideoShare}\r\n              loading={loading && videos.length === 0}\r\n              containerWidth={window.innerWidth - (sidebarOpen && !isMobile ? 280 : 0) - 32}\r\n              containerHeight={window.innerHeight - 200}\r\n            />\r\n\r\n            {/* Load More Trigger */}\r\n            {hasMore && (\r\n              <Box\r\n                ref={loadMoreRef}\r\n                sx={{\r\n                  display: 'flex',\r\n                  justifyContent: 'center',\r\n                  p: 2,\r\n                }}\r\n              >\r\n                {loading && <Typography>Loading more videos...</Typography>}\r\n              </Box>\r\n            )}\r\n\r\n            {/* Empty State */}\r\n            {!loading && videos.length === 0 && (\r\n              <Box\r\n                sx={{\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  minHeight: 400,\r\n                  textAlign: 'center',\r\n                }}\r\n              >\r\n                <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\r\n                  {t('videos.noVideosFound')}\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  {t('videos.tryDifferentSearch')}\r\n                </Typography>\r\n              </Box>\r\n            )}\r\n          </Box>\r\n        </ContentArea>\r\n      </Box>\r\n    </StyledContainer>\r\n  );\r\n};\r\n\r\nexport default VideoGridPage;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\VideoPlayerPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 46,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 46,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                823,
                858
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 95,
        "column": 37,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 95,
        "endColumn": 42,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                1949,
                1958
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 134,
        "column": 44,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 134,
        "endColumn": 49,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                2873,
                2882
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'user' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 215,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 215,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "user"
            },
            "fix": {
              "range": [
                4899,
                4926
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'user'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'context' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 218,
        "column": 33,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 218,
        "endColumn": 40,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "context"
            },
            "fix": {
              "range": [
                5005,
                5019
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'context'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'loadComments'. Either include it or remove the dependency array.",
        "line": 253,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 253,
        "endColumn": 24,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [currentVideo?.id, loadComments]",
            "fix": {
              "range": [
                6077,
                6095
              ],
              "text": "[currentVideo?.id, loadComments]"
            }
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has missing dependencies: 'handleMuteToggle' and 'handleVideoClick'. Either include them or remove the dependency array.",
        "line": 419,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 419,
        "endColumn": 23,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [handleMuteToggle, handleVideoClick, navigateToVideo]",
            "fix": {
              "range": [
                10657,
                10674
              ],
              "text": "[handleMuteToggle, handleVideoClick, navigateToVideo]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport {\r\n  Box,\r\n  IconButton,\r\n  Typography,\r\n  Avatar,\r\n  Button,\r\n  TextField,\r\n  List,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n  Drawer,\r\n  useTheme,\r\n  useMediaQuery,\r\n  Fade,\r\n  Slide,\r\n  Paper,\r\n  Divider,\r\n  Chip,\r\n  Menu,\r\n  MenuItem,\r\n} from '@mui/material';\r\nimport {\r\n  Favorite,\r\n  FavoriteBorder,\r\n  Share,\r\n  Bookmark,\r\n  BookmarkBorder,\r\n  Comment,\r\n  Send,\r\n  MoreVert,\r\n  VolumeUp,\r\n  VolumeOff,\r\n  PlayArrow,\r\n  Pause,\r\n  ArrowBack,\r\n  ArrowUpward,\r\n  ArrowDownward,\r\n  Close,\r\n} from '@mui/icons-material';\r\nimport { styled } from '@mui/material/styles';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { useSwipeable } from 'react-swipeable';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\nimport { \r\n  likeVideo, \r\n  unlikeVideo, \r\n  saveVideo, \r\n  unsaveVideo, \r\n  getVideoComments, \r\n  addVideoComment,\r\n  shareVideo \r\n} from '@/services/api';\r\n\r\n// Styled Components\r\nconst PlayerContainer = styled(Box)(({ theme }) => ({\r\n  height: '100vh',\r\n  width: '100vw',\r\n  position: 'relative',\r\n  backgroundColor: '#000',\r\n  overflow: 'hidden',\r\n  display: 'flex',\r\n  [theme.breakpoints.up('md')]: {\r\n    flexDirection: 'row',\r\n  },\r\n  [theme.breakpoints.down('md')]: {\r\n    flexDirection: 'column',\r\n  },\r\n}));\r\n\r\nconst VideoSection = styled(Box)(({ theme }) => ({\r\n  position: 'relative',\r\n  flex: 1,\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  backgroundColor: '#000',\r\n  [theme.breakpoints.up('md')]: {\r\n    maxWidth: 'calc(100vw - 400px)', // Leave space for comments on desktop\r\n  },\r\n}));\r\n\r\nconst VideoElement = styled('video')(({ theme }) => ({\r\n  width: '100%',\r\n  height: '100%',\r\n  objectFit: 'contain',\r\n  maxHeight: '100vh',\r\n  [theme.breakpoints.down('md')]: {\r\n    objectFit: 'cover',\r\n  },\r\n}));\r\n\r\nconst VideoOverlay = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  top: 0,\r\n  left: 0,\r\n  right: 0,\r\n  bottom: 0,\r\n  background: 'linear-gradient(to bottom, rgba(0,0,0,0.3) 0%, transparent 20%, transparent 80%, rgba(0,0,0,0.5) 100%)',\r\n  pointerEvents: 'none',\r\n  zIndex: 1,\r\n}));\r\n\r\nconst TopControls = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  top: 0,\r\n  left: 0,\r\n  right: 0,\r\n  display: 'flex',\r\n  justifyContent: 'space-between',\r\n  alignItems: 'center',\r\n  padding: theme.spacing(2),\r\n  zIndex: 2,\r\n  color: 'white',\r\n}));\r\n\r\nconst SideActions = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  right: theme.spacing(2),\r\n  bottom: theme.spacing(12),\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  alignItems: 'center',\r\n  gap: theme.spacing(3),\r\n  zIndex: 2,\r\n  [theme.breakpoints.up('md')]: {\r\n    right: theme.spacing(4),\r\n    bottom: theme.spacing(8),\r\n  },\r\n}));\r\n\r\nconst ActionButton = styled(IconButton)(({ theme }) => ({\r\n  backgroundColor: 'rgba(255, 255, 255, 0.2)',\r\n  color: 'white',\r\n  backdropFilter: 'blur(10px)',\r\n  border: '1px solid rgba(255, 255, 255, 0.3)',\r\n  '&:hover': {\r\n    backgroundColor: 'rgba(255, 255, 255, 0.3)',\r\n    transform: 'scale(1.1)',\r\n  },\r\n  transition: 'all 0.2s ease',\r\n  width: 56,\r\n  height: 56,\r\n}));\r\n\r\nconst VideoInfo = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  bottom: 0,\r\n  left: 0,\r\n  right: 0,\r\n  padding: theme.spacing(3),\r\n  color: 'white',\r\n  zIndex: 2,\r\n  [theme.breakpoints.up('md')]: {\r\n    right: 120, // Leave space for side actions\r\n  },\r\n}));\r\n\r\nconst CommentsSection = styled(Box)(({ theme }) => ({\r\n  width: '100%',\r\n  backgroundColor: theme.palette.background.paper,\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  [theme.breakpoints.up('md')]: {\r\n    width: 400,\r\n    borderLeft: `1px solid ${theme.palette.divider}`,\r\n  },\r\n  [theme.breakpoints.down('md')]: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n    height: '60vh',\r\n    borderTopLeftRadius: 16,\r\n    borderTopRightRadius: 16,\r\n    transform: 'translateY(100%)',\r\n    transition: 'transform 0.3s ease',\r\n    '&.open': {\r\n      transform: 'translateY(0)',\r\n    },\r\n  },\r\n}));\r\n\r\nconst CommentInput = styled(Box)(({ theme }) => ({\r\n  padding: theme.spacing(2),\r\n  borderTop: `1px solid ${theme.palette.divider}`,\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  gap: theme.spacing(1),\r\n  backgroundColor: theme.palette.background.paper,\r\n}));\r\n\r\nconst SwipeIndicator = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  left: '50%',\r\n  transform: 'translateX(-50%)',\r\n  color: 'white',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  alignItems: 'center',\r\n  opacity: 0.7,\r\n  zIndex: 3,\r\n  [theme.breakpoints.up('md')]: {\r\n    display: 'none',\r\n  },\r\n}));\r\n\r\nconst VideoPlayerPage = () => {\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { user } = useAuth();\r\n  \r\n  // Get video data from navigation state\r\n  const { videoId, videos = [], context = {} } = location.state || {};\r\n  \r\n  // Refs\r\n  const videoRef = useRef(null);\r\n  const containerRef = useRef(null);\r\n  \r\n  // State\r\n  const [currentVideoIndex, setCurrentVideoIndex] = useState(\r\n    videos.findIndex(v => v.id === videoId) || 0\r\n  );\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [isMuted, setIsMuted] = useState(true);\r\n  const [comments, setComments] = useState([]);\r\n  const [newComment, setNewComment] = useState('');\r\n  const [commentsOpen, setCommentsOpen] = useState(false);\r\n  const [showControls, setShowControls] = useState(true);\r\n  const [menuAnchor, setMenuAnchor] = useState(null);\r\n  const [swipeDirection, setSwipeDirection] = useState(null);\r\n  \r\n  const currentVideo = videos[currentVideoIndex];\r\n  \r\n  // Auto-hide controls\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setShowControls(false);\r\n    }, 3000);\r\n    \r\n    return () => clearTimeout(timer);\r\n  }, [showControls]);\r\n  \r\n  // Load comments\r\n  useEffect(() => {\r\n    if (currentVideo?.id) {\r\n      loadComments();\r\n    }\r\n  }, [currentVideo?.id]);\r\n  \r\n  // Auto-play video\r\n  useEffect(() => {\r\n    if (videoRef.current && currentVideo) {\r\n      videoRef.current.load();\r\n      if (isPlaying) {\r\n        videoRef.current.play();\r\n      }\r\n    }\r\n  }, [currentVideo, isPlaying]);\r\n  \r\n  const loadComments = async () => {\r\n    try {\r\n      const response = await getVideoComments(currentVideo.id);\r\n      setComments(response.data.comments || []);\r\n    } catch (error) {\r\n      console.error('Failed to load comments:', error);\r\n      setComments([]);\r\n    }\r\n  };\r\n  \r\n  const handleVideoClick = () => {\r\n    setShowControls(true);\r\n    if (videoRef.current) {\r\n      if (isPlaying) {\r\n        videoRef.current.pause();\r\n        setIsPlaying(false);\r\n      } else {\r\n        videoRef.current.play();\r\n        setIsPlaying(true);\r\n      }\r\n    }\r\n  };\r\n  \r\n  const handleMuteToggle = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.muted = !isMuted;\r\n      setIsMuted(!isMuted);\r\n    }\r\n  };\r\n  \r\n  const handleLike = async () => {\r\n    if (!currentVideo) return;\r\n    \r\n    try {\r\n      if (currentVideo.isLiked) {\r\n        await unlikeVideo(currentVideo.id);\r\n      } else {\r\n        await likeVideo(currentVideo.id);\r\n      }\r\n      \r\n      // Update video state\r\n      const updatedVideos = [...videos];\r\n      updatedVideos[currentVideoIndex] = {\r\n        ...currentVideo,\r\n        isLiked: !currentVideo.isLiked,\r\n        likesCount: currentVideo.likesCount + (currentVideo.isLiked ? -1 : 1),\r\n      };\r\n    } catch (error) {\r\n      console.error('Failed to toggle like:', error);\r\n    }\r\n  };\r\n  \r\n  const handleSave = async () => {\r\n    if (!currentVideo) return;\r\n    \r\n    try {\r\n      if (currentVideo.isSaved) {\r\n        await unsaveVideo(currentVideo.id);\r\n      } else {\r\n        await saveVideo(currentVideo.id);\r\n      }\r\n      \r\n      // Update video state\r\n      const updatedVideos = [...videos];\r\n      updatedVideos[currentVideoIndex] = {\r\n        ...currentVideo,\r\n        isSaved: !currentVideo.isSaved,\r\n      };\r\n    } catch (error) {\r\n      console.error('Failed to toggle save:', error);\r\n    }\r\n  };\r\n  \r\n  const handleShare = async () => {\r\n    if (!currentVideo) return;\r\n    \r\n    try {\r\n      if (navigator.share) {\r\n        await navigator.share({\r\n          title: currentVideo.title,\r\n          text: `Check out this video: ${currentVideo.title}`,\r\n          url: `${window.location.origin}/videos/${currentVideo.id}`,\r\n        });\r\n      } else {\r\n        await navigator.clipboard.writeText(\r\n          `${window.location.origin}/videos/${currentVideo.id}`\r\n        );\r\n        // Show toast notification\r\n      }\r\n      \r\n      await shareVideo(currentVideo.id);\r\n    } catch (error) {\r\n      console.error('Failed to share video:', error);\r\n    }\r\n  };\r\n  \r\n  const handleCommentSubmit = async () => {\r\n    if (!newComment.trim() || !currentVideo) return;\r\n    \r\n    try {\r\n      const response = await addVideoComment(currentVideo.id, newComment);\r\n      setComments(prev => [response.data.comment, ...prev]);\r\n      setNewComment('');\r\n    } catch (error) {\r\n      console.error('Failed to add comment:', error);\r\n    }\r\n  };\r\n  \r\n  const navigateToVideo = useCallback((direction) => {\r\n    const newIndex = direction === 'next' \r\n      ? Math.min(currentVideoIndex + 1, videos.length - 1)\r\n      : Math.max(currentVideoIndex - 1, 0);\r\n    \r\n    if (newIndex !== currentVideoIndex) {\r\n      setCurrentVideoIndex(newIndex);\r\n      setIsPlaying(true);\r\n      setSwipeDirection(direction);\r\n      setTimeout(() => setSwipeDirection(null), 300);\r\n    }\r\n  }, [currentVideoIndex, videos.length]);\r\n  \r\n  // Swipe handlers for mobile\r\n  const swipeHandlers = useSwipeable({\r\n    onSwipedUp: () => isMobile && navigateToVideo('next'),\r\n    onSwipedDown: () => isMobile && navigateToVideo('prev'),\r\n    preventDefaultTouchmoveEvent: true,\r\n    trackMouse: false,\r\n  });\r\n  \r\n  // Keyboard navigation\r\n  useEffect(() => {\r\n    const handleKeyPress = (e) => {\r\n      switch (e.key) {\r\n        case 'ArrowUp':\r\n          e.preventDefault();\r\n          navigateToVideo('prev');\r\n          break;\r\n        case 'ArrowDown':\r\n          e.preventDefault();\r\n          navigateToVideo('next');\r\n          break;\r\n        case ' ':\r\n          e.preventDefault();\r\n          handleVideoClick();\r\n          break;\r\n        case 'm':\r\n          e.preventDefault();\r\n          handleMuteToggle();\r\n          break;\r\n      }\r\n    };\r\n    \r\n    window.addEventListener('keydown', handleKeyPress);\r\n    return () => window.removeEventListener('keydown', handleKeyPress);\r\n  }, [navigateToVideo]);\r\n  \r\n  if (!currentVideo) {\r\n    return (\r\n      <Box \r\n        sx={{ \r\n          height: '100vh', \r\n          display: 'flex', \r\n          alignItems: 'center', \r\n          justifyContent: 'center' \r\n        }}\r\n      >\r\n        <Typography>Video not found</Typography>\r\n      </Box>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <PlayerContainer ref={containerRef} {...swipeHandlers}>\r\n      {/* Video Section */}\r\n      <VideoSection>\r\n        <VideoElement\r\n          ref={videoRef}\r\n          src={currentVideo.videoUrl}\r\n          muted={isMuted}\r\n          loop\r\n          playsInline\r\n          onClick={handleVideoClick}\r\n        />\r\n        \r\n        <VideoOverlay />\r\n        \r\n        {/* Top Controls */}\r\n        <Fade in={showControls}>\r\n          <TopControls>\r\n            <IconButton \r\n              onClick={() => navigate(-1)}\r\n              sx={{ color: 'white' }}\r\n            >\r\n              <ArrowBack />\r\n            </IconButton>\r\n            \r\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n              <IconButton \r\n                onClick={handleMuteToggle}\r\n                sx={{ color: 'white' }}\r\n              >\r\n                {isMuted ? <VolumeOff /> : <VolumeUp />}\r\n              </IconButton>\r\n              \r\n              <IconButton \r\n                onClick={(e) => setMenuAnchor(e.currentTarget)}\r\n                sx={{ color: 'white' }}\r\n              >\r\n                <MoreVert />\r\n              </IconButton>\r\n            </Box>\r\n          </TopControls>\r\n        </Fade>\r\n        \r\n        {/* Side Actions */}\r\n        <SideActions>\r\n          <Box sx={{ textAlign: 'center' }}>\r\n            <ActionButton onClick={handleLike}>\r\n              {currentVideo.isLiked ? <Favorite /> : <FavoriteBorder />}\r\n            </ActionButton>\r\n            <Typography variant=\"caption\" sx={{ color: 'white', mt: 0.5 }}>\r\n              {currentVideo.likesCount || 0}\r\n            </Typography>\r\n          </Box>\r\n          \r\n          <Box sx={{ textAlign: 'center' }}>\r\n            <ActionButton onClick={() => setCommentsOpen(true)}>\r\n              <Comment />\r\n            </ActionButton>\r\n            <Typography variant=\"caption\" sx={{ color: 'white', mt: 0.5 }}>\r\n              {comments.length}\r\n            </Typography>\r\n          </Box>\r\n          \r\n          <ActionButton onClick={handleSave}>\r\n            {currentVideo.isSaved ? <Bookmark /> : <BookmarkBorder />}\r\n          </ActionButton>\r\n          \r\n          <ActionButton onClick={handleShare}>\r\n            <Share />\r\n          </ActionButton>\r\n        </SideActions>\r\n        \r\n        {/* Video Info */}\r\n        <VideoInfo>\r\n          <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n            <Avatar \r\n              src={currentVideo.user?.profilePicture} \r\n              sx={{ mr: 2 }}\r\n            >\r\n              {currentVideo.user?.name?.[0]}\r\n            </Avatar>\r\n            <Box>\r\n              <Typography variant=\"h6\" fontWeight=\"bold\">\r\n                {currentVideo.user?.name || 'Anonymous'}\r\n              </Typography>\r\n              <Typography variant=\"body2\" sx={{ opacity: 0.8 }}>\r\n                {currentVideo.user?.title || 'User'}\r\n              </Typography>\r\n            </Box>\r\n          </Box>\r\n          \r\n          <Typography variant=\"body1\" sx={{ mb: 1 }}>\r\n            {currentVideo.title}\r\n          </Typography>\r\n          \r\n          {currentVideo.description && (\r\n            <Typography variant=\"body2\" sx={{ opacity: 0.9, mb: 1 }}>\r\n              {currentVideo.description}\r\n            </Typography>\r\n          )}\r\n          \r\n          {currentVideo.tags && currentVideo.tags.length > 0 && (\r\n            <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\r\n              {currentVideo.tags.map((tag, index) => (\r\n                <Chip \r\n                  key={index}\r\n                  label={`#${tag}`}\r\n                  size=\"small\"\r\n                  sx={{ \r\n                    backgroundColor: 'rgba(255, 255, 255, 0.2)',\r\n                    color: 'white',\r\n                    fontSize: '0.75rem',\r\n                  }}\r\n                />\r\n              ))}\r\n            </Box>\r\n          )}\r\n        </VideoInfo>\r\n        \r\n        {/* Swipe Indicators (Mobile) */}\r\n        {isMobile && (\r\n          <>\r\n            <SwipeIndicator sx={{ top: 100 }}>\r\n              <ArrowUpward />\r\n              <Typography variant=\"caption\">Previous</Typography>\r\n            </SwipeIndicator>\r\n            \r\n            <SwipeIndicator sx={{ bottom: 100 }}>\r\n              <ArrowDownward />\r\n              <Typography variant=\"caption\">Next</Typography>\r\n            </SwipeIndicator>\r\n          </>\r\n        )}\r\n        \r\n        {/* Swipe Animation */}\r\n        {swipeDirection && (\r\n          <Box\r\n            sx={{\r\n              position: 'absolute',\r\n              top: 0,\r\n              left: 0,\r\n              right: 0,\r\n              bottom: 0,\r\n              backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              zIndex: 10,\r\n            }}\r\n          >\r\n            <Typography variant=\"h4\" sx={{ color: 'white' }}>\r\n              {swipeDirection === 'next' ? 'â†“' : 'â†‘'}\r\n            </Typography>\r\n          </Box>\r\n        )}\r\n      </VideoSection>\r\n      \r\n      {/* Comments Section */}\r\n      {isMobile ? (\r\n        <Drawer\r\n          anchor=\"bottom\"\r\n          open={commentsOpen}\r\n          onClose={() => setCommentsOpen(false)}\r\n          PaperProps={{\r\n            sx: {\r\n              height: '70vh',\r\n              borderTopLeftRadius: 16,\r\n              borderTopRightRadius: 16,\r\n            },\r\n          }}\r\n        >\r\n          <CommentsContent \r\n            comments={comments}\r\n            newComment={newComment}\r\n            setNewComment={setNewComment}\r\n            onSubmit={handleCommentSubmit}\r\n            onClose={() => setCommentsOpen(false)}\r\n          />\r\n        </Drawer>\r\n      ) : (\r\n        <CommentsSection>\r\n          <CommentsContent \r\n            comments={comments}\r\n            newComment={newComment}\r\n            setNewComment={setNewComment}\r\n            onSubmit={handleCommentSubmit}\r\n          />\r\n        </CommentsSection>\r\n      )}\r\n      \r\n      {/* Menu */}\r\n      <Menu\r\n        anchorEl={menuAnchor}\r\n        open={Boolean(menuAnchor)}\r\n        onClose={() => setMenuAnchor(null)}\r\n      >\r\n        <MenuItem onClick={() => {/* Report video */}}>\r\n          Report Video\r\n        </MenuItem>\r\n        <MenuItem onClick={() => {/* Not interested */}}>\r\n          Not Interested\r\n        </MenuItem>\r\n      </Menu>\r\n    </PlayerContainer>\r\n  );\r\n};\r\n\r\n// Comments Content Component\r\nconst CommentsContent = ({ comments, newComment, setNewComment, onSubmit, onClose }) => {\r\n  return (\r\n    <>\r\n      {/* Header */}\r\n      <Box sx={{ \r\n        p: 2, \r\n        borderBottom: 1, \r\n        borderColor: 'divider',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n      }}>\r\n        <Typography variant=\"h6\" fontWeight=\"bold\">\r\n          Comments ({comments.length})\r\n        </Typography>\r\n        {onClose && (\r\n          <IconButton onClick={onClose}>\r\n            <Close />\r\n          </IconButton>\r\n        )}\r\n      </Box>\r\n      \r\n      {/* Comments List */}\r\n      <Box sx={{ flex: 1, overflow: 'auto' }}>\r\n        <List>\r\n          {comments.map((comment, index) => (\r\n            <ListItem key={index} alignItems=\"flex-start\">\r\n              <ListItemAvatar>\r\n                <Avatar src={comment.user?.profilePicture}>\r\n                  {comment.user?.name?.[0]}\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText\r\n                primary={\r\n                  <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                    <Typography variant=\"subtitle2\" fontWeight=\"bold\">\r\n                      {comment.user?.name || 'Anonymous'}\r\n                    </Typography>\r\n                    <Typography variant=\"caption\" color=\"text.secondary\">\r\n                      {new Date(comment.createdAt).toLocaleDateString()}\r\n                    </Typography>\r\n                  </Box>\r\n                }\r\n                secondary={comment.content}\r\n              />\r\n            </ListItem>\r\n          ))}\r\n          \r\n          {comments.length === 0 && (\r\n            <Box sx={{ p: 4, textAlign: 'center' }}>\r\n              <Typography color=\"text.secondary\">\r\n                No comments yet. Be the first to comment!\r\n              </Typography>\r\n            </Box>\r\n          )}\r\n        </List>\r\n      </Box>\r\n      \r\n      {/* Comment Input */}\r\n      <CommentInput>\r\n        <TextField\r\n          fullWidth\r\n          size=\"small\"\r\n          placeholder=\"Add a comment...\"\r\n          value={newComment}\r\n          onChange={(e) => setNewComment(e.target.value)}\r\n          onKeyPress={(e) => e.key === 'Enter' && onSubmit()}\r\n          multiline\r\n          maxRows={3}\r\n        />\r\n        <IconButton \r\n          onClick={onSubmit}\r\n          disabled={!newComment.trim()}\r\n          color=\"primary\"\r\n        >\r\n          <Send />\r\n        </IconButton>\r\n      </CommentInput>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default VideoPlayerPage;\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\Videos.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 126,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 126,
        "endColumn": 15
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 228,
        "column": 12,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 228,
        "endColumn": 13
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has missing dependencies: 'video.id' and 'video.videoUrl'. Either include them or remove the dependency array.",
        "line": 259,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 259,
        "endColumn": 38,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [isPlaying, isMuted, shouldLoad, video.id, video.videoUrl]",
            "fix": {
              "range": [
                8949,
                8981
              ],
              "text": "[isPlaying, isMuted, shouldLoad, video.id, video.videoUrl]"
            }
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchVideos'. Either include it or remove the dependency array.",
        "line": 650,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 650,
        "endColumn": 22,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchVideos, initialVideoId]",
            "fix": {
              "range": [
                25703,
                25719
              ],
              "text": "[fetchVideos, initialVideoId]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'prev' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 807,
        "column": 27,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 807,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "prev"
            },
            "fix": {
              "range": [
                32465,
                32469
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'prev'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'handleScroll'. Either include it or remove the dependency array.",
        "line": 844,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 844,
        "endColumn": 29,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [videos, hasMoreVideos, handleScroll]",
            "fix": {
              "range": [
                33718,
                33741
              ],
              "text": "[videos, hasMoreVideos, handleScroll]"
            }
          }
        ]
      },
      {
        "ruleId": "no-dupe-else-if",
        "severity": 2,
        "message": "This branch can never execute. Its condition is a duplicate or covered by previous conditions in the if-else-if chain.",
        "line": 1106,
        "column": 18,
        "nodeType": "LogicalExpression",
        "messageId": "unexpected",
        "endLine": 1106,
        "endColumn": 90
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 1180,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1180,
        "endColumn": 19
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 1209,
        "column": 67,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1209,
        "endColumn": 68
      },
      {
        "ruleId": "no-empty",
        "severity": 2,
        "message": "Empty block statement.",
        "line": 1209,
        "column": 70,
        "nodeType": "BlockStatement",
        "messageId": "unexpected",
        "endLine": 1209,
        "endColumn": 72,
        "suggestions": [
          {
            "messageId": "suggestComment",
            "data": {
              "type": "block"
            },
            "fix": {
              "range": [
                47686,
                47686
              ],
              "text": " /* empty */ "
            },
            "desc": "Add comment inside empty block statement."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has missing dependencies: 'currentVideoIndex' and 'videos'. Either include them or remove the dependency array.",
        "line": 1346,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 1346,
        "endColumn": 30,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [currentVideoIndex, user.id, user.userId, videos]",
            "fix": {
              "range": [
                52779,
                52803
              ],
              "text": "[currentVideoIndex, user.id, user.userId, videos]"
            }
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has missing dependencies: 'fetchStatsForVideos' and 'videos'. Either include them or remove the dependency array.",
        "line": 1353,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 1353,
        "endColumn": 27,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchStatsForVideos, user, videos, videos.length]",
            "fix": {
              "range": [
                53028,
                53049
              ],
              "text": "[fetchStatsForVideos, user, videos, videos.length]"
            }
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'id' is not defined.",
        "line": 1401,
        "column": 31,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 1401,
        "endColumn": 33
      }
    ],
    "suppressedMessages": [],
    "errorCount": 8,
    "fatalErrorCount": 0,
    "warningCount": 5,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { likeVideo, unlikeVideo, shareVideo, saveVideo, unsaveVideo, addVideoComment, getVideoComments, getVideoStats } from '@/services/api';\r\nimport { toast } from 'react-toastify';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useParams } from 'react-router-dom';\r\nimport { \r\n  Heart, \r\n  MessageCircle, \r\n  Share2, \r\n  Bookmark, \r\n  ChevronUp, \r\n  ChevronDown, \r\n  Maximize, \r\n  Minimize, \r\n  Volume2, \r\n  VolumeX,\r\n  Send,\r\n  Eye,\r\n  Loader2\r\n} from 'lucide-react';\r\nimport ReportButton from '@/components/ReportButton.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Card, CardContent } from '@/components/UI/card.jsx';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/UI/avatar.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { ScrollArea } from '@/components/UI/scroll-area.jsx';\r\nimport { cn } from '@/lib/utils';\r\n\r\n// Ensure axios sends cookies by default (helps when backend uses session cookies)\r\naxios.defaults.withCredentials = true;\r\n\r\n// add API base constant (from Vite env or fallback)\r\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL + '/api' || 'http://localhost:5000/api';\r\n\r\n// Helper function to safely get array from localStorage\r\nconst getLocalStorageArray = (key) => {\r\n  try {\r\n    const item = localStorage.getItem(key);\r\n    if (!item) return [];\r\n    const parsed = JSON.parse(item);\r\n    return Array.isArray(parsed) ? parsed : [];\r\n  } catch (e) {\r\n    console.warn(`Failed to parse localStorage key \"${key}\":`, e);\r\n    return [];\r\n  }\r\n};\r\n\r\n// Helper: robustly extract numbers/booleans from different possible API field names\r\nconst _extractNumber = (obj, candidates = [], fallback = 0) => {\r\n  for (const k of candidates) {\r\n    if (!obj) continue;\r\n    const val = obj[k];\r\n    if (typeof val === 'number') return val;\r\n    if (typeof val === 'string' && val !== '') {\r\n      const parsed = Number(val);\r\n      if (!Number.isNaN(parsed)) return parsed;\r\n    }\r\n  }\r\n  return fallback;\r\n};\r\n\r\nconst _extractBoolean = (obj, candidates = [], fallback = false) => {\r\n  for (const k of candidates) {\r\n    if (!obj) continue;\r\n    const val = obj[k];\r\n    if (typeof val === 'boolean') return val;\r\n    if (typeof val === 'number') return !!val;\r\n    if (typeof val === 'string') {\r\n      const lower = val.toLowerCase();\r\n      if (lower === 'true' || lower === '1') return true;\r\n      if (lower === 'false' || lower === '0') return false;\r\n    }\r\n  }\r\n  return fallback;\r\n};\r\n\r\nconst normalizeVideoFromApi = (v) => {\r\n  if (!v) return v;\r\n  const likes = _extractNumber(v, ['likes', 'likes_count', 'likesCount'], 0);\r\n  const comments = _extractNumber(v, ['comments', 'comments_count', 'commentsCount', 'comment_count'], 0);\r\n  const shares = _extractNumber(v, ['shares', 'shares_count', 'sharesCount'], 0);\r\n  const savesCount = _extractNumber(v, ['savesCount', 'saves', 'saves_count'], 0);\r\n  // saved flag may be boolean or derived from savesCount\r\n  const saved = _extractBoolean(v, ['saved', 'is_saved', 'isSaved', 'saved_flag'], savesCount > 0);\r\n  const isLiked = _extractBoolean(v, ['isLiked', 'is_liked', 'liked', 'is_liked_flag'], false);\r\n  const views = _extractNumber(v, ['views', 'views_count', 'viewsCount'], v.views ?? 0);\r\n\r\n  return {\r\n    ...v,\r\n    // provide both <name>Count and shorthand for compatibility\r\n    likesCount: likes,\r\n    likes,\r\n    commentsCount: comments,\r\n    comments,\r\n    sharesCount: shares,\r\n    shares,\r\n    savesCount,\r\n    saves: savesCount,\r\n    saved,\r\n    isLiked,\r\n    views,\r\n  };\r\n};\r\n\r\n// Patch global fetch ONCE so same-origin /api/ requests include credentials and optional Authorization header.\r\n// This is idempotent and safe to run at module load.\r\nif (typeof window !== 'undefined' && !window.__fetchCredentialsPatched) {\r\n  const _fetch = window.fetch.bind(window);\r\n  window.fetch = (input, init = {}) => {\r\n    try {\r\n      const url = typeof input === 'string' ? input : (input && input.url) || '';\r\n      const shouldAttach = url.includes('/api/') || url.startsWith('/') || url.startsWith(window.location.origin);\r\n      if (shouldAttach) {\r\n        init = { ...init, credentials: init.credentials || 'include' };\r\n        const existingHeaders = init.headers instanceof Headers\r\n          ? Object.fromEntries(init.headers.entries())\r\n          : (init.headers || {});\r\n        // Attach Authorization from global token if available\r\n        const token = window.__authToken;\r\n        init.headers = { ...existingHeaders, ...(token ? { Authorization: `Bearer ${token}` } : {}) };\r\n      }\r\n    } catch (e) {\r\n      // swallow any errors â€” fallback to default fetch\r\n    }\r\n    return _fetch(input, init);\r\n  };\r\n  window.__fetchCredentialsPatched = true;\r\n}\r\n\r\n// Animated gradient background component\r\nconst SwipeScoutBackground = () => (\r\n  <div className=\"fixed inset-0 z-0 pointer-events-none overflow-hidden\">\r\n    <style>{`\r\n      @keyframes floatGradient {\r\n        0%, 100% { transform: translate3d(0, 0, 0) scale(1); }\r\n        25% { transform: translate3d(5%, -3%, 0) scale(1.05); }\r\n        50% { transform: translate3d(-5%, 3%, 0) scale(1.08); }\r\n        75% { transform: translate3d(3%, -5%, 0) scale(1.03); }\r\n      }\r\n      @keyframes shimmer {\r\n        0% { background-position: -200% 0; }\r\n        100% { background-position: 200% 0; }\r\n      }\r\n      @keyframes float {\r\n        0%, 100% { transform: translateY(0) scale(1); opacity: 0.05; }\r\n        50% { transform: translateY(-20px) scale(1.05); opacity: 0.12; }\r\n      }\r\n    `}</style>\r\n\r\n    {/* Main gradient background */}\r\n    <div\r\n      className=\"absolute inset-0 bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900\"\r\n      style={{\r\n        animation: 'floatGradient 20s ease-in-out infinite'\r\n      }}\r\n    />\r\n\r\n    {/* Overlay gradient for depth */}\r\n    <div className=\"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-black/30\" />\r\n\r\n    {/* Shimmer effect */}\r\n    <div\r\n      className=\"absolute inset-0 opacity-30\"\r\n      style={{\r\n        background: 'linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent)',\r\n        backgroundSize: '200% 100%',\r\n        animation: 'shimmer 8s linear infinite'\r\n      }}\r\n    />\r\n\r\n    {/* Floating brand text */}\r\n    <div className=\"absolute top-8 left-8 md:top-12 md:left-16\">\r\n      <h1\r\n        className=\"text-2xl md:text-5xl font-black tracking-wider text-transparent bg-clip-text bg-gradient-to-r from-white via-purple-200 to-pink-200\"\r\n        style={{\r\n          animation: 'float 6s ease-in-out infinite',\r\n          textShadow: '0 2px 10px rgba(0,0,0,0.3)'\r\n        }}\r\n      >\r\n        <span className=\"text-xs md:text-base font-semibold text-white/70 tracking-wide mr-2\">Â©</span>\r\n        SwipeScout\r\n      </h1>\r\n    </div>\r\n\r\n    {/* Decorative circles */}\r\n    <div className=\"absolute top-1/4 right-1/4 w-64 h-64 bg-purple-500/10 rounded-full blur-3xl animate-pulse\" />\r\n    <div className=\"absolute bottom-1/4 left-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl animate-pulse\" style={{ animationDelay: '1s' }} />\r\n  </div>\r\n);\r\n\r\n// VideoCard component - redesigned with Tailwind and shadcn/ui\r\nconst VideoCard = React.memo(({\r\n  video,\r\n  isPlaying,\r\n  onTogglePlay,\r\n  onToggleMute,\r\n  isMuted,\r\n  onLike,\r\n  onShare,\r\n  onCommentToggle,\r\n  onSave,\r\n  showComments,\r\n  onPrev,\r\n  onNext,\r\n  isMaximized,\r\n  onToggleMaximize,\r\n  onAddComment,\r\n  commentList = [],\r\n  commentsLoading = false,\r\n  commentSubmitting = false,\r\n  commentCount = 0,\r\n  shouldLoad = false\r\n}) => {\r\n  const videoRef = useRef(null);\r\n  const { t } = useTranslation();\r\n  const { user } = useAuth();\r\n\r\n  // Safely parse hashtags\r\n  let hashtags = '';\r\n  try {\r\n    hashtags = Array.isArray(video.hashtags)\r\n      ? video.hashtags.join(' ')\r\n      : JSON.parse(video.hashtags || '[]').join(' ');\r\n  } catch (e) {\r\n    hashtags = '';\r\n  }\r\n\r\n  // Autoplay management\r\n  useEffect(() => {\r\n    if (!videoRef.current) return;\r\n    if (!shouldLoad) {\r\n      console.log('Video not loading - shouldLoad is false for video:', video.id);\r\n      videoRef.current?.pause?.();\r\n      return;\r\n    }\r\n    console.log('Video loading:', video.id, 'videoUrl:', video.videoUrl, 'src:', videoRef.current?.src, 'isPlaying:', isPlaying, 'shouldLoad:', shouldLoad);\r\n    const v = videoRef.current;\r\n    if (isPlaying) {\r\n      v.muted = true;\r\n      const p = v.play();\r\n      if (p && p.then) {\r\n        p\r\n          .then(() => {\r\n            v.muted = !!isMuted;\r\n          })\r\n          .catch(() => {\r\n            v.muted = true;\r\n          });\r\n      } else {\r\n        v.muted = !!isMuted;\r\n      }\r\n    } else {\r\n      videoRef.current?.pause?.();\r\n    }\r\n  }, [isPlaying, isMuted, shouldLoad]);\r\n\r\n  const handleVideoClick = () => {\r\n    if (isMaximized) return;\r\n    onTogglePlay(video.id);\r\n  };\r\n\r\n  const handleMuteClick = (e) => {\r\n    e.stopPropagation();\r\n    onToggleMute(video.id);\r\n  };\r\n\r\n  const handleSubmitComment = (inputElem) => {\r\n    if (!inputElem) return;\r\n    if (commentSubmitting) return;\r\n    const text = inputElem.value.trim();\r\n    if (!text) return;\r\n    inputElem.value = '';\r\n    if (typeof inputElem.blur === 'function') {\r\n      inputElem.blur();\r\n    }\r\n    if (onAddComment) onAddComment(video.id, text, inputElem);\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full min-h-screen flex justify-center items-center relative mb-3\">\r\n      <div className={cn(\r\n        \"w-full max-w-7xl flex gap-4 items-stretch px-4 md:px-6\",\r\n        \"flex-col md:flex-row\"\r\n      )}>\r\n        {/* Left: Comments + Metadata */}\r\n        <div className={cn(\r\n          \"w-full md:w-80 flex-shrink-0 flex flex-col gap-4 justify-end\",\r\n          \"order-2 md:order-1 pb-4 md:pb-6\",\r\n          isMaximized && \"hidden\"\r\n        )}>\r\n          {/* Comments panel */}\r\n          {showComments && (\r\n            <Card className=\"bg-white/10 backdrop-blur-md border-white/20\">\r\n              <CardContent className=\"p-4\">\r\n                <h3 className=\"text-sm font-semibold text-white mb-3\">\r\n                  Comments ({commentCount})\r\n                </h3>\r\n                <ScrollArea className=\"h-48 md:h-96 pr-4\">\r\n                  {commentsLoading ? (\r\n                    <div className=\"flex justify-center py-8\">\r\n                      <Loader2 className=\"h-6 w-6 animate-spin text-white\" />\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"space-y-3\">\r\n                      {commentList.length > 0 ? (\r\n                        commentList.map((c) => (\r\n                          <div\r\n                            key={c.id}\r\n                            className=\"flex gap-3 p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors\"\r\n                          >\r\n                            <Avatar className=\"h-9 w-9 flex-shrink-0\">\r\n                              <AvatarImage src={c.user?.avatar} />\r\n                              <AvatarFallback className=\"bg-purple-500 text-white text-xs\">\r\n                                {(c.user?.name || 'A')[0].toUpperCase()}\r\n                              </AvatarFallback>\r\n                            </Avatar>\r\n                            <div className=\"flex-1 min-w-0\">\r\n                              <p className=\"text-sm font-semibold text-white\">\r\n                                {c.user?.name || 'Anonymous'}\r\n                              </p>\r\n                              <p className=\"text-sm text-gray-200 break-words\">\r\n                                {c.content}\r\n                              </p>\r\n                              <p className=\"text-xs text-gray-400 mt-1\">\r\n                                {new Date(c.createdAt).toLocaleString()}\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                        ))\r\n                      ) : (\r\n                        <p className=\"text-sm text-gray-300 text-center py-8\">\r\n                          No comments yet â€” be the first to comment!\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </ScrollArea>\r\n\r\n                {/* Comment input */}\r\n                <div className=\"mt-3 flex gap-2\">\r\n                  {commentSubmitting ? (\r\n                    <div className=\"flex-1 flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5\">\r\n                      <Loader2 className=\"h-4 w-4 animate-spin text-white\" />\r\n                      <span className=\"text-sm text-gray-300\">Submitting...</span>\r\n                    </div>\r\n                  ) : (\r\n                    <>\r\n                      <input\r\n                        aria-label=\"comment-input\"\r\n                        placeholder=\"Add a comment...\"\r\n                        className=\"flex-1 px-3 py-2 text-sm rounded-lg bg-white/90 text-gray-900 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all\"\r\n                        id={`comment-input-${video.id}`}\r\n                        onFocus={(e) => {\r\n                          const videoType = video?.videoType || video?.video_type || video?.type || null;\r\n                          const isUserLoggedIn = !!(user && user.role !== null);\r\n                          \r\n                          if (videoType !== 'sample' && !isUserLoggedIn) {\r\n                            e.target.blur();\r\n                            window.ensureLoggedInThen(() => {\r\n                              setTimeout(() => {\r\n                                const input = document.getElementById(`comment-input-${video.id}`);\r\n                                if (input) input.focus();\r\n                              }, 100);\r\n                            });\r\n                          }\r\n                        }}\r\n                        onKeyDown={(e) => {\r\n                          if (e.key === 'Enter' && !e.shiftKey) {\r\n                            e.preventDefault();\r\n                            handleSubmitComment(e.target);\r\n                          }\r\n                        }}\r\n                      />\r\n                      <Button\r\n                        size=\"icon\"\r\n                        variant=\"ghost\"\r\n                        className=\"text-white hover:bg-white/20\"\r\n                        onClick={() => {\r\n                          const input = document.getElementById(`comment-input-${video.id}`);\r\n                          if (input) handleSubmitComment(input);\r\n                        }}\r\n                        aria-label=\"post-comment\"\r\n                      >\r\n                        <Send className=\"h-4 w-4\" />\r\n                      </Button>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n\r\n          {/* Video info */}\r\n          <Card className=\"bg-white/10 backdrop-blur-md border-white/20\">\r\n            <CardContent className=\"p-4 space-y-2\">\r\n              {video.videoTitle && (\r\n                <h2 className=\"text-lg font-bold text-white leading-tight\">\r\n                  {video.videoTitle}\r\n                </h2>\r\n              )}\r\n              {hashtags && (\r\n                <p className=\"text-sm text-purple-200\">\r\n                  {hashtags}\r\n                </p>\r\n              )}\r\n              {video.views > 0 && (\r\n                <div className=\"flex items-center gap-1 text-xs text-gray-300\">\r\n                  <Eye className=\"h-3 w-3\" />\r\n                  <span>{video.views.toLocaleString()} views</span>\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n\r\n        {/* Center: Video Player */}\r\n        <div className={cn(\r\n          \"flex-1 flex flex-col items-center justify-center order-1\",\r\n          isMaximized && \"fixed inset-0 z-[1400]\"\r\n        )}>\r\n          <div className={cn(\r\n            \"w-full flex flex-col items-center relative\",\r\n            isMaximized ? \"h-screen\" : \"max-w-3xl\"\r\n          )}>\r\n            <div\r\n              onClick={handleVideoClick}\r\n              className={cn(\r\n                \"relative flex items-center justify-center bg-black overflow-hidden cursor-pointer group\",\r\n                isMaximized \r\n                  ? \"w-[calc(100vw-120px)] h-screen rounded-none\" \r\n                  : \"w-full h-[calc(100vh-24px)] rounded-xl shadow-2xl\"\r\n              )}\r\n            >\r\n              <video\r\n                ref={videoRef}\r\n                src={shouldLoad ? video.videoUrl : undefined}\r\n                loop\r\n                playsInline\r\n                autoPlay={isPlaying}\r\n                muted={isMuted || !isPlaying}\r\n                preload={shouldLoad ? 'auto' : 'metadata'}\r\n                poster={video.thumbnail}\r\n                onError={(e) => console.error('Video error for', video.id, ':', e.target.error, 'src:', video.videoUrl)}\r\n                onLoadStart={() => console.log('Video load started:', video.id, 'src:', video.videoUrl)}\r\n                onCanPlay={() => console.log('Video can play:', video.id)}\r\n                className={cn(\r\n                  \"w-full h-full bg-black\",\r\n                  isMaximized ? \"object-contain\" : \"object-cover\"\r\n                )}\r\n              />\r\n              \r\n              {/* Sample badge */}\r\n              {video.videoType === 'sample' && (\r\n                <Badge variant=\"secondary\" className=\"absolute bottom-4 left-4 bg-black/60 text-white border-white/20\">\r\n                  Sample\r\n                </Badge>\r\n              )}\r\n\r\n              {/* Maximize/minimize button */}\r\n              <Button\r\n                size=\"icon\"\r\n                variant=\"ghost\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  onToggleMaximize(video.id);\r\n                }}\r\n                className=\"absolute top-4 right-4 bg-black/40 hover:bg-black/60 text-white opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                aria-label={isMaximized ? 'Exit fullscreen' : 'Maximize'}\r\n              >\r\n                {isMaximized ? <Minimize className=\"h-5 w-5\" /> : <Maximize className=\"h-5 w-5\" />}\r\n              </Button>\r\n\r\n              {/* Mute/unmute button */}\r\n              <Button\r\n                size=\"icon\"\r\n                variant=\"ghost\"\r\n                onClick={handleMuteClick}\r\n                className=\"absolute bottom-4 left-4 bg-black/40 hover:bg-black/60 text-white opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                aria-label={isMuted ? 'Unmute' : 'Mute'}\r\n              >\r\n                {isMuted ? <VolumeX className=\"h-5 w-5\" /> : <Volume2 className=\"h-5 w-5\" />}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Right: Action buttons */}\r\n        <div className={cn(\r\n          \"flex-shrink-0 flex justify-center order-3 md:order-2\",\r\n          isMaximized && \"fixed right-4 md:right-8 top-1/2 -translate-y-1/2 z-[1450]\",\r\n          isMaximized ? \"w-20 md:w-24 bg-black/30 backdrop-blur-sm rounded-xl py-4\" : \"w-full md:w-20\"\r\n        )}>\r\n          <div className=\"flex flex-col items-center justify-center gap-4 w-full\">\r\n            {/* Previous button */}\r\n            <Button\r\n              size=\"icon\"\r\n              variant=\"ghost\"\r\n              onClick={onPrev}\r\n              className={cn(\r\n                \"rounded-full transition-all hover:scale-110\",\r\n                isMaximized ? \"text-white hover:bg-white/20\" : \"text-white hover:bg-white/20\"\r\n              )}\r\n              aria-label=\"previous\"\r\n            >\r\n              <ChevronUp className=\"h-6 w-6\" />\r\n            </Button>\r\n\r\n            {/* Like button */}\r\n            <div className=\"flex flex-col items-center gap-1\">\r\n              <Button\r\n                size=\"icon\"\r\n                variant=\"ghost\"\r\n                onClick={() => onLike(video.id)}\r\n                className={cn(\r\n                  \"rounded-full transition-all hover:scale-110\",\r\n                  video.isLiked \r\n                    ? \"text-red-500 hover:bg-red-500/20\" \r\n                    : isMaximized \r\n                      ? \"text-white hover:bg-white/20\" \r\n                      : \"text-white hover:bg-white/20\"\r\n                )}\r\n                aria-label=\"like\"\r\n              >\r\n                <Heart className={cn(\"h-6 w-6\", video.isLiked && \"fill-current\")} />\r\n              </Button>\r\n              <span className=\"text-xs font-bold text-white bg-black/40 px-2 py-0.5 rounded-full\">\r\n                {video.likesCount ?? 0}\r\n              </span>\r\n            </div>\r\n\r\n            {/* Comment button */}\r\n            <div className=\"flex flex-col items-center gap-1\">\r\n              <Button\r\n                size=\"icon\"\r\n                variant=\"ghost\"\r\n                onClick={() => onCommentToggle(video.id)}\r\n                className={cn(\r\n                  \"rounded-full transition-all hover:scale-110\",\r\n                  isMaximized ? \"text-white hover:bg-white/20\" : \"text-white hover:bg-white/20\"\r\n                )}\r\n                aria-label=\"comment\"\r\n              >\r\n                <MessageCircle className=\"h-6 w-6\" />\r\n              </Button>\r\n              <span className=\"text-xs font-bold text-white bg-black/40 px-2 py-0.5 rounded-full\">\r\n                {commentCount}\r\n              </span>\r\n            </div>\r\n\r\n            {/* Share button */}\r\n            <div className=\"flex flex-col items-center gap-1\">\r\n              <Button\r\n                size=\"icon\"\r\n                variant=\"ghost\"\r\n                onClick={() => onShare(video.id)}\r\n                className={cn(\r\n                  \"rounded-full transition-all hover:scale-110\",\r\n                  isMaximized ? \"text-white hover:bg-white/20\" : \"text-white hover:bg-white/20\"\r\n                )}\r\n                aria-label=\"share\"\r\n              >\r\n                <Share2 className=\"h-6 w-6\" />\r\n              </Button>\r\n              <span className=\"text-xs font-bold text-white bg-black/40 px-2 py-0.5 rounded-full\">\r\n                {video.sharesCount ?? 0}\r\n              </span>\r\n            </div>\r\n\r\n            {/* Report button */}\r\n            <div className=\"flex flex-col items-center gap-1\">\r\n              <ReportButton contentType=\"video\" contentId={video.id} className={cn(\"rounded-full transition-all hover:scale-110\", isMaximized ? \"text-white hover:bg-white/20\" : \"text-white hover:bg-white/20\")} />\r\n              <span className=\"text-xs font-bold text-white bg-black/40 px-2 py-0.5 rounded-full\"> &nbsp; </span>\r\n            </div>\r\n\r\n            {/* Save button */}\r\n            <div className=\"flex flex-col items-center gap-1\">\r\n              <Button\r\n                size=\"icon\"\r\n                variant=\"ghost\"\r\n                onClick={() => onSave(video.id)}\r\n                className={cn(\r\n                  \"rounded-full transition-all hover:scale-110\",\r\n                  video.saved \r\n                    ? \"text-purple-400 hover:bg-purple-400/20\" \r\n                    : isMaximized \r\n                      ? \"text-white hover:bg-white/20\" \r\n                      : \"text-white hover:bg-white/20\"\r\n                )}\r\n                aria-label=\"save\"\r\n              >\r\n                <Bookmark className={cn(\"h-6 w-6\", video.saved && \"fill-current\")} />\r\n              </Button>\r\n              <span className=\"text-xs font-semibold text-white\">\r\n                {video.saved ? t('homePage.saved', 'Saved') : ''}\r\n              </span>\r\n            </div>\r\n\r\n            {/* Next button */}\r\n            <Button\r\n              size=\"icon\"\r\n              variant=\"ghost\"\r\n              onClick={onNext}\r\n              className={cn(\r\n                \"rounded-full transition-all hover:scale-110\",\r\n                isMaximized ? \"text-white hover:bg-white/20\" : \"text-white hover:bg-white/20\"\r\n              )}\r\n              aria-label=\"next\"\r\n            >\r\n              <ChevronDown className=\"h-6 w-6\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst Videos = () => {\r\n  const { t } = useTranslation();\r\n  const { user } = useAuth();\r\n  const [videos, setVideos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [currentVideoIndex, setCurrentVideoIndex] = useState(0);\r\n  const [playingVideoId, setPlayingVideoId] = useState(null);\r\n  const [isMuted, setIsMuted] = useState(false); // FIX: Add global mute state\r\n  const [visibleCommentsFor, setVisibleCommentsFor] = useState(null);\r\n  const [maximizedVideoId, setMaximizedVideoId] = useState(null);\r\n  const [commentsByVideo, setCommentsByVideo] = useState({});\r\n  const [hasMoreVideos, setHasMoreVideos] = useState(true);\r\n  const containerRef = useRef(null);\r\n  const isFetchingMore = useRef(false);\r\n  const isScrollingRef = useRef(false);\r\n  const wheelTimeoutRef = useRef(null);\r\n  const touchStartYRef = useRef(0);\r\n  const touchDeltaYRef = useRef(0);\r\n  // `useParams` returns route params as strings. Normalize when comparing to\r\n  // video ids (which may be numbers or strings) to avoid strict-equality type\r\n  // mismatches when route is `/videos/:id`.\r\n  const params = useParams();\r\n  const { id: initialVideoId } = params;\r\n  const normalizedInitialVideoId = initialVideoId ? String(initialVideoId) : null;\r\n\r\n  useEffect(() => {\r\n    fetchVideos(initialVideoId);\r\n  }, [initialVideoId]);\r\n\r\n  // Helper: fetch stats for multiple videos and merge into videos state\r\n  const fetchStatsForVideos = async (ids = []) => {\r\n    if (!ids || !ids.length) return;\r\n    try {\r\n      const promises = ids.map(async (id) => {\r\n        const video = videos.find((v) => v.id === id);\r\n        const videoType = video?.videoType || video?.video_type || video?.type || null;\r\n\r\n        if (videoType === \"sample\") {\r\n          // For sample videos, return mock stats or fetch from a public endpoint if available\r\n          return {\r\n            id,\r\n            stats: {\r\n              likes: video?.likes || 0,\r\n              comments: video?.comments || 0,\r\n              shares: video?.shares || 0,\r\n              isLiked: video?.isLiked || false,\r\n              saved: video?.saved || false,\r\n            },\r\n          };\r\n        } else {\r\n          // For non-sample videos, fetch stats from the API\r\n          try {\r\n            const response = await getVideoStats(id);\r\n            return { id, stats: response?.data?.data ?? response?.data };\r\n          } catch {\r\n            return { id, stats: null };\r\n          }\r\n        }\r\n      });\r\n\r\n      const results = await Promise.all(promises);\r\n      \r\n      // Get localStorage state for anonymous users\r\n      const likedVideos = getLocalStorageArray('likedVideos');\r\n      const savedVideos = getLocalStorageArray('savedVideos');\r\n\r\n      // Apply stats to state (normalize returned stats fields)\r\n      setVideos((prev) =>\r\n        prev.map((v) => {\r\n          const res = results.find((r) => r.id === v.id);\r\n          if (!res || !res.stats) return v;\r\n          const s = res.stats;\r\n          return {\r\n            ...v,\r\n            likes: _extractNumber(s, ['likes', 'likes_count', 'likesCount'], v.likes ?? 0),\r\n            comments: _extractNumber(s, ['comments', 'comments_count', 'commentsCount'], v.comments ?? 0),\r\n            shares: _extractNumber(s, ['shares', 'shares_count', 'sharesCount'], v.shares ?? 0),\r\n            // For anonymous users, prefer localStorage state; for logged-in users, use server state\r\n            isLiked: (!user || user.role === null)\r\n              ? likedVideos.includes(v.id)\r\n              : _extractBoolean(s, ['isLiked', 'is_liked', 'liked'], v.isLiked ?? false),\r\n            saved: (!user || user.role === null)\r\n              ? savedVideos.includes(v.id)\r\n              : _extractBoolean(s, ['saved', 'is_saved', 'isSaved'], v.saved ?? false),\r\n          };\r\n        })\r\n      );\r\n    } catch (e) {\r\n      console.error('Failed to fetch video stats batch', e);\r\n    }\r\n  };\r\n\r\n  // Helper: refresh single video stats (use after an action)\r\n  const refreshVideoStats = async (videoId) => {\r\n    if (!videoId) return;\r\n    try {\r\n      const r = await getVideoStats(videoId);\r\n      const s = r?.data?.data ?? r?.data;\r\n      if (!s) return;\r\n      \r\n      setVideos((prev) => prev.map((v) => {\r\n        if (v.id !== videoId) return v;\r\n        return {\r\n          ...v,\r\n          likes: _extractNumber(s, ['likes', 'likes_count', 'likesCount'], v.likes ?? 0),\r\n          likesCount: _extractNumber(s, ['likes', 'likes_count', 'likesCount'], v.likesCount ?? 0),\r\n          comments: _extractNumber(s, ['comments', 'comments_count', 'commentsCount'], v.comments ?? 0),\r\n          commentsCount: _extractNumber(s, ['comments', 'comments_count', 'commentsCount'], v.commentsCount ?? 0),\r\n          shares: _extractNumber(s, ['shares', 'shares_count', 'sharesCount'], v.shares ?? 0),\r\n          sharesCount: _extractNumber(s, ['shares', 'shares_count', 'sharesCount'], v.sharesCount ?? 0),\r\n          // Always use server state for logged-in users\r\n          isLiked: _extractBoolean(s, ['isLiked', 'is_liked', 'liked'], v.isLiked ?? false),\r\n          saved: _extractBoolean(s, ['saved', 'is_saved', 'isSaved', 'isSavedFlag'], v.saved ?? false)\r\n        };\r\n      }));\r\n    } catch (err) {\r\n      console.error('Failed to refresh stats for', videoId, err);\r\n    }\r\n  };\r\n\r\n  const fetchVideos = async (startId = null, append = false) => {\r\n    if (isFetchingMore.current) return;\r\n    isFetchingMore.current = true;\r\n\r\n    try {\r\n      setLoading(!append);\r\n      console.log('Fetching videos with startId:', startId);\r\n      // Use public endpoint alias to avoid \"No token provided\" when unauthenticated.\r\n      // Be tolerant to multiple response shapes (array, { videos: [...] }, { data: { videos: [...] } }, etc.)\r\n      const response = await axios.get(`${API_BASE_URL}/videos/public/getVideosForHomePage`, { params: { id: startId } });\r\n      console.log('Videos response:', response);\r\n      const payload = response?.data ?? response ?? {};\r\n\r\n      let rawList = [];\r\n      if (Array.isArray(payload)) {\r\n        rawList = payload;\r\n      } else if (Array.isArray(payload.videos)) {\r\n        rawList = payload.videos;\r\n      } else if (Array.isArray(payload.data?.videos)) {\r\n        rawList = payload.data.videos;\r\n      } else if (Array.isArray(payload.data)) {\r\n        rawList = payload.data;\r\n      } else if (Array.isArray(payload.videos?.data)) {\r\n        rawList = payload.videos.data;\r\n      } else {\r\n        // last-resort: try to find any array field\r\n        const arrField = Object.values(payload).find((v) => Array.isArray(v));\r\n        if (Array.isArray(arrField)) rawList = arrField;\r\n      }\r\n\r\n      const normalized = rawList.map((v) => {\r\n        const n = normalizeVideoFromApi(v);\r\n        const video = {\r\n          ...n,\r\n          id: n?.id ?? v?.id,\r\n        };\r\n        console.log('Normalized video:', video.id, 'videoUrl:', video.videoUrl);\r\n        return video;\r\n      });\r\n\r\n      // Restore anonymous user interaction state from localStorage\r\n      const likedVideos = getLocalStorageArray('likedVideos');\r\n      const savedVideos = getLocalStorageArray('savedVideos');\r\n      \r\n      const restoredVideos = normalized.map(v => ({\r\n        ...v,\r\n        isLiked: likedVideos.includes(v.id) || v.isLiked || false,\r\n        saved: savedVideos.includes(v.id) || v.saved || false,\r\n      }));\r\n\r\n      setVideos((prev) => {\r\n        const next = append ? [...prev, ...restoredVideos] : restoredVideos;\r\n        // If nothing is playing yet, start autoplay on the first video\r\n        if (!playingVideoId && next.length > 0) {\r\n          setPlayingVideoId(next[0].id);\r\n          setCurrentVideoIndex(0);\r\n        }\r\n        return next;\r\n      });\r\n       // Merge authoritative stats for those videos (best-effort)\r\n       fetchStatsForVideos(normalized.map(v => v.id));\r\n      // Use returned total if provided, otherwise base on received page length\r\n      const returnedTotal = (payload?.total ?? payload?.data?.total) ?? null;\r\n      if (returnedTotal != null) {\r\n        setHasMoreVideos((prev) => {\r\n          // if total > current length then more exists\r\n          return returnedTotal > (append ? videos.length + normalized.length : normalized.length);\r\n        });\r\n      } else {\r\n        setHasMoreVideos(normalized.length > 0);\r\n      }\r\n    } catch (err) {\r\n      const errorMsg = err?.response?.data?.message || err?.message || \"Failed to fetch videos\";\r\n      setError(errorMsg);\r\n      console.error(\"Failed to fetch videos:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n      isFetchingMore.current = false;\r\n    }\r\n  };\r\n\r\n  const handleScroll = () => {\r\n    if (!hasMoreVideos || isFetchingMore.current) return;\r\n\r\n    const container = containerRef.current;\r\n    if (container) {\r\n      const { scrollTop, scrollHeight, clientHeight } = container;\r\n      if (scrollHeight - scrollTop <= clientHeight * 1.5) {\r\n        // Fetch more videos when near the bottom\r\n        const lastVideoId = videos[videos.length - 1]?.id;\r\n        fetchVideos(lastVideoId, true);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const container = containerRef.current;\r\n    if (container) {\r\n      container.addEventListener(\"scroll\", handleScroll);\r\n      return () => container.removeEventListener(\"scroll\", handleScroll);\r\n    }\r\n  }, [videos, hasMoreVideos]);\r\n\r\n  useEffect(() => {\r\n    if (initialVideoId && videos.length > 0) {\r\n      // Compare ids as strings to handle numeric ids returned by the API\r\n      const index = videos.findIndex((v) => String(v.id) === normalizedInitialVideoId);\r\n      console.log('Looking for video with ID:', normalizedInitialVideoId, 'found at index:', index, 'out of', videos.length, 'videos');\r\n      if (index !== -1) {\r\n        console.log('Setting current video index to:', index, 'video:', videos[index]);\r\n        setCurrentVideoIndex(index);\r\n        setPlayingVideoId(videos[index].id);\r\n        // Note: `setMutedVideoId` did not exist and caused a runtime error.\r\n        // Removing that call fixes the route handling for `/videos/:id`.\r\n        const container = containerRef.current;\r\n        const child = container?.children[index];\r\n        if (child) {\r\n          console.log('Scrolling to video at index:', index);\r\n          child.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n        }\r\n      } else {\r\n        console.warn('Video ID not found in videos array:', normalizedInitialVideoId);\r\n      }\r\n    }\r\n  }, [initialVideoId, videos, normalizedInitialVideoId]);\r\n\r\n  // Navigation helpers\r\n  const goToIndex = useCallback((idx) => {\r\n    if (!videos.length) return;\r\n    const newIndex = (idx + videos.length) % videos.length;\r\n    const targetVideoId = videos[newIndex].id;\r\n    setCurrentVideoIndex(newIndex);\r\n    setPlayingVideoId(targetVideoId);\r\n    setMaximizedVideoId((prev) => (prev ? targetVideoId : null));\r\n    // scroll the container to the target child to keep in view\r\n    const container = containerRef.current;\r\n    if (container) {\r\n      const child = container.children[newIndex];\r\n      if (child) {\r\n        child.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n      }\r\n    }\r\n  }, [videos]);\r\n\r\n  const goNext = useCallback(() => goToIndex(currentVideoIndex + 1), [goToIndex, currentVideoIndex]);\r\n  const goPrev = useCallback(() => goToIndex(currentVideoIndex - 1), [goToIndex, currentVideoIndex]);\r\n\r\n  const handleTogglePlay = (videoId) => {\r\n    setPlayingVideoId((prev) => (prev === videoId ? null : videoId));\r\n  };\r\n\r\n  const handleToggleMute = () => {\r\n    setIsMuted((prev) => !prev); // Toggle global mute state\r\n  };\r\n\r\n  const handleActionWithAnonymousUser = async (actionFn, videoId, ...args) => {\r\n    const targetVideo = videos.find((v) => v.id === videoId);\r\n    const videoType = targetVideo?.videoType || targetVideo?.video_type || targetVideo?.type || null;\r\n    const isUserLoggedIn = !!(user && user.role !== null);\r\n\r\n    // If this is a non-sample video and the user is not logged in, require login first.\r\n    if (videoType !== 'sample' && !isUserLoggedIn) {\r\n      await ensureLoggedInThen(() => actionFn(videoId, ...args));\r\n      return;\r\n    }\r\n\r\n    // For sample videos, the backend will accept unauthenticated requests and map them to a canonical\r\n    // anonymous user. To support optimistic UI we create a lightweight client-side placeholder id\r\n    // (if one doesn't already exist) and call the action directly. The server will still record the\r\n    // real anonymous user and return canonical IDs when it responds.\r\n    if (videoType === 'sample' && !window.__anonymousUserId) {\r\n      window.__anonymousUserId = `anon-temp-${Date.now()}`;\r\n    }\r\n\r\n    try {\r\n      await actionFn(videoId, ...args);\r\n    } catch (err) {\r\n      // If the server still rejects with 401, fall back to login flow.\r\n      if (err?.response?.status === 401) {\r\n        await ensureLoggedInThen(() => actionFn(videoId, ...args));\r\n      } else {\r\n        // Re-throw for higher-level handlers to catch (UI will show toast where appropriate)\r\n        throw err;\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleLike = async (videoId) => {\r\n    await handleActionWithAnonymousUser(async (videoId) => {\r\n      const target = videos.find((v) => v.id === videoId);\r\n      const wasLiked = target?.isLiked || false;\r\n      \r\n      // Optimistic update\r\n      setVideos((prev) =>\r\n        prev.map((v) =>\r\n          v.id === videoId\r\n            ? { \r\n                ...v, \r\n                isLiked: !wasLiked, \r\n                likes: wasLiked ? Math.max(0, (v.likes || 0) - 1) : (v.likes || 0) + 1,\r\n                likesCount: wasLiked ? Math.max(0, (v.likesCount || 0) - 1) : (v.likesCount || 0) + 1\r\n              }\r\n            : v\r\n        )\r\n      );\r\n\r\n      try {\r\n        if (wasLiked) {\r\n          await unlikeVideo(videoId);\r\n          // Track anonymous unlike in localStorage\r\n          if (!user || user.role === null) {\r\n            const likedVideos = getLocalStorageArray('likedVideos');\r\n            localStorage.setItem('likedVideos', JSON.stringify(likedVideos.filter(id => id !== videoId)));\r\n          }\r\n          toast.success(\"Removed like\");\r\n        } else {\r\n          await likeVideo(videoId);\r\n          // Track anonymous like in localStorage\r\n          if (!user || user.role === null) {\r\n            const likedVideos = getLocalStorageArray('likedVideos');\r\n            if (!likedVideos.includes(videoId)) {\r\n              likedVideos.push(videoId);\r\n              localStorage.setItem('likedVideos', JSON.stringify(likedVideos));\r\n            }\r\n          }\r\n          toast.success(\"You liked the video\");\r\n        }\r\n        // Don't refresh immediately - the optimistic update is correct\r\n        // The server will have the authoritative count on next fetch\r\n      } catch (err) {\r\n        // Revert optimistic update on error\r\n        setVideos((prev) =>\r\n          prev.map((v) =>\r\n            v.id === videoId\r\n              ? { \r\n                  ...v, \r\n                  isLiked: wasLiked, \r\n                  likes: wasLiked ? (v.likes || 0) + 1 : Math.max(0, (v.likes || 0) - 1),\r\n                  likesCount: wasLiked ? (v.likesCount || 0) + 1 : Math.max(0, (v.likesCount || 0) - 1)\r\n                }\r\n              : v\r\n          )\r\n        );\r\n        toast.error(\"Failed to update like\");\r\n        console.error(\"Like error:\", err);\r\n      }\r\n    }, videoId);\r\n  };\r\n\r\n  const handleShare = async (videoId) => {\r\n    await handleActionWithAnonymousUser(async (videoId) => {\r\n      try {\r\n        const response = await shareVideo(videoId);\r\n        const shareableLink = response?.data?.data?.shareableLink;\r\n\r\n        if (shareableLink) {\r\n          const popup = window.open(\r\n            `/share?link=${encodeURIComponent(shareableLink)}`,\r\n            \"Share Video\",\r\n            \"width=600,height=700\"\r\n          );\r\n          if (!popup) {\r\n            toast.error(\"Popup blocked. Please allow popups and try again.\");\r\n          }\r\n        } else {\r\n          toast.error(\"Failed to generate shareable link.\");\r\n        }\r\n\r\n        // Optimistically increment the share count\r\n        setVideos((prev) =>\r\n          prev.map((v) =>\r\n            v.id === videoId ? { \r\n              ...v, \r\n              shares: (v.shares || 0) + 1,\r\n              sharesCount: (v.sharesCount || 0) + 1\r\n            } : v\r\n          )\r\n        );\r\n        \r\n        // Track anonymous share in localStorage\r\n        if (!user || user.role === null) {\r\n          const sharedVideos = getLocalStorageArray('sharedVideos');\r\n          if (!sharedVideos.includes(videoId)) {\r\n            sharedVideos.push(videoId);\r\n            localStorage.setItem('sharedVideos', JSON.stringify(sharedVideos));\r\n          }\r\n        }\r\n\r\n        // Don't refresh immediately - the optimistic update is correct\r\n      } catch (err) {\r\n        toast.error(\"Failed to share video\");\r\n        console.error(\"Share error:\", err);\r\n      }\r\n    }, videoId);\r\n  };\r\n\r\n  const handleSave = async (videoId) => {\r\n    await handleActionWithAnonymousUser(async (videoId) => {\r\n      const target = videos.find((v) => v.id === videoId);\r\n      const wasSaved = target?.saved || false;\r\n      \r\n      // Optimistic toggle\r\n      setVideos((prev) =>\r\n        prev.map((v) => (v.id === videoId ? { ...v, saved: !wasSaved } : v))\r\n      );\r\n\r\n      try {\r\n        if (wasSaved) {\r\n          await unsaveVideo(videoId);\r\n          // Track anonymous unsave in localStorage\r\n          if (!user || user.role === null) {\r\n            const savedVideos = getLocalStorageArray('savedVideos');\r\n            localStorage.setItem('savedVideos', JSON.stringify(savedVideos.filter(id => id !== videoId)));\r\n          }\r\n          toast.success(\"Removed from saved\");\r\n        } else {\r\n          await saveVideo(videoId);\r\n          // Track anonymous save in localStorage\r\n          if (!user || user.role === null) {\r\n            const savedVideos = getLocalStorageArray('savedVideos');\r\n            if (!savedVideos.includes(videoId)) {\r\n              savedVideos.push(videoId);\r\n              localStorage.setItem('savedVideos', JSON.stringify(savedVideos));\r\n            }\r\n          }\r\n          toast.success(\"Saved\");\r\n        }\r\n        // Don't refresh immediately - the optimistic update is correct\r\n      } catch (err) {\r\n        // Revert optimistic toggle on error\r\n        setVideos((prev) =>\r\n          prev.map((v) => (v.id === videoId ? { ...v, saved: wasSaved } : v))\r\n        );\r\n        toast.error(\"Failed to save\");\r\n        console.error(\"Save error:\", err);\r\n      }\r\n    }, videoId);\r\n  };\r\n\r\n  const fetchComments = useCallback(async (videoId, page = 1, limit = 20) => {\r\n    setCommentsByVideo((prev) => ({ ...prev, [videoId]: { ...(prev[videoId] || {}), loading: true, submitting: prev?.[videoId]?.submitting || false } }));\r\n    try {\r\n      const resp = await getVideoComments(videoId, page, limit);\r\n      const payload = resp?.data ?? resp;\r\n\r\n      let comments = [];\r\n      let total = 0;\r\n\r\n      if (Array.isArray(payload)) {\r\n        comments = payload;\r\n        total = payload.length;\r\n      } else if (payload?.comments && Array.isArray(payload.comments)) {\r\n        comments = payload.comments;\r\n        total = payload.total ?? comments.length;\r\n      } else if (payload?.data) {\r\n        const inner = payload.data;\r\n        if (Array.isArray(inner)) {\r\n          comments = inner;\r\n          total = inner.length;\r\n        } else if (inner?.comments && Array.isArray(inner.comments)) {\r\n          comments = inner.comments;\r\n          total = inner.total ?? comments.length;\r\n        }\r\n      } else if (payload?.success && payload?.comments && Array.isArray(payload.comments)) {\r\n        comments = payload.comments;\r\n        total = payload.total ?? comments.length;\r\n      }\r\n\r\n      setCommentsByVideo((prev) => ({\r\n        ...prev,\r\n        [videoId]: {\r\n          comments,\r\n          page,\r\n          total,\r\n          loading: false,\r\n          submitting: prev?.[videoId]?.submitting || false\r\n        }\r\n      }));\r\n    } catch (err) {\r\n      console.error('Failed to load comments', err);\r\n      setCommentsByVideo((prev) => ({ ...prev, [videoId]: { ...(prev[videoId] || {}), loading: false, submitting: prev?.[videoId]?.submitting || false } }));\r\n    }\r\n  }, []);\r\n\r\n  const handleCommentToggle = (videoId) => {\r\n    setVisibleCommentsFor((prev) => {\r\n      const next = prev === videoId ? null : videoId;\r\n      // if opening and not loaded, fetch first page\r\n      if (next === videoId && (!commentsByVideo[videoId] || !commentsByVideo[videoId].comments)) {\r\n        fetchComments(videoId, 1);\r\n      }\r\n      return next;\r\n    });\r\n  };\r\n\r\n  const handleAddComment = async (videoId, text, inputElem) => {\r\n    await handleActionWithAnonymousUser(async (videoId, text, inputElem) => {\r\n      setCommentsByVideo((prev) => ({\r\n        ...prev,\r\n        [videoId]: { ...(prev[videoId] || {}), submitting: true },\r\n      }));\r\n\r\n      try {\r\n        const response = await addVideoComment(videoId, { content: text });\r\n        const savedComment = response?.data?.comment || {\r\n          id: `temp-${Date.now()}`,\r\n          content: text,\r\n          user: { id: user.id, name: user.name || \"Anonymous\" },\r\n          createdAt: new Date().toISOString(),\r\n        };\r\n\r\n        setCommentsByVideo((prev) => {\r\n          const existing = prev[videoId] || { comments: [], total: 0 };\r\n          return {\r\n            ...prev,\r\n            [videoId]: {\r\n              ...existing,\r\n              comments: [savedComment, ...existing.comments],\r\n              total: existing.total + 1,\r\n              submitting: false,\r\n            },\r\n          };\r\n        });\r\n\r\n        setVideos((prev) =>\r\n          prev.map((v) =>\r\n            v.id === videoId ? { ...v, comments: (v.comments || 0) + 1 } : v\r\n          )\r\n        );\r\n\r\n        if (inputElem) {\r\n          inputElem.value = \"\";\r\n          inputElem.blur();\r\n        }\r\n\r\n        toast.success(\"Comment added\");\r\n        // Don't refresh immediately - the optimistic update is correct\r\n      } catch (err) {\r\n        setCommentsByVideo((prev) => ({\r\n          ...prev,\r\n          [videoId]: { ...(prev[videoId] || {}), submitting: false },\r\n        }));\r\n        toast.error(\"Failed to add comment\");\r\n      }\r\n    }, videoId, text, inputElem);\r\n  };\r\n\r\n  // Open a login popup and wait for authentication to complete via AuthContext postMessage or storage event.\r\n  const ensureLoggedInThen = (actionFn) => {\r\n    return new Promise((resolve, reject) => {\r\n      // If user became available in the meantime, run immediately\r\n      if (user && user.role !== null) {\r\n        try { actionFn(); resolve(); } catch (e) { reject(e); }\r\n        return;\r\n      }\r\n\r\n      const popup = window.open('/login', 'login_popup', 'width=600,height=700');\r\n      if (!popup) {\r\n        toast.error(t('common.popupBlocked','Popup blocked. Please allow popups and try again.'));\r\n        return reject(new Error('Popup blocked'));\r\n      }\r\n\r\n      const cleanup = () => {\r\n        window.removeEventListener('message', messageListener);\r\n        window.removeEventListener('storage', storageListener);\r\n        clearTimeout(timeout);\r\n        try { if (popup && !popup.closed) popup.close(); } catch (e) {}\r\n      };\r\n\r\n      const finalize = () => {\r\n        cleanup();\r\n        // Wait longer for AuthContext to update user before running actionFn\r\n        setTimeout(() => {\r\n          try { \r\n            // Just run the action - the user context will be updated\r\n            actionFn(); \r\n          } catch (e) { \r\n            console.error('Action after login failed', e); \r\n          }\r\n          resolve();\r\n        }, 500); // Increased delay to ensure user context is updated\r\n      };\r\n\r\n      const messageListener = (event) => {\r\n        if (event.origin !== window.location.origin) return;\r\n        const data = event.data || {};\r\n        if (data.type === 'OAUTH_COMPLETE' || data.type === 'LINKEDIN_AUTH_SUCCESS' || data.type === 'google-oauth-complete') {\r\n          setTimeout(finalize, 300);\r\n        }\r\n      };\r\n\r\n      const storageListener = (event) => {\r\n        if (event.key === 'accessToken' && event.newValue) {\r\n          setTimeout(finalize, 200);\r\n        }\r\n      };\r\n\r\n      // Fallback timeout: close listeners after 5 minutes\r\n      const timeout = setTimeout(() => {\r\n        cleanup();\r\n        toast.error(t('common.loginTimeout','Login timed out'));\r\n        reject(new Error('Login timed out'));\r\n      }, 5 * 60 * 1000);\r\n\r\n      window.addEventListener('message', messageListener);\r\n      window.addEventListener('storage', storageListener);\r\n\r\n      // Also observe AuthContext user change by polling briefly (non-intensive)\r\n      let waitCount = 0;\r\n      const interval = setInterval(() => {\r\n        if (user && user.role !== null) {\r\n          clearInterval(interval);\r\n          finalize();\r\n        }\r\n        waitCount += 1;\r\n        if (waitCount > 40) { // stop after ~4s\r\n          clearInterval(interval);\r\n        }\r\n      }, 100);\r\n    });\r\n  };\r\n\r\n  // toggle maximize state\r\n  const handleToggleMaximize = useCallback((videoId) => {\r\n    setMaximizedVideoId((prev) => (prev === videoId ? null : videoId));\r\n  }, []);\r\n\r\n  // lock body scroll when a video is maximized\r\n  // NOTE: Previously body scrolling was disabled when a video was maximized (overflow: hidden).\r\n  // Requirement: allow normal page scrolling while maximized, so we intentionally DO NOT\r\n  // lock body scroll anymore. This effect kept for future hook / documentation.\r\n  useEffect(() => {\r\n    // no-op on maximize now to keep scrolling enabled\r\n  }, [maximizedVideoId]);\r\n\r\n  \r\n\r\n  // ---- Wheel & touch listeners: set passive:false and preventDefault so any wheel triggers navigation ----\r\n  useEffect(() => {\r\n    const el = containerRef.current;\r\n    if (!el) return;\r\n\r\n    const wheelHandler = (e) => {\r\n      e.preventDefault();\r\n      if (isScrollingRef.current) return;\r\n      isScrollingRef.current = true;\r\n      if (e.deltaY > 0) goNext(); else goPrev();\r\n      clearTimeout(wheelTimeoutRef.current);\r\n      wheelTimeoutRef.current = setTimeout(() => { isScrollingRef.current = false; }, 600);\r\n    };\r\n\r\n    const touchStart = (e) => { touchStartYRef.current = e.touches[0].clientY; touchDeltaYRef.current = 0; };\r\n    const touchMove = (e) => { touchDeltaYRef.current = e.touches[0].clientY - touchStartYRef.current; };\r\n    const touchEnd = () => {\r\n      const dy = touchDeltaYRef.current;\r\n      const threshold = 50;\r\n      if (Math.abs(dy) > threshold) {\r\n        if (dy < 0) goNext();\r\n        else goPrev();\r\n      }\r\n      touchDeltaYRef.current = 0;\r\n    };\r\n\r\n    \r\n  el.addEventListener('wheel', wheelHandler, { passive: false });\r\n    el.addEventListener('touchstart', touchStart, { passive: true });\r\n    el.addEventListener('touchmove', touchMove, { passive: true });\r\n    el.addEventListener('touchend', touchEnd, { passive: true });\r\n\r\n    return () => {\r\n      el.removeEventListener('wheel', wheelHandler);\r\n      el.removeEventListener('touchstart', touchStart);\r\n      el.removeEventListener('touchmove', touchMove);\r\n      el.removeEventListener('touchend', touchEnd);\r\n    };\r\n  }, [goNext, goPrev]);\r\n\r\n  // Keep axios Authorization header and global fetch token in sync with AuthContext user token\r\n  useEffect(() => {\r\n    const token = user?.token || user?.accessToken || user?.access_token || null;\r\n    if (token) {\r\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n      window.__authToken = token;\r\n    } else {\r\n      delete axios.defaults.headers.common['Authorization'];\r\n      window.__authToken = null;\r\n    }\r\n    // no cleanup required â€” we explicitly delete header when user becomes null\r\n  }, [user]);\r\n\r\n  // Refetch stats when user changes (login/logout) to get user-specific flags\r\n  useEffect(() => {\r\n    if (videos.length > 0) {\r\n      // Refresh stats for currently visible videos\r\n      const visibleRange = 2; // Videos before and after current\r\n      const startIdx = Math.max(0, currentVideoIndex - visibleRange);\r\n      const endIdx = Math.min(videos.length, currentVideoIndex + visibleRange + 1);\r\n      const visibleVideos = videos.slice(startIdx, endIdx);\r\n      \r\n      visibleVideos.forEach(v => {\r\n        refreshVideoStats(v.id).catch(() => {});\r\n      });\r\n    }\r\n  }, [user?.id, user?.userId]); // Only trigger when user ID changes (login/logout)\r\n\r\n  // Refetch stats when user changes (login/logout)\r\n  useEffect(() => {\r\n    if (videos.length > 0) {\r\n      fetchStatsForVideos(videos.map(v => v.id));\r\n    }\r\n  }, [user, videos.length]);\r\n\r\n  // Proactively fetch comment counts for videos that are active or near the viewport\r\n  useEffect(() => {\r\n    if (!videos || !videos.length) return;\r\n    const idsToFetch = [];\r\n    videos.forEach((v, idx) => {\r\n      const distance = Math.abs(idx - currentVideoIndex);\r\n      const shouldFetch = distance <= 1 || v.id === playingVideoId || maximizedVideoId === v.id;\r\n      if (shouldFetch) {\r\n        const meta = commentsByVideo[v.id];\r\n        if (!meta || (!meta.loading && (meta.comments == null || meta.total == null))) {\r\n          idsToFetch.push(v.id);\r\n        }\r\n      }\r\n    });\r\n\r\n    if (!idsToFetch.length) return;\r\n    // Fire-and-forget small requests (limit=1) to populate totals; swallow errors\r\n    idsToFetch.forEach((id) => {\r\n      // fetch only first page with limit=1 to get total without pulling all comments\r\n      fetchComments(id, 1, 1).catch(() => {});\r\n    });\r\n  }, [videos, currentVideoIndex, playingVideoId, commentsByVideo, maximizedVideoId, fetchComments]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-screen\">\r\n        <Loader2 className=\"h-12 w-12 animate-spin text-purple-500\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center min-h-screen p-6\">\r\n        <Card className=\"max-w-2xl w-full border-red-200 bg-red-50\">\r\n          <CardContent className=\"p-6 space-y-4\">\r\n            <h2 className=\"text-2xl font-bold text-red-800\">Oops!</h2>\r\n            <p className=\"text-red-700\">{error}</p>\r\n            <p className=\"text-sm text-gray-600\">\r\n              Please try refreshing the page or contact support if the problem persists.\r\n            </p>\r\n            <div className=\"flex gap-3\">\r\n              <Button\r\n                onClick={() => {\r\n                  setError(null);\r\n                  setLoading(true);\r\n                  fetchVideos(id);\r\n                }}\r\n                variant=\"default\"\r\n              >\r\n                Try Again\r\n              </Button>\r\n              <Button\r\n                onClick={() => window.location.href = '/'}\r\n                variant=\"outline\"\r\n              >\r\n                Go Home\r\n              </Button>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!videos.length) {\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center min-h-screen p-6 text-center\">\r\n        <Card className=\"max-w-md w-full\">\r\n          <CardContent className=\"p-8 space-y-3\">\r\n            <h2 className=\"text-2xl font-bold text-gray-800\">\r\n              {t('homePage.noVideosAvailable', 'No videos available.')}\r\n            </h2>\r\n            <p className=\"text-gray-600\">\r\n              {t('homePage.uploadPrompt', 'Start by uploading some videos!')}\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <SwipeScoutBackground />\r\n      <div\r\n        ref={containerRef}\r\n        data-main-container\r\n        className=\"min-h-screen overflow-y-auto scroll-smooth relative z-10 bg-transparent [&>div]:scroll-snap-align-start scrollbar-hide\"\r\n        style={{ scrollSnapType: 'y mandatory' }}\r\n      >\r\n        {videos.map((video, index) => {\r\n          const commentMeta = commentsByVideo[video.id] || {};\r\n          const resolvedCommentCount = commentMeta?.total ?? (Array.isArray(commentMeta?.comments) ? commentMeta.comments.length : undefined) ?? video.comments ?? 0;\r\n          const distanceFromActive = Math.abs(index - currentVideoIndex);\r\n          const isActive = playingVideoId === video.id;\r\n          const isMaximized = maximizedVideoId === video.id;\r\n          const shouldRenderCard = distanceFromActive <= 2 || isActive || isMaximized;\r\n          const shouldLoadVideo = shouldRenderCard || distanceFromActive <= 1 || isMaximized;\r\n          \r\n          if (index === 0 || isActive) {\r\n            console.log(`Video ${index} (${video.id}):`, {\r\n              distanceFromActive,\r\n              currentVideoIndex,\r\n              isActive,\r\n              shouldRenderCard,\r\n              shouldLoadVideo,\r\n              videoUrl: video.videoUrl\r\n            });\r\n          }\r\n\r\n          return (\r\n            <div key={video.id} className=\"min-h-screen flex items-center justify-center relative z-20\">\r\n              {shouldRenderCard ? (\r\n                <VideoCard\r\n                  video={video}\r\n                  isPlaying={isActive}\r\n                  onTogglePlay={handleTogglePlay}\r\n                  onToggleMute={handleToggleMute}\r\n                  isMuted={isMuted}\r\n                  onLike={handleLike}\r\n                  onShare={handleShare}\r\n                  onCommentToggle={handleCommentToggle}\r\n                  onSave={handleSave}\r\n                  showComments={visibleCommentsFor === video.id}\r\n                  onPrev={goPrev}\r\n                  onNext={goNext}\r\n                  isMaximized={isMaximized}\r\n                  onToggleMaximize={handleToggleMaximize}\r\n                  onAddComment={handleAddComment}\r\n                  commentList={commentMeta?.comments || []}\r\n                  commentsLoading={commentMeta?.loading || false}\r\n                  commentSubmitting={commentMeta?.submitting || false}\r\n                  commentCount={resolvedCommentCount}\r\n                  shouldLoad={shouldLoadVideo}\r\n                />\r\n              ) : (\r\n                <div className=\"w-full max-w-3xl min-h-screen flex items-center justify-center\">\r\n                  <Loader2 className=\"h-8 w-8 animate-spin text-white\" />\r\n                </div>\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      <ToastContainer position=\"bottom-right\" />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Videos;\r\n ",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\VideosFeed.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 56,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 56,
        "endColumn": 15
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchVideos'. Either include it or remove the dependency array.",
        "line": 482,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 482,
        "endColumn": 22,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchVideos, initialVideoId]",
            "fix": {
              "range": [
                18956,
                18972
              ],
              "text": "[fetchVideos, initialVideoId]"
            }
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'prev' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 583,
        "column": 27,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 583,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "prev"
            },
            "fix": {
              "range": [
                23042,
                23046
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'prev'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'handleScroll'. Either include it or remove the dependency array.",
        "line": 619,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 619,
        "endColumn": 29,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [videos, hasMoreVideos, handleScroll]",
            "fix": {
              "range": [
                24186,
                24209
              ],
              "text": "[videos, hasMoreVideos, handleScroll]"
            }
          }
        ]
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'setMutedVideoId' is not defined.",
        "line": 627,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 627,
        "endColumn": 24
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 710,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 710,
        "endColumn": 19
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 751,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 751,
        "endColumn": 19
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 774,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 774,
        "endColumn": 19
      },
      {
        "ruleId": "no-dupe-else-if",
        "severity": 2,
        "message": "This branch can never execute. Its condition is a duplicate or covered by previous conditions in the if-else-if chain.",
        "line": 808,
        "column": 18,
        "nodeType": "LogicalExpression",
        "messageId": "unexpected",
        "endLine": 808,
        "endColumn": 90
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'err' is defined but never used.",
        "line": 882,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 882,
        "endColumn": 19
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 938,
        "column": 67,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 938,
        "endColumn": 68
      },
      {
        "ruleId": "no-empty",
        "severity": 2,
        "message": "Empty block statement.",
        "line": 938,
        "column": 70,
        "nodeType": "BlockStatement",
        "messageId": "unexpected",
        "endLine": 938,
        "endColumn": 72,
        "suggestions": [
          {
            "messageId": "suggestComment",
            "data": {
              "type": "block"
            },
            "fix": {
              "range": [
                35196,
                35196
              ],
              "text": " /* empty */ "
            },
            "desc": "Add comment inside empty block statement."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 10,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport axios from 'axios'; // ADDED\r\nimport {\r\n  Box,\r\n  IconButton,\r\n  Typography,\r\n  CircularProgress,\r\n  Alert,\r\n  Stack,\r\n  Paper\r\n} from '@mui/material';\r\nimport {\r\n  PlayArrow,\r\n  VolumeUp,\r\n  VolumeOff,\r\n  Share,\r\n  Favorite,\r\n  Comment,\r\n  Bookmark,\r\n  KeyboardArrowUp,\r\n  KeyboardArrowDown,\r\n  Fullscreen,\r\n  FullscreenExit\r\n} from '@mui/icons-material';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { likeVideo, unlikeVideo, shareVideo, saveVideo, unsaveVideo, addVideoComment, getVideoComments, getVideoStats } from '@/services/api'; // removed getVideosForHomePage - using public endpoint directly\r\nimport { toast } from 'react-toastify';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useParams } from 'react-router-dom';\r\n\r\n// Ensure axios sends cookies by default (helps when backend uses session cookies)\r\naxios.defaults.withCredentials = true;\r\n\r\n// add API base constant (from Vite env or fallback)\r\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL + '/api' || 'http://localhost:5000/api';\r\n\r\n// Patch global fetch ONCE so same-origin /api/ requests include credentials and optional Authorization header.\r\n// This is idempotent and safe to run at module load.\r\nif (typeof window !== 'undefined' && !window.__fetchCredentialsPatched) {\r\n  const _fetch = window.fetch.bind(window);\r\n  window.fetch = (input, init = {}) => {\r\n    try {\r\n      const url = typeof input === 'string' ? input : (input && input.url) || '';\r\n      const shouldAttach = url.includes('/api/') || url.startsWith('/') || url.startsWith(window.location.origin);\r\n      if (shouldAttach) {\r\n        init = { ...init, credentials: init.credentials || 'include' };\r\n        const existingHeaders = init.headers instanceof Headers\r\n          ? Object.fromEntries(init.headers.entries())\r\n          : (init.headers || {});\r\n        // Attach Authorization from global token if available\r\n        const token = window.__authToken;\r\n        init.headers = { ...existingHeaders, ...(token ? { Authorization: `Bearer ${token}` } : {}) };\r\n      }\r\n    } catch (e) {\r\n      // swallow any errors â€” fallback to default fetch\r\n    }\r\n    return _fetch(input, init);\r\n  };\r\n  window.__fetchCredentialsPatched = true;\r\n}\r\n\r\n\r\n// VideoCard component (replace existing VideoCard with this)\r\nconst VideoCard = React.memo(({\r\n  video,\r\n  isPlaying,\r\n  onTogglePlay,\r\n  onToggleMute,\r\n  isMuted,\r\n  onLike,\r\n  onShare,\r\n  onCommentToggle,\r\n  onSave,\r\n  showComments,\r\n  onPrev,\r\n  onNext,\r\n  isMaximized,\r\n  onToggleMaximize,\r\n  onAddComment,\r\n  commentList = [],\r\n  commentsLoading = false,\r\n  commentSubmitting = false, // added prop\r\n  commentCount = 0, // NEW: display count coming from parent\r\n  shouldLoad = false // whether to set video.src / preload (lazy load)\r\n}) => {\r\n  const videoRef = useRef(null);\r\n  const { t } = useTranslation();\r\n\r\n  // width reserved for action buttons (px)\r\n  const actionsWidth = 96; // adjust to match the actual buttons column width\r\n\r\n  // ensure autoplay works (temporarily mute to satisfy browser autoplay policies)\r\n  useEffect(() => {\r\n    if (!videoRef.current) return;\r\n    if (!shouldLoad) {\r\n      videoRef.current?.pause?.();\r\n      return;\r\n    }\r\n    const v = videoRef.current;\r\n    if (isPlaying) {\r\n      // Temporarily ensure muted to allow autoplay, then restore according to isMuted.\r\n      v.muted = true;\r\n      // call play and handle promise rejection\r\n      const p = v.play();\r\n      if (p && p.then) {\r\n        p\r\n          .then(() => {\r\n            // restore to UI-controlled mute state after playback started\r\n            v.muted = !!isMuted;\r\n          })\r\n          .catch(() => {\r\n            // Autoplay blocked or other error â€” keep muted to avoid repeated rejections\r\n            v.muted = true;\r\n            // swallow error (already expected in some browsers)\r\n            // console.debug('play() rejected', err);\r\n          });\r\n      } else {\r\n        // older browsers: fallback\r\n        v.muted = !!isMuted;\r\n      }\r\n    } else {\r\n      videoRef.current?.pause?.();\r\n    }\r\n    // ...other side effects remain untouched...\r\n  }, [isPlaying, isMuted, shouldLoad]);\r\n\r\n  const handleVideoClick = () => {\r\n  if (isMaximized) return; // Prevent play/pause toggle when maximized\r\n  onTogglePlay(video.id);\r\n};\r\n  const handleMuteClick = (e) => { e.stopPropagation(); onToggleMute(video.id); };\r\n\r\n  // single margin used for top & bottom spacing â€” preserved\r\n  const marginSize = 12;\r\n  const videoHeightCalc = `calc(100vh - ${marginSize * 2}px)`;\r\n  // const videoWidthCalc = `calc(100wh - ${marginSize * 6}px)`;\r\n\r\n  // submit helper reused by button and Enter\r\n  const handleSubmitComment = (inputElem) => {\r\n    if (!inputElem) return;\r\n    if (commentSubmitting) return; // ignore while submitting\r\n    const text = inputElem.value.trim();\r\n    if (!text) return;\r\n    // clear input immediately so the text \"goes\" as soon as user submits\r\n    inputElem.value = '';\r\n    if (typeof inputElem.blur === 'function') {\r\n      inputElem.blur();\r\n    }\r\n    if (onAddComment) onAddComment(video.id, text, inputElem);\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        width: '100%',\r\n        minHeight: '100vh',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        boxSizing: 'border-box',\r\n        marginBottom: `${marginSize}px`,\r\n       \r\n        position: 'relative'\r\n      }}\r\n    >\r\n      <Box\r\n        sx={{\r\n          width: '100%',\r\n          maxWidth: 1100,\r\n          display: 'flex',\r\n          gap: 2,\r\n          \r\n          alignItems: 'stretch',\r\n          px: { xs: 2, md: 3 },\r\n          boxSizing: 'border-box',\r\n          flexDirection: { xs: 'column', md: 'row' },\r\n          position: 'relative'\r\n        }}\r\n      >\r\n        {/* Left: Comments + Metadata: when maximized -> overlay (bottom-left), otherwise bottom-aligned column */}\r\n        <Box\r\n          sx={{\r\n            width: { xs: '100%', md: 280 },\r\n            flexShrink: 0,\r\n            order: { xs: 2, md: 0 },\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            gap: 2,\r\n            justifyContent: 'flex-end',\r\n            minHeight: '100vh',\r\n            boxSizing: 'border-box',\r\n            pb: { xs: 2, md: 3 },\r\n\r\n            // overlay styling when maximized\r\n            ...(isMaximized && {\r\n              position: 'fixed',\r\n              left: 16,\r\n              right: 16,\r\n              bottom: 16,\r\n              top: 'auto',\r\n              width: '90%', //to calc\r\n              zIndex: 1500,\r\n              bgcolor: 'transparent', //rgba(0,0,0,0.45)\r\n              color: '#fff',\r\n              borderRadius: 2,\r\n              p: 2\r\n            })\r\n          }}\r\n        >\r\n          {/* Comments panel (left) â€” only shown when toggled */}\r\n          <Paper\r\n            elevation={1}\r\n            sx={{\r\n              p: 1,\r\n              borderRadius: 1,\r\n              maxHeight: { xs: 220, md: 420 },\r\n              overflowY: 'auto',\r\n              display: showComments ? 'block' : 'none',\r\n              ...(isMaximized && { bgcolor: 'transparent', boxShadow: 'none', color: '#fff' })\r\n            }}\r\n          >\r\n            <Typography variant=\"subtitle2\" sx={{ fontWeight: 600, mb: 1 }}>\r\n              Comments ({commentCount ?? (video.comments ?? 0)})\r\n            </Typography>\r\n\r\n            {/* Real comments list */}\r\n            {commentsLoading ? (\r\n              <Box sx={{ display: 'flex', justifyContent: 'center', py: 2 }}>\r\n                <CircularProgress size={20} />\r\n              </Box>\r\n            ) : (\r\n              <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\r\n                {commentList && commentList.length > 0 ? (\r\n                  commentList.map((c) => (\r\n                    <Box key={c.id} sx={{ display: 'flex', gap: 1, alignItems: 'flex-start' }}>\r\n                      <Box sx={{ width: 36, height: 36, borderRadius: '50%', bgcolor: 'grey.300', flexShrink: 0 }} />\r\n                      <Box>\r\n                        <Typography variant=\"subtitle2\" sx={{ fontWeight: 600 }}>\r\n                          {c.user?.name || 'Anonymous'}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" sx={{ whiteSpace: 'pre-wrap' }}>{c.content}</Typography>\r\n                        <Typography variant=\"caption\" color=\"text.secondary\">{new Date(c.createdAt).toLocaleString()}</Typography>\r\n                      </Box>\r\n                    </Box>\r\n                  ))\r\n                ) : (\r\n                  <Typography variant=\"body2\" sx={{ whiteSpace: 'pre-wrap', color: isMaximized ? '#fff' : undefined }}>\r\n                    No comments yet â€” be the first to comment!\r\n                  </Typography>\r\n                )}\r\n              </Box>\r\n            )}\r\n\r\n            {/* Simple comment input / submitting placeholder */}\r\n            <Box sx={{ mt: 1, display: 'flex', gap: 1 }}>\r\n              {commentSubmitting ? (\r\n                <Box sx={{ flex: 1, display: 'flex', alignItems: 'center', gap: 1, px: 2, py: '8px', borderRadius: 1, bgcolor: 'background.default' }}>\r\n                  <CircularProgress size={20} />\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">Submitting...</Typography>\r\n                </Box>\r\n              ) : (\r\n                <>\r\n                  <input\r\n                    aria-label=\"comment-input\"\r\n                    placeholder={'Add a comment...'}\r\n                    style={{ flex: 1, padding: '8px 10px', borderRadius: 6, border: '1px solid #ccc' }}\r\n                    id={`comment-input-${video.id}`}\r\n                    onKeyDown={(e) => {\r\n                      if (e.key === 'Enter' && !e.shiftKey) {\r\n                        e.preventDefault();\r\n                        const input = e.target;\r\n                        handleSubmitComment(input);\r\n                      }\r\n                    }}\r\n                  />\r\n                  <IconButton\r\n                    onClick={() => {\r\n                      const input = document.getElementById(`comment-input-${video.id}`);\r\n                      if (!input) return;\r\n                      handleSubmitComment(input);\r\n                    }}\r\n                    aria-label=\"post-comment\"\r\n                  >\r\n                    <Comment />\r\n                  </IconButton>\r\n                </>\r\n              )}\r\n            </Box>\r\n          </Paper>\r\n\r\n          {/* Compact preview when comments hidden on desktop */}\r\n          {!showComments && (\r\n            <Paper\r\n              elevation={0}\r\n              onClick={() => onCommentToggle(video.id)}\r\n              sx={{\r\n                display: { xs: 'none', md: 'block' },\r\n                p: 1,\r\n                borderRadius: 1,\r\n                bgcolor: isMaximized ? 'rgba(255,255,255,0.06)' : 'rgba(0,0,0,0.04)',\r\n                color: isMaximized ? '#fff' : undefined,\r\n                cursor: 'pointer',\r\n                '&:hover': { bgcolor: isMaximized ? 'rgba(255,255,255,0.08)' : 'rgba(0,0,0,0.06)' }\r\n              }}\r\n            >\r\n              <Typography variant=\"subtitle2\">View comments ({commentCount ?? (video.comments ?? 0)})</Typography>\r\n              <Typography variant=\"caption\" color=\"text.secondary\" noWrap sx={{ color: isMaximized ? 'rgba(255,255,255,0.85)' : undefined }}>\r\n                {video.top_comment || 'No comments yet â€” be the first to comment!'}\r\n              </Typography>\r\n            </Paper>\r\n          )}\r\n\r\n          {/* Metadata always visible and aligned toward bottom (or as overlay when maximized) */}\r\n          <Box sx={{ mt: 0, mb: 1, color: isMaximized ? '#fff' : undefined }}>\r\n            <Typography variant=\"subtitle1\" sx={{ fontWeight: 700 }}>\r\n              @{video.username}\r\n            </Typography>\r\n            <Typography variant=\"body2\" sx={{ mt: 1 }}>\r\n              {video.description}\r\n            </Typography>\r\n            <Typography variant=\"caption\" sx={{ mt: 1, display: 'block', color: isMaximized ? 'rgba(255,255,255,0.85)' : 'text.secondary' }}>\r\n              {video.tags && video.tags.length ? `#${video.tags.join(' #')}` : ''}\r\n            </Typography>\r\n          </Box>\r\n        </Box>\r\n\r\n        {/* Center: Video */}\r\n        <Box sx={{ flex: 1, display: 'flex', flexDirection: 'column', alignItems: 'center', order: 1, justifyContent: 'center' }}>\r\n          <Box sx={{ width: '100%', maxWidth: 720, display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n            <Box\r\n              onClick={handleVideoClick}\r\n              sx={{\r\n                width: isMaximized ? '96vw' : '100%',\r\n                maxWidth: '100%', // Allow full width\r\n                height: isMaximized ? '100vh' : videoHeightCalc,\r\n                bgcolor: 'black',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                position: isMaximized ? 'fixed' : 'relative',\r\n                top: isMaximized ? 0 : 'auto',\r\n                left: isMaximized ? 0 : 'auto',\r\n                // Calculate width to account for action buttons\r\n                right: isMaximized ? `${actionsWidth}px` : 'auto',\r\n                bottom: isMaximized ? 0 : 'auto',\r\n                zIndex: isMaximized ? 1400 : 'auto',\r\n                borderRadius: isMaximized ? 0 : 2,\r\n                overflow: 'hidden',\r\n                margin: 0,\r\n              }}\r\n            >\r\n              <video\r\n                ref={videoRef}\r\n                src={shouldLoad ? video.videoUrl : undefined}\r\n                loop\r\n                playsInline\r\n                preload={shouldLoad ? 'auto' : 'metadata'}\r\n                poster={video.poster || video.thumbnail}\r\n                style={{\r\n                  width: '100%',\r\n                  height: '100%',\r\n                  objectFit: isMaximized ? 'contain' : 'cover',\r\n                  backgroundColor: 'black',\r\n                }}\r\n              />\r\n\r\n              {/* Play overlay */}\r\n              {!isPlaying && (\r\n                <IconButton\r\n                  sx={{ position: 'absolute', color: 'white', fontSize: '3rem', opacity: 0.85 }}\r\n                  onClick={handleVideoClick}\r\n                >\r\n                  <PlayArrow fontSize=\"inherit\" />\r\n                </IconButton>\r\n              )}\r\n\r\n              {/* Mute Button (bottom-left) */}\r\n              <IconButton\r\n                sx={{ position: 'absolute', bottom: 12, left: 12, color: 'white', opacity: 0.85 }}\r\n                onClick={handleMuteClick}\r\n                aria-label=\"mute\"\r\n              >\r\n                {isMuted ? <VolumeOff /> : <VolumeUp />}\r\n              </IconButton>\r\n\r\n              {/* Maximize toggle top-right */}\r\n              <IconButton\r\n                onClick={(e) => { e.stopPropagation(); onToggleMaximize(video.id); }}\r\n                sx={{\r\n                  position: 'absolute',\r\n                  top: 12,\r\n                  right: 12,\r\n                  color: 'white',\r\n                  bgcolor: 'rgba(0,0,0,0.35)',\r\n                  '&:hover': { bgcolor: 'rgba(0,0,0,0.5)' }\r\n                }}\r\n                aria-label={isMaximized ? 'Exit full' : 'Maximize'}\r\n              >\r\n                {isMaximized ? <FullscreenExit /> : <Fullscreen />}\r\n              </IconButton>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n\r\n        {/* Right: action buttons centered vertically; fixed to the right edge when maximized */}\r\n        <Box\r\n          sx={{\r\n            flexShrink: 0,\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            order: { xs: 3, md: 2 },\r\n            // When maximized, pin the actions to the right edge and make width equal to actionsWidth\r\n            position: isMaximized ? 'fixed' : 'relative',\r\n            right: isMaximized ? 0 : 'auto',\r\n            top: isMaximized ? '50%' : 'auto',\r\n            transform: isMaximized ? 'translateY(-50%)' : 'none',\r\n            zIndex: isMaximized ? 1450 : 1200,\r\n            pointerEvents: 'auto',\r\n            width: isMaximized ? `${actionsWidth}px` : { xs: '100%', md: 80 }\r\n          }}\r\n        >\r\n          <Stack spacing={1} alignItems=\"center\" sx={{ justifyContent: 'center', width: '100%' }}>\r\n            <IconButton onClick={onPrev} size=\"large\" aria-label=\"previous\" sx={{ bgcolor: 'background.paper' }}>\r\n              <KeyboardArrowUp />\r\n            </IconButton>\r\n\r\n            <IconButton color={video.isLiked ? 'error' : 'default'} onClick={() => onLike(video.id)} aria-label=\"like\">\r\n              <Favorite />\r\n            </IconButton>\r\n            <Typography variant=\"caption\">{video.likes ?? 0}</Typography>\r\n\r\n            <IconButton onClick={() => onCommentToggle(video.id)} aria-label=\"comment\">\r\n              <Comment />\r\n            </IconButton>\r\n            <Typography variant=\"caption\">{commentCount ?? (video.comments ?? 0)}</Typography>\r\n\r\n            <IconButton onClick={() => onShare(video.id)} aria-label=\"share\">\r\n              <Share />\r\n            </IconButton>\r\n            <Typography variant=\"caption\">{video.shares ?? 0}</Typography>\r\n\r\n            <IconButton onClick={() => onSave(video.id)} aria-label=\"save\" color={video.saved ? 'primary' : 'default'}>\r\n              <Bookmark />\r\n            </IconButton>\r\n            <Typography variant=\"caption\">{video.saved ? t('homePage.saved','Saved') : t('homePage.save','Save')}</Typography>\r\n\r\n            <IconButton onClick={onNext} size=\"large\" aria-label=\"next\" sx={{ bgcolor: 'background.paper' }}>\r\n              <KeyboardArrowDown />\r\n            </IconButton>\r\n          </Stack>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n});\r\n\r\nconst HomePage = () => {\r\n  const { t } = useTranslation();\r\n  const { user } = useAuth();\r\n  const [videos, setVideos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [currentVideoIndex, setCurrentVideoIndex] = useState(0);\r\n  const [playingVideoId, setPlayingVideoId] = useState(null);\r\n  const [isMuted, setIsMuted] = useState(false); // FIX: Add global mute state\r\n  const [visibleCommentsFor, setVisibleCommentsFor] = useState(null);\r\n  const [maximizedVideoId, setMaximizedVideoId] = useState(null);\r\n  const [commentsByVideo, setCommentsByVideo] = useState({});\r\n  const [hasMoreVideos, setHasMoreVideos] = useState(true);\r\n  const containerRef = useRef(null);\r\n  const isFetchingMore = useRef(false);\r\n  const isScrollingRef = useRef(false);\r\n  const wheelTimeoutRef = useRef(null);\r\n  const touchStartYRef = useRef(0);\r\n  const touchDeltaYRef = useRef(0);\r\n  const { id: initialVideoId } = useParams();\r\n\r\n  useEffect(() => {\r\n    fetchVideos(initialVideoId);\r\n  }, [initialVideoId]);\r\n\r\n  // Helper: fetch stats for multiple videos and merge into videos state\r\n  const fetchStatsForVideos = async (ids = []) => {\r\n    if (!ids || !ids.length) return;\r\n    try {\r\n      const promises = ids.map(id =>\r\n        getVideoStats(id)\r\n          .then((r) => ({ id, stats: r?.data?.data ?? r?.data }))\r\n          .catch(() => ({ id, stats: null }))\r\n      );\r\n      const results = await Promise.all(promises);\r\n      // apply to state\r\n      setVideos((prev) =>\r\n        prev.map((v) => {\r\n          const res = results.find((r) => r.id === v.id);\r\n          if (!res || !res.stats) return v;\r\n          const s = res.stats;\r\n          return {\r\n            ...v,\r\n            likes: typeof s.likes === 'number' ? s.likes : v.likes,\r\n            comments: typeof s.comments === 'number' ? s.comments : v.comments,\r\n            shares: typeof s.shares === 'number' ? s.shares : v.shares, // Include shares\r\n            isLiked: typeof s.isLiked === 'boolean' ? s.isLiked : v.isLiked,\r\n            saved: typeof s.isSaved === 'boolean' ? s.isSaved : v.saved\r\n          };\r\n        })\r\n      );\r\n    } catch (e) {\r\n      // swallow â€” stats are best-effort\r\n      console.error('Failed to fetch video stats batch', e);\r\n    }\r\n  };\r\n\r\n  // Helper: refresh single video stats (use after an action)\r\n  const refreshVideoStats = async (videoId) => {\r\n    if (!videoId) return;\r\n    try {\r\n      const r = await getVideoStats(videoId);\r\n      const s = r?.data?.data ?? r?.data;\r\n      if (!s) return;\r\n      setVideos((prev) => prev.map((v) => {\r\n        if (v.id !== videoId) return v;\r\n        return {\r\n          ...v,\r\n          likes: typeof s.likes === 'number' ? s.likes : v.likes,\r\n          comments: typeof s.comments === 'number' ? s.comments : v.comments,\r\n          shares: typeof s.shares === 'number' ? s.shares : v.shares, // Include shares\r\n          isLiked: typeof s.isLiked === 'boolean' ? s.isLiked : v.isLiked,\r\n          saved: typeof s.isSaved === 'boolean' ? s.isSaved : v.saved\r\n        };\r\n      }));\r\n    } catch (err) {\r\n      console.error('Failed to refresh stats for', videoId, err);\r\n    }\r\n  };\r\n\r\n  const fetchVideos = async (startId = null, append = false) => {\r\n    if (isFetchingMore.current) return;\r\n    isFetchingMore.current = true;\r\n\r\n    try {\r\n      setLoading(!append);\r\n      // Use public endpoint alias to avoid \"No token provided\" when unauthenticated.\r\n      // Be tolerant to multiple response shapes (array, { videos: [...] }, { data: { videos: [...] } }, etc.)\r\n      const response = await axios.get(`${API_BASE_URL}/videos/public/getVideosForHomePage`, { params: { id: startId } });\r\n      const payload = response?.data ?? response ?? {};\r\n\r\n      let rawList = [];\r\n      if (Array.isArray(payload)) {\r\n        rawList = payload;\r\n      } else if (Array.isArray(payload.videos)) {\r\n        rawList = payload.videos;\r\n      } else if (Array.isArray(payload.data?.videos)) {\r\n        rawList = payload.data.videos;\r\n      } else if (Array.isArray(payload.data)) {\r\n        rawList = payload.data;\r\n      } else if (Array.isArray(payload.videos?.data)) {\r\n        rawList = payload.videos.data;\r\n      } else {\r\n        // last-resort: try to find any array field\r\n        const arrField = Object.values(payload).find((v) => Array.isArray(v));\r\n        if (Array.isArray(arrField)) rawList = arrField;\r\n      }\r\n\r\n      const normalized = rawList.map((v) => ({\r\n        ...v,\r\n        likes: v?.likes ?? 0,\r\n        comments: v?.comments ?? 0,\r\n        shares: v?.shares ?? 0,\r\n        saved: v?.saved ?? false,\r\n        isLiked: v?.isLiked ?? false,\r\n        id: v?.id,\r\n      }));\r\n\r\n      setVideos((prev) => (append ? [...prev, ...normalized] : normalized));\r\n       // Merge authoritative stats for those videos (best-effort)\r\n       fetchStatsForVideos(normalized.map(v => v.id));\r\n      // Use returned total if provided, otherwise base on received page length\r\n      const returnedTotal = (payload?.total ?? payload?.data?.total) ?? null;\r\n      if (returnedTotal != null) {\r\n        setHasMoreVideos((prev) => {\r\n          // if total > current length then more exists\r\n          return returnedTotal > (append ? videos.length + normalized.length : normalized.length);\r\n        });\r\n      } else {\r\n        setHasMoreVideos(normalized.length > 0);\r\n      }\r\n    } catch (err) {\r\n      setError(\"Failed to fetch videos\");\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n      isFetchingMore.current = false;\r\n    }\r\n  };\r\n\r\n  const handleScroll = () => {\r\n    if (!hasMoreVideos || isFetchingMore.current) return;\r\n\r\n    const container = containerRef.current;\r\n    if (container) {\r\n      const { scrollTop, scrollHeight, clientHeight } = container;\r\n      if (scrollHeight - scrollTop <= clientHeight * 1.5) {\r\n        // Fetch more videos when near the bottom\r\n        const lastVideoId = videos[videos.length - 1]?.id;\r\n        fetchVideos(lastVideoId, true);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const container = containerRef.current;\r\n    if (container) {\r\n      container.addEventListener(\"scroll\", handleScroll);\r\n      return () => container.removeEventListener(\"scroll\", handleScroll);\r\n    }\r\n  }, [videos, hasMoreVideos]);\r\n\r\n  useEffect(() => {\r\n    if (initialVideoId && videos.length > 0) {\r\n      const index = videos.findIndex((v) => v.id === initialVideoId);\r\n      if (index !== -1) {\r\n        setCurrentVideoIndex(index);\r\n        setPlayingVideoId(videos[index].id);\r\n        setMutedVideoId(videos[index].id);\r\n        const container = containerRef.current;\r\n        const child = container?.children[index];\r\n        if (child) child.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n      }\r\n    }\r\n  }, [initialVideoId, videos]);\r\n\r\n  // Navigation helpers\r\n  const goToIndex = useCallback((idx) => {\r\n    if (!videos.length) return;\r\n    const newIndex = (idx + videos.length) % videos.length;\r\n    const targetVideoId = videos[newIndex].id;\r\n    setCurrentVideoIndex(newIndex);\r\n    setPlayingVideoId(targetVideoId);\r\n    setMaximizedVideoId((prev) => (prev ? targetVideoId : null));\r\n    // scroll the container to the target child to keep in view\r\n    const container = containerRef.current;\r\n    if (container) {\r\n      const child = container.children[newIndex];\r\n      if (child) {\r\n        child.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n      }\r\n    }\r\n  }, [videos]);\r\n\r\n  const goNext = useCallback(() => goToIndex(currentVideoIndex + 1), [goToIndex, currentVideoIndex]);\r\n  const goPrev = useCallback(() => goToIndex(currentVideoIndex - 1), [goToIndex, currentVideoIndex]);\r\n\r\n  const handleTogglePlay = (videoId) => {\r\n    setPlayingVideoId((prev) => (prev === videoId ? null : videoId));\r\n  };\r\n\r\n  const handleToggleMute = () => {\r\n    setIsMuted((prev) => !prev); // Toggle global mute state\r\n  };\r\n\r\n  const handleActionWithAnonymousUser = async (actionFn, videoId, ...args) => {\r\n    const targetVideo = videos.find((v) => v.id === videoId);\r\n    const videoType = targetVideo?.videoType || targetVideo?.video_type || targetVideo?.type || null;\r\n    const isUserLoggedIn = !!(user && user.role !== null);\r\n\r\n    if (videoType !== 'sample' && !isUserLoggedIn) {\r\n      await ensureLoggedInThen(() => actionFn(videoId, ...args));\r\n      return;\r\n    }\r\n\r\n    if (videoType === 'sample' && !window.__anonymousUserId) {\r\n      window.__anonymousUserId = `anon-temp-${Date.now()}`;\r\n    }\r\n\r\n    try {\r\n      await actionFn(videoId, ...args);\r\n    } catch (err) {\r\n      if (err?.response?.status === 401) {\r\n        await ensureLoggedInThen(() => actionFn(videoId, ...args));\r\n      } else {\r\n        throw err;\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleLike = async (videoId) => {\r\n    await handleActionWithAnonymousUser(async (videoId) => {\r\n      // Optimistic update\r\n      setVideos((prev) =>\r\n        prev.map((v) =>\r\n          v.id === videoId\r\n            ? { ...v, isLiked: !v.isLiked, likes: v.isLiked ? v.likes - 1 : v.likes + 1 }\r\n            : v\r\n        )\r\n      );\r\n\r\n      try {\r\n        const target = videos.find((v) => v.id === videoId);\r\n        if (target && target.isLiked) {\r\n          await unlikeVideo(videoId);\r\n          toast.success(\"Removed like\");\r\n        } else {\r\n          await likeVideo(videoId);\r\n          toast.success(\"You liked the video\");\r\n        }\r\n        refreshVideoStats(videoId);\r\n      } catch (err) {\r\n        // Revert optimistic update on error\r\n        setVideos((prev) =>\r\n          prev.map((v) =>\r\n            v.id === videoId\r\n              ? { ...v, isLiked: !v.isLiked, likes: v.isLiked ? v.likes + 1 : v.likes - 1 }\r\n              : v\r\n          )\r\n        );\r\n        toast.error(\"Failed to update like\");\r\n      }\r\n    }, videoId);\r\n  };\r\n\r\n  const handleShare = async (videoId) => {\r\n    await handleActionWithAnonymousUser(async (videoId) => {\r\n      try {\r\n        const response = await shareVideo(videoId);\r\n        const shareableLink = response?.data?.data?.shareableLink;\r\n\r\n        if (shareableLink) {\r\n          const popup = window.open(\r\n            `/share?link=${encodeURIComponent(shareableLink)}`,\r\n            \"Share Video\",\r\n            \"width=600,height=700\"\r\n          );\r\n          if (!popup) {\r\n            toast.error(\"Popup blocked. Please allow popups and try again.\");\r\n          }\r\n        } else {\r\n          toast.error(\"Failed to generate shareable link.\");\r\n        }\r\n\r\n        // Optimistically increment the share count\r\n        setVideos((prev) =>\r\n          prev.map((v) =>\r\n            v.id === videoId ? { ...v, shares: (v.shares || 0) + 1 } : v\r\n          )\r\n        );\r\n\r\n        refreshVideoStats(videoId);\r\n      } catch (err) {\r\n        toast.error(\"Failed to share video\");\r\n      }\r\n    }, videoId);\r\n  };\r\n\r\n  const handleSave = async (videoId) => {\r\n    await handleActionWithAnonymousUser(async (videoId) => {\r\n      // Optimistic toggle\r\n      setVideos((prev) =>\r\n        prev.map((v) => (v.id === videoId ? { ...v, saved: !v.saved } : v))\r\n      );\r\n\r\n      try {\r\n        const target = videos.find((v) => v.id === videoId);\r\n        if (target && target.saved) {\r\n          await unsaveVideo(videoId);\r\n          toast.success(\"Removed from saved\");\r\n        } else {\r\n          await saveVideo(videoId);\r\n          toast.success(\"Saved\");\r\n        }\r\n        refreshVideoStats(videoId);\r\n      } catch (err) {\r\n        // Revert optimistic toggle on error\r\n        setVideos((prev) =>\r\n          prev.map((v) => (v.id === videoId ? { ...v, saved: !v.saved } : v))\r\n        );\r\n        toast.error(\"Failed to save\");\r\n      }\r\n    }, videoId);\r\n  };\r\n\r\n  const fetchComments = useCallback(async (videoId, page = 1, limit = 20) => {\r\n    setCommentsByVideo((prev) => ({ ...prev, [videoId]: { ...(prev[videoId] || {}), loading: true, submitting: prev?.[videoId]?.submitting || false } }));\r\n    try {\r\n      const resp = await getVideoComments(videoId, page, limit);\r\n      const payload = resp?.data ?? resp;\r\n\r\n      let comments = [];\r\n      let total = 0;\r\n\r\n      if (Array.isArray(payload)) {\r\n        comments = payload;\r\n        total = payload.length;\r\n      } else if (payload?.comments && Array.isArray(payload.comments)) {\r\n        comments = payload.comments;\r\n        total = payload.total ?? comments.length;\r\n      } else if (payload?.data) {\r\n        const inner = payload.data;\r\n        if (Array.isArray(inner)) {\r\n          comments = inner;\r\n          total = inner.length;\r\n        } else if (inner?.comments && Array.isArray(inner.comments)) {\r\n          comments = inner.comments;\r\n          total = inner.total ?? comments.length;\r\n        }\r\n      } else if (payload?.success && payload?.comments && Array.isArray(payload.comments)) {\r\n        comments = payload.comments;\r\n        total = payload.total ?? comments.length;\r\n      }\r\n\r\n      setCommentsByVideo((prev) => ({\r\n        ...prev,\r\n        [videoId]: {\r\n          comments,\r\n          page,\r\n          total,\r\n          loading: false,\r\n          submitting: prev?.[videoId]?.submitting || false\r\n        }\r\n      }));\r\n    } catch (err) {\r\n      console.error('Failed to load comments', err);\r\n      setCommentsByVideo((prev) => ({ ...prev, [videoId]: { ...(prev[videoId] || {}), loading: false, submitting: prev?.[videoId]?.submitting || false } }));\r\n    }\r\n  }, []);\r\n\r\n  const handleCommentToggle = (videoId) => {\r\n    setVisibleCommentsFor((prev) => {\r\n      const next = prev === videoId ? null : videoId;\r\n      // if opening and not loaded, fetch first page\r\n      if (next === videoId && (!commentsByVideo[videoId] || !commentsByVideo[videoId].comments)) {\r\n        fetchComments(videoId, 1);\r\n      }\r\n      return next;\r\n    });\r\n  };\r\n\r\n  const handleAddComment = async (videoId, text, inputElem) => {\r\n    await handleActionWithAnonymousUser(async (videoId, text, inputElem) => {\r\n      setCommentsByVideo((prev) => ({\r\n        ...prev,\r\n        [videoId]: { ...(prev[videoId] || {}), submitting: true },\r\n      }));\r\n\r\n      try {\r\n        const response = await addVideoComment(videoId, { content: text });\r\n        const savedComment = response?.data?.comment || {\r\n          id: `temp-${Date.now()}`,\r\n          content: text,\r\n          user: { id: user.id, name: user.name || \"Anonymous\" },\r\n          createdAt: new Date().toISOString(),\r\n        };\r\n\r\n        setCommentsByVideo((prev) => {\r\n          const existing = prev[videoId] || { comments: [], total: 0 };\r\n          return {\r\n            ...prev,\r\n            [videoId]: {\r\n              ...existing,\r\n              comments: [savedComment, ...existing.comments],\r\n              total: existing.total + 1,\r\n              submitting: false,\r\n            },\r\n          };\r\n        });\r\n\r\n        setVideos((prev) =>\r\n          prev.map((v) =>\r\n            v.id === videoId ? { ...v, comments: (v.comments || 0) + 1 } : v\r\n          )\r\n        );\r\n\r\n        if (inputElem) {\r\n          inputElem.value = \"\";\r\n          inputElem.blur();\r\n        }\r\n\r\n        toast.success(\"Comment added\");\r\n        refreshVideoStats(videoId);\r\n      } catch (err) {\r\n        setCommentsByVideo((prev) => ({\r\n          ...prev,\r\n          [videoId]: { ...(prev[videoId] || {}), submitting: false },\r\n        }));\r\n        toast.error(\"Failed to add comment\");\r\n      }\r\n    }, videoId, text, inputElem);\r\n  };\r\n\r\n  // Open a login popup and wait for authentication to complete via AuthContext postMessage or storage event.\r\n  const ensureLoggedInThen = (actionFn) => {\r\n    return new Promise((resolve, reject) => {\r\n      // If user became available in the meantime, run immediately\r\n      if (user) {\r\n        try { actionFn(); resolve(); } catch (e) { reject(e); }\r\n        return;\r\n      }\r\n\r\n      const popup = window.open('/auth/login', 'login_popup', 'width=600,height=700');\r\n      if (!popup) {\r\n        toast.error(t('common.popupBlocked','Popup blocked. Please allow popups and try again.'));\r\n        return reject(new Error('Popup blocked'));\r\n      }\r\n\r\n      const cleanup = () => {\r\n        window.removeEventListener('message', messageListener);\r\n        window.removeEventListener('storage', storageListener);\r\n        clearTimeout(timeout);\r\n      };\r\n\r\n      const finalize = () => {\r\n        cleanup();\r\n        try { actionFn(); } catch (e) { console.error('Action after login failed', e); }\r\n        resolve();\r\n      };\r\n\r\n      const messageListener = (event) => {\r\n        if (event.origin !== window.location.origin) return;\r\n        const data = event.data || {};\r\n        if (data.type === 'OAUTH_COMPLETE' || data.type === 'LINKEDIN_AUTH_SUCCESS' || data.type === 'google-oauth-complete') {\r\n          // AuthContext will handle storing tokens; wait shortly to allow it to persist\r\n          setTimeout(finalize, 200);\r\n        }\r\n      };\r\n\r\n      const storageListener = (event) => {\r\n        if (event.key === 'accessToken' && event.newValue) {\r\n          // accessToken was set by popup or other window\r\n          setTimeout(finalize, 100);\r\n        }\r\n      };\r\n\r\n      // Fallback timeout: close listeners after 5 minutes\r\n      const timeout = setTimeout(() => {\r\n        cleanup();\r\n        try { if (popup && !popup.closed) popup.close(); } catch (e) {}\r\n        toast.error(t('common.loginTimeout','Login timed out'));\r\n        reject(new Error('Login timed out'));\r\n      }, 5 * 60 * 1000);\r\n\r\n      window.addEventListener('message', messageListener);\r\n      window.addEventListener('storage', storageListener);\r\n\r\n      // Also observe AuthContext user change by polling briefly (non-intensive)\r\n      let waitCount = 0;\r\n      const interval = setInterval(() => {\r\n        if (user) {\r\n          clearInterval(interval);\r\n          finalize();\r\n        }\r\n        waitCount += 1;\r\n        if (waitCount > 20) { // stop after ~2s\r\n          clearInterval(interval);\r\n        }\r\n      }, 100);\r\n    });\r\n  };\r\n\r\n  // toggle maximize state\r\n  const handleToggleMaximize = useCallback((videoId) => {\r\n    setMaximizedVideoId((prev) => (prev === videoId ? null : videoId));\r\n  }, []);\r\n\r\n  // lock body scroll when a video is maximized\r\n  // NOTE: Previously body scrolling was disabled when a video was maximized (overflow: hidden).\r\n  // Requirement: allow normal page scrolling while maximized, so we intentionally DO NOT\r\n  // lock body scroll anymore. This effect kept for future hook / documentation.\r\n  useEffect(() => {\r\n    // no-op on maximize now to keep scrolling enabled\r\n  }, [maximizedVideoId]);\r\n\r\n  \r\n\r\n  // ---- Wheel & touch listeners: set passive:false and preventDefault so any wheel triggers navigation ----\r\n  useEffect(() => {\r\n    const el = containerRef.current;\r\n    if (!el) return;\r\n\r\n    const wheelHandler = (e) => {\r\n      e.preventDefault();\r\n      if (isScrollingRef.current) return;\r\n      isScrollingRef.current = true;\r\n      if (e.deltaY > 0) goNext(); else goPrev();\r\n      clearTimeout(wheelTimeoutRef.current);\r\n      wheelTimeoutRef.current = setTimeout(() => { isScrollingRef.current = false; }, 600);\r\n    };\r\n\r\n    const touchStart = (e) => { touchStartYRef.current = e.touches[0].clientY; touchDeltaYRef.current = 0; };\r\n    const touchMove = (e) => { touchDeltaYRef.current = e.touches[0].clientY - touchStartYRef.current; };\r\n    const touchEnd = () => {\r\n      const dy = touchDeltaYRef.current;\r\n      const threshold = 50;\r\n      if (Math.abs(dy) > threshold) {\r\n        if (dy < 0) goNext();\r\n        else goPrev();\r\n      }\r\n      touchDeltaYRef.current = 0;\r\n    };\r\n\r\n    \r\n  el.addEventListener('wheel', wheelHandler, { passive: false });\r\n    el.addEventListener('touchstart', touchStart, { passive: true });\r\n    el.addEventListener('touchmove', touchMove, { passive: true });\r\n    el.addEventListener('touchend', touchEnd, { passive: true });\r\n\r\n    return () => {\r\n      el.removeEventListener('wheel', wheelHandler);\r\n      el.removeEventListener('touchstart', touchStart);\r\n      el.removeEventListener('touchmove', touchMove);\r\n      el.removeEventListener('touchend', touchEnd);\r\n    };\r\n  }, [goNext, goPrev]);\r\n\r\n  // Keep axios Authorization header and global fetch token in sync with AuthContext user token\r\n  useEffect(() => {\r\n    const token = user?.token || user?.accessToken || user?.access_token || null;\r\n    if (token) {\r\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n      window.__authToken = token;\r\n    } else {\r\n      delete axios.defaults.headers.common['Authorization'];\r\n      window.__authToken = null;\r\n    }\r\n    // no cleanup required â€” we explicitly delete header when user becomes null\r\n  }, [user]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"100vh\">\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Box p={3}>\r\n        <Alert severity=\"error\">{error}</Alert>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  if (!videos.length) {\r\n    return (\r\n      <Box p={3} textAlign=\"center\">\r\n        <Typography variant=\"h5\">{t('homePage.noVideosAvailable', 'No videos available.')}</Typography>\r\n        <Typography variant=\"body1\">{t('homePage.uploadPrompt', 'Start by uploading some videos!')}</Typography>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <Box\r\n      ref={containerRef}\r\n        data-main-container // Add this\r\n\r\n      sx={{\r\n        minHeight: '100vh',\r\n        overflowY: 'auto',\r\n        scrollSnapType: 'y mandatory',\r\n        '& > div': { scrollSnapAlign: 'start' },\r\n        '&::-webkit-scrollbar': { display: 'none' }\r\n      }}\r\n    >\r\n      {videos.map((video, index) => {\r\n        const commentMeta = commentsByVideo[video.id] || {};\r\n        const resolvedCommentCount = commentMeta?.total ?? (Array.isArray(commentMeta?.comments) ? commentMeta.comments.length : undefined) ?? video.comments ?? 0;\r\n        const distanceFromActive = Math.abs(index - currentVideoIndex);\r\n        const isActive = playingVideoId === video.id;\r\n        const isMaximized = maximizedVideoId === video.id;\r\n        const shouldRenderCard = distanceFromActive <= 2 || isActive || isMaximized;\r\n        const shouldLoadVideo = shouldRenderCard || distanceFromActive <= 1 || isMaximized;\r\n\r\n        return (\r\n          <Box key={video.id} sx={{ minHeight: '100vh', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n            {shouldRenderCard ? (\r\n              <VideoCard\r\n                video={video}\r\n                isPlaying={isActive}\r\n                onTogglePlay={handleTogglePlay}\r\n                onToggleMute={handleToggleMute}\r\n                isMuted={isMuted} // Use global mute state\r\n                onLike={handleLike}\r\n                onShare={handleShare}\r\n                onCommentToggle={handleCommentToggle}\r\n                onSave={handleSave}\r\n                showComments={visibleCommentsFor === video.id}\r\n                onPrev={goPrev}\r\n                onNext={goNext}\r\n                isMaximized={isMaximized}\r\n                onToggleMaximize={handleToggleMaximize}\r\n                onAddComment={handleAddComment}\r\n                commentList={commentMeta?.comments || []}\r\n                commentsLoading={commentMeta?.loading || false}\r\n                commentSubmitting={commentMeta?.submitting || false}\r\n                commentCount={resolvedCommentCount}\r\n                shouldLoad={shouldLoadVideo}\r\n              />\r\n            ) : (\r\n              <Box\r\n                sx={{\r\n                  width: '100%',\r\n                  maxWidth: 720,\r\n                  minHeight: '100vh',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center'\r\n                }}\r\n              >\r\n                <CircularProgress size={32} />\r\n              </Box>\r\n            )}\r\n          </Box>\r\n        );\r\n      })}\r\n    </Box>\r\n    <ToastContainer position=\"bottom-right\" />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\VideosPage.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setVideoTab' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 45,
        "column": 38,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 45,
        "endColumn": 49,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setVideoTab"
            },
            "fix": {
              "range": [
                1168,
                1183
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setVideoTab'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchServerVideos'. Either include it or remove the dependency array.",
        "line": 151,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 151,
        "endColumn": 12,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchServerVideos, page]",
            "fix": {
              "range": [
                4494,
                4500
              ],
              "text": "[fetchServerVideos, page]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useEffect, useRef } from 'react';\r\nimport { useVideoContext } from '@/contexts/VideoContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport api, { deleteVideo } from '@/services/api';\r\nimport { Card, CardContent } from '@/components/UI/card.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogFooter,\r\n} from '@/components/UI/dialog.jsx';\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from '@/components/UI/alert-dialog.jsx';\r\nimport {\r\n  Video,\r\n  Upload,\r\n  Loader2,\r\n  Play,\r\n  Trash2,\r\n  RefreshCw,\r\n  AlertCircle,\r\n  CheckCircle,\r\n  Clock,\r\n  Volume2,\r\n  VolumeX,\r\n  Eye\r\n} from 'lucide-react';\r\nimport themeColors from '@/config/theme-colors';\r\n\r\nconst VITE_API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:5000';\r\n\r\nexport default function VideosPage({ setVideoTab }) {\r\n  const { videos: localVideos, retryUpload, removeVideo } = useVideoContext();\r\n  const { toast } = useToast();\r\n  const navigate = useNavigate();\r\n  const videoRefs = useRef({});\r\n\r\n  const [serverVideos, setServerVideos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [page, setPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [uploadLimitReached, setUploadLimitReached] = useState(false);\r\n  const [hoveredVideo, setHoveredVideo] = useState(null);\r\n  const [isMuted, setIsMuted] = useState(true);\r\n  const [deleteConfirmOpen, setDeleteConfirmOpen] = useState(false);\r\n  const [videoToDelete, setVideoToDelete] = useState(null);\r\n\r\n  const VIDEOS_PER_PAGE = 9;\r\n\r\n  const fetchServerVideos = async (pageNum) => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get(`/videos/?page=${pageNum}&limit=${VIDEOS_PER_PAGE}`);\r\n      setServerVideos(response.data.videos || []);\r\n      setTotalPages(response.data.totalPages || 1);\r\n      setUploadLimitReached(response.data.uploadLimitReached || false);\r\n    } catch (err) {\r\n      console.error('Failed to fetch videos:', err);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to load videos\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const checkUploadLimit = async () => {\r\n    try {\r\n      const response = await api.get(`/videos/upload-limit`);\r\n      setUploadLimitReached(response.data.limitReached);\r\n      return response.data.limitReached;\r\n    } catch (err) {\r\n      console.error('Failed to check upload limit:', err);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleDeleteVideo = async () => {\r\n    if (!videoToDelete) return;\r\n    \r\n    try {\r\n      if (videoToDelete.isLocal) {\r\n        removeVideo(videoToDelete.id);\r\n        toast({\r\n          title: \"Success\",\r\n          description: \"Video removed successfully\",\r\n        });\r\n      } else {\r\n        await deleteVideo(videoToDelete.id);\r\n        removeVideo(videoToDelete.id);\r\n        toast({\r\n          title: \"Success\",\r\n          description: \"Video deleted successfully\",\r\n        });\r\n        await fetchServerVideos(page);\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to delete video:', err);\r\n      toast({\r\n        title: \"Error\",\r\n        description: err.response?.data?.message || \"Failed to delete video\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setDeleteConfirmOpen(false);\r\n      setVideoToDelete(null);\r\n    }\r\n  };\r\n\r\n  const handleRetry = async (video) => {\r\n    try {\r\n      if (video.status === 'failed' || video.isLocal) {\r\n        await retryUpload(video.id);\r\n      } else if (video.status === 'processing') {\r\n        await api.post(`/videos/${video.id}/retry-processing`);\r\n      }\r\n      \r\n      await fetchServerVideos(page);\r\n      toast({\r\n        title: \"Success\",\r\n        description: \"Retry started successfully\",\r\n      });\r\n    } catch (error) {\r\n      console.error('Retry failed:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: error.response?.data?.message || \"Retry failed\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchServerVideos(page);\r\n    checkUploadLimit();\r\n  }, [page]);\r\n\r\n  const handleUploadClick = async () => {\r\n    const limitReached = await checkUploadLimit();\r\n    if (limitReached) {\r\n      toast({\r\n        title: \"Upload Limit Reached\",\r\n        description: \"You have reached your daily upload limit. Please try again tomorrow.\",\r\n      });\r\n      return;\r\n    }\r\n    navigate('/jobseeker-tabs?group=profileContent&tab=video-upload');\r\n  };\r\n\r\n  const handleVideoHover = (videoId, isHovering) => {\r\n    if (isHovering) {\r\n      setHoveredVideo(videoId);\r\n      // the video element may not be mounted yet (we render poster first), so wait briefly\r\n      setTimeout(() => {\r\n        const videoEl = videoRefs.current[videoId];\r\n        if (videoEl) {\r\n          try {\r\n            videoEl.currentTime = 0;\r\n            videoEl.play().catch(e => console.log('Autoplay prevented:', e));\r\n          } catch (e) {\r\n            console.warn('Failed to play video on hover', e);\r\n          }\r\n        }\r\n      }, 120);\r\n    } else {\r\n      const videoEl = videoRefs.current[videoId];\r\n      if (videoEl && !videoEl.paused) {\r\n        videoEl.pause();\r\n        videoEl.currentTime = 0;\r\n      }\r\n      setHoveredVideo(null);\r\n    }\r\n  };\r\n\r\n  const handleVideoClick = (video) => {\r\n    navigate(`/video-player/${video.id}`, {\r\n      state: {\r\n        currentVideo: video,\r\n        allVideos: filteredVideos,\r\n        initialPage: page,\r\n      }\r\n    });\r\n  };\r\n\r\n  // Normalize video fields so UI can rely on common keys (title, videoUrl, thumbnailUrl)\r\n  const allVideos = [\r\n    ...localVideos.map(v => ({ ...v, isLocal: true })),\r\n    ...serverVideos.map(v => ({\r\n      // preserve original server props but map common aliases\r\n      ...v,\r\n      isLocal: false,\r\n      status: v.status || 'completed',\r\n      // title aliases: title, video_title, videoTitle, name\r\n      title: v.title || v.video_title || v.videoTitle || v.name || v.original_name || v.videoName || v.videoTitle,\r\n      // video url aliases\r\n      videoUrl: v.videoUrl || v.video_url || v.secure_url || v.videoUrl || v.video_url_signed || v.file_url,\r\n      // thumbnail aliases\r\n      thumbnailUrl: v.thumbnailUrl || v.thumbnail_url || v.thumb || v.poster || v.preview_image,\r\n    }))\r\n  ];\r\n\r\n  const filteredVideos = allVideos.filter(video => {\r\n    if (video.isLocal && video.status === 'completed') {\r\n      return !serverVideos.some(sv => sv.id === video.id);\r\n    }\r\n    return true;\r\n  });\r\n\r\n  const getStatusBadge = (video) => {\r\n    if (video.status === 'uploading') {\r\n      return (\r\n        <Badge className=\"bg-blue-100 text-blue-800\">\r\n          <Loader2 className=\"h-3 w-3 mr-1 animate-spin\" />\r\n          Uploading {video.progress}%\r\n        </Badge>\r\n      );\r\n    }\r\n    if (video.status === 'processing') {\r\n      return (\r\n        <Badge className=\"bg-yellow-100 text-yellow-800\">\r\n          <Clock className=\"h-3 w-3 mr-1\" />\r\n          Processing\r\n        </Badge>\r\n      );\r\n    }\r\n    if (video.status === 'failed') {\r\n      return (\r\n        <Badge variant=\"destructive\">\r\n          <AlertCircle className=\"h-3 w-3 mr-1\" />\r\n          Failed\r\n        </Badge>\r\n      );\r\n    }\r\n    if (video.status === 'completed') {\r\n      return (\r\n        <Badge className=\"bg-green-100 text-green-800\">\r\n          <CheckCircle className=\"h-3 w-3 mr-1\" />\r\n          Ready\r\n        </Badge>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  if (loading && serverVideos.length === 0) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-screen\">\r\n        <Loader2 className={`h-12 w-12 animate-spin ${themeColors.iconBackgrounds.primary.split(' ')[1]}`} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-6 px-4 max-w-7xl\">\r\n      {/* Header */}\r\n      <div className=\"mb-8\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <div>\r\n            <h1 className={`${themeColors.text.gradient} text-4xl font-bold  mb-2`}>\r\n              My Videos\r\n            </h1>\r\n            <p className=\"text-muted-foreground\">\r\n              Manage your video content\r\n            </p>\r\n          </div>\r\n          <div className=\"flex gap-3\">\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"icon\"\r\n              onClick={() => setIsMuted(!isMuted)}\r\n            >\r\n              {isMuted ? <VolumeX className=\"h-4 w-4\" /> : <Volume2 className=\"h-4 w-4\" />}\r\n            </Button>\r\n            <Button\r\n              onClick={handleUploadClick}\r\n              disabled={uploadLimitReached}\r\n              className={`${themeColors.buttons.primary} text-white `}\r\n            >\r\n              <Upload className=\"h-4 w-4 mr-2\" />\r\n              Upload Video\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {uploadLimitReached && (\r\n          <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3\">\r\n            <AlertCircle className=\"h-5 w-5 text-yellow-600 mt-0.5\" />\r\n            <div>\r\n              <p className=\"font-medium text-yellow-900\">Upload Limit Reached</p>\r\n              <p className=\"text-sm text-yellow-700\">\r\n                You have reached your daily upload limit. Please try again tomorrow.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Videos Grid */}\r\n      {filteredVideos.length > 0 ? (\r\n        <>\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\r\n            {filteredVideos.map((video) => (\r\n              <VideoCard\r\n                key={video.id}\r\n                video={video}\r\n                videoRefs={videoRefs}\r\n                hoveredVideo={hoveredVideo}\r\n                isMuted={isMuted}\r\n                onHover={handleVideoHover}\r\n                onClick={handleVideoClick}\r\n                onDelete={(v) => {\r\n                  setVideoToDelete(v);\r\n                  setDeleteConfirmOpen(true);\r\n                }}\r\n                onRetry={handleRetry}\r\n                getStatusBadge={getStatusBadge}\r\n              />\r\n            ))}\r\n          </div>\r\n\r\n          {/* Pagination */}\r\n          {totalPages > 1 && (\r\n            <div className=\"flex justify-center gap-2\">\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => setPage(p => Math.max(1, p - 1))}\r\n                disabled={page === 1}\r\n              >\r\n                Previous\r\n              </Button>\r\n              <div className=\"flex items-center gap-2 px-4\">\r\n                <span className=\"text-sm text-muted-foreground\">\r\n                  Page {page} of {totalPages}\r\n                </span>\r\n              </div>\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => setPage(p => Math.min(totalPages, p + 1))}\r\n                disabled={page === totalPages}\r\n              >\r\n                Next\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <Card className=\"text-center py-12\">\r\n          <CardContent>\r\n            <Video className=\"h-16 w-16 mx-auto text-muted-foreground mb-4\" />\r\n            <h3 className=\"text-xl font-semibold mb-2\">No videos yet</h3>\r\n            <p className=\"text-muted-foreground mb-4\">\r\n              Upload your first video to get started\r\n            </p>\r\n            <Button\r\n              onClick={handleUploadClick}\r\n              className={`${themeColors.buttons.primary} text-white `}\r\n            >\r\n              <Upload className=\"h-4 w-4 mr-2\" />\r\n              Upload Video\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Delete Confirmation Dialog */}\r\n      <AlertDialog open={deleteConfirmOpen} onOpenChange={setDeleteConfirmOpen}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>Delete Video</AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              Are you sure you want to delete \"{videoToDelete?.title}\"? This action cannot be undone.\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\r\n            <AlertDialogAction\r\n              onClick={handleDeleteVideo}\r\n              className=\"bg-red-600 hover:bg-red-700\"\r\n            >\r\n              Delete\r\n            </AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Video Card Component\r\nfunction VideoCard({ video, videoRefs, hoveredVideo, isMuted, onHover, onClick, onDelete, onRetry, getStatusBadge }) {\r\n  const isProcessing = video.status === 'uploading' || video.status === 'processing';\r\n  const isFailed = video.status === 'failed';\r\n\r\n  return (\r\n    <Card\r\n      className={`group relative overflow-hidden hover:shadow-lg transition-all duration-200 ${\r\n        isProcessing ? 'border-l-4 border-l-blue-500' : isFailed ? 'border-l-4 border-l-red-500' : ''\r\n      }`}\r\n      onMouseEnter={() => onHover(video.id, true)}\r\n      onMouseLeave={() => onHover(video.id, false)}\r\n    >\r\n      {/* Video Preview */}\r\n      <div className=\"relative aspect-[9/16] bg-black overflow-hidden\">\r\n        {\r\n          // compute poster and video src safely (handle absolute or relative paths)\r\n        }\r\n        {(() => {\r\n          const posterUrl = video.thumbnailUrl\r\n            ? (video.thumbnailUrl.startsWith('http') ? video.thumbnailUrl : `${VITE_API_BASE_URL}${video.thumbnailUrl}`)\r\n            : null;\r\n          const videoSrc = video.videoUrl\r\n            ? (video.videoUrl.startsWith('http') ? video.videoUrl : `${VITE_API_BASE_URL}${video.videoUrl}`)\r\n            : null;\r\n\r\n          // If we have a poster and the card is not currently hovered, show the poster image\r\n          if (posterUrl && hoveredVideo !== video.id) {\r\n            return (\r\n              <img\r\n                src={posterUrl}\r\n                alt={video.title || 'Video thumbnail'}\r\n                className=\"w-full h-full object-cover cursor-pointer\"\r\n                onClick={() => !isProcessing && !isFailed && onClick(video)}\r\n              />\r\n            );\r\n          }\r\n\r\n          // Otherwise, if we have a video source, render the video element (plays on hover)\r\n          if (videoSrc) {\r\n            return (\r\n              <video\r\n                ref={el => (videoRefs.current[video.id] = el)}\r\n                src={videoSrc}\r\n                poster={posterUrl || undefined}\r\n                preload=\"metadata\"\r\n                muted={isMuted}\r\n                loop\r\n                className=\"w-full h-full object-cover\"\r\n                onClick={() => !isProcessing && !isFailed && onClick(video)}\r\n              />\r\n            );\r\n          }\r\n\r\n          // Fallback UI when no media is available\r\n          return (\r\n            <div className=\"w-full h-full flex items-center justify-center\">\r\n              <Video className=\"h-16 w-16 text-gray-400\" />\r\n            </div>\r\n          );\r\n        })()}\r\n\r\n        {/* Processing Overlay */}\r\n        {isProcessing && (\r\n          <div className=\"absolute inset-0 bg-black/50 flex items-center justify-center\">\r\n            <div className=\"text-center text-white\">\r\n              <Loader2 className=\"h-12 w-12 animate-spin mx-auto mb-2\" />\r\n              <p className=\"text-sm\">\r\n                {video.status === 'uploading' ? `Uploading ${video.progress}%` : 'Processing...'}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Failed Overlay */}\r\n        {isFailed && (\r\n          <div className=\"absolute inset-0 bg-black/50 flex items-center justify-center\">\r\n            <div className=\"text-center text-white\">\r\n              <AlertCircle className=\"h-12 w-12 mx-auto mb-2 text-red-500\" />\r\n              <p className=\"text-sm\">Upload Failed</p>\r\n              <Button\r\n                size=\"sm\"\r\n                variant=\"outline\"\r\n                className=\"mt-2 text-white border-white hover:bg-white/20\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  onRetry(video);\r\n                }}\r\n              >\r\n                <RefreshCw className=\"h-3 w-3 mr-1\" />\r\n                Retry\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Hover Play Icon */}\r\n        {!isProcessing && !isFailed && hoveredVideo !== video.id && (\r\n          <div className=\"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity\">\r\n            <div className=\"bg-white/20 backdrop-blur-sm rounded-full p-4\">\r\n              <Play className=\"h-8 w-8 text-white\" />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Video Info */}\r\n      <CardContent className=\"p-4\">\r\n        <div className=\"flex justify-between items-start mb-2\">\r\n          <h3 className=\"font-semibold line-clamp-1\">{video.title || 'Untitled'}</h3>\r\n          {getStatusBadge(video)}\r\n        </div>\r\n\r\n        {video.description && (\r\n          <p className=\"text-sm text-muted-foreground line-clamp-2 mb-3\">\r\n            {video.description}\r\n          </p>\r\n        )}\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex gap-2\">\r\n          {!isProcessing && (\r\n            <>\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                className=\"flex-1\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  onClick(video);\r\n                }}\r\n              >\r\n                <Eye className=\"h-3 w-3 mr-1\" />\r\n                View\r\n              </Button>\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  onDelete(video);\r\n                }}\r\n              >\r\n                <Trash2 className=\"h-3 w-3\" />\r\n              </Button>\r\n            </>\r\n          )}\r\n          {isFailed && (\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              className=\"flex-1\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                onRetry(video);\r\n              }}\r\n            >\r\n              <RefreshCw className=\"h-3 w-3 mr-1\" />\r\n              Retry Upload\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\VideosPage_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 2,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                35,
                46
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setVideoTab' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 19,
        "column": 22,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 19,
        "endColumn": 33,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setVideoTab"
            },
            "fix": {
              "range": [
                906,
                919
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setVideoTab'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'hoveredVideo' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 28,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 28,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "hoveredVideo"
            },
            "fix": {
              "range": [
                1383,
                1395
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'hoveredVideo'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'snackbar' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 32,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 32,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "snackbar"
            },
            "fix": {
              "range": [
                1622,
                1630
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'snackbar'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 416,
        "column": 42,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 416,
        "endColumn": 43
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿// VideosPage.jsx\r\nimport React, { useContext, useState, useEffect, useRef  } from 'react';\r\nimport { useVideoContext } from '@/contexts/VideoContext'; // Correct import\r\nimport { styled } from \"@mui/material/styles\";\r\nimport {\r\n  Container, Grid, Card, CardMedia, CardContent,\r\n  Typography, Button, CircularProgress, Box,\r\n  LinearProgress, Chip, Stack, Alert, IconButton,\r\n  Pagination, Dialog, DialogTitle, DialogContent,\r\n  DialogActions, Tooltip\r\n} from '@mui/material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { CheckCircle, Error, CloudUpload, Replay, Delete } from '@mui/icons-material';\r\nimport api, { deleteVideo } from '@/services/api'; // Ensure deleteVideo is imported from your API service\r\nimport { toast } from 'react-toastify';\r\nimport CloudSyncIcon from '@mui/icons-material/CloudSync';\r\nimport { VolumeUp, VolumeOff } from '@mui/icons-material';\r\n\r\nconst VideosPage = ({setVideoTab}) => {\r\n  // Destructure removeVideo from useVideoContext\r\n  const { videos: localVideos, retryUpload, removeVideo } = useVideoContext(); \r\n  const [serverVideos, setServerVideos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [page, setPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [uploadLimitReached, setUploadLimitReached] = useState(false);\r\n  const [hoveredVideo, setHoveredVideo] = useState(null);\r\n  const [isMuted, setIsMuted] = useState(true);\r\n  const [deleteConfirmOpen, setDeleteConfirmOpen] = useState(false);\r\n  const [videoToDelete, setVideoToDelete] = useState(null);\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'success' }); // Added for retry messages\r\n\r\n  const videoRefs = useRef({});\r\n  const navigate = useNavigate();\r\n\r\n  const VIDEOS_PER_PAGE = 9;\r\n\r\n  const toggleMute = () => {\r\n    setIsMuted(prev => !prev);\r\n  };\r\n\r\n  // Fetch server videos with pagination\r\n  const fetchServerVideos = async (pageNum) => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get(`/videos/?page=${pageNum}&limit=${VIDEOS_PER_PAGE}`);\r\n      setServerVideos(response.data.videos);\r\n      setTotalPages(response.data.totalPages || 1);\r\n      setUploadLimitReached(response.data.uploadLimitReached || false);\r\n      setError(null);\r\n    } catch (err) {\r\n      console.error('Failed to fetch videos:', err);\r\n      setError('Failed to load videos. Please try again later.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Check upload limit from server\r\n  const checkUploadLimit = async () => {\r\n    try {\r\n      const response = await api.get(`/videos/upload-limit`);\r\n      setUploadLimitReached(response.data.limitReached);\r\n      return response.data.limitReached;\r\n    } catch (err) {\r\n      console.error('Failed to check upload limit:', err);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  // Handle video deletion\r\n  const handleDeleteVideo = async () => {\r\n    if (!videoToDelete) return;\r\n    \r\n    try {\r\n      if (videoToDelete.isLocal) {\r\n        // If it's a local video (e.g., failed upload, or still uploading)\r\n        // We directly remove it from the local contexts/AuthContextlocalStorage\r\n        removeVideo(videoToDelete.id);\r\n        setSnackbar({\r\n          open: true,\r\n          message: 'Video removed successfully.',\r\n          severity: 'success'\r\n        });\r\n      } else {\r\n        // If it's a server video, call the API to delete it\r\n        await deleteVideo(videoToDelete.id);\r\n        removeVideo(videoToDelete.id);\r\n        setSnackbar({\r\n          open: true,\r\n          message: 'Video deleted from server successfully.',\r\n          severity: 'success'\r\n        });\r\n        // After successful server deletion, refetch server videos\r\n        await fetchServerVideos(page);\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to delete video:', err);\r\n      setError('Failed to delete video. Please try again.');\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Failed to delete video: ' + (err.response?.data?.message || err.message),\r\n        severity: 'error'\r\n      });\r\n    } finally {\r\n      setDeleteConfirmOpen(false);\r\n      setVideoToDelete(null);\r\n    }\r\n  };\r\n\r\n  // Handle retry for stuck processing videos\r\n  const handleRetry = async (video) => {\r\n    try {\r\n      if (video.status === 'failed' || video.isLocal) { // Use retryUpload for local failed or stuck uploads\r\n        await retryUpload(video.id);\r\n      } else if (video.status === 'processing') { // For server-side stuck processing\r\n        await api.post(`/videos/${video.id}/retry-processing`);\r\n      }\r\n      \r\n      // Refresh the list\r\n      await fetchServerVideos(page);\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Retry started successfully',\r\n        severity: 'success'\r\n      });\r\n    } catch (error) {\r\n      console.error('Retry failed:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Retry failed: ' + (error.response?.data?.message || error.message),\r\n        severity: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchServerVideos(page);\r\n    checkUploadLimit();\r\n  }, [page]);\r\n\r\n  const handleUploadClick = async () => {\r\n    const limitReached = await checkUploadLimit();\r\n    if (limitReached) {\r\n      toast.info('You have reached your daily upload limit. Please try again tomorrow.');\r\n      return;\r\n    }\r\n     navigate('/jobseeker-tabs?group=profileContent&tab=video-upload');\r\n        // setVideoTab(1); \r\n\r\n  //navigate('/video-upload');\r\n  };\r\n\r\n\r\n\r\n  const handlePageChange = (event, value) => {\r\n    setPage(value);\r\n  };\r\n\r\n  const handleVideoHover = (videoId, isHovering) => {\r\n    if (isHovering) {\r\n      setHoveredVideo(videoId);\r\n      const videoEl = videoRefs.current[videoId];\r\n      if (videoEl) {\r\n        videoEl.currentTime = 0;\r\n        videoEl.play().catch(e => console.log('Autoplay prevented:', e));\r\n      }\r\n    } else {\r\n      const videoEl = videoRefs.current[videoId];\r\n      if (videoEl && !videoEl.paused) {\r\n        videoEl.pause();\r\n        videoEl.currentTime = 0;\r\n      }\r\n      setHoveredVideo(null);\r\n    }\r\n  };\r\n\r\n  const handleVideoClick = (video) => {\r\n    navigate(`/video-player/${video.id}`, {\r\n      state: {\r\n        currentVideo: video,\r\n        allVideos: filteredVideos,\r\n        initialPage: page,\r\n      }\r\n    });\r\n  };\r\n\r\n  // Combine local and server videos, with local videos first\r\n  const allVideos = [\r\n    ...localVideos.map(v => ({ ...v, isLocal: true })),\r\n    ...serverVideos.map(v => ({ ...v, isLocal: false, status: v.status || 'completed' }))\r\n  ];\r\n\r\n  // Filter out local videos that have been successfully uploaded AND are now present on the server\r\n  // This prevents duplicates of successfully uploaded videos.\r\n  const filteredVideos = allVideos.filter(video => {\r\n    if (video.isLocal && video.status === 'completed') {\r\n      return !serverVideos.some(sv => sv.id === video.id);\r\n    }\r\n    return true;\r\n  });\r\n\r\n  // Styled component for processing/uploading borders\r\n  const StatusBorder = styled('div')(({ status, theme }) => ({\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    borderRadius: '8px',\r\n    border: `8px solid ${status === 'processing' ? \"rgb(22, 85, 167)\" : theme.palette.error.main}`,\r\n    background: 'transparent',\r\n    zIndex: 2,\r\n    pointerEvents: 'none',\r\n    animation: 'pulse 2s infinite',\r\n    '@keyframes pulse': {\r\n      '0%': { opacity: 0.9 },\r\n      '50%': { opacity: 0.5 },\r\n      '100%': { opacity: 0.9 },\r\n    },\r\n  }));\r\n\r\n  return (\r\n    <Container maxWidth={false} sx={{\r\n      bgcolor: 'background.jobseeker',\r\n      padding: 0,\r\n      minHeight: 'calc(100vh - 24px)', // Adjust for header\r\n      mt: 0,\r\n      pt: 2,\r\n      pb: 4,\r\n    }}>\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\r\n        <Typography variant=\"h5\" sx={{ fontWeight: 'bold', color: 'text.primary', fontFamily: 'arial' }}>\r\n          My Videos\r\n        </Typography>\r\n        <Button \r\n          variant=\"contained\" \r\n          onClick={handleUploadClick}\r\n          startIcon={<CloudUpload />}\r\n          disabled={uploadLimitReached}\r\n        >\r\n          Upload New Video\r\n        </Button>\r\n      </Box>\r\n\r\n      {uploadLimitReached && (\r\n        <Alert severity=\"warning\" sx={{ mb: 3 }}>\r\n          You have reached your daily upload limit. Please try again tomorrow.\r\n        </Alert>\r\n      )}\r\n\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {loading && page === 1 ? (\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}>\r\n          <CircularProgress />\r\n        </Box>\r\n      ) : filteredVideos.length === 0 ? (\r\n        <Box sx={{ textAlign: 'center', mt: 4 }}>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            No videos uploaded yet\r\n          </Typography>\r\n          <Button \r\n            variant=\"contained\" \r\n            onClick={handleUploadClick}\r\n            sx={{ mt: 2 }}\r\n            startIcon={<CloudUpload />}\r\n            disabled={uploadLimitReached}\r\n          >\r\n            Upload Your First Video\r\n          </Button>\r\n        </Box>\r\n      ) : (\r\n        <>\r\n        <Grid container spacing={3} sx={{ justifyContent: 'center' }}>\r\n        {filteredVideos.map((video) => (\r\n          <Grid item key={video.id} xs={12} sm={6} md={4} lg={4}> {/* Changed lg from 3 to 4 */}\r\n            <Card\r\n              sx={{\r\n                width: '300px',\r\n                maxWidth: 400, // Increased from 350\r\n                height: '400px', // Ensure card takes full height\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                justifyContent: 'space-between',\r\n                borderRadius: 2,\r\n                boxShadow: 2,\r\n                transition: 'transform 0.2s ease-in-out',\r\n                '&:hover': {\r\n                  transform: 'scale(1.02)',\r\n                },\r\n                position: 'relative',\r\n                overflow: 'visible',\r\n              }}\r\n              onMouseEnter={() => handleVideoHover(video.id, true)}\r\n              onMouseLeave={() => handleVideoHover(video.id, false)}\r\n              onClick={() => handleVideoClick(video)}\r\n            >\r\n                  {(video.status === 'uploading' || video.status === 'processing') && (\r\n                    <StatusBorder status={video.status} />\r\n                  )}\r\n\r\n                  <CardMedia\r\n          component=\"div\"\r\n                sx={{\r\n                \r\n                    width: '300px',\r\n                    height: '400px',\r\n            paddingTop: '56.25%', // 16:9 aspect ratio\r\n            backgroundColor: '#000',\r\n            position: 'relative',\r\n            overflow: 'hidden',\r\n            borderRadius: '8px 8px 0 0',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n                    { (video.video_url || video.videoUrl || video.video_url) && (\r\n                      <video\r\n                        ref={el => videoRefs.current[video.id] = el}\r\n                        src={video.video_url || video.videoUrl || video.videoUrl}\r\n                        style={{\r\n                          position: 'absolute',\r\n                          top: 0,\r\n                          left: 0,\r\n                          \r\n                            width: '300px',\r\n                            \r\n                            height: '400px',\r\n                          \r\n                          backgroundColor: '#000',\r\n                        }}\r\n                        muted={isMuted}\r\n                        loop\r\n                        playsInline\r\n                        disablePictureInPicture\r\n                        controlsList=\"nodownload\"\r\n                      />\r\n                    )}\r\n\r\n                    <IconButton\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        toggleMute();\r\n                      }}\r\n                      sx={{\r\n                        position: 'absolute',\r\n                        top: 8,\r\n                        right: 8,\r\n                        zIndex: 2,\r\n                        backgroundColor: 'rgba(0,0,0,0.5)',\r\n                        color: 'white'\r\n                      }}\r\n                    >\r\n                      {isMuted ? <VolumeOff /> : <VolumeUp />}\r\n                    </IconButton>\r\n\r\n                    {/* Delete button */}\r\n                    <Tooltip title=\"Delete video\">\r\n                      <IconButton\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          setVideoToDelete(video); // This is correct, 'video' contains 'isLocal'\r\n                          setDeleteConfirmOpen(true);\r\n                        }}\r\n                        sx={{\r\n                          position: 'absolute',\r\n                          top: 8,\r\n                          left: 8,\r\n                          zIndex: 2,\r\n                          backgroundColor: 'rgba(0,0,0,0.5)',\r\n                          color: 'white'\r\n                        }}\r\n                      >\r\n                        <Delete fontSize=\"small\" />\r\n                      </IconButton>\r\n                    </Tooltip>\r\n\r\n                    {/* Overlay Content */}\r\n                    <Box\r\n                      sx={{\r\n                        position: 'absolute',\r\n                        bottom: 0,\r\n                        left: 0,\r\n                        right: 0,\r\n                        p: 1,\r\n                        color: 'white',\r\n                        background: 'linear-gradient(to top, rgba(0,0,0,0.7), transparent)',\r\n                        zIndex: 1,\r\n                      }}\r\n                    >\r\n                      <Typography variant=\"subtitle1\" noWrap  sx={{   color:'white',}}>\r\n                        {video.video_title || video.videoTitle || video.title || 'Untitled Video'}\r\n                      </Typography>\r\n\r\n                      <Typography variant=\"body2\" sx={{   color:'white',}}>\r\n                        {(video.category || video.video_category || video.catagory || video.video_type || 'Uncategorized')} â€¢{' '}\r\n                        {Math.round((video.video_duration || video.videoDuration || 0))}s\r\n                      </Typography>\r\n\r\n                      {video.hashtags && (\r\n                        <Stack direction=\"row\" spacing={0.5} sx={{ mt: 0.5, flexWrap: 'wrap', gap: 0.5 }}>\r\n                          {(() => {\r\n                            try {\r\n                              let tags = [];\r\n                              if (Array.isArray(video.hashtags)) {\r\n                                tags = video.hashtags;\r\n                              } else {\r\n                                try {\r\n                                  const parsed = JSON.parse(video.hashtags);\r\n                                  tags = Array.isArray(parsed) ? parsed : [parsed];\r\n                                } catch (e) {\r\n                                  tags = video.hashtags.split(',').map(t => t.trim()).filter(Boolean);\r\n                                }\r\n                              }\r\n                              return tags.map((tag, i) => (\r\n                                <Chip\r\n                                  key={`${video.id}-${i}`}\r\n                                  label={`#${tag}`}\r\n                                  size=\"small\"\r\n                                  sx={{ \r\n                                    color: 'white', \r\n                                    borderColor: 'white',\r\n                                    backgroundColor: 'rgba(255,255,255,0.2)',\r\n                                    height: '24px'\r\n                                  }}\r\n                                />\r\n                              ));\r\n                            } catch (error) {\r\n                              console.error('Error parsing hashtags:', error);\r\n                              return null;\r\n                            }\r\n                          })()}\r\n                        </Stack>\r\n                      )}\r\n                    </Box>\r\n                  </CardMedia>\r\n\r\n                  {/* CardContent - Status information */}\r\n                  <CardContent sx={{ pt: 1, pb: 1 }}>\r\n                    {video.isLocal && (\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n                        {video.status === 'completed' ? (\r\n                          <CheckCircle color=\"success\" />\r\n                        ) : (\r\n                          <CloudSyncIcon />\r\n                        )}\r\n                        {video.status === 'uploading' && (\r\n                          <>\r\n                            <Typography variant=\"caption\" color=\"text.secondary\">\r\n                              Uploading... {video.progress}%\r\n                            </Typography>\r\n                            <LinearProgress\r\n                              variant=\"determinate\"\r\n                              value={video.progress}\r\n                              color=\"error\"\r\n                              sx={{ width: '60%' }}\r\n                            />\r\n                          </>\r\n                        )}\r\n\r\n                      {/* Show retry button for failed or local failed uploads */}\r\n                      {video.isLocal && video.status === 'failed' && (\r\n                        <Button\r\n                          variant=\"outlined\"\r\n                          color=\"error\"\r\n                          size=\"small\"\r\n                          startIcon={<Replay />}\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            handleRetry(video);\r\n                          }}\r\n                          sx={{ mt: 1 }}\r\n                        >\r\n                          Retry Upload\r\n                        </Button>\r\n                      )}\r\n\r\n                      {/* If not local and completed, show check mark */}\r\n                      {!video.isLocal && video.status === 'completed' && (\r\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                          <CheckCircle color=\"success\" />\r\n                          <Typography variant=\"caption\" color=\"text.secondary\">Ready</Typography>\r\n                        </Box>\r\n                      )}\r\n                    </Box>\r\n\r\n                    )}\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n\r\n          {totalPages > 1 && (\r\n            <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}>\r\n              <Pagination\r\n                count={totalPages}\r\n                page={page}\r\n                onChange={handlePageChange}\r\n                color=\"primary\"\r\n                sx={{\r\n                  '& .MuiPaginationItem-root': {\r\n                    color: 'white',\r\n                    backgroundColor: 'rgba(255,255,255,0.2)',\r\n                  },\r\n                  '& .Mui-selected': {\r\n                    backgroundColor: 'rgba(255,255,255,0.4)',\r\n                  },\r\n                }}\r\n              />\r\n            </Box>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* Delete confirmation dialog */}\r\n      <Dialog\r\n        open={deleteConfirmOpen}\r\n        onClose={() => setDeleteConfirmOpen(false)}\r\n      >\r\n        <DialogTitle>Delete Video</DialogTitle>\r\n        <DialogContent>\r\n          <Typography>\r\n            Are you sure you want to delete this video? This action cannot be undone.\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDeleteConfirmOpen(false)}>Cancel</Button>\r\n          <Button \r\n            onClick={handleDeleteVideo} \r\n            color=\"error\"\r\n            variant=\"contained\"\r\n          >\r\n            Delete\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default VideosPage;",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\VideoTabs.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\VideoUpload.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useParams' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 2,
        "column": 23,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 32,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useParams"
            },
            "fix": {
              "range": [
                81,
                92
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useParams'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'saveVideoMetadata' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 3,
        "column": 23,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 3,
        "endColumn": 40,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "saveVideoMetadata"
            },
            "fix": {
              "range": [
                141,
                160
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'saveVideoMetadata'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'onStatusChange' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 41,
        "column": 61,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 41,
        "endColumn": 75,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "onStatusChange"
            },
            "fix": {
              "range": [
                1293,
                1309
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'onStatusChange'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'user' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 44,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 44,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "user"
            },
            "fix": {
              "range": [
                1404,
                1409
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'user'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useState, useRef, useEffect } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { uploadVideo, saveVideoMetadata } from '@/services/videoService';\r\nimport { checkUploadStatus } from '@/services/api';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useVideoContext } from '@/contexts/VideoContext';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/UI/card.jsx';\r\nimport { Button } from '@/components/UI/button.jsx';\r\nimport { Input } from '@/components/UI/input.jsx';\r\nimport { Label } from '@/components/UI/label.jsx';\r\nimport { Textarea } from '@/components/UI/textarea.jsx';\r\nimport { Badge } from '@/components/UI/badge.jsx';\r\nimport { Progress } from '@/components/UI/progress.jsx';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/UI/select.jsx';\r\nimport {\r\n  Video,\r\n  Upload,\r\n  Play,\r\n  Pause,\r\n  Square,\r\n  Mic,\r\n  MicOff,\r\n  X,\r\n  Plus,\r\n  Save,\r\n  Loader2,\r\n  CheckCircle,\r\n  ArrowLeft,\r\n  RefreshCw\r\n} from 'lucide-react';\r\nimport themeColors from '@/config/theme-colors';\r\n\r\nexport default function VideoUpload({ newjobid, onComplete, onStatusChange, embedded }) {\r\n  const navigate = useNavigate();\r\n  const { toast } = useToast();\r\n  const { user, role } = useAuth();\r\n  const { addLocalVideo, updateVideoStatus, updateVideoServerId } = useVideoContext();\r\n  \r\n  // Refs\r\n  const videoRef = useRef(null);\r\n  const mediaRecorderRef = useRef(null);\r\n  const streamRef = useRef(null);\r\n  const chunksRef = useRef([]);\r\n  const fileInputRef = useRef(null);\r\n\r\n  // State\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [isPaused, setIsPaused] = useState(false);\r\n  const [recordedVideo, setRecordedVideo] = useState(null);\r\n  const [uploadedFile, setUploadedFile] = useState(null);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [recordingTime, setRecordingTime] = useState(0);\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [uploadMethod, setUploadMethod] = useState('record'); // 'record' or 'upload'\r\n\r\n  // Metadata\r\n  const [videoTitle, setVideoTitle] = useState('');\r\n  const [videoDescription, setVideoDescription] = useState('');\r\n  const [videoCategory, setVideoCategory] = useState('');\r\n  const [hashtags, setHashtags] = useState([]);\r\n  const [hashtagInput, setHashtagInput] = useState('');\r\n  const [jobId, setJobId] = useState(newjobid || '');\r\n  const [privacy, setPrivacy] = useState('public');\r\n\r\n  useEffect(() => {\r\n    let interval;\r\n    if (isRecording && !isPaused) {\r\n      interval = setInterval(() => {\r\n        setRecordingTime(prev => prev + 1);\r\n      }, 1000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [isRecording, isPaused]);\r\n\r\n  // Polling ref to allow cleanup\r\n  const uploadPollRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (uploadPollRef.current) {\r\n        clearInterval(uploadPollRef.current);\r\n        uploadPollRef.current = null;\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const formatTime = (seconds) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const startCamera = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({\r\n        video: { width: 1280, height: 720 },\r\n        audio: true\r\n      });\r\n      \r\n      streamRef.current = stream;\r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = stream;\r\n      }\r\n      \r\n      toast({\r\n        title: \"Camera ready\",\r\n        description: \"You can now start recording\",\r\n      });\r\n    } catch (error) {\r\n      console.error('Error accessing camera:', error);\r\n      toast({\r\n        title: \"Camera Error\",\r\n        description: \"Failed to access camera and microphone\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const startRecording = async () => {\r\n    if (!streamRef.current) {\r\n      await startCamera();\r\n      setTimeout(startRecording, 500);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      chunksRef.current = [];\r\n      \r\n      // Try different codecs in order of preference until one is supported\r\n      const codecOptions = [\r\n        'video/webm;codecs=vp9',\r\n        'video/webm;codecs=vp8',\r\n        'video/webm;codecs=h264',\r\n        'video/webm',\r\n        'video/mp4'\r\n      ];\r\n      \r\n      let selectedMimeType = '';\r\n      for (const codec of codecOptions) {\r\n        if (MediaRecorder.isTypeSupported(codec)) {\r\n          selectedMimeType = codec;\r\n          break;\r\n        }\r\n      }\r\n      \r\n      if (!selectedMimeType) {\r\n        throw new Error('No supported video codec found');\r\n      }\r\n\r\n      const mediaRecorder = new MediaRecorder(streamRef.current, {\r\n        mimeType: selectedMimeType\r\n      });\r\n\r\n      mediaRecorder.ondataavailable = (event) => {\r\n        if (event.data.size > 0) {\r\n          chunksRef.current.push(event.data);\r\n        }\r\n      };\r\n\r\n      mediaRecorder.onstop = () => {\r\n        const blob = new Blob(chunksRef.current, { type: selectedMimeType });\r\n        const url = URL.createObjectURL(blob);\r\n        setRecordedVideo({ blob, url });\r\n        stopCamera();\r\n      };\r\n\r\n      mediaRecorderRef.current = mediaRecorder;\r\n      mediaRecorder.start(100);\r\n      setIsRecording(true);\r\n      setRecordingTime(0);\r\n    } catch (error) {\r\n      console.error('Error starting recording:', error);\r\n      toast({\r\n        title: \"Recording Error\",\r\n        description: error.message || \"Failed to start recording\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const pauseRecording = () => {\r\n    if (mediaRecorderRef.current && mediaRecorderRef.current.state === 'recording') {\r\n      mediaRecorderRef.current.pause();\r\n      setIsPaused(true);\r\n    }\r\n  };\r\n\r\n  const resumeRecording = () => {\r\n    if (mediaRecorderRef.current && mediaRecorderRef.current.state === 'paused') {\r\n      mediaRecorderRef.current.resume();\r\n      setIsPaused(false);\r\n    }\r\n  };\r\n\r\n  const stopRecording = () => {\r\n    if (mediaRecorderRef.current && mediaRecorderRef.current.state !== 'inactive') {\r\n      mediaRecorderRef.current.stop();\r\n      setIsRecording(false);\r\n      setIsPaused(false);\r\n    }\r\n  };\r\n\r\n  const stopCamera = () => {\r\n    if (streamRef.current) {\r\n      streamRef.current.getTracks().forEach(track => track.stop());\r\n      streamRef.current = null;\r\n    }\r\n    if (videoRef.current) {\r\n      videoRef.current.srcObject = null;\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      if (file.type.startsWith('video/')) {\r\n        setUploadedFile(file);\r\n        const url = URL.createObjectURL(file);\r\n        setRecordedVideo({ blob: file, url });\r\n        \r\n        toast({\r\n          title: \"Video uploaded\",\r\n          description: `${file.name} is ready for processing`,\r\n        });\r\n      } else {\r\n        toast({\r\n          title: \"Invalid file\",\r\n          description: \"Please upload a video file\",\r\n          variant: \"destructive\",\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const addHashtag = () => {\r\n    if (hashtagInput.trim() && !hashtags.includes(hashtagInput.trim())) {\r\n      setHashtags([...hashtags, hashtagInput.trim()]);\r\n      setHashtagInput('');\r\n    }\r\n  };\r\n\r\n  const removeHashtag = (tag) => {\r\n    setHashtags(hashtags.filter(t => t !== tag));\r\n  };\r\n\r\n  const handleSaveVideo = async () => {\r\n    if (!recordedVideo && !uploadedFile) {\r\n      toast({\r\n        title: \"No video\",\r\n        description: \"Please record or upload a video first\",\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!videoTitle.trim()) {\r\n      toast({\r\n        title: \"Missing title\",\r\n        description: \"Please enter a video title\",\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    setIsUploading(true);\r\n    const videoId = uuidv4();\r\n\r\n    // Build a local video object that the VideosPage can render immediately\r\n    const blobUrl = recordedVideo?.url || (uploadedFile ? URL.createObjectURL(uploadedFile) : null);\r\n    const localVideo = {\r\n      id: videoId,\r\n      video_title: videoTitle,\r\n      title: videoTitle,\r\n      description: videoDescription,\r\n      video_description: videoDescription,\r\n      video_url: blobUrl,\r\n      videoUrl: blobUrl, // for VideosPage preview which expects video.videoUrl\r\n      isLocal: true,\r\n      status: 'uploading',\r\n      progress: 0,\r\n      hashtags: hashtags,\r\n      job_id: jobId || null,\r\n      submitted_at: new Date().toISOString()\r\n    };\r\n\r\n    try {\r\n      // Add to local context immediately so VideosPage can show the uploading item\r\n      if (addLocalVideo) {\r\n        addLocalVideo(localVideo);\r\n      }\r\n\r\n      // If not embedded, navigate to VideosPage immediately so user sees upload in list\r\n      if (!embedded) {\r\n        navigate('/jobseeker-tabs?group=profileContent&tab=my-videos');\r\n      }\r\n\r\n      // Prepare form data for upload\r\n      const formData = new FormData();\r\n      formData.append('video', recordedVideo?.blob || uploadedFile);\r\n      formData.append('title', videoTitle);\r\n      formData.append('description', videoDescription);\r\n      formData.append('category', videoCategory);\r\n      formData.append('hashtags', JSON.stringify(hashtags));\r\n      formData.append('privacy', privacy);\r\n      if (jobId) formData.append('jobId', jobId);\r\n      formData.append('videoId', videoId);\r\n\r\n      // Start upload in background and update context with progress\r\n      uploadVideo(formData, (progressEvent) => {\r\n        const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n        setUploadProgress(percentCompleted);\r\n        if (updateVideoStatus) {\r\n          updateVideoStatus(videoId, {\r\n            status: 'uploading',\r\n            progress: percentCompleted\r\n          });\r\n        }\r\n      })\r\n      .then((response) => {\r\n        if (response.data && (response.data.uploadId || response.data.video?.id)) {\r\n          const serverId = response.data.uploadId || response.data.video?.id;\r\n\r\n          // Transition the temp/local ID to the server-provided ID and mark processing\r\n          if (updateVideoServerId) {\r\n            updateVideoServerId(videoId, serverId, {\r\n              status: 'processing',\r\n              isLocal: true,\r\n              progress: 100,\r\n              job_id: response.data.jobId || jobId || null\r\n            });\r\n          }\r\n\r\n          // If server returned an uploadId, start polling server-side upload status\r\n          if (response.data.uploadId) {\r\n            // Clear any existing poll\r\n            if (uploadPollRef.current) {\r\n              clearInterval(uploadPollRef.current);\r\n            }\r\n\r\n            const uploadId = response.data.uploadId;\r\n            // Poll every 1s\r\n            uploadPollRef.current = setInterval(async () => {\r\n              try {\r\n                const statusRes = await checkUploadStatus(uploadId);\r\n                const statusData = statusRes.data || {};\r\n                const status = statusData.status || '';\r\n                const progress = statusData.progress ?? 0;\r\n\r\n                // Update local context/progress\r\n                if (updateVideoStatus) {\r\n                  updateVideoStatus(videoId, {\r\n                    status: status === 'completed' ? 'completed' : status === 'failed' ? 'failed' : 'processing',\r\n                    progress\r\n                  });\r\n                }\r\n\r\n                // If completed, reconcile server id (if returned) and stop polling\r\n                if (status === 'completed') {\r\n                  if (statusData.video && updateVideoServerId) {\r\n                    const returnedId = statusData.video.id || statusData.video.videoId || uploadId;\r\n                    updateVideoServerId(videoId, returnedId, { status: 'completed', progress: 100 });\r\n                  } else if (updateVideoStatus) {\r\n                    updateVideoStatus(videoId, { status: 'completed', progress: 100 });\r\n                  }\r\n                  clearInterval(uploadPollRef.current);\r\n                  uploadPollRef.current = null;\r\n                }\r\n\r\n                if (status === 'failed') {\r\n                  if (updateVideoStatus) updateVideoStatus(videoId, { status: 'failed', progress: 0 });\r\n                  clearInterval(uploadPollRef.current);\r\n                  uploadPollRef.current = null;\r\n                }\r\n              } catch (err) {\r\n                // keep polling on transient errors; log for debug\r\n                console.error('Error polling upload status:', err?.message || err);\r\n              }\r\n            }, 1000);\r\n          }\r\n\r\n          // Optionally call onComplete with server video data\r\n          if (onComplete && response.data.video) {\r\n            onComplete(response.data.video);\r\n          }\r\n\r\n          toast({\r\n            title: \"Upload started\",\r\n            description: \"Video uploaded and is being processed. It will appear when ready.\",\r\n          });\r\n        } else if (response.data && response.data.success) {\r\n          // Fallback if server returns success without id\r\n          if (updateVideoStatus) {\r\n            updateVideoStatus(videoId, { status: 'processing', progress: 100 });\r\n          }\r\n          toast({ title: 'Upload started', description: 'Video is processing.' });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error('Upload error:', error);\r\n        toast({\r\n          title: \"Upload failed\",\r\n          description: error.response?.data?.message || \"Failed to upload video\",\r\n          variant: \"destructive\",\r\n        });\r\n        if (updateVideoStatus) {\r\n          updateVideoStatus(videoId, {\r\n            status: 'failed',\r\n            error: error.message,\r\n            isLocal: true\r\n          });\r\n        }\r\n      })\r\n      .finally(() => {\r\n        setIsUploading(false);\r\n      });\r\n\r\n      // If embedded, reset the form after starting upload\r\n      if (embedded) {\r\n        resetForm();\r\n      }\r\n    } catch (error) {\r\n      console.error('Upload error (sync):', error);\r\n      toast({\r\n        title: \"Upload failed\",\r\n        description: error.message || \"Failed to upload video\",\r\n        variant: \"destructive\",\r\n      });\r\n      if (updateVideoStatus) {\r\n        updateVideoStatus(videoId, {\r\n          status: 'failed',\r\n          error: error.message\r\n        });\r\n      }\r\n      setIsUploading(false);\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setRecordedVideo(null);\r\n    setUploadedFile(null);\r\n    setVideoTitle('');\r\n    setVideoDescription('');\r\n    setVideoCategory('');\r\n    setHashtags([]);\r\n    setHashtagInput('');\r\n    setUploadProgress(0);\r\n    setRecordingTime(0);\r\n    stopCamera();\r\n  };\r\n\r\n  const discardVideo = () => {\r\n    if (recordedVideo?.url) {\r\n      URL.revokeObjectURL(recordedVideo.url);\r\n    }\r\n    resetForm();\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-6 px-4 max-w-5xl\">\r\n      {/* Header */}\r\n      {!embedded && (\r\n        <div className=\"mb-8\">\r\n          <Button variant=\"ghost\" onClick={() => navigate(-1)} className=\"mb-4\">\r\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n            Back\r\n          </Button>\r\n          <h1 className={`${themeColors.text.gradient} text-4xl font-bold  mb-2`}>\r\n            Upload Video\r\n          </h1>\r\n          <p className=\"text-muted-foreground\">\r\n            Record a new video or upload an existing one\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Method Selection */}\r\n      {!recordedVideo && !uploadedFile && (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\r\n          <Button\r\n            variant={uploadMethod === 'record' ? 'default' : 'outline'}\r\n            className=\"h-24 text-lg\"\r\n            onClick={() => setUploadMethod('record')}\r\n          >\r\n            <Video className=\"h-6 w-6 mr-3\" />\r\n            Record Video\r\n          </Button>\r\n          <Button\r\n            variant={uploadMethod === 'upload' ? 'default' : 'outline'}\r\n            className=\"h-24 text-lg\"\r\n            onClick={() => setUploadMethod('upload')}\r\n          >\r\n            <Upload className=\"h-6 w-6 mr-3\" />\r\n            Upload Video\r\n          </Button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Recording / Upload Area */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* Video Preview/Recording */}\r\n        <Card className=\"border-l-4 border-l-purple-500\">\r\n          <CardHeader>\r\n            <CardTitle>\r\n              {uploadMethod === 'record' ? 'Camera' : 'Video File'}\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            {/* Video Element */}\r\n            <div className=\"relative bg-black rounded-lg overflow-hidden aspect-video\">\r\n              {uploadMethod === 'record' && !recordedVideo ? (\r\n                <video\r\n                  ref={videoRef}\r\n                  autoPlay\r\n                  muted={isMuted}\r\n                  className=\"w-full h-full object-cover\"\r\n                />\r\n              ) : recordedVideo ? (\r\n                <video\r\n                  src={recordedVideo.url}\r\n                  controls\r\n                  className=\"w-full h-full object-cover\"\r\n                />\r\n              ) : (\r\n                <div className=\"flex items-center justify-center h-full\">\r\n                  <div className=\"text-center text-white\">\r\n                    <Upload className=\"h-16 w-16 mx-auto mb-4 opacity-50\" />\r\n                    <p className=\"text-sm opacity-75\">No video selected</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Recording Indicator */}\r\n              {isRecording && (\r\n                <div className=\"absolute top-4 left-4 flex items-center gap-2 bg-red-600 text-white px-3 py-1 rounded-full\">\r\n                  <div className=\"w-2 h-2 bg-white rounded-full animate-pulse\" />\r\n                  <span className=\"text-sm font-medium\">{formatTime(recordingTime)}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Controls */}\r\n            {!recordedVideo && uploadMethod === 'record' && (\r\n              <div className=\"space-y-3\">\r\n                {!isRecording ? (\r\n                  <Button\r\n                    onClick={startRecording}\r\n                    className={`${themeColors.buttons.primary} text-white w-full `}\r\n                  >\r\n                    <Video className=\"h-4 w-4 mr-2\" />\r\n                    Start Recording\r\n                  </Button>\r\n                ) : (\r\n                  <div className=\"flex gap-2\">\r\n                    <Button\r\n                      onClick={isPaused ? resumeRecording : pauseRecording}\r\n                      variant=\"outline\"\r\n                      className=\"flex-1\"\r\n                    >\r\n                      {isPaused ? (\r\n                        <>\r\n                          <Play className=\"h-4 w-4 mr-2\" />\r\n                          Resume\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <Pause className=\"h-4 w-4 mr-2\" />\r\n                          Pause\r\n                        </>\r\n                      )}\r\n                    </Button>\r\n                    <Button\r\n                      onClick={stopRecording}\r\n                      variant=\"destructive\"\r\n                      className=\"flex-1\"\r\n                    >\r\n                      <Square className=\"h-4 w-4 mr-2\" />\r\n                      Stop\r\n                    </Button>\r\n                  </div>\r\n                )}\r\n\r\n                {streamRef.current && (\r\n                  <Button\r\n                    onClick={() => setIsMuted(!isMuted)}\r\n                    variant=\"outline\"\r\n                    className=\"w-full\"\r\n                  >\r\n                    {isMuted ? (\r\n                      <>\r\n                        <MicOff className=\"h-4 w-4 mr-2\" />\r\n                        Unmute\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Mic className=\"h-4 w-4 mr-2\" />\r\n                        Mute\r\n                      </>\r\n                    )}\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {!recordedVideo && uploadMethod === 'upload' && (\r\n              <div>\r\n                <input\r\n                  ref={fileInputRef}\r\n                  type=\"file\"\r\n                  accept=\"video/*\"\r\n                  onChange={handleFileUpload}\r\n                  className=\"hidden\"\r\n                />\r\n                <Button\r\n                  onClick={() => fileInputRef.current?.click()}\r\n                  className={`${themeColors.buttons.primary} text-white w-full `}\r\n                >\r\n                  <Upload className=\"h-4 w-4 mr-2\" />\r\n                  Choose Video File\r\n                </Button>\r\n              </div>\r\n            )}\r\n\r\n            {recordedVideo && (\r\n              <div className=\"flex gap-2\">\r\n                <Button\r\n                  onClick={discardVideo}\r\n                  variant=\"outline\"\r\n                  className=\"flex-1\"\r\n                >\r\n                  <RefreshCw className=\"h-4 w-4 mr-2\" />\r\n                  Record Again\r\n                </Button>\r\n              </div>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Video Details Form */}\r\n        <Card className=\"border-l-4 border-l-cyan-500\">\r\n          <CardHeader>\r\n            <CardTitle>Video Details</CardTitle>\r\n            <CardDescription>Add information about your video</CardDescription>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            {/* Title */}\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"title\">Title *</Label>\r\n              <Input\r\n                id=\"title\"\r\n                value={videoTitle}\r\n                onChange={(e) => setVideoTitle(e.target.value)}\r\n                placeholder=\"Enter video title\"\r\n              />\r\n            </div>\r\n\r\n            {/* Description */}\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"description\">Description</Label>\r\n              <Textarea\r\n                id=\"description\"\r\n                value={videoDescription}\r\n                onChange={(e) => setVideoDescription(e.target.value)}\r\n                placeholder=\"Describe your video...\"\r\n                rows={4}\r\n              />\r\n            </div>\r\n\r\n            {/* Category */}\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"category\">Category</Label>\r\n              <Select value={videoCategory} onValueChange={setVideoCategory}>\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select category\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"introduction\">Introduction</SelectItem>\r\n                  <SelectItem value=\"skills\">Skills Demo</SelectItem>\r\n                  <SelectItem value=\"experience\">Experience</SelectItem>\r\n                  <SelectItem value=\"portfolio\">Portfolio</SelectItem>\r\n                  <SelectItem value=\"other\">Other</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            {/* Hashtags */}\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"hashtags\">Hashtags</Label>\r\n              <div className=\"flex gap-2\">\r\n                <Input\r\n                  id=\"hashtags\"\r\n                  value={hashtagInput}\r\n                  onChange={(e) => setHashtagInput(e.target.value)}\r\n                  onKeyDown={(e) => {\r\n                    if (e.key === 'Enter') {\r\n                      e.preventDefault();\r\n                      addHashtag();\r\n                    }\r\n                  }}\r\n                  placeholder=\"Add hashtag and press Enter\"\r\n                />\r\n                <Button onClick={addHashtag} size=\"icon\" variant=\"outline\">\r\n                  <Plus className=\"h-4 w-4\" />\r\n                </Button>\r\n              </div>\r\n              <div className=\"flex flex-wrap gap-2 mt-2\">\r\n                {hashtags.map((tag, index) => (\r\n                  <Badge key={index} variant=\"secondary\" className=\"gap-1\">\r\n                    #{tag}\r\n                    <button onClick={() => removeHashtag(tag)} className=\"ml-1\">\r\n                      <X className=\"h-3 w-3\" />\r\n                    </button>\r\n                  </Badge>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Privacy */}\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"privacy\">Privacy</Label>\r\n              <Select value={privacy} onValueChange={setPrivacy}>\r\n                <SelectTrigger>\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"public\">Public</SelectItem>\r\n                  <SelectItem value=\"private\">Private</SelectItem>\r\n                  <SelectItem value=\"unlisted\">Unlisted</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            {/* Job ID (if applicable) */}\r\n            {role === 'jobseeker' && (\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"jobId\">Job Application (Optional)</Label>\r\n                <Input\r\n                  id=\"jobId\"\r\n                  value={jobId}\r\n                  onChange={(e) => setJobId(e.target.value)}\r\n                  placeholder=\"Enter Job ID if applying\"\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            {/* Upload Progress */}\r\n            {isUploading && (\r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex justify-between text-sm\">\r\n                  <span>Uploading...</span>\r\n                  <span>{uploadProgress}%</span>\r\n                </div>\r\n                <Progress value={uploadProgress} />\r\n              </div>\r\n            )}\r\n\r\n            {/* Save Button */}\r\n            <Button\r\n              onClick={handleSaveVideo}\r\n              disabled={isUploading || (!recordedVideo && !uploadedFile)}\r\n              className={`${themeColors.buttons.primary} text-white w-full `}\r\n            >\r\n              {isUploading ? (\r\n                <>\r\n                  <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                  Uploading... {uploadProgress}%\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Save className=\"h-4 w-4 mr-2\" />\r\n                  Save Video\r\n                </>\r\n              )}\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\VideoUploadLogic.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 13,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 13,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                423,
                458
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'setIsAudioOnly' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 37,
        "column": 23,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 37,
        "endColumn": 37,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "setIsAudioOnly"
            },
            "fix": {
              "range": [
                1537,
                1553
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'setIsAudioOnly'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'intervalRef' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 43,
        "column": 9,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 43,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "intervalRef"
            },
            "fix": {
              "range": [
                1757,
                1790
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'intervalRef'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'uploadStatus' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 48,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 48,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "uploadStatus"
            },
            "fix": {
              "range": [
                1921,
                1934
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'uploadStatus'."
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'stopRecording'. Either include it or remove the dependency array.",
        "line": 105,
        "column": 5,
        "nodeType": "ArrayExpression",
        "endLine": 105,
        "endColumn": 18,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [isRecording, stopRecording]",
            "fix": {
              "range": [
                3694,
                3707
              ],
              "text": "[isRecording, stopRecording]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿// VideoUploadLogic.js\r\nimport { useState, useRef, useEffect } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { useVideoContext } from \"@/contexts/VideoContext\";\r\nimport {\r\n\r\n  checkUploadStatus\r\n} from \"@/services/api\";\r\nimport { uploadVideo, saveVideoMetadata } from \"@/services/videoService\";\r\n\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useContext } from 'react';\r\n\r\n// This custom hook encapsulates all the logic for the video upload process.\r\nconst useVideoUploadLogic = () => {\r\n  const [recordingStep, setRecordingStep] = useState(0); // 0: initial, 1: preview, 2: metadata\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [stream, setStream] = useState(null);\r\n  const [recordedChunks, setRecordedChunks] = useState([]);\r\n  const [recordingTime, setRecordingTime] = useState(0);\r\n  const [videoUrl, setVideoUrl] = useState(null);\r\n  const [videoBlob, setVideoBlob] = useState(null);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [tags, setTags] = useState([]);\r\n  const [newTag, setNewTag] = useState(\"\");\r\n  const [uploading, setUploading] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [snackbar, setSnackbar] = useState({\r\n    open: false,\r\n    message: \"\",\r\n    severity: \"info\"\r\n  });\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [isAudioOnly, setIsAudioOnly] = useState(false);\r\n  const [hasCheckedStatus, setHasCheckedStatus] = useState(false);\r\n\r\n  const videoRef = useRef(null);\r\n  const mediaRecorderRef = useRef(null);\r\n  const timerRef = useRef(null);\r\n  const intervalRef = useRef(null);\r\n\r\n  const navigate = useNavigate();\r\n  const { video_id: videoIdParam } = useParams();\r\n  const { user } = useAuth();\r\n  const { uploadStatus, setUploadStatus } = useVideoContext();\r\n\r\n  useEffect(\r\n    () => {\r\n      // Handle background upload status check on mount and update\r\n      if (videoIdParam && user && !hasCheckedStatus) {\r\n        const checkStatus = async () => {\r\n          try {\r\n            const status = await checkUploadStatus(videoIdParam, user.token);\r\n            if (\r\n              status &&\r\n              status.stage === \"PROCESSING\" &&\r\n              status.status === \"IN_PROGRESS\"\r\n            ) {\r\n              setSnackbar({\r\n                open: true,\r\n                message:\r\n                  \"Your video is still being processed in the background.\",\r\n                severity: \"info\"\r\n              });\r\n              setUploadStatus({ stage: \"PROCESSING\", status: \"IN_PROGRESS\" });\r\n              setHasCheckedStatus(true); // Mark as checked to prevent repeated calls\r\n            }\r\n          } catch (error) {\r\n            console.error(\"Error checking upload status:\", error);\r\n          }\r\n        };\r\n        checkStatus();\r\n      }\r\n    },\r\n    [videoIdParam, user, hasCheckedStatus, setUploadStatus]\r\n  );\r\n\r\n  // Handle timer for recording\r\n  useEffect(\r\n    () => {\r\n      if (isRecording) {\r\n        timerRef.current = setInterval(() => {\r\n          setRecordingTime(prevTime => {\r\n            const newTime = prevTime + 1;\r\n            if (newTime >= 45) {\r\n              stopRecording();\r\n              return 45;\r\n            }\r\n            return newTime;\r\n          });\r\n        }, 1000);\r\n      } else if (timerRef.current) {\r\n        clearInterval(timerRef.current);\r\n        timerRef.current = null;\r\n      }\r\n      return () => {\r\n        if (timerRef.current) {\r\n          clearInterval(timerRef.current);\r\n        }\r\n      };\r\n    },\r\n    [isRecording]\r\n  );\r\n\r\n  const startRecording = async () => {\r\n    try {\r\n      const mediaStream = await navigator.mediaDevices.getUserMedia({\r\n        video: true,\r\n        audio: true\r\n      });\r\n      setStream(mediaStream);\r\n      setDialogOpen(true);\r\n      setIsRecording(true);\r\n      setRecordedChunks([]);\r\n      setRecordingTime(0);\r\n\r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = mediaStream;\r\n      }\r\n\r\n      const mediaRecorder = new MediaRecorder(mediaStream, {\r\n        mimeType: \"video/webm; codecs=vp9\"\r\n      });\r\n      mediaRecorderRef.current = mediaRecorder;\r\n\r\n      mediaRecorder.ondataavailable = event => {\r\n        if (event.data.size > 0) {\r\n          setRecordedChunks(prev => [...prev, event.data]);\r\n        }\r\n      };\r\n\r\n      mediaRecorder.onstop = () => {\r\n        const blob = new Blob(recordedChunks, { type: \"video/webm\" });\r\n        setVideoBlob(blob);\r\n        setVideoUrl(URL.createObjectURL(blob));\r\n        setIsRecording(false);\r\n        setDialogOpen(false);\r\n        setRecordingStep(1); // Move to preview step\r\n      };\r\n\r\n      mediaRecorder.start();\r\n    } catch (err) {\r\n      console.error(\"Error accessing media devices:\", err);\r\n      setSnackbar({\r\n        open: true,\r\n        message:\r\n          \"Error accessing camera or microphone. Please check permissions.\",\r\n        severity: \"error\"\r\n      });\r\n      setIsRecording(false);\r\n    }\r\n  };\r\n\r\n  const stopRecording = () => {\r\n    if (\r\n      mediaRecorderRef.current &&\r\n      mediaRecorderRef.current.state !== \"inactive\"\r\n    ) {\r\n      mediaRecorderRef.current.stop();\r\n      stream.getTracks().forEach(track => track.stop());\r\n      setStream(null);\r\n      setIsRecording(false);\r\n      setDialogOpen(false);\r\n    }\r\n  };\r\n\r\n  const retakeVideo = () => {\r\n    setRecordingStep(0);\r\n    setVideoUrl(null);\r\n    setVideoBlob(null);\r\n    setRecordedChunks([]);\r\n    setIsRecording(false);\r\n  };\r\n\r\n  const handleTitleChange = e => setTitle(e.target.value);\r\n  const handleDescriptionChange = e => setDescription(e.target.value);\r\n  const handleNewTagChange = e => setNewTag(e.target.value);\r\n\r\n  const addTag = () => {\r\n    if (newTag.trim() && !tags.includes(newTag.trim())) {\r\n      setTags([...tags, newTag.trim()]);\r\n      setNewTag(\"\");\r\n    }\r\n  };\r\n\r\n  const removeTag = tagToRemove => {\r\n    setTags(tags.filter(tag => tag !== tagToRemove));\r\n  };\r\n\r\n  const handleFileUpload = async event => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      const fileUrl = URL.createObjectURL(file);\r\n      setVideoUrl(fileUrl);\r\n      setVideoBlob(file);\r\n      setRecordingStep(1); // Go to preview step\r\n    }\r\n  };\r\n\r\n  const uploadAndSave = async () => {\r\n    if (!videoBlob) {\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"No video to upload.\",\r\n        severity: \"warning\"\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!title || !description) {\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Title and description are required.\",\r\n        severity: \"warning\"\r\n      });\r\n      return;\r\n    }\r\n\r\n    setUploading(true);\r\n    setUploadProgress(0);\r\n\r\n    try {\r\n      const videoId = uuidv4();\r\n      const uploadResponse = await uploadVideo(videoId, videoBlob, progress => {\r\n        setUploadProgress(progress);\r\n      });\r\n\r\n      if (uploadResponse.success) {\r\n        setSnackbar({\r\n          open: true,\r\n          message: \"Video uploaded successfully!\",\r\n          severity: \"success\"\r\n        });\r\n\r\n        const metadata = {\r\n          id: videoId,\r\n          title,\r\n          description,\r\n          tags,\r\n          uploadedBy: user.uid,\r\n          uploadDate: new Date().toISOString(),\r\n          processingStatus: \"IN_PROGRESS\"\r\n        };\r\n        await saveVideoMetadata(metadata, user.token);\r\n\r\n        // Navigate to a video processing page or a dashboard\r\n        setUploadStatus({ stage: \"PROCESSING\", status: \"IN_PROGRESS\" });\r\n        navigate(`/video/${videoId}/processing`);\r\n      } else {\r\n        throw new Error(uploadResponse.message || \"Upload failed.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Upload and save failed:\", error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: `Upload failed: ${error.message}`,\r\n        severity: \"error\"\r\n      });\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const toggleAudio = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.muted = !videoRef.current.muted;\r\n      setIsMuted(videoRef.current.muted);\r\n    }\r\n  };\r\n\r\n  const togglePlayPause = () => {\r\n    if (videoRef.current) {\r\n      if (videoRef.current.paused) {\r\n        videoRef.current.play();\r\n      } else {\r\n        videoRef.current.pause();\r\n      }\r\n    }\r\n  };\r\n\r\n  // Function to handle moving to the next step\r\n  const goToMetadataStep = () => {\r\n    setRecordingStep(2);\r\n  };\r\n\r\n  const closeSnackbar = () => setSnackbar({ ...snackbar, open: false });\r\n\r\n  return {\r\n    recordingStep,\r\n    isRecording,\r\n    stream,\r\n    recordingTime,\r\n    videoUrl,\r\n    videoBlob,\r\n    title,\r\n    description,\r\n    tags,\r\n    newTag,\r\n    uploading,\r\n    uploadProgress,\r\n    snackbar,\r\n    dialogOpen,\r\n    isMuted,\r\n    isAudioOnly,\r\n    videoRef,\r\n    mediaRecorderRef,\r\n    timerRef,\r\n    handleTitleChange,\r\n    handleDescriptionChange,\r\n    handleNewTagChange,\r\n    addTag,\r\n    removeTag,\r\n    handleFileUpload,\r\n    uploadAndSave,\r\n    toggleAudio,\r\n    togglePlayPause,\r\n    startRecording,\r\n    stopRecording,\r\n    retakeVideo,\r\n    setRecordingStep,\r\n    goToMetadataStep,\r\n    closeSnackbar\r\n  };\r\n};\r\n\r\nexport default useVideoUploadLogic;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\VideoUploadStyles.js",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 14,
        "column": 27,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 14,
        "endColumn": 32,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme"
            },
            "fix": {
              "range": [
                307,
                312
              ],
              "text": "()"
            },
            "desc": "Remove unused variable 'theme'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿// VideoUploadStyles.js\r\nimport { styled } from \"@mui/material/styles\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  Dialog,\r\n  DialogContent,\r\n  Slider,\r\n  Chip,\r\n  CircularProgress\r\n} from \"@mui/material\";\r\n\r\n// Styled components are now separated into their own file for better management.\r\nconst VideoUploadStyles = theme => {\r\n  const UploadBox = styled(Box)(({ theme }) => ({\r\n    border: `2px dashed ${theme.palette.divider}`,\r\n    borderRadius: theme.shape.borderRadius,\r\n    padding: theme.spacing(4),\r\n    backgroundColor: theme.palette.background.paper,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    cursor: \"pointer\",\r\n    minHeight: \"170px\",\r\n    textAlign: \"center\",\r\n    marginBottom: theme.spacing(2),\r\n    transition: \"all 0.3s ease-in-out\",\r\n    \"&:hover\": {\r\n      borderColor: theme.palette.primary.main,\r\n      backgroundColor: theme.palette.action.hover\r\n    }\r\n  }));\r\n\r\n  const VideoButton = styled(Button)(({ theme }) => ({\r\n    backgroundColor: theme.palette.primary.main,\r\n    color: theme.palette.primary.contrastText,\r\n    padding: theme.spacing(1, 4),\r\n    borderRadius: \"25px\",\r\n    boxShadow: theme.shadows[3],\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.primary.dark,\r\n      boxShadow: theme.shadows[6]\r\n    }\r\n  }));\r\n\r\n  const StyledDialog = styled(Dialog)(({ theme }) => ({\r\n    \"& .MuiDialog-paper\": {\r\n      backgroundColor: theme.palette.background.paper,\r\n      borderRadius: \"16px\",\r\n      border: `1px solid ${theme.palette.divider}`,\r\n      boxShadow: theme.shadows[24]\r\n    }\r\n  }));\r\n\r\n  const StyledDialogContent = styled(DialogContent)(({ theme }) => ({\r\n    padding: theme.spacing(3)\r\n  }));\r\n\r\n  const StyledSlider = styled(Slider)(({ theme }) => ({\r\n    height: 8,\r\n    \"& .MuiSlider-thumb\": {\r\n      display: \"none\"\r\n    },\r\n    \"& .MuiSlider-track\": {\r\n      border: \"none\"\r\n    },\r\n    \"& .MuiSlider-rail\": {\r\n      backgroundColor: theme.palette.mode === \"light\" ? \"#e8e8e8\" : \"#424242\"\r\n    }\r\n  }));\r\n\r\n  const StyledChip = styled(Chip)(({ theme }) => ({\r\n    backgroundColor: theme.palette.primary.light,\r\n    color: theme.palette.primary.contrastText\r\n  }));\r\n\r\n  const StyledCircularProgress = styled(CircularProgress)(({ theme }) => ({\r\n    color: theme.palette.primary.contrastText\r\n  }));\r\n\r\n  return {\r\n    UploadBox,\r\n    VideoButton,\r\n    StyledDialog,\r\n    StyledDialogContent,\r\n    StyledSlider,\r\n    StyledChip,\r\n    StyledCircularProgress\r\n  };\r\n};\r\n\r\nexport default VideoUploadStyles;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\pages\\VideoUpload_old.jsx",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                16,
                27
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useTheme' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 28,
        "column": 3,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 28,
        "endColumn": 11,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useTheme"
            },
            "fix": {
              "range": [
                411,
                424
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useTheme'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useParams' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 46,
        "column": 23,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 46,
        "endColumn": 32,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useParams"
            },
            "fix": {
              "range": [
                887,
                898
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useParams'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'saveVideoMetadata' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 47,
        "column": 23,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 47,
        "endColumn": 40,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "saveVideoMetadata"
            },
            "fix": {
              "range": [
                964,
                983
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'saveVideoMetadata'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'embedded' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 139,
        "column": 61,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 139,
        "endColumn": 69,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "embedded"
            },
            "fix": {
              "range": [
                3376,
                3386
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'embedded'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'user' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 145,
        "column": 11,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 145,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "user"
            },
            "fix": {
              "range": [
                3692,
                3697
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'user'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext, useState, useRef, useEffect  } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Button,\r\n  Container,\r\n  Paper,\r\n  IconButton,\r\n  TextField,\r\n  CircularProgress,\r\n  Slider,\r\n  Chip,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Grid,\r\n  Snackbar,\r\n  Alert,\r\n  LinearProgress,\r\n  Stack,\r\n  Tooltip,\r\n  styled,\r\n  useTheme\r\n} from \"@mui/material\";\r\nimport {\r\n  Videocam as VideocamIcon,\r\n  Close as CloseIcon,\r\n  CloudUpload as CloudUploadIcon,\r\n  PlayArrow as PlayArrowIcon,\r\n  Pause as PauseIcon,\r\n  Stop as StopIcon,\r\n  Mic as MicIcon,\r\n  MicOff as MicOffIcon,\r\n  AddCircle as AddCircleIcon,\r\n  Delete as DeleteIcon,\r\n  Save as SaveIcon,\r\n  Refresh as RefreshIcon,\r\n  CheckCircle as CheckCircleIcon,\r\n  ArrowBack as ArrowBackIcon\r\n} from \"@mui/icons-material\";\r\nimport { useNavigate, useParams } from \"react-router-dom\"; // Add useParams\r\nimport { uploadVideo, saveVideoMetadata } from '@/services/videoService';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { useVideoContext } from '@/contexts/VideoContext';\r\nimport { \r\n  checkUploadStatus, \r\n\r\n} from '@/services/api';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\n\r\n// Styled components (keep the same as before)\r\nconst UploadBox = styled(Box)(({ theme }) => ({\r\n  border: \"2px dashed #f0f0f0\",\r\n  borderRadius: \"8px\",\r\n  padding: theme.spacing(4),\r\n  backgroundColor: \"#f9f9f9\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n  cursor: \"pointer\",\r\n  minHeight: \"170px\",\r\n  textAlign: \"center\",\r\n  marginBottom: theme.spacing(2),\r\n  \"&:hover\": {\r\n    borderColor: \"#3366ff\",\r\n    backgroundColor: \"#e9f7ff\",\r\n  },\r\n}));\r\n\r\nconst VideoButton = styled(Button)(({ theme }) => ({\r\n  backgroundColor: \"#3366ff\",\r\n  color: \"white\",\r\n  padding: theme.spacing(1),\r\n  borderRadius: \"8px\",\r\n  \"&:hover\": {\r\n    backgroundColor: \"#2952cc\",\r\n  },\r\n  width: \"100%\",\r\n  marginBottom: theme.spacing(1.5),\r\n}));\r\n\r\nconst SecondaryButton = styled(Button)(({ theme }) => ({\r\n  backgroundColor: \"white\",\r\n  color: \"black\",\r\n  padding: theme.spacing(1),\r\n  borderRadius: \"8px\",\r\n  border: \"1px solid #e0e0e0\",\r\n  \"&:hover\": {\r\n    backgroundColor: \"#f5f5f5\",\r\n  },\r\n  width: \"100%\",\r\n}));\r\n\r\nconst VideoPreviewContainer = styled(Box)(({ theme }) => ({\r\n  width: '100%',\r\n  borderRadius: '8px',\r\n  overflow: 'hidden',\r\n  position: 'relative',\r\n  marginBottom: theme.spacing(2),\r\n  backgroundColor: '#000',\r\n}));\r\n\r\nconst VideoControls = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  bottom: 0,\r\n  left: 0,\r\n  right: 0,\r\n  padding: theme.spacing(1),\r\n  backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'space-between',\r\n}));\r\n\r\nconst RecordingIndicator = styled(Box)(({ theme, isRecording }) => ({\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  padding: theme.spacing(0.5, 1),\r\n  borderRadius: '4px',\r\n  backgroundColor: isRecording ? 'rgba(255, 0, 0, 0.7)' : 'transparent',\r\n  color: '#fff',\r\n}));\r\n\r\nconst HashtagInput = styled(TextField)(({ theme }) => ({\r\n  marginBottom: theme.spacing(1),\r\n}));\r\n\r\nconst HashtagChip = styled(Chip)(({ theme }) => ({\r\n  margin: theme.spacing(0.5),\r\n}));\r\n\r\n// Modify the component props to include onStatusChange\r\nconst VideoUpload = ({newjobid, onComplete, onStatusChange, embedded}) => {\r\n  // const theme = useTheme(); // Removed: unused variable\n  const navigate = useNavigate();\r\n  const [uploadStatus, setUploadStatus] = useState(null);\r\n  // Destructure addLocalVideo and updateVideoStatus from context\r\n  const { addLocalVideo, updateVideoStatus } = useVideoContext();\r\n  const { user, role } = useAuth();\r\n  \r\n  // Refs\r\n  const videoRef = useRef(null);\r\n  const mediaRecorderRef = useRef(null);\r\n  const streamRef = useRef(null);\r\n  const fileInputRef = useRef(null);\r\n  \r\n  \r\n  // State for video upload/recording\r\n  const [videoFile, setVideoFile] = useState(null);\r\n  const [videoBlob, setVideoBlob] = useState(null);\r\n  const [videoUrl, setVideoUrl] = useState('');\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [recordingTime, setRecordingTime] = useState(0);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [recordingStep, setRecordingStep] = useState(0);\r\n  const [uploadId, setUploadId] = useState(null); // This is the server-assigned ID once upload starts\r\n  const [tempLocalId, setTempLocalId] = useState(null); // This is the temporary ID for local tracking\r\n  \r\n  // State for video metadata\r\n  const [videoTitle, setVideoTitle] = useState('');\r\n  const [videoPosition, setVideoPosition] = useState('main');\r\n  const [videoType, setVideoType] = useState('intro');\r\n  const [category, setCategory] = useState('');\r\n  const [source, setSource] = useState('');\r\n  const [hashtags, setHashtags] = useState([]);\r\n  const [newHashtag, setNewHashtag] = useState('');\r\n  \r\n  // UI state\r\n  const [showRecordDialog, setShowRecordDialog] = useState(false);\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'success' });\r\n  const [recordingPermissionGranted, setRecordingPermissionGranted] = useState(false);\r\n  \r\n  // Timer for recording\r\n  const timerRef = useRef(null);\r\n  \r\n  const API_BASE_URL = import.meta.env.VITE_API_BASE_URL;\r\n  \r\n  // Inform parent component about uploading/recording status\r\n  useEffect(() => {\r\n    if (onStatusChange) {\r\n      onStatusChange(isUploading, isRecording);\r\n    }\r\n  }, [isUploading, isRecording, onStatusChange]);\r\n\r\n  // Clean up resources when component unmounts\r\n  useEffect(() => {\r\n    return () => {\r\n      if (streamRef.current) {\r\n        streamRef.current.getTracks().forEach(track => track.stop());\r\n      }\r\n      if (timerRef.current) {\r\n        clearInterval(timerRef.current);\r\n      }\r\n      if (videoUrl && videoUrl.startsWith('blob:') && !tempLocalId) {\r\n        URL.revokeObjectURL(videoUrl); \r\n      }\r\n    };\r\n  }, [videoUrl, tempLocalId]); \r\n\r\n\r\n// Effect to monitor upload status from the server\r\nuseEffect(() => {\r\n  let statusCheckInterval;\r\n  // Use `uploadId` for status checks as it's the server-assigned ID\r\n  if (uploadId) { \r\n    console.log(`[VideoUpload] Starting status check for uploadId: ${uploadId}`);\r\n    statusCheckInterval = setInterval(async () => {\r\n      try {\r\n        const response = await checkUploadStatus(uploadId);\r\n        const data = response;// await response.json();\r\n        \r\n        console.log(`[VideoUpload] Status check response for ${uploadId}:`, data.status);\r\n\r\n        if (data.status === 'completed') {\r\n          console.log(`[VideoUpload] Video ${uploadId} completed processing.`);\r\n          clearInterval(statusCheckInterval);\r\n          \r\n          updateVideoStatus(uploadId, {\r\n            status: 'completed',\r\n            video_url: data.video_url,\r\n            isLocal: false, // Now it's truly not local, fully processed on server\r\n            ...data.video\r\n          });\r\n\r\n          setSnackbar({\r\n            open: true,\r\n            message: 'Video processing completed!',\r\n            severity: 'success'\r\n          });\r\n\r\n          // This useEffect only updates VideoContext; onComplete and navigation are handled by parent\r\n        } else if (data.status === 'failed') {\r\n          console.log(`[VideoUpload] Video ${uploadId} failed processing.`);\r\n          clearInterval(statusCheckInterval);\r\n          updateVideoStatus(uploadId, {\r\n            status: 'failed',\r\n            error: data.message || 'Processing failed',\r\n            isLocal: true // Mark as local again if it failed, for potential client-side retry/management\r\n          });\r\n          setSnackbar({\r\n            open: true,\r\n            message: 'Video processing failed.',\r\n            severity: 'error'\r\n          });\r\n          // This useEffect only updates VideoContext; onComplete and navigation are handled by parent\r\n        }\r\n      } catch (error) {\r\n        console.error(`[VideoUpload] Status check error for ${uploadId}:`, error);\r\n        clearInterval(statusCheckInterval);\r\n        updateVideoStatus(uploadId, {\r\n          status: 'failed',\r\n          error: error.message || 'Network error during status check',\r\n          isLocal: true // Mark as local if network error during status check\r\n        });\r\n        setSnackbar({\r\n          open: true,\r\n          message: 'Error checking video status.',\r\n          severity: 'error'\r\n        });\r\n        // This useEffect only updates VideoContext; onComplete and navigation are handled by parent\r\n      }\r\n    }, 3000); \r\n  }\r\n\r\n  return () => {\r\n    if (statusCheckInterval) {\r\n      console.log(`[VideoUpload] Clearing status check interval for uploadId: ${uploadId}`);\r\n      clearInterval(statusCheckInterval);\r\n    }\r\n  };\r\n}, [uploadId, updateVideoStatus, API_BASE_URL]);\r\n\r\n\r\nconst handleSubmit = async () => {\r\n  if ((!videoFile && !videoBlob) || !videoTitle.trim()) {\r\n    setSnackbar({\r\n      open: true,\r\n      message: !videoFile && !videoBlob \r\n        ? 'Please select or record a video' \r\n        : 'Please enter a video title',\r\n      severity: 'error'\r\n    });\r\n    return;\r\n  }\r\n\r\n  try {\r\n    setIsUploading(true);\r\n    setUploadStatus('preparing');\r\n    \r\n    // Generate a temporary ID for local tracking\r\n    // This ensures a unique ID for the initial addLocalVideo call,\r\n    // preventing duplicates if the component re-renders before server ID is available.\r\n    const currentTempLocalId = uuidv4(); \r\n    setTempLocalId(currentTempLocalId); \r\n    console.log(`[VideoUpload] Generated new tempLocalId: ${currentTempLocalId}`);\r\n\r\n    const formData = new FormData();\r\n    const videoData = videoFile || new File([videoBlob], `video-resume-${Date.now()}.webm`, {\r\n      type: 'video/webm'\r\n    });\r\n\r\n    formData.append('video', videoData);\r\n    formData.append('title', videoTitle);\r\n    formData.append('jobId', newjobid || ''); // Use newjobid prop\r\n    formData.append('hashtags', hashtags.join(','));\r\n  formData.append('category', category || '');\r\n  formData.append('source', source || '');\r\n    formData.append('videoType', videoType);\r\n    formData.append('video_position', videoPosition);\r\n    formData.append('videoDuration', videoRef.current?.duration?.toFixed(0) || '30');\r\n\r\n    const persistentBlobUrl = URL.createObjectURL(\r\n      videoFile || new Blob([videoBlob], { type: 'video/webm' })\r\n    );\r\n    \r\n    // Add to local videos immediately with the temporary ID\r\n    const newVideo = {\r\n      id: currentTempLocalId, // Use the newly generated temp ID here\r\n      video_url: persistentBlobUrl,\r\n      video_title: videoTitle,\r\n      video_type: videoType,\r\n      hashtags: hashtags.join(','),\r\n      job_id: newjobid || null,\r\n      video_duration: videoRef.current?.duration || 0,\r\n      category: category || null,\r\n      source: source || null,\r\n      progress: 0,\r\n      status: 'uploading',\r\n      isLocal: true,\r\n      submitted_at: new Date().toISOString()\r\n    };\r\n    \r\n    addLocalVideo(newVideo); // This will add it to the context\r\n    setUploadStatus('uploading');\r\n\r\n    // Start the upload process\r\n    const uploadResponse = await uploadVideo(formData, (progress) => {\r\n      setUploadProgress(progress);\r\n      updateVideoStatus(currentTempLocalId, { progress }); // Update status using the temp ID\r\n    });\r\n\r\n    const serverUploadId = uploadResponse.data.uploadId;\r\n    console.log(`[VideoUpload] Server assigned ID: ${serverUploadId}. Updating local entry from ${currentTempLocalId} to ${serverUploadId}.`);\r\n    \r\n    // Update the video's ID and status in the context\r\n    updateVideoStatus(currentTempLocalId, { // Update the video that was tracked by tempLocalId\r\n      id: serverUploadId, // Set the actual server ID\r\n      status: 'processing', // Video is now 'processing' on the server side\r\n      isLocal: true // Keep true until server reports 'completed'\r\n    });\r\n    \r\n    // Update component's local state to use the server ID for future status checks\r\n    setUploadId(serverUploadId); \r\n    setUploadStatus('processing');\r\n\r\n    // Call onComplete here to signal to the parent (PostJobPage) that the upload process has been initiated\r\n    // and the dialog can be closed.\r\n        if (!newjobid ) { //&& !embedded\r\n          if(role=='job_seeker')\r\n      navigate('/jobseeker-tabs?group=profileContent&tab=my-videos'); \r\n    else if(role=='employer') \r\n      navigate('/employer-tabs?group=profileContent&tab=my-videos');\r\n    }\r\n    if (onComplete) {\r\n      onComplete(serverUploadId); \r\n    }\r\n\r\n  } catch (error) {\r\n    console.error('[VideoUpload] Upload error:', error);\r\n    setUploadStatus('failed');\r\n    setSnackbar({\r\n      open: true,\r\n      message: 'Upload failed. You can retry from the videos page.',\r\n      severity: 'error'\r\n    });\r\n    \r\n    // Use currentTempLocalId for error update as server ID might not be available\r\n    const idToUpdate = tempLocalId; \r\n    if (idToUpdate) {\r\n      updateVideoStatus(idToUpdate, {\r\n        status: 'failed',\r\n        error: error.message,\r\n        isLocal: true \r\n      });\r\n      console.log(`[VideoUpload] Updated video status to failed for ID: ${idToUpdate}`);\r\n    } else {\r\n      console.warn('[VideoUpload] Could not update video status as no valid ID was found during error.');\r\n    }\r\n\r\n    if (onComplete) {\r\n      onComplete(null); // Signal failure to the parent\r\n    }\r\n  } finally {\r\n    setIsUploading(false); \r\n    console.log('[VideoUpload] handleSubmit finished. isUploading set to false.');\r\n  }\r\n};\r\n\r\n  \r\n  // Handle file selection with proper duration validation\r\n  const handleFileSelect = async (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n    \r\n    if (!file.type.startsWith('video/')) {\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Please select a valid video file',\r\n        severity: 'error'\r\n      });\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const video = document.createElement('video');\r\n      video.preload = 'metadata';\r\n      \r\n      const duration = await new Promise((resolve, reject) => {\r\n        video.onloadedmetadata = () => {\r\n          URL.revokeObjectURL(video.src);\r\n          resolve(video.duration);\r\n        };\r\n        video.onerror = () => reject(new Error('Failed to load video metadata'));\r\n        video.src = URL.createObjectURL(file);\r\n      });\r\n      \r\n      if (duration < 14  || duration > 45) {\r\n        setSnackbar({\r\n          open: true,\r\n          message: 'Video must be between 15 and 45 seconds',\r\n          severity: 'error'\r\n        });\r\n        return;\r\n      }\r\n      \r\n      setVideoFile(file);\r\n      setVideoUrl(URL.createObjectURL(file));\r\n      setRecordingStep(1);\r\n    } catch (error) {\r\n      console.error('[VideoUpload] Error checking video:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Error processing video file',\r\n        severity: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  // Request media permissions with proper constraints\r\nconst requestMediaPermissions = async () => {\r\n  if (recordingPermissionGranted) return true;\r\n\r\n  try {\r\n    // Stop any existing stream\r\n    if (streamRef.current) {\r\n      streamRef.current.getTracks().forEach(track => track.stop());\r\n    }\r\n\r\n    const stream = await navigator.mediaDevices.getUserMedia({ \r\n      video: { \r\n        width: { ideal: 1280 },\r\n        height: { ideal: 720 },\r\n        facingMode: 'user',\r\n        frameRate: { ideal: 30 }\r\n      }, \r\n      audio: {\r\n        echoCancellation: true,\r\n        noiseSuppression: true\r\n      }\r\n    });\r\n\r\n    streamRef.current = stream;\r\n\r\n    if (videoRef.current) {\r\n      videoRef.current.srcObject = stream;\r\n      videoRef.current.muted = true;\r\n\r\n      try {\r\n        await videoRef.current.play();\r\n      } catch (err) {\r\n        console.warn(\"[VideoUpload] Autoplay prevented:\", err);\r\n      }\r\n    }\r\n\r\n    setRecordingPermissionGranted(true);\r\n    return true;\r\n\r\n  } catch (error) {\r\n    console.error('[VideoUpload] Media access error:', error);\r\n    setSnackbar({\r\n      open: true,\r\n      message: 'Please enable camera and microphone access',\r\n      severity: 'error'\r\n    });\r\n    return false;\r\n  }\r\n};\r\n\r\n  // Start recording with proper stream handling\r\nconst startRecording = async () => {\r\n  if (!recordingPermissionGranted && !(await requestMediaPermissions())) return;\r\n  \r\n  try {\r\n    const stream = streamRef.current;\r\n    \r\n    // Try to find a supported mimeType\r\n    const options = {\r\n      audioBitsPerSecond: 128000,\r\n      videoBitsPerSecond: 2500000\r\n    };\r\n    \r\n    // List of supported mimeTypes to try (in order of preference)\r\n    const mimeTypes = [\r\n      'video/webm;codecs=vp9,opus',\r\n      'video/webm;codecs=vp8,opus',\r\n      'video/webm;codecs=h264,opus',\r\n      'video/webm',\r\n      'video/mp4'\r\n    ];\r\n    \r\n    // Find the first supported mimeType\r\n    let supportedType = mimeTypes.find(type => \r\n      MediaRecorder.isTypeSupported(type)\r\n    );\r\n    \r\n    if (!supportedType) {\r\n      supportedType = '';\r\n      console.warn('[VideoUpload] No specific codec supported, using browser default');\r\n    }\r\n    \r\n    const mediaRecorder = new MediaRecorder(stream, { \r\n      mimeType: supportedType,\r\n      ...options\r\n    });\r\n    \r\n    const chunks = [];\r\n    mediaRecorder.ondataavailable = (e) => e.data.size > 0 && chunks.push(e.data);\r\n    \r\n    mediaRecorder.onstop = () => {\r\n      const blob = new Blob(chunks, { \r\n        type: chunks[0]?.type || 'video/webm' \r\n      });\r\n      setVideoBlob(blob);\r\n      setVideoUrl(URL.createObjectURL(blob));\r\n      setIsRecording(false);\r\n      setRecordingStep(1);\r\n      setShowRecordDialog(false);\r\n      stream.getTracks().forEach(track => track.stop());\r\n    };\r\n    \r\n    mediaRecorderRef.current = mediaRecorder;\r\n    mediaRecorder.start(1000); // Collect data every 1 second\r\n    setIsRecording(true);\r\n    \r\n    let seconds = 0;\r\n    timerRef.current = setInterval(() => {\r\n      seconds++;\r\n      setRecordingTime(seconds);\r\n      if (seconds >= 45) stopRecording();\r\n    }, 1000);\r\n  } catch (error) {\r\n    console.error('[VideoUpload] Recording error:', error);\r\n    setSnackbar({\r\n      open: true,\r\n      message: `Error starting recording: ${error.message}`,\r\n      severity: 'error'\r\n    });\r\n  }\r\n};\r\n\r\n  // Stop recording safely\r\n  const stopRecording = () => {\r\n    if (mediaRecorderRef.current?.state === 'recording') {\r\n      mediaRecorderRef.current.stop();\r\n      clearInterval(timerRef.current);\r\n      setRecordingTime(0);\r\n    }\r\n  };\r\n\r\n  // Toggle video playback\r\n  const togglePlayback = () => {\r\n    if (!videoRef.current) return;\r\n    isPlaying ? videoRef.current.pause() : videoRef.current.play();\r\n    setIsPlaying(!isPlaying);\r\n  };\r\n\r\n  // Handle video ended event\r\n  const handleVideoEnded = () => setIsPlaying(false);\r\n\r\n  // Hashtag management\r\n  const addHashtag = () => {\r\n    const tag = newHashtag.trim();\r\n    if (!tag) return;\r\n    \r\n    const formattedTag = tag.startsWith('#') ? tag : `#${tag}`;\r\n    if (!hashtags.includes(formattedTag)) {\r\n      setHashtags([...hashtags, formattedTag]);\r\n      setNewHashtag('');\r\n    }\r\n  };\r\n\r\n  const removeHashtag = (tag) => {\r\n    setHashtags(hashtags.filter(t => t !== tag));\r\n  };\r\n\r\n  const handleHashtagKeyPress = (e) => {\r\n    if (e.key === 'Enter') {\r\n      e.preventDefault();\r\n      addHashtag();\r\n    }\r\n  };\r\n\r\n\r\n  // Reset form completely\r\n  const resetForm = () => {\r\n    console.log(\"[VideoUpload] Resetting form.\");\r\n    if (streamRef.current) {\r\n      streamRef.current.getTracks().forEach(track => track.stop());\r\n      streamRef.current = null;\r\n    }\r\n    \r\n    if (videoUrl && videoUrl.startsWith('blob:')) URL.revokeObjectURL(videoUrl);\r\n    \r\n    setVideoFile(null);\r\n    setVideoBlob(null);\r\n    setVideoUrl(''); \r\n    setIsRecording(false);\r\n    setRecordingTime(0);\r\n    setIsPlaying(false);\r\n    setUploadProgress(0);\r\n    setIsUploading(false);\r\n    setRecordingStep(0);\r\n    setVideoTitle('');\r\n    setVideoPosition('');\r\n    setVideoType('');\r\n    setHashtags([]);\r\n    setNewHashtag('');\r\n    setShowRecordDialog(false);\r\n    setUploadId(null); \r\n    setTempLocalId(null); // Crucial: Reset tempLocalId on form reset\r\n  };\r\n\r\n  // Format time as MM:SS\r\n  const formatTime = (seconds) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  // Render different steps\r\n  const renderInitialStep = () => (\r\n    <>\r\n      <Typography variant=\"h5\" component=\"h1\" align=\"center\" gutterBottom sx={{ fontWeight: \"bold\", mb: 0.5 }}>\r\n        Upload Your Video Resume\r\n      </Typography>\r\n      <Typography variant=\"body2\" align=\"center\" color=\"textSecondary\" sx={{ mb: 2 }}>\r\n        Show employers who you are in 15-45 seconds\r\n      </Typography>\r\n\r\n      <UploadBox component=\"label\" htmlFor=\"video-upload\">\r\n        <input \r\n          id=\"video-upload\" \r\n          type=\"file\" \r\n          accept=\"video/*\" \r\n          hidden \r\n          ref={fileInputRef}\r\n          onChange={handleFileSelect} \r\n        />\r\n        <VideocamIcon sx={{ fontSize: 50, color: \"#555\", mb: 1.5 }} />\r\n        <Typography variant=\"body1\" sx={{ fontWeight: \"medium\", mb: 0.5 }}>\r\n          Drag & drop video here\r\n        </Typography>\r\n        <Typography variant=\"body2\" color=\"textSecondary\">\r\n          or click to browse files (15-45 seconds)\r\n        </Typography>\r\n      </UploadBox>\r\n\r\n      <Stack spacing={1.5} sx={{ mt: \"20px\" }}>\r\n        <VideoButton \r\n          variant=\"contained\" \r\n          disableElevation \r\n          startIcon={<CloudUploadIcon />}\r\n          onClick={() => fileInputRef.current?.click()}\r\n        >\r\n          Select Video\r\n        </VideoButton>\r\n        <SecondaryButton \r\n          variant=\"outlined\" \r\n          disableElevation \r\n          startIcon={<VideocamIcon />}\r\n          onClick={() => setShowRecordDialog(true)}\r\n        >\r\n          Record New Video\r\n        </SecondaryButton>\r\n      </Stack>\r\n    </>\r\n  );\r\n  \r\n  const renderPreviewStep = () => (\r\n    <>\r\n      <Typography variant=\"h5\" component=\"h1\" align=\"center\" gutterBottom sx={{ fontWeight: \"bold\", mb: 0.5 }}>\r\n        Preview Your Video\r\n      </Typography>\r\n      <Typography variant=\"body2\" align=\"center\" color=\"textSecondary\" sx={{ mb: 2 }}>\r\n        Make sure your video looks and sounds good\r\n      </Typography>\r\n\r\n      <VideoPreviewContainer>\r\n        <video\r\n          ref={videoRef}\r\n          src={videoUrl}\r\n          width=\"100%\"\r\n          height=\"auto\"\r\n          controls={false}\r\n          onEnded={handleVideoEnded}\r\n        />\r\n        <VideoControls>\r\n          <IconButton size=\"small\" color=\"inherit\" onClick={togglePlayback}>\r\n            {isPlaying ? <PauseIcon /> : <PlayArrowIcon />}\r\n          </IconButton>\r\n          <Typography variant=\"caption\" color=\"inherit\">\r\n            {videoRef.current ? formatTime(Math.floor(videoRef.current.currentTime)) : '00:00'} / \r\n            {videoRef.current ? formatTime(Math.floor(videoRef.current.duration)) : '00:00'}\r\n          </Typography>\r\n        </VideoControls>\r\n      </VideoPreviewContainer>\r\n\r\n      <Stack spacing={1.5} sx={{ mt: \"20px\" }}>\r\n        <VideoButton \r\n          variant=\"contained\" \r\n          disableElevation \r\n          startIcon={<CheckCircleIcon />}\r\n          onClick={() => setRecordingStep(2)}\r\n        >\r\n          Use This Video\r\n        </VideoButton>\r\n        <SecondaryButton \r\n          variant=\"outlined\" \r\n          disableElevation \r\n          startIcon={<RefreshIcon />}\r\n          onClick={resetForm}\r\n        >\r\n          Start Over\r\n        </SecondaryButton>\r\n      </Stack>\r\n    </>\r\n  );\r\n  \r\n  const renderMetadataStep = () => (\r\n    <>\r\n      <Typography variant=\"h5\" component=\"h1\" align=\"center\" gutterBottom sx={{ fontWeight: \"bold\", mb: 0.5 }}>\r\n        Video Details\r\n      </Typography>\r\n      <Typography variant=\"body2\" align=\"center\" color=\"textSecondary\" sx={{ mb: 2 }}>\r\n        Add information about your video resume\r\n      </Typography>\r\n\r\n      <Grid container spacing={2}>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Video Title\"\r\n            variant=\"outlined\"\r\n            value={videoTitle}\r\n            onChange={(e) => setVideoTitle(e.target.value)}\r\n            required\r\n            placeholder=\"e.g., My Professional Introduction\"\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Category\"\r\n            variant=\"outlined\"\r\n            value={category}\r\n            onChange={(e) => setCategory(e.target.value)}\r\n            placeholder=\"e.g., Engineering, Design\"\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12} sm={6}>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Source / Page\"\r\n            variant=\"outlined\"\r\n            value={source}\r\n            onChange={(e) => setSource(e.target.value)}\r\n            placeholder=\"e.g., Profile, Job Post\"\r\n          />\r\n        </Grid>\r\n        \r\n        <Grid item xs={12} sm={6}>\r\n          <FormControl fullWidth variant=\"outlined\">\r\n            <InputLabel>Video Position</InputLabel>\r\n            <Select\r\n              value={videoPosition}\r\n              onChange={(e) => setVideoPosition(e.target.value)}\r\n              label=\"Video Position\"\r\n            >\r\n              <MenuItem value=\"main\">Main</MenuItem>\r\n              <MenuItem value=\"intro\">Intro</MenuItem>\r\n              <MenuItem value=\"outro\">Outro</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n        </Grid>\r\n        \r\n        <Grid item xs={12} sm={6}>\r\n          <FormControl fullWidth variant=\"outlined\">\r\n            <InputLabel>Video Type</InputLabel>\r\n            <Select\r\n              value={videoType}\r\n              onChange={(e) => setVideoType(e.target.value)}\r\n              label=\"Video Type\"\r\n            >\r\n              <MenuItem value=\"intro\">Introduction</MenuItem>\r\n              <MenuItem value=\"skills\">Skills Showcase</MenuItem>\r\n              <MenuItem value=\"experience\">Work Experience</MenuItem>\r\n              <MenuItem value=\"portfolio\">Portfolio</MenuItem>\r\n              <MenuItem value=\"personal\">Personal Statement</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n        </Grid>\r\n        \r\n        <Grid item xs={12}>\r\n          <Box sx={{ mb: 1 }}>\r\n            <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom>\r\n              Add Hashtags (skills, industries, etc.)\r\n            </Typography>\r\n            <Box sx={{ display: 'flex', flexWrap: 'wrap', mb: 1 }}>\r\n              {hashtags.map((tag) => (\r\n                <HashtagChip\r\n                  key={tag}\r\n                  label={tag}\r\n                  onDelete={() => removeHashtag(tag)}\r\n                  color=\"primary\"\r\n                  variant=\"outlined\"\r\n                />\r\n              ))}\r\n            </Box>\r\n            <Box sx={{ display: 'flex' }}>\r\n              <HashtagInput\r\n                fullWidth\r\n                variant=\"outlined\"\r\n                size=\"small\"\r\n                placeholder=\"Add a hashtag (e.g., #webdesign)\"\r\n                value={newHashtag}\r\n                onChange={(e) => setNewHashtag(e.target.value)}\r\n                onKeyPress={handleHashtagKeyPress}\r\n              />\r\n              <IconButton \r\n                color=\"primary\" \r\n                onClick={addHashtag}\r\n                disabled={!newHashtag.trim()}\r\n              >\r\n                <AddCircleIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Box>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {isUploading && (\r\n        <Box sx={{ width: '100%', mt: 2 }}>\r\n          <Typography variant=\"body2\" align=\"center\" gutterBottom>\r\n            {uploadStatus === 'preparing' && 'Preparing video for upload...'}\r\n            {uploadStatus === 'uploading' && `Uploading video... ${uploadProgress}%`}\r\n            {uploadStatus === 'processing' && 'Processing video...'}\r\n          </Typography>\r\n          <LinearProgress \r\n            variant={\r\n              uploadStatus === 'processing' ? 'indeterminate' : 'determinate'\r\n            } \r\n            value={uploadProgress} \r\n            color={\r\n              uploadStatus === 'failed' ? 'error' : \r\n              uploadStatus === 'completed' ? 'success' : 'primary'\r\n            }\r\n          />\r\n          {uploadStatus === 'processing' && (\r\n            <Typography variant=\"caption\" display=\"block\" align=\"center\" sx={{ mt: 1 }}>\r\n              This may take a few minutes. You can check back later.\r\n            </Typography>\r\n          )}\r\n        </Box>\r\n      )}\r\n\r\n      <Stack spacing={1.5} sx={{ mt: \"20px\" }}>\r\n        <VideoButton \r\n          variant=\"contained\" \r\n          disableElevation \r\n          startIcon={<SaveIcon />}\r\n          onClick={handleSubmit}\r\n          disabled={isUploading}\r\n        >\r\n          {isUploading ? (uploadId ? 'Processing...' : 'Uploading...') : 'Save & Upload'}\r\n        </VideoButton>\r\n        <SecondaryButton \r\n          variant=\"outlined\" \r\n          disableElevation \r\n          startIcon={<ArrowBackIcon />}\r\n          onClick={() => setRecordingStep(1)}\r\n          disabled={isUploading}\r\n        >\r\n          Back to Preview\r\n        </SecondaryButton>\r\n      </Stack>\r\n    </>\r\n  );\r\n  \r\n// Fixed renderRecordingDialog\r\n  const renderRecordingDialog = () => (\r\n    <Dialog \r\n      open={showRecordDialog} \r\n      onClose={() => !isRecording && setShowRecordDialog(false)}\r\n      fullWidth\r\n      maxWidth=\"sm\"\r\n    >\r\n      <DialogTitle>\r\n        Record Video\r\n        {!isRecording && (\r\n          <IconButton\r\n            aria-label=\"close\"\r\n            onClick={() => {\r\n              if (streamRef.current) {\r\n                streamRef.current.getTracks().forEach(track => track.stop());\r\n                streamRef.current = null;\r\n              }\r\n              setShowRecordDialog(false);\r\n              setRecordingPermissionGranted(false);\r\n            }}\r\n            sx={{ position: 'absolute', right: 8, top: 8 }}\r\n          >\r\n            <CloseIcon />\r\n          </IconButton>\r\n        )}\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <Box sx={{ \r\n          position: 'relative',\r\n          backgroundColor: '#000',\r\n          borderRadius: 1,\r\n          overflow: 'hidden',\r\n          minHeight: '300px'\r\n        }}>\r\n          <video\r\n            ref={videoRef}\r\n            width=\"100%\"\r\n            height=\"auto\"\r\n            autoPlay\r\n            playsInline\r\n            muted\r\n            style={{\r\n              display: recordingPermissionGranted ? 'block' : 'none',\r\n              transform: 'scaleX(-1)'\r\n            }}\r\n          />\r\n          \r\n          {!recordingPermissionGranted && (\r\n            <Box sx={{\r\n              position: 'absolute',\r\n              top: 0,\r\n              left: 0,\r\n              right: 0,\r\n              bottom: 0,\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              backgroundColor: '#f0f0f0',\r\n              color: '#555'\r\n            }}>\r\n              <Typography variant=\"body1\">Camera preview will appear here</Typography>\r\n            </Box>\r\n          )}\r\n          \r\n          {isRecording && (\r\n            <Box sx={{ \r\n              position: 'absolute', \r\n              top: 10, \r\n              right: 10,\r\n              backgroundColor: 'rgba(255, 0, 0, 0.7)',\r\n              color: 'white',\r\n              px: 1,\r\n              borderRadius: 1\r\n            }}>\r\n              <Typography variant=\"caption\">\r\n                REC {formatTime(recordingTime)}\r\n              </Typography>\r\n            </Box>\r\n          )}\r\n        </Box>\r\n        \r\n        <Box sx={{ mt: 2, mb: 1 }}>\r\n          <Typography variant=\"body2\" gutterBottom>\r\n            Recording time: 15-45 seconds\r\n          </Typography>\r\n          <Slider\r\n            value={recordingTime}\r\n            min={0}\r\n            max={45}\r\n            marks={[\r\n              { value: 0, label: '0s' },\r\n              { value: 15, label: '15s' },\r\n              { value: 45, label: '45s' },\r\n            ]}\r\n            disabled\r\n          />\r\n        </Box>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        {!recordingPermissionGranted ? (\r\n          <Button \r\n            onClick={async () => {\r\n              const granted = await requestMediaPermissions();\r\n              if (granted) {\r\n                setRecordingPermissionGranted(true);\r\n              }\r\n            }}\r\n            color=\"primary\"\r\n            variant=\"contained\"\r\n            fullWidth\r\n            startIcon={<VideocamIcon />}\r\n          >\r\n            Allow Camera & Microphone\r\n          </Button>\r\n        ) : (\r\n          <>\r\n            {!isRecording ? (\r\n              <Button \r\n                onClick={startRecording}\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                startIcon={<VideocamIcon />}\r\n                fullWidth\r\n              >\r\n                Start Recording\r\n              </Button>\r\n            ) : (\r\n              <Button \r\n                onClick={stopRecording}\r\n                color=\"error\"\r\n                variant=\"contained\"\r\n                startIcon={<StopIcon />}\r\n                fullWidth\r\n              >\r\n                Stop Recording ({45 - recordingTime}s left)\r\n              </Button>\r\n            )}\r\n          </>\r\n        )}\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n\r\n  \r\n  \r\n  return (\r\n    <Box sx={{ \r\n      bgcolor: 'background.jobseeker',\r\n      minHeight: \"100vh\",\r\n      py: 3 ,pt: {\r\n      xs: 20,  \r\n      sm: 16   \r\n    }\r\n    }}>\r\n      <Container maxWidth=\"sm\">\r\n        <Paper elevation={3} sx={{ p: 3, borderRadius: 2 }}>\r\n          {recordingStep === 0 && renderInitialStep()}\r\n          {recordingStep === 1 && renderPreviewStep()}\r\n          {recordingStep === 2 && renderMetadataStep()}\r\n        </Paper>\r\n      </Container>\r\n      \r\n      {renderRecordingDialog()}\r\n      \r\n      <Snackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={6000}\r\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n      >\r\n        <Alert severity={snackbar.severity}>\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default VideoUpload;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\services\\analysisApi.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\services\\api.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\services\\authService.js",
    "messages": [
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'axios' is not defined.",
        "line": 28,
        "column": 30,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 28,
        "endColumn": 35
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'axios' is not defined.",
        "line": 53,
        "column": 30,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 53,
        "endColumn": 35
      },
      {
        "ruleId": "no-undef",
        "severity": 2,
        "message": "'axios' is not defined.",
        "line": 64,
        "column": 30,
        "nodeType": "Identifier",
        "messageId": "undef",
        "endLine": 64,
        "endColumn": 35
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿// ./services/authService.js\r\n\r\n// Get the authentication token from storage (localStorage/sessionStorage)\r\nconst getAuthToken = () => {\r\n    return localStorage.getItem('accessToken') || sessionStorage.getItem('accessToken');\r\n  };\r\n  \r\n  // Get the authorization header with the bearer token\r\n  export const getAuthHeader = () => {\r\n    const token = getAuthToken();\r\n    return token ? { Authorization: `Bearer ${token}` } : {};\r\n  };\r\n  \r\n  // Check if user is authenticated\r\n  export const isAuthenticated = () => {\r\n    return !!getAuthToken();\r\n  };\r\n  \r\n  // Get current user data\r\n  export const getCurrentUser = () => {\r\n    const userData = localStorage.getItem('user') || sessionStorage.getItem('user');\r\n    return userData ? JSON.parse(userData) : null;\r\n  };\r\n  \r\n  // Login function (example)\r\n  export const login = async (credentials) => {\r\n    try {\r\n      const response = await axios.post(`${import.meta.env.REACT_APP_API_BASE_URL}/auth/login`, credentials);\r\n      const { token, user } = response.data;\r\n      \r\n      // Store token and user data \r\n      localStorage.setItem('authToken', token);\r\n      localStorage.setItem('user', JSON.stringify(user));\r\n      \r\n      return user;\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      throw error;\r\n    }\r\n  };\r\n  \r\n  // Logout function\r\n  export const logout = () => {\r\n    localStorage.removeItem('authToken');\r\n    localStorage.removeItem('user');\r\n    sessionStorage.removeItem('authToken');\r\n    sessionStorage.removeItem('user');\r\n  };\r\n  \r\n  // Register function (example)\r\n  export const register = async (userData) => {\r\n    try {\r\n      const response = await axios.post(`${import.meta.env.REACT_APP_API_BASE_URL}/auth/register`, userData);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Registration error:', error);\r\n      throw error;\r\n    }\r\n  };\r\n  \r\n  // Refresh token function (example)\r\n  export const refreshToken = async () => {\r\n    try {\r\n      const response = await axios.post(`${import.meta.env.REACT_APP_API_BASE_URL}/auth/refresh`, {}, {\r\n        headers: getAuthHeader()\r\n      });\r\n      const { token } = response.data;\r\n      localStorage.setItem('authToken', token);\r\n      return token;\r\n    } catch (error) {\r\n      console.error('Token refresh error:', error);\r\n      throw error;\r\n    }\r\n  };",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\services\\chatService.js",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'axios' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 8,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "axios"
            },
            "fix": {
              "range": [
                7,
                18
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'axios'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import axios from \"axios\";\r\nimport api from \"./api.js\";\r\n\r\n/** \r\n * Service for handling chat-related API requests\r\n * Provides methods for fetching conversations, messages, and sending messages\r\n */\r\n\r\n/**\r\n * Get all conversations for the current user\r\n * @returns {Promise} Promise object with conversations data\r\n */\r\nexport const getConversations = () => {\r\n  return api.get(\"/chat/conversations\");\r\n};\r\n\r\n/**\r\n * Get messages for a specific conversation\r\n * @param {string} conversationId - ID of the conversation\r\n * @returns {Promise} Promise object with messages data\r\n */\r\nexport const getMessages = conversationId => {\r\n  return api.get(`/chat/conversation/${conversationId}`);\r\n};\r\n\r\n/**\r\n * Get all users from the database\r\n * @returns {Promise} Promise object with all users data\r\n */\r\nexport const getAllUsers = () => {\r\n  return api.get(\"/chat/users/all\"); // Backend endpoint for all users\r\n};\r\n\r\n/**\r\n * Send a new message in a conversation\r\n * @param {string} conversationId - ID of the conversation\r\n * @param {string} content - Message content\r\n * @returns {Promise} Promise object with the sent message data\r\n */\r\nexport const sendMessage = (conversationId, content) => {\r\n  return api.post(`/chat/send`, {\r\n    conversationId,\r\n    content\r\n  });\r\n};\r\n\r\n/**\r\n * Mark a message as read\r\n * @param {string} messageId - ID of the message\r\n * @returns {Promise} Promise object with the updated message data\r\n */\r\nexport const markAsRead = messageId => {\r\n  return api.post(`/chat/read/${messageId}`);\r\n};\r\n\r\n/**\r\n * Start a new conversation with another user\r\n * @param {string} receiverId - ID of the message recipient\r\n * @param {string} initialMessage - First message content\r\n * @returns {Promise} Promise object with the new conversation data\r\n */\r\nexport const startConversation = (receiverId, initialMessage) => {\r\n  return api.post(\"/chat/start\", { receiverId, initialMessage });\r\n};\r\n\r\n/**\r\n * Delete a message\r\n * @param {string} messageId - ID of the message to delete\r\n * @returns {Promise} Promise object with deletion confirmation\r\n */\r\nexport const deleteMessage = messageId => {\r\n  return api.delete(`/chat/message/${messageId}`);\r\n};\r\n\r\n/**\r\n * Get count of unread messages\r\n * @returns {Promise} Promise object with unread message count\r\n */\r\nexport const getUnreadCount = () => {\r\n  return api.get(\"/chat/unread/count\");\r\n};\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\services\\dashboardService.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\services\\dashboardService.jsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\services\\employerService.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\services\\jobService.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\services\\paymentService.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\services\\points.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\services\\socketService.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\services\\userService.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\services\\videoService.js",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'axios' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 8,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "axios"
            },
            "fix": {
              "range": [
                7,
                18
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'axios'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import axios from 'axios';\r\nimport api from './api';\r\n\r\n/**\r\n * Service for handling video-related API requests\r\n * Provides methods for uploading videos and saving metadata\r\n */\r\n\r\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL;\r\n\r\n/**\r\n * Upload a video file with progress tracking\r\n * @param {FormData} formData - FormData containing the video file\r\n * @param {Function} progressCallback - Callback function for upload progress\r\n * @returns {Promise} Promise object with uploaded video data\r\n */\r\nexport const uploadVideo = async (formData, progressCallback) => {\r\n  return api.post(`${API_BASE_URL}/api/videos/`, formData, {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    },\r\n    onUploadProgress: (progressEvent) => {\r\n      const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n      if (progressCallback) {\r\n        progressCallback(percentCompleted);\r\n      }\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Save video metadata after upload\r\n * @param {Object} videoData - Object containing video metadata\r\n * @returns {Promise} Promise object with saved video metadata\r\n */\r\nexport const saveVideoMetadata = async (videoData) => {\r\n  return api.post(`${API_BASE_URL}/api/videos/video-metadata`, videoData);\r\n};\r\n\r\n/**\r\n * Get all videos for the current user\r\n * @returns {Promise} Promise object with user videos\r\n */\r\nexport const getUserVideos = () => {\r\n  return api.get(`${API_BASE_URL}/api/videos/`);\r\n};\r\n\r\nexport const getVideoStatus = (videoId) => {\r\n  return api.get(`${API_BASE_URL}/api/videos/upload-status/${videoId}`);\r\n};\r\n\r\n/**\r\n * Get a specific video by ID\r\n * @param {string} videoId - ID of the video to retrieve\r\n * @returns {Promise} Promise object with video data\r\n */\r\nexport const getVideoById = (videoId) => {\r\n  return api.get(`${API_BASE_URL}/api/videos/${videoId}`);\r\n};\r\n\r\n/**\r\n * Delete a video\r\n * @param {string} videoId - ID of the video to delete\r\n * @returns {Promise} Promise object with deletion confirmation\r\n */\r\nexport const deleteVideo = (videoId) => {\r\n  return api.delete(`${API_BASE_URL}/api/videos/${videoId}`);\r\n};\r\n\r\n/**\r\n * Update video metadata\r\n * @param {string} videoId - ID of the video to update\r\n * @param {Object} videoData - Updated video metadata\r\n * @returns {Promise} Promise object with updated video data\r\n */\r\nexport const updateVideoMetadata = (videoId, videoData) => {\r\n  return api.put(`${API_BASE_URL}/api/videos/${videoId}`, videoData);\r\n};\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\tests\\components.test.js",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 1,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "useContext"
            },
            "fix": {
              "range": [
                12,
                28
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'useContext'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'fireEvent' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 2,
        "column": 26,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 35,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "fireEvent"
            },
            "fix": {
              "range": [
                67,
                78
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'fireEvent'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿import React, { useContext } from \"react\";\r\nimport { render, screen, fireEvent, waitFor } from \"@testing-library/react\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { AuthProvider } from '@/contexts/AuthContext';\r\nimport VideoFeed from \"../pages/VideoFeed\";\r\nimport Chat from \"../pages/Chat\";\r\nimport Profile from \"../pages/Profile\";\r\nimport JobVideos from \"../pages/JobVideos\";\r\nimport CompanyVideos from \"../pages/CompanyVideos\";\r\nimport Settings from \"../pages/Settings\";\r\nimport JobSeekerDashboard from \"../pages/JobSeekerDashboard\";\r\nimport EmployerDashboard from \"../pages/EmployerDashboard\";\r\n\r\n// Mock Ù„Ù„Ø®Ø¯Ù…Ø§Øª\r\njest.mock(\"../services/jobService\", () => ({\r\n  getRecommendedJobs: jest.fn().mockResolvedValue({\r\n    data: {\r\n      recommendations: [\r\n        {\r\n          job: {\r\n            id: \"1\",\r\n            title: \"Ù…Ø·ÙˆØ± ÙˆØ§Ø¬Ù‡Ø© Ø£Ù…Ø§Ù…ÙŠØ©\",\r\n            company: {\r\n              name: \"Ø´Ø±ÙƒØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©\",\r\n              logo_url: \"/logo.png\"\r\n            },\r\n            location: \"Ø§Ù„Ø±ÙŠØ§Ø¶\",\r\n            employment_type: \"Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„\",\r\n            skills: [{ id: \"1\", name: \"React\" }],\r\n            video_url: \"/video.mp4\"\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }),\r\n  recordSwipe: jest.fn().mockResolvedValue({ data: { success: true } })\r\n}));\r\n\r\njest.mock(\"../services/chatService\", () => ({\r\n  getConversations: jest.fn().mockResolvedValue({\r\n    data: {\r\n      conversations: [\r\n        {\r\n          id: \"1\",\r\n          other_user: {\r\n            id: \"2\",\r\n            name: \"Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯\",\r\n            photoUrl: \"/avatar.png\",\r\n            role: \"employer\"\r\n          },\r\n          last_message: {\r\n            content: \"Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ù‡Ù„ Ø£Ù†Øª Ù…Ù‡ØªÙ… Ø¨Ø§Ù„ÙˆØ¸ÙŠÙØ©ØŸ\",\r\n            created_at: \"2025-04-18T12:00:00Z\"\r\n          },\r\n          unread_count: 2\r\n        }\r\n      ]\r\n    }\r\n  }),\r\n  getMessages: jest.fn().mockResolvedValue({\r\n    data: {\r\n      messages: [\r\n        {\r\n          id: \"1\",\r\n          sender_id: \"2\",\r\n          content: \"Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ù‡Ù„ Ø£Ù†Øª Ù…Ù‡ØªÙ… Ø¨Ø§Ù„ÙˆØ¸ÙŠÙØ©ØŸ\",\r\n          created_at: \"2025-04-18T12:00:00Z\",\r\n          read: true\r\n        }\r\n      ]\r\n    }\r\n  }),\r\n  sendMessage: jest.fn().mockResolvedValue({ data: { success: true } })\r\n}));\r\n\r\njest.mock(\"../contexts/AuthContext\", () => ({\r\n  useAuth: jest.fn().mockReturnValue({\r\n    user: {\r\n      id: \"1\",\r\n      name: \"Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯\",\r\n      email: \"mohammed@example.com\",\r\n      role: \"job_seeker\",\r\n      photoUrl: \"/avatar.png\"\r\n    },\r\n    loading: false\r\n  })\r\n}));\r\n\r\n// Ù…ÙƒÙˆÙ† Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯\r\nconst renderWithProviders = ui => {\r\n  return render(\r\n    <BrowserRouter>\r\n      <AuthProvider>\r\n        {ui}\r\n      </AuthProvider>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\ndescribe(\"SwipeScout Frontend Tests\", () => {\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n  });\r\n\r\n  describe(\"VideoFeed Component\", () => {\r\n    test(\"ÙŠØ¹Ø±Ø¶ ÙÙŠØ¯ÙŠÙˆ Ø§Ù„ÙˆØ¸ÙŠÙØ© ÙˆØ£Ø²Ø±Ø§Ø± Ø§Ù„Ø³Ø­Ø¨\", async () => {\r\n      renderWithProviders(<VideoFeed />);\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByText(\"Ù…Ø·ÙˆØ± ÙˆØ§Ø¬Ù‡Ø© Ø£Ù…Ø§Ù…ÙŠØ©\")).toBeInTheDocument();\r\n        expect(screen.getByText(\"Ø´Ø±ÙƒØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©\")).toBeInTheDocument();\r\n        expect(screen.getByLabelText(\"Ù…Ù‡ØªÙ…\")).toBeInTheDocument();\r\n        expect(screen.getByLabelText(\"ØºÙŠØ± Ù…Ù‡ØªÙ…\")).toBeInTheDocument();\r\n      });\r\n    });\r\n  });\r\n\r\n  describe(\"Chat Component\", () => {\r\n    test(\"ÙŠØ¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª ÙˆØ§Ù„Ø±Ø³Ø§Ø¦Ù„\", async () => {\r\n      renderWithProviders(<Chat />);\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByText(\"Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯\")).toBeInTheDocument();\r\n        expect(\r\n          screen.getByText(\"Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ù‡Ù„ Ø£Ù†Øª Ù…Ù‡ØªÙ… Ø¨Ø§Ù„ÙˆØ¸ÙŠÙØ©ØŸ\")\r\n        ).toBeInTheDocument();\r\n      });\r\n    });\r\n  });\r\n\r\n  describe(\"Responsive Design\", () => {\r\n    test(\"ÙŠØªÙƒÙŠÙ Ù…Ø¹ Ø£Ø­Ø¬Ø§Ù… Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ©\", () => {\r\n      // ØªØºÙŠÙŠØ± Ø­Ø¬Ù… Ø§Ù„Ù†Ø§ÙØ°Ø© Ù„Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ø­Ù…ÙˆÙ„\r\n      global.innerWidth = 480;\r\n      global.dispatchEvent(new Event(\"resize\"));\r\n\r\n      renderWithProviders(<VideoFeed />);\r\n\r\n      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ·Ø¨ÙŠÙ‚ Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ø­Ù…ÙˆÙ„\r\n      const videoContainer = document.querySelector(\r\n        '[class*=\"VideoContainer\"]'\r\n      );\r\n      expect(videoContainer).toHaveStyle({ height: \"calc(100vh - 56px)\" });\r\n    });\r\n  });\r\n\r\n  describe(\"Performance Optimization\", () => {\r\n    test(\"ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ØµÙØ­Ø© Ø¨Ø´ÙƒÙ„ ÙØ¹Ø§Ù„\", async () => {\r\n      const startTime = performance.now();\r\n\r\n      renderWithProviders(<VideoFeed />);\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByText(\"Ù…Ø·ÙˆØ± ÙˆØ§Ø¬Ù‡Ø© Ø£Ù…Ø§Ù…ÙŠØ©\")).toBeInTheDocument();\r\n      });\r\n\r\n      const endTime = performance.now();\r\n      const loadTime = endTime - startTime;\r\n\r\n      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† ÙˆÙ‚Øª Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø£Ù‚Ù„ Ù…Ù† 500 Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©\r\n      expect(loadTime).toBeLessThan(500);\r\n    });\r\n  });\r\n});\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\theme.js",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme3' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 4,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme3"
            },
            "fix": {
              "range": [
                68,
                985
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme3'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'red' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 53,
        "column": 23,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 53,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "red"
            },
            "fix": {
              "range": [
                1013,
                1018
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'red'."
          }
        ]
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'theme22' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.",
        "line": 55,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 55,
        "endColumn": 14,
        "suggestions": [
          {
            "messageId": "removeVar",
            "data": {
              "varName": "theme22"
            },
            "fix": {
              "range": [
                1059,
                1712
              ],
              "text": ""
            },
            "desc": "Remove unused variable 'theme22'."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "ï»¿// theme.js\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nconst theme3 = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#2563EB',\r\n    },\r\n    secondary: {\r\n      main: '#F59E0B',\r\n    },\r\n    background: {\r\n      light: '#F9FAFB',\r\n      default: '#FFFFFF',\r\n    },\r\n    text: {\r\n      dark: '#1F2937',\r\n      light: '#6B7280',\r\n    },\r\n    status: {\r\n      open: {\r\n        background: '#D1FAE5',\r\n        text: '#065F46',\r\n      },\r\n      closed: {\r\n        background: '#FEE2E2',\r\n        text: '#991B1B',\r\n      },\r\n      filled: {\r\n        background: '#DBEAFE',\r\n        text: '#1E40AF',\r\n      },\r\n      interview: {\r\n        background: '#FEF3C7',\r\n        text: '#92400E',\r\n      },\r\n      hired: {\r\n        background: '#D1FAE5',\r\n        text: '#065F46',\r\n      },\r\n    },\r\n  },\r\n  shadows: {\r\n    card: '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',\r\n  },\r\n  typography: {\r\n    fontFamily: '\"Poppins\", sans-serif',\r\n  },\r\n});\r\n\r\n\r\n\r\nimport { blue, green, red, grey } from '@mui/material/colors';\r\n\r\nconst theme22 = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: blue[500],\r\n      light: blue[300],\r\n      dark: blue[700],\r\n    },\r\n    secondary: {\r\n      main: grey[600],\r\n      light: grey[400],\r\n      dark: grey[800],\r\n    },\r\n    success: {\r\n      light: green[100],\r\n      main: green[500],\r\n      dark: green[700],\r\n    },\r\n    info: {\r\n      light: blue[100],\r\n      main: blue[300],\r\n      dark: blue[500],\r\n    },\r\n    background: {\r\n      default: grey[100],\r\n      paper: '#fff',\r\n    },\r\n    text: {\r\n      primary: grey[900],\r\n      secondary: grey[500],\r\n    },\r\n  },\r\n  // ... other theme configurations (typography, etc.)\r\n});\r\n\r\nexport const theme2 = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#1976d2',\r\n      contrastText: '#ffffff', // Text color when on primary background\r\n    },\r\n    secondary: {\r\n      main: '#dc004e',\r\n    },\r\n    text: { // Correct property name (not 'textw')\r\n      primary: '#2a3e50',    // Darker blue-gray\r\n      secondary: '#4a6572',   // Medium blue-gray\r\n      disabled: '#7a849a',   \r\n    },\r\n    background: {\r\n      default: '#f5f7fa',     // Light gray background\r\n      jobseeker: '#f5f7fa',     // Light gray background\r\n      paper: '#ffffff',       // White for cards/paper\r\n    },\r\n    action: {\r\n      selected: 'rgba(25, 118, 210, 0.08)', // Light blue selection\r\n      hover: 'rgba(25, 118, 210, 0.04)',    // Very subtle hover\r\n    }\r\n  },\r\n  typography: {\r\n    allVariants: {\r\n      color: '#2a3e50', // Darker text for better readability\r\n      fontWeight: 'normal', // Inherit font weight\r\n      textShadow: 'none', // Removed for cleaner text\r\n      letterSpacing: '0.3px', // Slightly tighter\r\n    },\r\n  },\r\n  components: {\r\n    MuiListItem: {\r\n      styleOverrides: {\r\n        root: {\r\n          '&.MuiButtonBase-root': {\r\n            borderRadius: '8px',\r\n            margin: '4px 8px',\r\n            color: 'inherit', // Inherits from parent\r\n            '&.Mui-selected': {\r\n              backgroundColor: 'rgba(25, 118, 210, 0.12)',\r\n              color: '#1976d2',\r\n              '& .MuiListItemIcon-root': {\r\n                color: '#1976d2',\r\n              }\r\n            },\r\n            '&:hover': {\r\n              backgroundColor: 'rgba(25, 118, 210, 0.08)',\r\n            },\r\n          },\r\n        },\r\n      },\r\n    },\r\n    MuiListItemIcon: {\r\n      styleOverrides: {\r\n        root: {\r\n          minWidth: '36px',\r\n          color: 'inherit', // Will follow text color\r\n        },\r\n      },\r\n    },\r\n    MuiListItemText: {\r\n      styleOverrides: {\r\n        primary: {\r\n          fontWeight: 'inherit',\r\n          color: 'inherit',\r\n        },\r\n      },\r\n    },\r\n    // Other component overrides remain the same...\r\n  },\r\n});\r\n\r\n\r\nconst themeDL = (mode = 'dark') => {\r\n  // Static palette values that won't change between light/dark modes\r\n  const staticPalette = {\r\n\r\n    primary: {\r\n      main: '#1976d2',\r\n      contrastText: '#ffffff', // Text color when on primary background\r\n    },\r\n    secondary: {\r\n      main: '#dc004e',\r\n    },\r\n    text: { // Correct property name (not 'textw')\r\n      primary: '#2a3e50',    // Darker blue-gray\r\n      secondary: '#4a6572',   // Medium blue-gray\r\n      disabled: '#7a849a',   \r\n    },\r\n    background: {\r\n      default: '#f5f7fa',     // Light gray background\r\n      jobseeker: '#f5f7fa',     // Light gray background\r\n      paper: '#ffffff',       // White for cards/paper\r\n    },\r\n    action: {\r\n      selected: 'rgba(25, 118, 210, 0.08)', // Light blue selection\r\n      hover: 'rgba(25, 118, 210, 0.04)',    // Very subtle hover\r\n    },\r\n  typography: {\r\n    allVariants: {\r\n      color: '#2a3e50', // Darker text for better readability\r\n      fontWeight: 'normal', // Inherit font weight\r\n      textShadow: 'none', // Removed for cleaner text\r\n      letterSpacing: '0.3px', // Slightly tighter\r\n    },\r\n  },\r\n  components: {\r\n    MuiListItem: {\r\n      styleOverrides: {\r\n        root: {\r\n          '&.MuiButtonBase-root': {\r\n            borderRadius: '8px',\r\n            margin: '4px 8px',\r\n            color: 'inherit', // Inherits from parent\r\n            '&.Mui-selected': {\r\n              backgroundColor: 'rgba(25, 118, 210, 0.12)',\r\n              color: '#1976d2',\r\n              '& .MuiListItemIcon-root': {\r\n                color: '#1976d2',\r\n              }\r\n            },\r\n            '&:hover': {\r\n              backgroundColor: 'rgba(25, 118, 210, 0.08)',\r\n            },\r\n          },\r\n        },\r\n      },\r\n    },\r\n    MuiListItemIcon: {\r\n      styleOverrides: {\r\n        root: {\r\n          minWidth: '36px',\r\n          color: 'inherit', // Will follow text color\r\n        },\r\n      },\r\n    },\r\n    MuiListItemText: {\r\n      styleOverrides: {\r\n        primary: {\r\n          fontWeight: 'inherit',\r\n          color: 'inherit',\r\n        },\r\n      },\r\n    },\r\n    // Other component overrides remain the same...\r\n  },\r\n\r\n  };\r\n\r\n  // Dynamic values that change between light/dark modes\r\n  const dynamicPalette = {\r\n    mode,\r\n    text: {\r\n      primary: mode === 'light' ? '#2a3e50' : '#e9e9f4', // Dark blue-gray / Light gray\r\n      secondary: mode === 'light' ? '#4a6572' : '#b5b6cf', // Medium blue-gray / Light gray\r\n    },\r\n    background: {\r\n      default: mode === 'light' ? '#f5f7fa' : '#12121e', // Light gray / Dark blue-black\r\n      paper: mode === 'light' ? '#ffffff' : '#1d202e',   // White / Dark blue-gray\r\n      jobseeker: mode === 'light' ? '#f5f7fa' : '#12121e',\r\n      header: mode === 'light' ? '#ffffff' : '#1d202e',\r\n      sidebar: mode === 'light' ? '#ffffff' : '#1d202e',\r\n      innerSection: mode === 'light' ? '#f3f4f6' : '#2d3142',\r\n      listItem: mode === 'light' ? '#e5e7eb' : '#4b5563',\r\n      videoPlayer: mode === 'light' ? '#e5e7eb' : '#111827',\r\n      footer: mode === 'light' ? '#ffffff' : '#1d202e',\r\n    },\r\n    border: {\r\n      primary: mode === 'light' ? '#e5e7eb' : '#4b5563', // Light gray / Dark gray\r\n      blue: mode === 'light' ? '#1e40af' : '#818cf8',   // Dark blue / Light blue\r\n    },\r\n    icon: {\r\n      primary: mode === 'light' ? '#4f46e5' : '#a78bfa', // Indigo / Purple\r\n    },\r\n    button: {\r\n      main: '#2563eb',      // Blue - main button color\r\n      hover: '#1d4ed8',     // Darker blue - button hover\r\n      disabled: mode === 'light' ? '#d1d5db' : '#6b7280', // Light gray / Dark gray\r\n    }\r\n  };\r\n\r\n  return createTheme({\r\n    palette: {\r\n      ...staticPalette,     // Static values first\r\n      ...dynamicPalette,    // Dynamic values override where needed\r\n    },\r\n    typography: {\r\n      allVariants: {\r\n        color: mode === 'light' ? '#2a3e50' : '#e9e9f4', // Text color\r\n        fontWeight: 'normal',\r\n        textShadow: 'none',\r\n        letterSpacing: '0.3px',\r\n      },\r\n      fontFamily: 'Inter, sans-serif',\r\n    },\r\n    components: {\r\n      MuiListItem: {\r\n        styleOverrides: {\r\n          root: {\r\n            '&.MuiButtonBase-root': {\r\n              borderRadius: '8px',\r\n              margin: '4px 8px',\r\n              color: 'inherit',\r\n              '&.Mui-selected': {\r\n                backgroundColor: 'rgba(25, 118, 210, 0.12)',\r\n                color: '#1976d2',\r\n                '& .MuiListItemIcon-root': {\r\n                  color: '#1976d2',\r\n                }\r\n              },\r\n              '&:hover': {\r\n                backgroundColor: 'rgba(25, 118, 210, 0.08)',\r\n              },\r\n            },\r\n          },\r\n        },\r\n      },\r\n      MuiListItemIcon: {\r\n        styleOverrides: {\r\n          root: {\r\n            minWidth: '36px',\r\n            color: 'inherit',\r\n          },\r\n        },\r\n      },\r\n      MuiListItemText: {\r\n        styleOverrides: {\r\n          primary: {\r\n            fontWeight: 'inherit',\r\n            color: 'inherit',\r\n          },\r\n        },\r\n      },\r\n      MuiAppBar: {\r\n        styleOverrides: {\r\n          root: {\r\n            backgroundColor: '#ffffff', // Always white in light mode\r\n            color: '#2a3e50',         // Always dark blue-gray text\r\n          },\r\n        },\r\n      },\r\n      MuiPaper: {\r\n        styleOverrides: {\r\n          root: {\r\n            backgroundColor: '#ffffff', // Always white in light mode\r\n            color: '#2a3e50',          // Always dark blue-gray text\r\n          },\r\n        },\r\n      },\r\n    },\r\n  });\r\n};\r\n\r\nexport default themeDL;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\utils\\localize.js",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 2,
        "message": "'e' is defined but never used.",
        "line": 23,
        "column": 16,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 23,
        "endColumn": 17
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import i18n from \"i18next\";\r\n\r\n/**\r\n * Safely localize a value that may be a plain string or an object with language keys.\r\n * Examples of value shapes:\r\n * - \"Hello\"\r\n * - { en: \"Hello\", ar: \"Ù…Ø±Ø­Ø¨Ø§\" }\r\n */\r\nexport default function localize(value) {\r\n  if (value == null) return \"\";\r\n  // If the value is a JSON string (e.g. '{\"en\":\"Hello\",\"ar\":\"Ù…Ø±Ø­Ø¨Ø§\"}'),\r\n  // try to parse it into an object and fall through to the object handling.\r\n  if (typeof value === \"string\") {\r\n    const s = value.trim();\r\n    if (\r\n      (s.startsWith(\"{\") && s.endsWith(\"}\")) ||\r\n      (s.startsWith(\"[\") && s.endsWith(\"]\"))\r\n    ) {\r\n      try {\r\n        const parsed = JSON.parse(s);\r\n        // Re-run localization logic on the parsed object\r\n        return localize(parsed);\r\n      } catch (e) {\r\n        // Not valid JSON - fall back to returning the raw string\r\n        return value;\r\n      }\r\n    }\r\n    return value;\r\n  }\r\n  if (typeof value === \"object\") {\r\n    // Arrays: localize each element and join with commas\r\n    if (Array.isArray(value)) {\r\n      const parts = value.map((v) => localize(v)).filter(Boolean);\r\n      return parts.join(', ');\r\n    }\r\n\r\n    const lang = (i18n && i18n.language) || \"\";\r\n    // If the selected language value is itself a complex type, recursively localize it\r\n    const pick = (k) => {\r\n      const v = value[k];\r\n      if (v == null) return null;\r\n      if (typeof v === 'object') return localize(v);\r\n      return String(v);\r\n    };\r\n\r\n    if (lang && value[lang] != null) return pick(lang);\r\n    const base = typeof lang === \"string\" && lang.split ? lang.split(\"-\")[0] : null;\r\n    if (base && value[base] != null) return pick(base);\r\n    if (value.en != null) return pick('en');\r\n    const firstKey = Object.keys(value)[0];\r\n    return pick(firstKey) || \"\";\r\n  }\r\n  return String(value);\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\src\\utils\\performanceOptimizations.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\tailwind.config.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "D:\\_projts\\frontend\\vite.config.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  }
]